{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\userInfo\\popups\\bankpassword.js"],"names":["glGame","baseclass","extend","properties","pswedit","cc","EditBox","onLoad","resetData","pay_password","user","get","onClick","name","node","click_confirm","close_cb","console","error","destroy","psw","checkPassword","string","confirmNext","remove","editpsw","showErrorTip","tips","EDITBOX","BANKPSWNULL","md5","click_began","placeholder","click_end","msg","panel","setConfirmNext","func","set","key","value"],"mappings":";;;;;;AAAAA,MAAM,CAACC,SAAP,CAAiBC,MAAjB,CAAwB;AACpBC,EAAAA,UAAU,EAAE;AACRC,IAAAA,OAAO,EAAEC,EAAE,CAACC,OADJ,CACgB;;AADhB,GADQ;AAIpBC,EAAAA,MAJoB,oBAIV;AACN,SAAKC,SAAL;AACH,GANmB;AAOpBA,EAAAA,SAPoB,uBAOP;AACT,SAAKC,YAAL,GAAoBT,MAAM,CAACU,IAAP,CAAYC,GAAZ,CAAgB,cAAhB,CAApB;AACH,GATmB;AAUpBC,EAAAA,OAVoB,mBAUXC,IAVW,EAULC,IAVK,EAUC;AACjB,YAAQD,IAAR;AACI,WAAK,SAAL;AAAgB,aAAKE,aAAL;AAAsB;;AACtC,WAAK,WAAL;AAAkB,aAAKC,QAAL;AAAiB;;AACnC;AAASC,QAAAA,OAAO,CAACC,KAAR,CAAc,2BAAd,EAA2CL,IAA3C;AAHb;AAKH,GAhBmB;AAiBpBG,EAAAA,QAjBoB,sBAiBV;AACN,SAAKF,IAAL,CAAUK,OAAV;AACH,GAnBmB;AAoBpBJ,EAAAA,aApBoB,2BAoBH;AACb,QAAIK,GAAG,GAAG,KAAKC,aAAL,CAAmB,KAAKjB,OAAL,CAAakB,MAAhC,CAAV;;AACA,QAAIF,GAAJ,EAAS;AACL,WAAKG,WAAL,CAAiBH,GAAjB;AACA,WAAKI,MAAL;AACH;AACJ,GA1BmB;AA2BpB;AACAH,EAAAA,aA5BoB,yBA4BLI,OA5BK,EA4BI;AACpB,SAAKjB,SAAL;;AACA,QAAI,CAACiB,OAAL,EAAc;AACV,aAAO,KAAKC,YAAL,CAAkB1B,MAAM,CAAC2B,IAAP,CAAYC,OAAZ,CAAoBC,WAAtC,CAAP;AACH;;AACDJ,IAAAA,OAAO,GAAGK,GAAG,CAACL,OAAD,CAAb;AACA,WAAOA,OAAP;AACH,GAnCmB;AAoCpBM,EAAAA,WApCoB,yBAoCP;AACV,SAAK3B,OAAL,CAAa4B,WAAb,GAA0B,EAA1B;AACF,GAtCmB;AAuCpBC,EAAAA,SAvCoB,uBAuCT;AACR,QAAG,KAAK7B,OAAL,CAAakB,MAAb,IAAqB,EAAxB,EAA2B;AAC1B,WAAKlB,OAAL,CAAa4B,WAAb,GAA2B,mBAA3B;AACA;AACH,GA3CmB;AA4CpBN,EAAAA,YA5CoB,wBA4CNQ,GA5CM,EA4CD;AACflC,IAAAA,MAAM,CAACmC,KAAP,CAAaT,YAAb,CAA0BQ,GAA1B;AACA,WAAO,IAAP;AACH,GA/CmB;AAgDpBE,EAAAA,cAhDoB,0BAgDJC,IAhDI,EAgDE;AAClB,SAAKd,WAAL,GAAmBc,IAAnB;AACH,GAlDmB;AAmDpBC,EAAAA,GAnDoB,eAmDfC,GAnDe,EAmDVC,KAnDU,EAmDH;AACb,SAAKD,GAAL,IAAYC,KAAZ;AACH;AArDmB,CAAxB","sourceRoot":"/","sourcesContent":["glGame.baseclass.extend({\r\n    properties: {\r\n        pswedit: cc.EditBox,    // 银行密码输入框\r\n    },\r\n    onLoad () {\r\n        this.resetData();\r\n    },\r\n    resetData () {\r\n        this.pay_password = glGame.user.get(\"pay_password\");\r\n    },\r\n    onClick (name, node) {\r\n        switch (name) {\r\n            case \"confirm\": this.click_confirm(); break;\r\n            case \"btn_close\": this.close_cb(); break;\r\n            default: console.error(\"no find button name -> %s\", name);\r\n        }\r\n    },\r\n    close_cb(){\r\n        this.node.destroy();\r\n    },\r\n    click_confirm () {\r\n        let psw = this.checkPassword(this.pswedit.string);\r\n        if (psw) {\r\n            this.confirmNext(psw);\r\n            this.remove();\r\n        }\r\n    },\r\n    // 密码检查\r\n    checkPassword (editpsw) {\r\n        this.resetData();\r\n        if (!editpsw) {\r\n            return this.showErrorTip(glGame.tips.EDITBOX.BANKPSWNULL);\r\n        }\r\n        editpsw = md5(editpsw);\r\n        return editpsw;\r\n    },\r\n    click_began(){\r\n       this.pswedit.placeholder= \"\";\r\n    },\r\n    click_end(){\r\n       if(this.pswedit.string==\"\"){\r\n        this.pswedit.placeholder = \"      请输入您设置的银行密码\"\r\n       }\r\n    },\r\n    showErrorTip (msg) {\r\n        glGame.panel.showErrorTip(msg);\r\n        return null;\r\n    },\r\n    setConfirmNext (func) {\r\n        this.confirmNext = func;\r\n    },\r\n    set (key, value) {\r\n        this[key] = value;\r\n    }\r\n});"]}