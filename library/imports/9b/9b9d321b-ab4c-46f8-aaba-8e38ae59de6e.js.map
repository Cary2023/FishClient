{"version":3,"sources":["assets\\frames\\base\\storage.js"],"names":["LocalStorage","localStorage","prototype","g_instance","setItem","key","value","console","error","data","JSON","stringify","log","cc","sys","getItem","parse","removeItemByKey","removeItem","module","exports"],"mappings":";;;;;;;;AAAA;;;AAGA,IACCA,YAAY,GAAG,SAAfA,YAAe,GAAY,CAAG,CAD/B;AAAA,IAECC,YAAY,GAAGD,YAAY,CAACE,SAF7B;AAAA,IAGCC,UAAU,GAAG,IAHd;AAKA;;;;;;;AAKAF,YAAY,CAACG,OAAb,GAAuB,UAAUC,GAAV,EAAeC,KAAf,EAAsB;AAC5C,MAAI,OAAOD,GAAP,KAAe,QAAnB,EAA6B,OAAOE,OAAO,CAACC,KAAR,CAAc,aAAd,CAAP;AAC7B,MAAI,QAAOF,KAAP,MAAiB,QAArB,EAA+B,OAAOC,OAAO,CAACC,KAAR,CAAc,eAAd,CAAP;AAC/B,MAAIC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAeL,KAAf,CAAX;AACAC,EAAAA,OAAO,CAACK,GAAR,CAAY,MAAZ,EAAoBH,IAApB;AACAI,EAAAA,EAAE,CAACC,GAAH,CAAOb,YAAP,CAAoBG,OAApB,CAA4BC,GAA5B,EAAiCI,IAAjC;AACA,CAND;AAOA;;;;;;;AAKAR,YAAY,CAACc,OAAb,GAAuB,UAAUV,GAAV,EAAe;AACrC,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B,OAAOE,OAAO,CAACC,KAAR,CAAc,aAAd,CAAP;AAC7B,MAAIC,IAAI,GAAGI,EAAE,CAACC,GAAH,CAAOb,YAAP,CAAoBc,OAApB,CAA4BV,GAA5B,CAAX;AACAE,EAAAA,OAAO,CAACK,GAAR,CAAY,MAAZ,EAAoBH,IAApB;AACA,SAAOA,IAAI,GAAGC,IAAI,CAACM,KAAL,CAAWP,IAAX,CAAH,GAAsBA,IAAjC;AACA,CALD;AAMA;;;;;;AAIAR,YAAY,CAACgB,eAAb,GAA+B,UAAUZ,GAAV,EAAe;AAC7C,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B,OAAOE,OAAO,CAACC,KAAR,CAAc,aAAd,CAAP;AAC7BD,EAAAA,OAAO,CAACK,GAAR,CAAY,MAAZ,EAAoBP,GAApB;AACAQ,EAAAA,EAAE,CAACC,GAAH,CAAOb,YAAP,CAAoBiB,UAApB,CAA+Bb,GAA/B;AACA,CAJD;;AAKAc,MAAM,CAACC,OAAP,GAAiB,YAAY;AAC5B,MAAI,CAACjB,UAAL,EAAiB;AAChBA,IAAAA,UAAU,GAAG,IAAIH,YAAJ,EAAb;AACA;;AACD,SAAOG,UAAP;AACA,CALD","sourceRoot":"/","sourcesContent":["/**\r\n * 存储和读取用户本地缓存数据\r\n */\r\nlet\r\n\tLocalStorage = function () { },\r\n\tlocalStorage = LocalStorage.prototype,\r\n\tg_instance = null;\r\n\r\n/**\r\n * 设置缓存数据\r\n * @param {String} key    数据唯一ID\r\n * @param {Object} value  需要缓存数据\r\n */\r\nlocalStorage.setItem = function (key, value) {\r\n\tif (typeof key !== \"string\") return console.error(\"传入 key 类型错误\");\r\n\tif (typeof value !== \"object\") return console.error(\"传入 value 类型错误\");\r\n\tlet data = JSON.stringify(value);\r\n\tconsole.log(\"存入数据\", data);\r\n\tcc.sys.localStorage.setItem(key, data);\r\n}\r\n/**\r\n * 获取缓存数据\r\n * @param {String} key   数据唯一ID\r\n * @returns Object\r\n */\r\nlocalStorage.getItem = function (key) {\r\n\tif (typeof key !== \"string\") return console.error(\"传入 key 类型错误\");\r\n\tlet data = cc.sys.localStorage.getItem(key);\r\n\tconsole.log(\"获取数据\", data);\r\n\treturn data ? JSON.parse(data) : data;\r\n}\r\n/**\r\n * 删除缓存值\r\n * @param {String} key   数据唯一ID\r\n */\r\nlocalStorage.removeItemByKey = function (key) {\r\n\tif (typeof key !== \"string\") return console.error(\"传入 key 类型错误\");\r\n\tconsole.log(\"删除数据\", key)\r\n\tcc.sys.localStorage.removeItem(key);\r\n}\r\nmodule.exports = function () {\r\n\tif (!g_instance) {\r\n\t\tg_instance = new LocalStorage();\r\n\t}\r\n\treturn g_instance;\r\n};"]}