{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\room\\record\\roomRecord.js"],"names":["GAME_ITEM_NAME","GAME_STRIP_NAME","GAME_NAME","glGame","baseclass","extend","properties","nodeRoomList","cc","Node","nodeGameRecord","nodeRoundRecord","gameitem","gameScr","game_lab","Label","gameContent","mask","content","item","labPage","norecord","onLoad","PageIndex","pageCount","gameId","recordList","gamelist","selectName","registerEvent","reqRoomGameList","reqRoomGameRecordList","emitter","on","openRoomList","openGameRecord","openRoomRound","unRegisterEvent","off","OnDestroy","active","count","childrenCount","i","children","list","string","substring","length","data","Number","panelName","getChildByName","panelData","script","getComponent","name","initData","panel","getPanelByName","then","parent","onClick","node","remove","selectGame_cb","mask_cb","lastPage_cb","nextPage_cb","indexOf","click_itemGame","click_gameStrip","showTip","msg","page","pageSize","initRecordUI","gameNet","send_msg","route","result","totalPage","initgameItemUI","gameItem","instantiate","gameid","hiadShowNode","isBool","removeAllChildren","summaryId","timeStamp","Date","createTime","strTime","getFullYear","getMonth","getDate","tips","WEEKNAME","getDay","getHours","getMinutes","getSeconds","gameName","totalRound","getFixNumber","score","color","value","value1","div","isNaN","toString","toFixed"],"mappings":"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","sourceRoot":"/","sourcesContent":["const GAME_ITEM_NAME = \"itemGame\";\r\nconst GAME_STRIP_NAME = \"gamestrip\";\r\nconst GAME_NAME = {\r\n    45: \"rqznn\"\r\n}\r\n\r\nglGame.baseclass.extend({\r\n    properties: {\r\n        //游戏分类\r\n        nodeRoomList: cc.Node,\r\n        nodeGameRecord: cc.Node,\r\n        nodeRoundRecord: cc.Node,\r\n        //游戏选择\r\n        gameitem: cc.Node,\r\n        gameScr: cc.Node,\r\n        game_lab: cc.Label,\r\n        gameContent: cc.Node,\r\n        mask: cc.Node,\r\n        //记录查看\r\n        content: cc.Node,\r\n        item: cc.Node,\r\n        labPage: cc.Label,\r\n\r\n        norecord: cc.Node,\r\n    },\r\n    onLoad() {\r\n        this.PageIndex = 1;\r\n        this.pageCount = 1;\r\n        this.gameId = 0;\r\n        this.recordList = {};\r\n        this.gamelist = {};\r\n        this.selectName = \"\";\r\n        this.registerEvent();\r\n        this.reqRoomGameList();\r\n        this.reqRoomGameRecordList();\r\n    },\r\n\r\n    // 注册界面监听事件\r\n    registerEvent() {\r\n        glGame.emitter.on(\"openRoomList\", this.openRoomList, this);\r\n        glGame.emitter.on(\"openGameRecord\", this.openGameRecord, this);\r\n        glGame.emitter.on(\"openRoomRound\", this.openRoomRound, this);\r\n    },\r\n    // 销毁界面监听事件\r\n    unRegisterEvent() {\r\n        glGame.emitter.off(\"openRoomList\", this);\r\n        glGame.emitter.off(\"openGameRecord\", this);\r\n        glGame.emitter.off(\"openRoomRound\", this);\r\n    },\r\n    OnDestroy() {\r\n        this.unRegisterEvent();\r\n    },\r\n\r\n    openRoomList() {\r\n        this.nodeRoomList.active = true;\r\n        this.nodeGameRecord.active = false;\r\n\r\n        let count = this.nodeGameRecord.childrenCount;\r\n        for (let i = 0; i < count; i++){\r\n            this.nodeGameRecord.children[i].active = false;\r\n        }\r\n    },\r\n\r\n    openGameRecord() {\r\n        this.nodeGameRecord.active = true;\r\n        this.nodeRoundRecord.active = false;\r\n        let count = this.nodeRoundRecord.childrenCount;\r\n        for (let i = 0; i < count; i++){\r\n            this.nodeRoundRecord.children[i].active = false;\r\n        }\r\n    },\r\n\r\n    openRoomRound(list){\r\n        this.nodeGameRecord.active = false;\r\n        this.nodeRoundRecord.active = true;\r\n\r\n        let string = this.selectName.substring(GAME_STRIP_NAME.length);\r\n        let data = this.recordList[this.gameId][this.PageIndex][Number(string)];\r\n\r\n        let panelName = `${GAME_NAME[data.gameId]}RoomRound`;\r\n        if (this.nodeRoundRecord.getChildByName(panelName)) {\r\n            this.nodeRoundRecord.getChildByName(panelName).active = true;\r\n            let panelData = this.nodeRoundRecord.getChildByName(panelName);\r\n            let script = panelData.getComponent(panelData.name);\r\n            script.initData(data, list);\r\n            return;\r\n        }\r\n\r\n        glGame.panel.getPanelByName(panelName).then(panelData => {\r\n            panelData.parent = this.nodeRoundRecord;\r\n            let script = panelData.getComponent(panelData.name);\r\n            script.initData(data, list);\r\n        })\r\n    },\r\n\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"btn_close\": this.remove(); break;\r\n            case \"btn_selectType\": this.selectGame_cb(); break;\r\n            case \"mask\": this.mask_cb(); break;\r\n            case \"btn_lastPage\": this.lastPage_cb(); break;\r\n            case \"btn_nextPage\": this.nextPage_cb(); break;\r\n\r\n            default:\r\n                if (name.indexOf(GAME_ITEM_NAME) > -1) return this.click_itemGame(name);\r\n                if (name.indexOf(GAME_STRIP_NAME) > -1) return this.click_gameStrip(name);\r\n                break\r\n        }\r\n    },\r\n\r\n    lastPage_cb() {\r\n        if (this.PageIndex == 1 || this.PageIndex == 0) return glGame.panel.showTip(\"已经是第一页了！\")\r\n        this.PageIndex--;\r\n        this.reqRoomGameRecordList();\r\n    },\r\n\r\n    nextPage_cb() {\r\n        if (this.PageIndex >= this.pageCount || this.PageIndex == 0) return glGame.panel.showTip(\"已经是最后一页了！\")\r\n        this.PageIndex++;\r\n        this.reqRoomGameRecordList();\r\n    },\r\n\r\n    click_itemGame(name) {\r\n        let string = name.substring(GAME_ITEM_NAME.length);\r\n        this.PageIndex = 1;\r\n        this.game_lab.string = string == \"All\" ? \"全部\" : this.gamelist[string];\r\n        this.gameScr.active = this.mask.active = false;\r\n        this.gameId = string == \"All\" ? 0 : Number(string);\r\n        this.reqRoomGameRecordList();\r\n    },\r\n\r\n    click_gameStrip(name) {\r\n        this.selectName = name;\r\n        let string = name.substring(GAME_STRIP_NAME.length);\r\n        this.nodeRoomList.active = false;\r\n        this.nodeGameRecord.active = true;\r\n        let data = this.recordList[this.gameId][this.PageIndex][Number(string)];\r\n\r\n        let panelName = `${GAME_NAME[data.gameId]}GameRecord`;\r\n        if (this.nodeGameRecord.getChildByName(panelName)) {\r\n            this.nodeGameRecord.getChildByName(panelName).active = true;\r\n            let panelData = this.nodeGameRecord.getChildByName(panelName);\r\n            let script = panelData.getComponent(panelData.name);\r\n            script.initData(data);\r\n            return;\r\n        }\r\n\r\n        glGame.panel.getPanelByName(panelName).then(panelData => {\r\n            panelData.parent = this.nodeGameRecord;\r\n            let script = panelData.getComponent(panelData.name);\r\n            script.initData(data);\r\n        })\r\n    },\r\n\r\n\r\n    selectGame_cb() {\r\n        this.gameScr.active = !this.gameScr.active;\r\n        if (this.gameScr.active) this.mask.active = true;\r\n    },\r\n\r\n    mask_cb() {\r\n        this.gameScr.active = this.mask.active = false;\r\n    },\r\n\r\n    reqRoomGameRecordList() {\r\n        let msg = {};\r\n        msg.page = this.PageIndex;\r\n        msg.pageSize = 8;\r\n        if (this.gameId != 0) msg.gameId = this.gameId;\r\n        if (this.recordList[this.gameId] && this.recordList[this.gameId][this.PageIndex]) {\r\n            this.initRecordUI(this.recordList[this.gameId][this.PageIndex]);\r\n        } else {\r\n            glGame.gameNet.send_msg('http.ReqRoomGameRecordList', msg, (route, data) => {\r\n                let result = data.result;\r\n                this.pageCount = result.totalPage;\r\n                this.recordList[this.gameId] ? null : this.recordList[this.gameId] = {};\r\n                this.recordList[this.gameId][this.PageIndex] = result.data;\r\n                this.initRecordUI(result.data);\r\n            })\r\n        }\r\n\r\n    },\r\n\r\n    reqRoomGameList() {\r\n        glGame.gameNet.send_msg('http.ReqRoomGameList', {}, (route, data) => {\r\n            this.gamelist = data.result;\r\n            this.initgameItemUI();\r\n        })\r\n    },\r\n\r\n\r\n    //初始化游戏列表\r\n    initgameItemUI() {\r\n        let gameItem = cc.instantiate(this.gameitem);\r\n        gameItem.name = `${GAME_ITEM_NAME}All`\r\n        gameItem.getChildByName(\"label\").getComponent(cc.Label).string = '全部'\r\n        gameItem.parent = this.gameContent;\r\n        gameItem.active = true;\r\n        for (let gameid in this.gamelist) {\r\n            if (!this.gamelist[gameid]) continue;\r\n            let gameItem = cc.instantiate(this.gameitem);\r\n            gameItem.name = `${GAME_ITEM_NAME}${gameid}`\r\n            gameItem.getChildByName(\"label\").getComponent(cc.Label).string = `${this.gamelist[gameid]}`;\r\n            gameItem.parent = this.gameContent;\r\n            gameItem.active = true;\r\n        }\r\n        let string = this.gameContent.children[0].name.substring(8);\r\n\r\n        this.gameId = string == \"All\" ? 0 : Number(string);\r\n        this.game_lab.string = this.gameId == 0 ? `全部` : `${this.gamelist[string]}`;\r\n    },\r\n\r\n    hiadShowNode(isBool) {\r\n        this.nodeRoomList.getChildByName(\"btn_lastPage\").active = isBool;\r\n        this.nodeRoomList.getChildByName(\"btn_nextPage\").active = isBool;\r\n        this.nodeRoomList.getChildByName(\"pageIndex\").active = isBool;\r\n        this.nodeRoomList.getChildByName(\"downtips\").active = isBool;\r\n    },\r\n\r\n    //渲染牌局记录\r\n    initRecordUI(list) {\r\n        this.content.removeAllChildren();\r\n        // if (list.length == 0) {\r\n        //     this.labPage.string = '第0/0页';\r\n        //     return;\r\n        // }\r\n        let count = list.length;\r\n        if (count == 0) {\r\n            this.norecord.active = true;\r\n            return;\r\n        }\r\n        this.hiadShowNode(count > 0);\r\n\r\n        this.labPage.string = `第${this.PageIndex}/${this.pageCount}页`;\r\n        for (let i = 0; i < list.length; i++) {\r\n            let node = cc.instantiate(this.item);\r\n            node.name = `${GAME_STRIP_NAME}${i}`;\r\n            node.getChildByName(\"bg\").active = i % 2 != 0;\r\n            node.parent = this.content;\r\n            node.active = true;\r\n\r\n            node.getChildByName(\"number\").getComponent(cc.Label).string = list[i].summaryId;\r\n            let timeStamp = new Date(list[i].createTime);\r\n            let strTime = `${timeStamp.getFullYear()}/${timeStamp.getMonth() + 1 >= 10 ? timeStamp.getMonth() + 1 : \"0\" + (timeStamp.getMonth() + 1)}/${timeStamp.getDate() >= 10 ? timeStamp.getDate() : '0' + timeStamp.getDate()}`\r\n            strTime += `（${glGame.tips.WEEKNAME[timeStamp.getDay()]}）`\r\n            strTime += `${timeStamp.getHours() >= 10 ? timeStamp.getHours() : \"0\" + timeStamp.getHours()}:`\r\n            strTime += `${timeStamp.getMinutes() >= 10 ? timeStamp.getMinutes() : \"0\" + timeStamp.getMinutes()}:`\r\n            strTime += `${timeStamp.getSeconds() >= 10 ? timeStamp.getSeconds() : \"0\" + timeStamp.getSeconds()}`\r\n            node.getChildByName(\"time\").getComponent(cc.Label).string = strTime;\r\n\r\n            node.getChildByName(\"game\").getComponent(cc.Label).string = list[i].gameName;\r\n            node.getChildByName(\"round\").getComponent(cc.Label).string = list[i].totalRound;\r\n            node.getChildByName(\"score\").getComponent(cc.Label).string = this.getFixNumber(list[i].score);\r\n            node.getChildByName(\"score\").color = list[i].score > 0 ? cc.color(0x48, 0xd4, 0xa8) : cc.color(0xf4, 0xc4, 0x04);\r\n        }\r\n    },\r\n    getFixNumber(value) {\r\n        let value1 = Number(value).div(10);\r\n        value = Number(value).div(100);\r\n        if (isNaN(value)) return;\r\n        if (~~value === value) {\r\n            return value.toString();\r\n        } else if (~~value1 === value1) {\r\n            return value.toFixed(1);\r\n        } else {\r\n            return value.toFixed(2);\r\n        }\r\n    },\r\n\r\n});\r\n"]}