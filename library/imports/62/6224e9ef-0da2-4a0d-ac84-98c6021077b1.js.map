{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\enterRoom\\gameentry.js"],"names":["glGame","baseclass","extend","properties","level","type","cc","Node","onLoad","node","active","reqEnterArea","registerEvent","start","emitter","on","goldOnlineNum","onGameConfig","unregisterEvent","off","msg","gameConfig","initUI","cutFloat","value","Number","div","toString","name","gameID","scenetag","DDZ","readyroom","DZPK","PAIJIU","QZNN","SANGONG","ZHAJINHUA","EBG","ESYD","FISH2","JSZJH","SSS","console","log","count","length","i","getChildByName","getComponent","Label","string","configure","BaseConsume","downString1","EntranceRestrictions","roomConfig","downString","SmallBaseChips","BaseChips","RoomMaxMultiple","width","onClick","enterGame","error","room","reqMyGameState","then","panel","showMsgBox","user","isTourist","showRegisteredGift","get","sendEnterRoom","getFloat","showDialog","showShop","showJuHua","runAction","sequence","delayTime","callFunc","closeJuHua","setGoldRoomInfo","checkGold","coin","minCion","parseInt","i18n","t","showPanelByName","set","key","OnDestroy"],"mappings":"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","sourceRoot":"/","sourcesContent":["/**\r\n * 金币房间入口通用脚本\r\n */\r\nglGame.baseclass.extend({\r\n    properties: {\r\n        level: {\r\n            type: cc.Node,\r\n            default: []\r\n        },\r\n    },\r\n\r\n    onLoad() {\r\n        this.node.active = false;\r\n        this.reqEnterArea();\r\n        this.registerEvent();\r\n    },\r\n\r\n    start() {\r\n\r\n    },\r\n    //事件监听\r\n    registerEvent() {\r\n        glGame.emitter.on(\"goldOnlineNum\", this.goldOnlineNum, this);\r\n        glGame.emitter.on(\"onGameConfig\", this.onGameConfig, this);\r\n    },\r\n    //事件销毁\r\n    unregisterEvent() {\r\n        glGame.emitter.off(\"goldOnlineNum\", this);\r\n        glGame.emitter.off(\"onGameConfig\", this);\r\n    },\r\n    onGameConfig(msg) {\r\n        this.gameConfig = msg;\r\n        this.initUI();\r\n    },\r\n    cutFloat(value) {\r\n        return (Number(value).div(100)).toString();\r\n    },\r\n    reqEnterArea() {\r\n        switch (this.node.name) {\r\n            case 'ddzselect':\r\n                this.gameID = glGame.scenetag.DDZ;\r\n                glGame.readyroom.reqEnterArea(glGame.scenetag.DDZ);\r\n                break;\r\n            case 'dzpkselect':\r\n                this.gameID = glGame.scenetag.DZPK;\r\n                glGame.readyroom.reqEnterArea(glGame.scenetag.DZPK);\r\n                break;\r\n            case 'paijiuselect':\r\n                this.gameID = glGame.scenetag.PAIJIU;\r\n                glGame.readyroom.reqEnterArea(glGame.scenetag.PAIJIU);\r\n                break;\r\n            case 'qznnselect':\r\n                this.gameID = glGame.scenetag.QZNN;\r\n                glGame.readyroom.reqEnterArea(glGame.scenetag.QZNN);\r\n                break;\r\n            case 'sangongselect':\r\n                this.gameID = glGame.scenetag.SANGONG;\r\n                glGame.readyroom.reqEnterArea(glGame.scenetag.SANGONG);\r\n                break;\r\n            case 'zhajinhuaselect':\r\n                this.gameID = glGame.scenetag.ZHAJINHUA;\r\n                glGame.readyroom.reqEnterArea(glGame.scenetag.ZHAJINHUA);\r\n                break;\r\n            case 'ebgselect':\r\n                this.gameID = glGame.scenetag.EBG;\r\n                glGame.readyroom.reqEnterArea(glGame.scenetag.EBG);\r\n                break;\r\n            case 'esydselect':\r\n                this.gameID = glGame.scenetag.ESYD;\r\n                glGame.readyroom.reqEnterArea(glGame.scenetag.ESYD);\r\n                break;\r\n            case 'fishselect':\r\n                this.gameID = glGame.scenetag.FISH2;\r\n                glGame.readyroom.reqEnterArea(glGame.scenetag.FISH2);\r\n                break;\r\n            case 'jszjhselect':\r\n                this.gameID = glGame.scenetag.JSZJH;\r\n                glGame.readyroom.reqEnterArea(glGame.scenetag.JSZJH);\r\n                break;\r\n            case 'sssselect':\r\n                this.gameID = glGame.scenetag.SSS;\r\n                glGame.readyroom.reqEnterArea(glGame.scenetag.SSS);\r\n                break;\r\n        }\r\n    },\r\n    goldOnlineNum(msg) {\r\n        console.log(\"这是在线人数的消息\", msg)\r\n        let count = this.level.length;\r\n        for (let i = 0; i < count; i++) {\r\n            if (msg[i + 1]) {\r\n                this.level[i].getChildByName(\"people_num\").getComponent(cc.Label).string = msg[i + 1]\r\n            }\r\n        }\r\n    },\r\n    initUI() {\r\n        this.node.active = true;\r\n        let configure = this.gameConfig;\r\n        if (this.gameID == glGame.scenetag.FISH2) {\r\n            this.level[0].getChildByName(\"dizhulaout\").getChildByName('lab_top').getComponent(cc.Label).string = `${this[\"gameConfig\"]['99'].BaseConsume >= 1000000 ? this.cutFloat(this[\"gameConfig\"]['99'].BaseConsume / 10000) + '万' : this.cutFloat(this[\"gameConfig\"]['99'].BaseConsume)}`;\r\n            let downString1 = this[\"gameConfig\"]['99'].EntranceRestrictions >= 1000000 ? `${this.cutFloat(this[\"gameConfig\"]['99'].EntranceRestrictions / 10000)}万` : this.cutFloat(this[\"gameConfig\"]['99'].EntranceRestrictions);\r\n            this.level[0].getChildByName(\"zhunrulayout\").getChildByName('lab_center').getComponent(cc.Label).string = downString1;\r\n            for (let i = 1; i < 6; i++) {\r\n                let roomConfig = this[\"gameConfig\"][i];\r\n                let downString = roomConfig.EntranceRestrictions >= 1000000 ? `${this.cutFloat(roomConfig.EntranceRestrictions / 10000)}万` : this.cutFloat(roomConfig.EntranceRestrictions);\r\n                this.level[i].getChildByName(\"dizhulaout\").getChildByName('lab_top').getComponent(cc.Label).string = `${roomConfig.BaseConsume >= 1000000 ? this.cutFloat(roomConfig.BaseConsume / 10000) + '万' : this.cutFloat(roomConfig.BaseConsume)}`;\r\n\r\n                this.level[i].getChildByName(\"zhunrulayout\").getChildByName('lab_center').getComponent(cc.Label).string = downString;\r\n            }\r\n            return;\r\n        };\r\n\r\n        let count = this.level.length;\r\n        for (let i = 1; i < count; i++) {\r\n            if (this.gameID == glGame.scenetag.DZPK) {\r\n                this.level[i].getChildByName(\"dizhulaout\").getChildByName('dizhu_numbig').getComponent(cc.Label).string = `${this.cutFloat(configure[i].SmallBaseChips)}/${this.cutFloat(configure[i].BaseChips)}`\r\n                this.level[i].getChildByName(\"zhunrulayout\").getChildByName(\"zhunru_num\").getComponent(cc.Label).string = this.cutFloat(configure[i].EntranceRestrictions);\r\n            } else {\r\n                this.level[i].getChildByName(\"dizhulaout\").getChildByName(\"dizhu_num\").getComponent(cc.Label).string = this.cutFloat(configure[i].BaseChips);\r\n                this.level[i].getChildByName(\"zhunrulayout\").getChildByName(\"zhunru_num\").getComponent(cc.Label).string = this.cutFloat(configure[i].EntranceRestrictions);\r\n            }\r\n            if (this.gameID == glGame.scenetag.DDZ) {\r\n                this.level[i].getChildByName('label').getComponent(cc.Label).string = `最大${configure[i].RoomMaxMultiple}倍`\r\n                this.level[i].getChildByName('black').width = this.level[i].getChildByName('label').width + 10\r\n            }\r\n        }\r\n        if (this.gameID == glGame.scenetag.DDZ) {\r\n            this.level[0].getChildByName('label').getComponent(cc.Label).string = `最大${this[\"gameConfig\"]['99'].RoomMaxMultiple}倍`\r\n            this.level[0].getChildByName('black').width = this.level[0].getChildByName('label').width + 10\r\n        }\r\n    },\r\n    // 重写父类按钮点击事件\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"primary\": this.enterGame(99); break;\r\n            case \"intermediate\": this.enterGame(1); break;\r\n            case \"senior\": this.enterGame(2); break;\r\n            case \"tuhao\": this.enterGame(3); break;\r\n            case \"supremacy\": this.enterGame(4); break;\r\n            case \"volvo\": this.enterGame(5); break;\r\n            default: console.error(\"no find button name -> %s\", name);\r\n        }\r\n    },\r\n    /**\r\n     * 进入金币场房间\r\n     * @param level 场次类型 1:初级场 2:中级场 3:高级场 4:土豪场 5:至尊场\r\n     */\r\n    enterGame(level) {\r\n        glGame.room.reqMyGameState(this.gameID, level).then(() => {\r\n            let gameID = this.gameID;\r\n            if (this.gameConfig[level] == null) {\r\n                glGame.panel.showMsgBox('提示', '该房间尚未开放，请尝试其他房间。');\r\n                return;\r\n            }\r\n            if (glGame.user.isTourist()) {\r\n                if (level != 99) {\r\n                    glGame.panel.showRegisteredGift(true)\r\n                    return;\r\n                }\r\n            }\r\n            if (gameID == glGame.scenetag.FISH2) {\r\n                if (glGame.user.get(\"coin\") >= this[\"gameConfig\"][level].EntranceRestrictions) {\r\n                    glGame.room.sendEnterRoom(level);\r\n                } else {\r\n                    let string = `<color=#99C7FF>您的金币不足，该房间需要</c> <color=#ff0000> ${this.getFloat(this.gameConfig[level].EntranceRestrictions)}  </c><color=#99C7FF>金币才可下注，是否马上前往充值？</c>`\r\n                    glGame.panel.showDialog(\"\", string, () => { glGame.panel.showShop() }, () => { }, \"取消\", \"充值\");\r\n                }\r\n                return;\r\n            };\r\n            if (this.gameConfig[level].EntranceRestrictions > glGame.user.get(\"coin\")) {\r\n                console.log(\"这是当前的房间限制\", this.gameConfig)\r\n                let string = `<color=#99C7FF>您的金币不足，该房间需要</c> <color=#ff0000> ${this.getFloat(this.gameConfig[level].EntranceRestrictions)}  </c><color=#99C7FF>金币才可下注，是否马上前往充值？</c>`\r\n                glGame.panel.showDialog(\"\", string, () => { glGame.panel.showShop() }, () => { }, \"取消\", \"充值\");\r\n                return\r\n            }\r\n            glGame.panel.showJuHua();\r\n            // glGame.readyroom.reqExitArea();\r\n            this.node.runAction(cc.sequence(\r\n                cc.delayTime(15),\r\n                cc.callFunc(() => {\r\n                    glGame.panel.closeJuHua();\r\n                })\r\n            ))\r\n            // TODO\r\n            // reqGoldRoomVerify为旧的进入房间方法，需要先请求验证，再进入房间\r\n            // setGoldRoomInfo 新的进入房间方法，无需验证，设置游戏类型以及房间信息后，直接进入房间\r\n            // if (glGame.enterRoomVerification) {\r\n            //     glGame.room.reqGoldRoomVerify(gameID, level);\r\n            // } else {\r\n            //     glGame.room.setGoldRoomInfo(gameID, level);\r\n            // }\r\n            glGame.room.setGoldRoomInfo(gameID, level);\r\n        })\r\n    },\r\n    /**\r\n     * 检查玩家金币是否足够\r\n     * @returns {boolean}\r\n     */\r\n    checkGold(coin, minCion) {\r\n        console.log(\"金币检测\", coin, minCion);\r\n        if (parseInt(coin) < parseInt(minCion)) {\r\n            glGame.panel.showDialog(glGame.i18n.t(\"USER.GOLDLACK.TITLE\"), glGame.i18n.t(\"USER.GOLDLACK.CONTENT\"), () => {\r\n                glGame.panel.showPanelByName(\"shop\");\r\n            }, null);\r\n            return false;\r\n        }\r\n        return true;\r\n    },\r\n    getFloat(value) {\r\n        return (Number(value).div(100)).toString();\r\n    },\r\n    set(key, value) {\r\n        this[key] = value;\r\n    },\r\n    get(key) {\r\n        return this[key];\r\n    },\r\n    OnDestroy() {\r\n        this.unregisterEvent();\r\n    }\r\n});\r\n"]}