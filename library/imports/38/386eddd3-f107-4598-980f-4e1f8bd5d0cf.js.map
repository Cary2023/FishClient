{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\withdrawal\\popup\\extractMgr.js"],"names":["glGame","baseclass","extend","properties","bindbank","cc","Node","bindbankSucced","bindAlipay","bindAlipaySucceed","toggle_bankCash","Toggle","toggle_alipayCash","binkContent","bankItem","scrollView","bank_catdType","EditBox","btn_openList","onLoad","emitter","on","updateUserData","fetchJSON","active","gamecfg","bankModel","initViewData","index","bank_card","user","get","alipay","alipayName","bankCardName","bankCardType","bankShow","getChildByName","getComponent","Label","string","replace","substring","name","userName","getSelfFunc","setString","alipayShow","check","reqBindBank","bank_id","console","log","bankCheck","panel","showErrorTip","tips","BIND","NOINVALIDCARD","test","INVALIDCARD","INVALIDCARDBANKNAME","NOINVALIDCARDNAME","checkUserName","INVALIDCARDNAME","reqBindAlipay","alipayID","length","EMPTYZFBNAME","INVALIDZFBNAME","EMPTYZFB","checkAlipay","INVALIDZFB","fileutil","then","data","bankList","json","inputChange","destroyAllChildren","i","str","indexOf","Item","instantiate","parent","showAllBank","onClick","node","remove","bankCash","alipayCash","sureBind","btn_service","LOCKZFBNAME","LOCKCARDNAME","checkName","account","checkAliAccount","checkBankNumber","number","showService","OnDestroy","off"],"mappings":"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","sourceRoot":"/","sourcesContent":["\r\nglGame.baseclass.extend({\r\n\r\n    properties: {\r\n        bindbank: cc.Node,\r\n        bindbankSucced: cc.Node,\r\n        bindAlipay: cc.Node,\r\n        bindAlipaySucceed: cc.Node,\r\n        toggle_bankCash: cc.Toggle,\r\n        toggle_alipayCash: cc.Toggle,\r\n\r\n        binkContent: cc.Node,\r\n        bankItem: cc.Node,\r\n        scrollView: cc.Node,\r\n        bank_catdType: cc.EditBox,\r\n        btn_openList:cc.Node,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        glGame.emitter.on(\"updateUserData\", this.updateUserData, this);\r\n        this.fetchJSON();\r\n        this.btn_openList.active = glGame.gamecfg.bankModel == 1\r\n    },\r\n    updateUserData() {\r\n        this.initViewData(this.index);\r\n    },\r\n    initViewData(index) {\r\n        this.bindbank.active = true;\r\n        this.bindbankSucced.active = true;\r\n        this.bindAlipay.active = true;\r\n        this.bindAlipaySucceed.active = true;\r\n        let bank_card = glGame.user.get(\"bankCardNum\"),\r\n            alipay = glGame.user.get(\"alipayAcc\"),\r\n            alipayName = glGame.user.get(\"alipayName\"),\r\n            bankCardName = glGame.user.get(\"bankCardName\"),\r\n            bankCardType = glGame.user.get(\"bankCardType\");\r\n        if (bank_card && bank_card != \"\") {\r\n            this.bankShow = this.bindbankSucced;\r\n            this.bankShow.getChildByName(\"lab_bankNumber\").getComponent(cc.Label).string = bank_card.replace(bank_card.substring(4, 13), \"*********\");\r\n            this.bankShow.getChildByName(\"lab_bankName\").getComponent(cc.Label).string = bankCardType\r\n            this.bankShow.getChildByName(\"lab_userName\").getComponent(cc.Label).string = bankCardName\r\n        } else {\r\n            this.bankShow = this.bindbank;\r\n            let name = bankCardName;\r\n            if(bankCardName==null || bankCardName==\"\") {\r\n                name = glGame.user.get(\"name\");\r\n            }\r\n\r\n            if (name && name != \"\") {\r\n                let userName = this.bankShow.getChildByName(\"userName\");\r\n                userName.getChildByName(\"bankMask\").active = true;\r\n                userName.getSelfFunc().setString(`${name}`);\r\n            } else {\r\n                let userName = this.bankShow.getChildByName(\"userName\");\r\n                userName.getSelfFunc().setString(\"\");\r\n            }\r\n        }\r\n        if (alipay && alipay != \"\") {\r\n            this.alipayShow = this.bindAlipaySucceed;\r\n            this.alipayShow.getChildByName(\"lab_alipayNum\").getComponent(cc.Label).string = alipay.replace(alipay.substring(3, 7), \"****\");\r\n            this.alipayShow.getChildByName(\"lab_username\").getComponent(cc.Label).string = alipayName\r\n        } else {\r\n            this.alipayShow = this.bindAlipay;\r\n            let name = alipayName;\r\n            if(alipayName==null || alipayName==\"\") {\r\n                name = glGame.user.get(\"name\");\r\n            }\r\n            \r\n            if(name && name != \"\"){\r\n                let userName = this.alipayShow.getChildByName(\"userName\");\r\n                userName.getChildByName(\"alipayMask\").active = true;\r\n                userName.getSelfFunc().setString(`${name}`);\r\n            } else {\r\n                let userName = this.alipayShow.getChildByName(\"userName\");\r\n                userName.getSelfFunc().setString(\"\");\r\n            }\r\n        }\r\n        this.bindbank.active = false;\r\n        this.bindbankSucced.active = false;\r\n        this.bindAlipay.active = false;\r\n        this.bindAlipaySucceed.active = false;\r\n        this.index = index;\r\n        index == 1 ? this.toggle_alipayCash.check() : this.toggle_bankCash.check();\r\n        index == 1 ? this.alipayShow.active = true : this.bankShow.active = true;\r\n    },\r\n    reqBindBank() {\r\n        let bank_id = this.bankShow.getChildByName(\"bankName\").getChildByName(\"EditBox\").getComponent(cc.EditBox).string,\r\n            bank_card = this.bankShow.getChildByName(\"bankNumber\").getChildByName(\"EditBox\").getComponent(cc.EditBox).string,\r\n            userName = this.bankShow.getChildByName(\"userName\").getChildByName(\"EditBox\").getComponent(cc.EditBox).string;\r\n        console.log(\"这是绑定银行卡的信息\", bank_id, bank_card, userName);\r\n\r\n        let bankCheck = /[1-9]\\d{12,20}/\r\n        if(bank_card == \"\"){\r\n            return glGame.panel.showErrorTip(glGame.tips.BIND.NOINVALIDCARD);\r\n        }else if(!bankCheck.test(bank_card)){\r\n            return glGame.panel.showErrorTip(glGame.tips.BIND.INVALIDCARD);\r\n        }\r\n        if(bank_id == \"\"){\r\n            return glGame.panel.showErrorTip(glGame.tips.BIND.INVALIDCARDBANKNAME);\r\n        }\r\n        if(userName == \"\"){\r\n            return glGame.panel.showErrorTip(glGame.tips.BIND.NOINVALIDCARDNAME);\r\n        }else if(!this.checkUserName(userName)){\r\n            return glGame.panel.showErrorTip(glGame.tips.BIND.INVALIDCARDNAME);\r\n        }\r\n        \r\n        \r\n        glGame.user.reqBindBank(bank_id, bank_card, userName);\r\n    },\r\n    reqBindAlipay() {\r\n        let alipayID = this.alipayShow.getChildByName(\"alipayNumber\").getChildByName(\"EditBox\").getComponent(cc.EditBox).string,\r\n            alipayName = this.alipayShow.getChildByName(\"userName\").getChildByName(\"EditBox\").getComponent(cc.EditBox).string;\r\n        console.log(\"这是绑定支付宝的信息\", alipayID, alipayName);\r\n        if(alipayName.length == 0) {\r\n            return glGame.panel.showErrorTip(glGame.tips.BIND.EMPTYZFBNAME);\r\n        }\r\n\r\n        if(!this.checkUserName(alipayName)){\r\n            return glGame.panel.showErrorTip(glGame.tips.BIND.INVALIDZFBNAME);\r\n        }\r\n\r\n        if(alipayID.length == 0) {\r\n            return glGame.panel.showErrorTip(glGame.tips.BIND.EMPTYZFB);\r\n        }\r\n\r\n        if(!this.checkAlipay(alipayID)){\r\n            return glGame.panel.showErrorTip(glGame.tips.BIND.INVALIDZFB);\r\n        }\r\n        glGame.user.reqBindAlipay(alipayID, alipayName);\r\n    },\r\n    fetchJSON() {\r\n        glGame.fileutil.fetchJSON(\"bankList\").then(data => {\r\n            this.bankList = data.json\r\n            console.log(\"这是银行的列表\", this.bankList)\r\n        })\r\n    },\r\n    //字体变化的时候检索银行\r\n    inputChange() {\r\n        console.log(\"当前文字变化\")\r\n        this.binkContent.destroyAllChildren();\r\n        this.scrollView.active = true;\r\n        for (let i = 0; i < this.bankList.length; i++) {\r\n            let str = this.bankList[i].indexOf(this.bank_catdType.string);\r\n            if (str != -1) {\r\n                let Item = cc.instantiate(this.bankItem);\r\n                Item.getChildByName(\"bankname\").getComponent(cc.Label).string = this.bankList[i];\r\n                Item.parent = this.binkContent;\r\n                Item.active = true;\r\n            }\r\n        }\r\n    },\r\n    //显示全部银行\r\n    showAllBank(){\r\n        this.binkContent.destroyAllChildren();\r\n        this.scrollView.active = true;\r\n        for (let i = 0; i < this.bankList.length; i++) {\r\n                let Item = cc.instantiate(this.bankItem);\r\n                Item.getChildByName(\"bankname\").getComponent(cc.Label).string = this.bankList[i];\r\n                Item.parent = this.binkContent;\r\n                Item.active = true;\r\n        }\r\n    },\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"btn_close\": this.remove(); break;\r\n            case \"toggle_bankCash\": this.bankCash(); break;\r\n            case \"toggle_alipayCash\": this.alipayCash(); break;\r\n            case \"btn_sure\": this.sureBind(); break;\r\n            case \"btn_service\": this.btn_service(); break;\r\n            case \"btn_openList\": this.showAllBank();break;\r\n            case \"bankItem\":\r\n                this.bank_catdType.node.parent.getSelfFunc().setString(node.getChildByName(\"bankname\").getComponent(cc.Label).string);\r\n                this.scrollView.active = false;\r\n                break;\r\n            case \"ScrollViewBg\":\r\n                this.scrollView.active = false;\r\n                break;\r\n            case \"alipayMask\":\r\n                glGame.panel.showErrorTip(glGame.tips.BIND.LOCKZFBNAME);\r\n                break;\r\n            case \"bankMask\":\r\n                glGame.panel.showErrorTip(glGame.tips.BIND.LOCKCARDNAME);\r\n                break;\r\n        }\r\n    },\r\n    //检测玩家名字是否合法\r\n    checkUserName(name){\r\n        let checkName = /^[\\u4E00-\\u9FA5\\uf900-\\ufa2d·s]{2,20}$/\r\n        if(!checkName.test(name)){\r\n            return false\r\n        }\r\n        return true\r\n    },\r\n    //检测支付宝账户\r\n    checkAlipay(account){\r\n        let checkAliAccount = /^(?:1[3-9]\\d{9}|[a-zA-Z\\d._-]*\\@[a-zA-Z\\d.-]{1,10}\\.[a-zA-Z\\d]{1,20})$/;\r\n        if(!checkAliAccount.test(account)){\r\n            return false\r\n        }\r\n        return true\r\n    },\r\n    //检测银行卡号\r\n    checkBankNumber(number){\r\n        let checkBankNumber = /^[0-9]*$/\r\n        if(!checkBankNumber.test(number)){\r\n            return false\r\n        }\r\n        return true\r\n    },\r\n    //确认绑定银行卡\r\n    sureBind() {\r\n        this.index == 2 ? this.reqBindBank() : this.reqBindAlipay();\r\n    },\r\n\r\n    //联系客服\r\n    btn_service() {\r\n        glGame.panel.showService();\r\n    },\r\n\r\n    //银行卡管理\r\n    bankCash() {\r\n        this.index = 2\r\n        this.bankShow.active = true;\r\n        this.alipayShow.active = false;\r\n    },\r\n    //支付宝管理\r\n    alipayCash() {\r\n        this.index = 1\r\n        this.bankShow.active = false;\r\n        this.alipayShow.active = true;\r\n    },\r\n    OnDestroy() {\r\n        glGame.emitter.off(\"updateUserData\", this);\r\n    },\r\n    // update (dt) {},\r\n});\r\n"]}