{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\enterRoom\\brnnentry.js"],"names":["PROCESS","tip","color","cc","glGame","baseclass","extend","properties","BGM","type","AudioClip","goldCount","Label","content","Node","node_record","node_result","sprite_Atlas","SpriteAtlas","recordPrefab","Prefab","rulePrefab","battleWatchpic","SpriteFrame","onLoad","gameid","node","zIndex","emitter","on","MESSAGE","UI","ROOM_ENTER_SHOW","RootNodeShow","ROOM_ENTER_HIDE","RootNodeHide","click_back","updateuserInfo","registerEvent","reqEnterArea","roomType","waittime","nodeInfo","gameID","scenetag","BRNN","readyroom","onClick","name","click_help","click_record","click_addgold","click_userinfo","destroyAllChildren","removeAllChildren","updateUI","console","log","user","isTourist","panel","showRegisteredGift","suspicious","game","is_game","showDialog","showService","showFieldSelectionJuHua","room","reqMyGameState","parent","then","enterHundredsRoom","tag","error","onGameInfolist","onRoomInfo","onHandInfo","onDeleteRoom","unregisterEvent","off","active","cleanTimer","cutFloat","value","Number","div","toString","showUserInfo","showRemoteImage","Playerhead","get","coin","string","GoldTemp","setGameId","updateBgInfo","showPanelByName","showShop","reqExitArea","remove","showPanel","set","key","msg","i","children","length","roomid","destroy","gameInfoTest","serverTimeOff","Date","now","servertime","roomRecord","roomrecord","showRecord","roomList","roomlist","roomdata","bettype","count","infoNode","instantiate","roomserverid","waitTime","Math","round","curwaittime","process","getChildByName","getComponent","online","push","sort","a","b","childrenCount","str","substr","minbet","EnterRoomGoldTemp","Chips","maxbet","MaxBet","EntranceRestrictions","Sprite","spriteFrame","_process","showClock","setTimeOut","setInterval","_waitTime","record","index","dotNode","resultNumArr","j","_spriteFrames","setPosition","v2","showEffectNode","clearTimeout","OnDestroy"],"mappings":";;;;;;AAAC,IAAMA,OAAO,GAAG,CACb;AAACC,EAAAA,GAAG,EAAC,KAAL;AAAYC,EAAAA,KAAK,EAACC,EAAE,CAACD,KAAH,CAAS,GAAT,EAAc,GAAd,EAAmB,GAAnB;AAAlB,CADa,EAEb;AAACD,EAAAA,GAAG,EAAC,KAAL;AAAYC,EAAAA,KAAK,EAACC,EAAE,CAACD,KAAH,CAAS,GAAT,EAAc,GAAd,EAAmB,EAAnB;AAAlB,CAFa,EAGb;AAACD,EAAAA,GAAG,EAAC,KAAL;AAAYC,EAAAA,KAAK,EAACC,EAAE,CAACD,KAAH,CAAS,GAAT,EAAc,GAAd,EAAmB,GAAnB;AAAlB,CAHa,CAAhB;AAMDE,MAAM,CAACC,SAAP,CAAiBC,MAAjB,CAAwB;AAEpBC,EAAAA,UAAU,EAAE;AACRC,IAAAA,GAAG,EAAE;AACDC,MAAAA,IAAI,EAAEN,EAAE,CAACO,SADR;AAED,iBAAS;AAFR,KADG;AAKRC,IAAAA,SAAS,EAAER,EAAE,CAACS,KALN;AAMRC,IAAAA,OAAO,EAAEV,EAAE,CAACW,IANJ;AAORC,IAAAA,WAAW,EAAEZ,EAAE,CAACW,IAPR;AAQRE,IAAAA,WAAW,EAAEb,EAAE,CAACW,IARR;AASRG,IAAAA,YAAY,EAAEd,EAAE,CAACe,WATT;AAURC,IAAAA,YAAY,EAAGhB,EAAE,CAACiB,MAVV;AAWRC,IAAAA,UAAU,EAAGlB,EAAE,CAACiB,MAXR;AAYRE,IAAAA,cAAc,EAAEnB,EAAE,CAACoB;AAZX,GAFQ;AAiBpB;AAEAC,EAAAA,MAnBoB,oBAmBX;AACL,SAAKC,MAAL,GAAc,CAAd;AACA,SAAKC,IAAL,CAAUC,MAAV,GAAmB,EAAnB;AACAvB,IAAAA,MAAM,CAACwB,OAAP,CAAeC,EAAf,CAAkBC,OAAO,CAACC,EAAR,CAAWC,eAA7B,EAA8C,KAAKC,YAAnD,EAAiE,IAAjE;AACA7B,IAAAA,MAAM,CAACwB,OAAP,CAAeC,EAAf,CAAkBC,OAAO,CAACC,EAAR,CAAWG,eAA7B,EAA8C,KAAKC,YAAnD,EAAiE,IAAjE;AACA/B,IAAAA,MAAM,CAACwB,OAAP,CAAeC,EAAf,CAAkB,YAAlB,EAAgC,KAAKO,UAArC,EAAiD,IAAjD;AACAhC,IAAAA,MAAM,CAACwB,OAAP,CAAeC,EAAf,CAAkB,gBAAlB,EAAoC,KAAKQ,cAAzC,EAAyD,IAAzD;AACA,SAAKA,cAAL;AACA,SAAKC,aAAL;AACA,SAAKC,YAAL;AACA,SAAKC,QAAL,GAAgB,CAAhB;AACA,SAAKC,QAAL,GAAgB,EAAhB;AACA,SAAKC,QAAL,GAAgB,EAAhB;AACH,GAhCmB;AAiCnB;AACAH,EAAAA,YAlCmB,0BAkCJ;AACZ,SAAKI,MAAL,GAAcvC,MAAM,CAACwC,QAAP,CAAgBC,IAA9B;AACAzC,IAAAA,MAAM,CAAC0C,SAAP,CAAiBP,YAAjB,CAA8BnC,MAAM,CAACwC,QAAP,CAAgBC,IAA9C;AACH,GArCmB;AAsCpBE,EAAAA,OAtCoB,mBAsCZC,IAtCY,EAsCNtB,IAtCM,EAsCA;AAAA;;AAChB,YAAQsB,IAAR;AACI,WAAK,UAAL;AAAiB,aAAKZ,UAAL;AAAmB;;AACpC,WAAK,UAAL;AAAiB,aAAKa,UAAL;AAAmB;;AACpC,WAAK,YAAL;AAAmB,aAAKC,YAAL;AAAqB;;AACxC,WAAK,YAAL;AAAmB,aAAKC,aAAL;AAAsB;;AACzC,WAAK,QAAL;AAAe,aAAKC,cAAL;AAAuB;;AACtC,WAAK,cAAL;AACA,WAAK,cAAL;AACI,aAAKD,aAAL;AAAsB;;AAC1B,WAAK,aAAL;AACI,YAAI,KAAKX,QAAL,IAAiB,CAArB,EAAwB;AACpB,eAAKA,QAAL,GAAgB,CAAhB,CADoB,CAEpB;;AACA,eAAK3B,OAAL,CAAawC,kBAAb;AACA,eAAKxC,OAAL,CAAayC,iBAAb;AACA,eAAKC,QAAL;AACH;;AACD;;AACJ,WAAK,mBAAL;AACI,YAAI,KAAKf,QAAL,IAAiB,CAArB,EAAwB;AACpB,eAAKA,QAAL,GAAgB,CAAhB,CADoB,CAEpB;;AACA,eAAK3B,OAAL,CAAawC,kBAAb;AACA,eAAKxC,OAAL,CAAayC,iBAAb;AACA,eAAKC,QAAL;AACH;;AACD;;AACJ,WAAK,eAAL;AACI,YAAI,KAAKf,QAAL,IAAiB,CAArB,EAAwB;AACpB,eAAKA,QAAL,GAAgB,CAAhB,CADoB,CAEpB;;AACA,eAAK3B,OAAL,CAAawC,kBAAb;AACA,eAAKxC,OAAL,CAAayC,iBAAb;AACA,eAAKC,QAAL;AACH;;AACD;;AACJ,WAAK,eAAL;AACI,YAAI,KAAKf,QAAL,IAAiB,CAArB,EAAwB;AACpB,eAAKA,QAAL,GAAgB,CAAhB,CADoB,CAEpB;;AACA,eAAK3B,OAAL,CAAawC,kBAAb;AACA,eAAKxC,OAAL,CAAayC,iBAAb;AACA,eAAKC,QAAL;AACH;;AACD;;AACJ,WAAK,cAAL;AACI,YAAI,KAAKf,QAAL,IAAiB,CAArB,EAAwB;AACpB,eAAKA,QAAL,GAAgB,CAAhB,CADoB,CAEpB;;AACA,eAAK3B,OAAL,CAAawC,kBAAb;AACA,eAAKxC,OAAL,CAAayC,iBAAb;AACA,eAAKC,QAAL;AACH;;AACD;;AACJ,WAAK,WAAL;AACA,WAAK,WAAL;AACIC,QAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EADJ,CAEI;AACA;AACA;AACA;AACA;;AACA,YAAIrD,MAAM,CAACsD,IAAP,CAAYC,SAAZ,EAAJ,EAA6B;AACzBvD,UAAAA,MAAM,CAACwD,KAAP,CAAaC,kBAAb,CAAgC,IAAhC;AACA;AACH;;AACD,YAAKzD,MAAM,CAACsD,IAAP,CAAYI,UAAZ,IAA0B,CAA1B,IAA+B1D,MAAM,CAACsD,IAAP,CAAYK,IAAZ,IAAoB,CAApD,IAA0D3D,MAAM,CAACsD,IAAP,CAAYM,OAAZ,IAAuB,CAArF,EAAwF;AACpF5D,UAAAA,MAAM,CAACwD,KAAP,CAAaK,UAAb,CAAwB,EAAxB,EAA4B,+BAA5B,EAA6D,YAAM;AAC/D7D,YAAAA,MAAM,CAACwD,KAAP,CAAaM,WAAb;AACH,WAFD,EAEG,YAAM,CACR,CAHD,EAGG,MAHH,EAGW,MAHX;AAIA;AACH;;AACD9D,QAAAA,MAAM,CAACwD,KAAP,CAAaO,uBAAb;AACA/D,QAAAA,MAAM,CAACgE,IAAP,CAAYC,cAAZ,CAA2B,KAAK1B,MAAhC,EAAwC,KAAKD,QAAL,CAAchB,IAAI,CAAC4C,MAAL,CAAYtB,IAA1B,EAAgCvC,IAAxE,EAA8EiB,IAAI,CAAC4C,MAAL,CAAYtB,IAA1F,EAAgGuB,IAAhG,CAAqG,YAAM;AACvGf,UAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;AACArD,UAAAA,MAAM,CAAC0C,SAAP,CAAiB0B,iBAAjB,CAAmC9C,IAAI,CAAC4C,MAAL,CAAYtB,IAA/C,EAAqD,KAAI,CAACN,QAAL,CAAchB,IAAI,CAAC4C,MAAL,CAAYtB,IAA1B,EAAgCyB,GAArF;AACH,SAHD;AAIA;;AACJ;AAASjB,QAAAA,OAAO,CAACkB,KAAR,CAAc,2BAAd,EAA2C1B,IAA3C;AA/Eb;AAiFH,GAxHmB;AAyHnB;AACAV,EAAAA,aA1HmB,2BA0HH;AACblC,IAAAA,MAAM,CAACwB,OAAP,CAAeC,EAAf,CAAkB,qBAAlB,EAAyC,KAAK8C,cAA9C,EAA8D,IAA9D;AACAvE,IAAAA,MAAM,CAACwB,OAAP,CAAeC,EAAf,CAAkB,iBAAlB,EAAqC,KAAK+C,UAA1C,EAAsD,IAAtD;AACAxE,IAAAA,MAAM,CAACwB,OAAP,CAAeC,EAAf,CAAkB,iBAAlB,EAAqC,KAAKgD,UAA1C,EAAsD,IAAtD;AACAzE,IAAAA,MAAM,CAACwB,OAAP,CAAeC,EAAf,CAAkB,mBAAlB,EAAuC,KAAKiD,YAA5C,EAA0D,IAA1D;AACH,GA/HmB;AAgIpB;AACAC,EAAAA,eAjIoB,6BAiIF;AACd3E,IAAAA,MAAM,CAACwB,OAAP,CAAeoD,GAAf,CAAmB,qBAAnB,EAA0C,IAA1C;AACA5E,IAAAA,MAAM,CAACwB,OAAP,CAAeoD,GAAf,CAAmB,iBAAnB,EAAsC,IAAtC;AACA5E,IAAAA,MAAM,CAACwB,OAAP,CAAeoD,GAAf,CAAmB,iBAAnB,EAAsC,IAAtC;AACA5E,IAAAA,MAAM,CAACwB,OAAP,CAAeoD,GAAf,CAAmB,mBAAnB,EAAwC,IAAxC;AACH,GAtImB;AAuIpB/C,EAAAA,YAvIoB,0BAuIN;AACV,SAAKP,IAAL,CAAUuD,MAAV,GAAmB,IAAnB;AACA,SAAK3C,aAAL;AACA,SAAKC,YAAL;AACA,SAAKE,QAAL,GAAgB,EAAhB;AACA,SAAKC,QAAL,GAAgB,EAAhB;AACH,GA7ImB;AA8IpBP,EAAAA,YA9IoB,0BA8IN;AACV,SAAKT,IAAL,CAAUuD,MAAV,GAAmB,KAAnB;AACA,SAAKpE,OAAL,CAAawC,kBAAb;AACA,SAAKxC,OAAL,CAAayC,iBAAb;AACA,SAAK4B,UAAL;AACA,SAAKH,eAAL;AACH,GApJmB;AAqJpBI,EAAAA,QArJoB,oBAqJXC,KArJW,EAqJJ;AACZ,WAAQC,MAAM,CAACD,KAAD,CAAN,CAAcE,GAAd,CAAkB,GAAlB,CAAD,CAAyBC,QAAzB,EAAP;AACH,GAvJmB;AAwJpBC,EAAAA,YAxJoB,0BAwJL;AACXpF,IAAAA,MAAM,CAACwD,KAAP,CAAa6B,eAAb,CAA6B,KAAKC,UAAlC,EAA8CtF,MAAM,CAACsD,IAAP,CAAYiC,GAAZ,CAAgB,SAAhB,CAA9C;AACH,GA1JmB;AA2JpBtD,EAAAA,cA3JoB,4BA2JH;AACb,QAAIuD,IAAI,GAAGxF,MAAM,CAACsD,IAAP,CAAYiC,GAAZ,CAAgB,MAAhB,CAAX;AACA,SAAKhF,SAAL,CAAekF,MAAf,GAAwBzF,MAAM,CAACsD,IAAP,CAAYoC,QAAZ,CAAqBF,IAArB,CAAxB;AACH,GA9JmB;AAgKpBG,EAAAA,SAhKoB,qBAgKVtE,MAhKU,EAgKF;AACd,SAAKA,MAAL,GAAcA,MAAd;AACH,GAlKmB;AAoKpBuE,EAAAA,YApKoB,0BAoKL,CAEd,CAtKmB;AAwKpB5C,EAAAA,cAxKoB,4BAwKH;AACbhD,IAAAA,MAAM,CAACwD,KAAP,CAAaqC,eAAb,CAA6B,UAA7B;AACH,GA1KmB;AA2KpB9C,EAAAA,aA3KoB,2BA2KJ;AACZ/C,IAAAA,MAAM,CAACwD,KAAP,CAAasC,QAAb,CAAsB,EAAtB;AACH,GA7KmB;AA8KpB9D,EAAAA,UA9KoB,wBA8KP;AACThC,IAAAA,MAAM,CAAC0C,SAAP,CAAiBqD,WAAjB;AACA,SAAKC,MAAL;AACH,GAjLmB;AAkLpB;AACAnD,EAAAA,UAnLoB,wBAmLP;AACT;AACA;AACA;AACA;AACA;AACA;AAEA,QAAIW,KAAK,GAAGxD,MAAM,CAACwD,KAAP,CAAayC,SAAb,CAAuB,KAAKhF,UAA5B,CAAZ;AACAuC,IAAAA,KAAK,CAACjC,MAAN,GAAe,EAAf;AACH,GA7LmB;AA8LpB;AACAuB,EAAAA,YA/LoB,0BA+LL;AACX;AACA;AACA;AACA;AACA;AACA;AAEA,QAAIU,KAAK,GAAGxD,MAAM,CAACwD,KAAP,CAAayC,SAAb,CAAuB,KAAKlF,YAA5B,CAAZ;AACAyC,IAAAA,KAAK,CAACjC,MAAN,GAAe,EAAf;AACH,GAzMmB;AA2MpB2E,EAAAA,GA3MoB,eA2MhBC,GA3MgB,EA2MXnB,KA3MW,EA2MJ;AACZ,SAAKmB,GAAL,IAAYnB,KAAZ;AACH,GA7MmB;AA8MpBO,EAAAA,GA9MoB,eA8MhBY,GA9MgB,EA8MX;AACL,WAAO,KAAKA,GAAL,CAAP;AACH,GAhNmB;AAiNlB;AACF;AACAzB,EAAAA,YAnNoB,wBAmNP0B,GAnNO,EAmNF;AACd,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK5F,OAAL,CAAa6F,QAAb,CAAsBC,MAA1C,EAAkDF,CAAC,EAAnD,EAAuD;AACnD,UAAI,KAAK5F,OAAL,CAAa6F,QAAb,CAAsBD,CAAtB,EAAyBzD,IAAzB,IAAiCwD,GAAG,CAACI,MAAzC,EAAiD;AAC7C,aAAK/F,OAAL,CAAa6F,QAAb,CAAsBD,CAAtB,EAAyBI,OAAzB;AACH;AACJ;AAEJ,GA1NmB;AA2NpBlC,EAAAA,cA3NoB,0BA2NL6B,GA3NK,EA2NA;AAChBrG,IAAAA,EAAE,CAACsD,GAAH,CAAO,YAAP,EAAqB+C,GAArB;AACA,SAAK3F,OAAL,CAAawC,kBAAb;AACA,SAAKxC,OAAL,CAAayC,iBAAb;AACA,SAAKwD,YAAL,GAAoB1G,MAAM,CAAC0C,SAAP,CAAiB6C,GAAjB,CAAqB,UAArB,CAApB;AACAnC,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiC,KAAKqD,YAAtC;AACA,QAAI,CAAC,KAAKA,YAAV,EAAwB;AACxB,SAAKC,aAAL,GAAqBC,IAAI,CAACC,GAAL,KAAaT,GAAG,CAACU,UAAtC;AACA,SAAK3D,QAAL;AACH,GApOmB;AAqOpBsB,EAAAA,UArOoB,sBAqOT2B,GArOS,EAqOJ;AACZ,SAAKW,UAAL,GAAkB/G,MAAM,CAAC0C,SAAP,CAAiBsE,UAAnC;AACA5D,IAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAkB,KAAK0D,UAAvB;;AACA,SAAK,IAAIV,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK5F,OAAL,CAAa6F,QAAb,CAAsBC,MAA1C,EAAkDF,CAAC,EAAnD,EAAuD;AACnD,UAAI,KAAK5F,OAAL,CAAa6F,QAAb,CAAsBD,CAAtB,EAAyBzD,IAAzB,IAAiCwD,GAAG,CAACI,MAAzC,EAAiD;AAC7C,aAAKS,UAAL,CAAgB,KAAKxG,OAAL,CAAa6F,QAAb,CAAsBD,CAAtB,CAAhB,EAA0C,KAAKU,UAAL,CAAgBX,GAAG,CAACI,MAApB,CAA1C,EAAuEJ,GAAG,CAACI,MAA3E;AACH;AACJ;AACJ,GA7OmB;AA8OpBhC,EAAAA,UA9OoB,sBA8OT4B,GA9OS,EA8OJ;AACZ;AACAhD,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACA,SAAK6D,QAAL,GAAgBlH,MAAM,CAAC0C,SAAP,CAAiByE,QAAjC;AACA,SAAKR,aAAL,GAAqBC,IAAI,CAACC,GAAL,KAAaT,GAAG,CAACU,UAAtC,CAJY,CAKZ;;AACA,QAAI,KAAK1E,QAAL,IAAiBgE,GAAG,CAACgB,QAAJ,CAAaC,OAA9B,IAAyC,KAAKjF,QAAL,KAAkB,CAA/D,EAAkE;AAClE,QAAIkF,KAAK,GAAG,CAAZ;;AACA,SAAK,IAAIjB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK5F,OAAL,CAAa6F,QAAb,CAAsBC,MAA1C,EAAkDF,CAAC,EAAnD,EAAuD;AACnD,UAAI,KAAK5F,OAAL,CAAa6F,QAAb,CAAsBD,CAAtB,EAAyBzD,IAAzB,IAAiCwD,GAAG,CAACgB,QAAJ,CAAaZ,MAAlD,EAA0D;AACtDc,QAAAA,KAAK;AACR;AACJ;;AACD,QAAIA,KAAK,IAAI,CAAb,EAAgB;AACZ,UAAIC,QAAQ,GAAGxH,EAAE,CAACyH,WAAH,CAAe,KAAK7G,WAApB,CAAf;AACA4G,MAAAA,QAAQ,CAACrD,MAAT,GAAkB,KAAKzD,OAAvB;AACA8G,MAAAA,QAAQ,CAAC1C,MAAT,GAAkB,IAAlB;AACA0C,MAAAA,QAAQ,CAAC3E,IAAT,aAAmBwD,GAAG,CAACgB,QAAJ,CAAaZ,MAAhC;AACA,WAAKlE,QAAL,CAAciF,QAAQ,CAAC3E,IAAvB,IAA+B;AAC3ByB,QAAAA,GAAG,EAAE,KAAK6C,QAAL,CAAcd,GAAG,CAACgB,QAAJ,CAAaC,OAA3B,EAAoCjB,GAAG,CAACgB,QAAJ,CAAaZ,MAAjD,EAAyDiB,YADnC;AAE3BpH,QAAAA,IAAI,EAAE+F,GAAG,CAACgB,QAAJ,CAAaC;AAFQ,OAA/B;AAIA,UAAIK,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAW,CAAC,KAAKV,QAAL,CAAcd,GAAG,CAACgB,QAAJ,CAAaC,OAA3B,EAAoCjB,GAAG,CAACgB,QAAJ,CAAaZ,MAAjD,EAAyDqB,WAAzD,IAAwEjB,IAAI,CAACC,GAAL,KAAa,KAAKF,aAA1F,CAAD,IAA6G,IAAxH,CAAf;AACAY,MAAAA,QAAQ,CAACG,QAAT,GAAoBA,QAApB;AACA,UAAII,OAAO,GAAG,KAAKZ,QAAL,CAAcd,GAAG,CAACgB,QAAJ,CAAaC,OAA3B,EAAoCjB,GAAG,CAACgB,QAAJ,CAAaZ,MAAjD,EAAyDsB,OAAzD,GAAmE,CAAjF;AACAP,MAAAA,QAAQ,CAACQ,cAAT,CAAwB,UAAxB,EAAoCjI,KAApC,GAA4CgI,OAAO,IAAI,CAAX,IAAgBJ,QAAQ,GAAG,CAA3B,GAA+B3H,EAAE,CAACD,KAAH,CAAS,GAAT,EAAc,EAAd,EAAkB,EAAlB,CAA/B,GAAuDF,OAAO,CAACkI,OAAD,CAAP,CAAiBhI,KAApH;AACAyH,MAAAA,QAAQ,CAACQ,cAAT,CAAwB,UAAxB,EAAoCC,YAApC,CAAiDjI,EAAE,CAACS,KAApD,EAA2DiF,MAA3D,aAAuE7F,OAAO,CAACkI,OAAD,CAAP,CAAiBjI,GAAxF,cAA+F6H,QAA/F;AACAH,MAAAA,QAAQ,CAACQ,cAAT,CAAwB,cAAxB,EAAwCA,cAAxC,CAAuD,eAAvD,EAAwEC,YAAxE,CAAqFjI,EAAE,CAACS,KAAxF,EAA+FiF,MAA/F,GAAwG,KAAKyB,QAAL,CAAcd,GAAG,CAACgB,QAAJ,CAAaC,OAA3B,EAAoCjB,GAAG,CAACgB,QAAJ,CAAaZ,MAAjD,EAAyDyB,MAAjK;AACAV,MAAAA,QAAQ,CAACQ,cAAT,CAAwB,QAAxB,EAAkCC,YAAlC,CAA+CjI,EAAE,CAACS,KAAlD,EAAyDiF,MAAzD,GAAkEW,GAAG,CAACgB,QAAJ,CAAaZ,MAA/E;AACA,WAAKO,UAAL,GAAkB/G,MAAM,CAAC0C,SAAP,CAAiBsE,UAAnC;AACA,WAAKC,UAAL,CAAgBM,QAAhB,EAA0B,KAAKR,UAAL,CAAgBX,GAAG,CAACgB,QAAJ,CAAaZ,MAA7B,CAA1B,EAAgEJ,GAAG,CAACgB,QAAJ,CAAaZ,MAA7E;AACH;;AACD,SAAK,IAAIH,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAG,KAAK5F,OAAL,CAAa6F,QAAb,CAAsBC,MAA1C,EAAkDF,EAAC,EAAnD,EAAuD;AACnD,UAAI,KAAK5F,OAAL,CAAa6F,QAAb,CAAsBD,EAAtB,EAAyBzD,IAAzB,IAAiCwD,GAAG,CAACgB,QAAJ,CAAaZ,MAAlD,EAA0D;AACtD,YAAIkB,UAAQ,GAAGC,IAAI,CAACC,KAAL,CAAW,CAACxB,GAAG,CAACgB,QAAJ,CAAaS,WAAb,IAA4BjB,IAAI,CAACC,GAAL,KAAa,KAAKF,aAA9C,CAAD,IAAiE,IAA5E,CAAf;;AACA,aAAKlG,OAAL,CAAa6F,QAAb,CAAsBD,EAAtB,EAAyByB,OAAzB,GAAmC1B,GAAG,CAACgB,QAAJ,CAAaU,OAAhD;AACA,aAAKrH,OAAL,CAAa6F,QAAb,CAAsBD,EAAtB,EAAyBqB,QAAzB,GAAoCA,UAApC;AACA,aAAKjH,OAAL,CAAa6F,QAAb,CAAsBD,EAAtB,EAAyB0B,cAAzB,CAAwC,cAAxC,EAAwDA,cAAxD,CAAuE,eAAvE,EAAwFC,YAAxF,CAAqGjI,EAAE,CAACS,KAAxG,EAA+GiF,MAA/G,GAAwHW,GAAG,CAACgB,QAAJ,CAAaa,MAArI;AACH;AACJ;AACJ,GAtRmB;AAuRpB;AACA9E,EAAAA,QAxRoB,sBAwRT;AACP,SAAK+D,QAAL,GAAgB,EAAhB;;AAEA,SAAK,IAAIf,GAAT,IAAgBnG,MAAM,CAAC0C,SAAP,CAAiByE,QAAjB,CAA0B,KAAK/E,QAA/B,CAAhB,EAA0D;AACtD,WAAK8E,QAAL,CAAcgB,IAAd,CAAmBlI,MAAM,CAAC0C,SAAP,CAAiByE,QAAjB,CAA0B,KAAK/E,QAA/B,EAAyC+D,GAAzC,CAAnB;AACH;;AAED,SAAKe,QAAL,CAAciB,IAAd,CAAmB,UAACC,CAAD,EAAIC,CAAJ,EAAU;AACzB,aAAOD,CAAC,CAACf,OAAF,GAAYgB,CAAC,CAAChB,OAArB;AACH,KAFD;AAGA,SAAKN,UAAL,GAAkB/G,MAAM,CAAC0C,SAAP,CAAiBsE,UAAnC;;AACA,QAAI,CAAC,KAAKE,QAAV,EAAoB;AAChB;AACH;;AACD,SAAKpC,UAAL;;AACA,SAAK,IAAI0B,MAAT,IAAmB,KAAKU,QAAxB,EAAkC;AAC9B,UAAI,CAAC,KAAKA,QAAL,CAAcV,MAAd,CAAL,EAA4B;;AAC5B,WAAK,IAAIH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK5F,OAAL,CAAa6H,aAAjC,EAAgDjC,CAAC,EAAjD,EAAqD;AACjD,YAAI,KAAK5F,OAAL,CAAa6F,QAAb,CAAsBD,CAAtB,EAAyBzD,IAAzB,IAAiC,KAAKsE,QAAL,CAAcV,MAAd,EAAsBA,MAA3D,EAAmE;AAC/D;AACH;AACJ;;AACD,UAAIe,QAAQ,GAAGxH,EAAE,CAACyH,WAAH,CAAe,KAAK7G,WAApB,CAAf;AACA4G,MAAAA,QAAQ,CAACrD,MAAT,GAAkB,KAAKzD,OAAvB;AACA8G,MAAAA,QAAQ,CAAC1C,MAAT,GAAkB,IAAlB;AACA0C,MAAAA,QAAQ,CAAC3E,IAAT,aAAmB,KAAKsE,QAAL,CAAcV,MAAd,EAAsBA,MAAzC;AACA,WAAKlE,QAAL,CAAciF,QAAQ,CAAC3E,IAAvB,IAA+B;AAC3ByB,QAAAA,GAAG,EAAE,KAAK6C,QAAL,CAAcV,MAAd,EAAsBiB,YADA;AAE3BpH,QAAAA,IAAI,EAAE,KAAK6G,QAAL,CAAcV,MAAd,EAAsBa;AAFD,OAA/B;AAIA,UAAIkB,GAAG,GAAG,KAAKrB,QAAL,CAAcV,MAAd,EAAsBA,MAAtB,CAA6BrB,QAA7B,EAAV;AACAoC,MAAAA,QAAQ,CAACQ,cAAT,CAAwB,QAAxB,EAAkCC,YAAlC,CAA+CjI,EAAE,CAACS,KAAlD,EAAyDiF,MAAzD,GAAkE8C,GAAG,CAAChC,MAAJ,GAAa,CAAb,GAAiBgC,GAAG,CAACC,MAAJ,CAAWD,GAAG,CAAChC,MAAJ,GAAa,CAAxB,CAAjB,GAA8CgC,GAAhH;AAEAhB,MAAAA,QAAQ,CAACQ,cAAT,CAAwB,cAAxB,EAAwCA,cAAxC,CAAuD,eAAvD,EAAwEC,YAAxE,CAAqFjI,EAAE,CAACS,KAAxF,EAA+FiF,MAA/F,GAAwG,KAAKyB,QAAL,CAAcV,MAAd,EAAsByB,MAA9H;AACA,UAAIQ,MAAM,GAAGzI,MAAM,CAACsD,IAAP,CAAYoF,iBAAZ,CAA8B,KAAKhC,YAAL,CAAkB,KAAKQ,QAAL,CAAcV,MAAd,EAAsBa,OAAxC,EAAiDsB,KAAjD,CAAuD,CAAvD,CAA9B,CAAb;AAAA,UACIC,MAAM,GAAG5I,MAAM,CAACsD,IAAP,CAAYoF,iBAAZ,CAA8B,KAAKhC,YAAL,CAAkB,KAAKQ,QAAL,CAAcV,MAAd,EAAsBa,OAAxC,EAAiDwB,MAA/E,CADb;AAEAtB,MAAAA,QAAQ,CAACQ,cAAT,CAAwB,eAAxB,EAAyCA,cAAzC,CAAwD,WAAxD,EAAqEC,YAArE,CAAkFjI,EAAE,CAACS,KAArF,EAA4FiF,MAA5F,GAAqGgD,MAAM,GAAG,GAAT,GAAeG,MAApH;;AACA,UAAI,KAAKlC,YAAL,CAAkB,KAAKQ,QAAL,CAAcV,MAAd,EAAsBa,OAAxC,EAAiDyB,oBAAjD,IAAyE9I,MAAM,CAACsD,IAAP,CAAYiC,GAAZ,CAAgB,MAAhB,CAAzE,IAAoG,CAACvF,MAAM,CAACsD,IAAP,CAAYC,SAAZ,EAAzG,EAAkI;AAC9HgE,QAAAA,QAAQ,CAACQ,cAAT,CAAwB,WAAxB,EAAqCA,cAArC,CAAoD,OAApD,EAA6DlD,MAA7D,GAAsE,IAAtE;AACH,OAFD,MAEO;AACH0C,QAAAA,QAAQ,CAACQ,cAAT,CAAwB,WAAxB,EAAqCA,cAArC,CAAoD,gBAApD,EAAsEC,YAAtE,CAAmFjI,EAAE,CAACgJ,MAAtF,EAA8FC,WAA9F,GAA4G,KAAK9H,cAAjH;AACH;;AAED,UAAIwG,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAW,CAAC,KAAKV,QAAL,CAAcV,MAAd,EAAsBqB,WAAtB,IAAqCjB,IAAI,CAACC,GAAL,KAAa,KAAKF,aAAvD,CAAD,IAA0E,IAArF,CAAf;AACAY,MAAAA,QAAQ,CAACG,QAAT,GAAoBA,QAApB;AACAH,MAAAA,QAAQ,CAACO,OAAT,GAAmB,KAAKZ,QAAL,CAAcV,MAAd,EAAsBsB,OAAzC;;AACA,UAAImB,QAAQ,GAAG,KAAK/B,QAAL,CAAcV,MAAd,EAAsBsB,OAAtB,GAAgC,CAA/C;;AACAP,MAAAA,QAAQ,CAACQ,cAAT,CAAwB,UAAxB,EAAoCjI,KAApC,GAA4CmJ,QAAQ,IAAI,CAAZ,IAAiBvB,QAAQ,GAAG,CAA5B,GAAgC3H,EAAE,CAACD,KAAH,CAAS,GAAT,EAAc,EAAd,EAAkB,EAAlB,CAAhC,GAAwDF,OAAO,CAACqJ,QAAD,CAAP,CAAkBnJ,KAAtH;AACAyH,MAAAA,QAAQ,CAACQ,cAAT,CAAwB,UAAxB,EAAoCC,YAApC,CAAiDjI,EAAE,CAACS,KAApD,EAA2DiF,MAA3D,aAAuE7F,OAAO,CAACqJ,QAAD,CAAP,CAAkBpJ,GAAzF,cAAgG6H,QAAhG;AACA,WAAKT,UAAL,CAAgBM,QAAhB,EAA0B,KAAKR,UAAL,CAAgB,KAAKG,QAAL,CAAcV,MAAd,EAAsBA,MAAtC,CAA1B,EAAyE,KAAKU,QAAL,CAAcV,MAAd,EAAsBA,MAA/F;AACH;;AACD,SAAK0C,SAAL;AACH,GA5UmB;AA6UpB;AACAA,EAAAA,SA9UoB,uBA8UR;AAAA;;AACR,SAAKC,UAAL,GAAkBC,WAAW,CAAC,YAAM;AAChC,UAAI,MAAI,CAAC3I,OAAL,CAAa6F,QAAjB,EAA2B;AACvB,aAAK,IAAID,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,MAAI,CAAC5F,OAAL,CAAa6F,QAAb,CAAsBC,MAA1C,EAAkDF,CAAC,EAAnD,EAAuD;AACnD,UAAA,MAAI,CAAC5F,OAAL,CAAa6F,QAAb,CAAsBD,CAAtB,EAAyBqB,QAAzB,IAAqC,CAArC;;AACA,cAAI,MAAI,CAACjH,OAAL,CAAa6F,QAAb,CAAsBD,CAAtB,EAAyBqB,QAAzB,GAAoC,CAAxC,EAA2C;AACvC,YAAA,MAAI,CAACjH,OAAL,CAAa6F,QAAb,CAAsBD,CAAtB,EAAyBqB,QAAzB,GAAoC,CAApC;AACH;;AACD,cAAIuB,QAAQ,GAAG,MAAI,CAACxI,OAAL,CAAa6F,QAAb,CAAsBD,CAAtB,EAAyByB,OAAzB,GAAmC,CAAlD;;AACA,cAAIuB,SAAS,GAAG,MAAI,CAAC5I,OAAL,CAAa6F,QAAb,CAAsBD,CAAtB,EAAyBqB,QAAzC;AACA,UAAA,MAAI,CAACjH,OAAL,CAAa6F,QAAb,CAAsBD,CAAtB,EAAyB0B,cAAzB,CAAwC,UAAxC,EAAoDjI,KAApD,GAA4DmJ,QAAQ,IAAI,CAAZ,IAAiBI,SAAS,GAAG,CAA7B,GAAiCtJ,EAAE,CAACD,KAAH,CAAS,GAAT,EAAc,EAAd,EAAkB,EAAlB,CAAjC,GAAyDF,OAAO,CAACqJ,QAAD,CAAP,CAAkBnJ,KAAvI;AACA,UAAA,MAAI,CAACW,OAAL,CAAa6F,QAAb,CAAsBD,CAAtB,EAAyB0B,cAAzB,CAAwC,UAAxC,EAAoDC,YAApD,CAAiEjI,EAAE,CAACS,KAApE,EAA2EiF,MAA3E,aAAuF7F,OAAO,CAACqJ,QAAD,CAAP,CAAkBpJ,GAAzG,cAAgHwJ,SAAhH;AACH;AACJ;AACJ,KAb4B,EAa1B,IAb0B,CAA7B;AAcH,GA7VmB;AA8VpBpC,EAAAA,UA9VoB,sBA8VT3F,IA9VS,EA8VHgI,MA9VG,EA8VK9C,MA9VL,EA8Va;AAC7B,QAAI,CAAC8C,MAAL,EAAa;AACT;AACH;;AACD,QAAIC,KAAK,GAAGD,MAAM,CAAC/C,MAAP,GAAgB,EAAhB,GAAmB+C,MAAM,CAAC/C,MAAP,GAAgB,EAAnC,GAAsC,CAAlD;AACA,QAAIiD,OAAJ;AAEAlI,IAAAA,IAAI,CAACyG,cAAL,CAAoB,UAApB,EAAgC9E,kBAAhC;AACA,QAAIwG,YAAY,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAAnB;;AACA,SAAK,IAAIpD,CAAC,GAAGkD,KAAb,EAAoBlD,CAAC,GAAGiD,MAAM,CAAC/C,MAA/B,EAAuCF,CAAC,EAAxC,EAA4C;AACxC,WAAK,IAAIqD,CAAT,IAAcJ,MAAM,CAACjD,CAAD,CAApB,EAAyB;AACrB,YAAIqD,CAAC,IAAI,CAAT,EAAY;AACR;AACH;;AACDF,QAAAA,OAAO,GAAGzJ,EAAE,CAACyH,WAAH,CAAe,KAAK5G,WAApB,CAAV;;AACA,YAAI0I,MAAM,CAACjD,CAAD,CAAN,CAAUqD,CAAV,KAAgB,CAApB,EAAuB;AACnBF,UAAAA,OAAO,CAACxB,YAAR,CAAqBjI,EAAE,CAACgJ,MAAxB,EAAgCC,WAAhC,GAA8C,KAAKnI,YAAL,CAAkB8I,aAAlB,CAAgC,SAAhC,CAA9C;AACH,SAFD,MAEO;AACHH,UAAAA,OAAO,CAACxB,YAAR,CAAqBjI,EAAE,CAACgJ,MAAxB,EAAgCC,WAAhC,GAA8C,KAAKnI,YAAL,CAAkB8I,aAAlB,CAAgC,SAAhC,CAA9C;AACAF,UAAAA,YAAY,CAACC,CAAC,GAAG,CAAL,CAAZ,IAAuB,CAAvB;AACH;;AACDF,QAAAA,OAAO,CAACtF,MAAR,GAAiB5C,IAAI,CAACyG,cAAL,CAAoB,UAApB,CAAjB,CAXqB,CAYrB;;AACAyB,QAAAA,OAAO,CAACI,WAAR,CAAoB7J,EAAE,CAAC8J,EAAH,CAAM,CAAC,GAAD,GAAO,CAACxD,CAAC,GAAGkD,KAAL,IAAc,IAA3B,EAAiC,OAAO,CAACtE,MAAM,CAACyE,CAAD,CAAN,GAAY,CAAb,IAAkB,IAA1D,CAApB;AACAF,QAAAA,OAAO,CAAC3E,MAAR,GAAiB,KAAjB;AACH;AACJ;;AACD7E,IAAAA,MAAM,CAACwD,KAAP,CAAasG,cAAb,CAA4B,IAA5B,EAAkCxI,IAAI,CAACyG,cAAL,CAAoB,UAApB,CAAlC,EAAmE,IAAnE,EAAyE,IAAzE,EA3B6B,CA6B7B;AACA;;AACAzG,IAAAA,IAAI,CAACyG,cAAL,CAAoB,WAApB,EAAiCA,cAAjC,CAAgD,MAAhD,EAAwDzB,QAAxD,CAAiE,CAAjE,EAAoE0B,YAApE,CAAiFjI,EAAE,CAACS,KAApF,EAA2FiF,MAA3F,GAAoGgE,YAAY,CAAC,CAAD,CAAZ,GAAkB,CAAlB,IAAuBA,YAAY,CAAC,CAAD,CAAZ,GAAkB,EAAzC,GAA8C,MAAMA,YAAY,CAAC,CAAD,CAAhE,GAAsEA,YAAY,CAAC,CAAD,CAAtL;AACAnI,IAAAA,IAAI,CAACyG,cAAL,CAAoB,WAApB,EAAiCA,cAAjC,CAAgD,IAAhD,EAAsDzB,QAAtD,CAA+D,CAA/D,EAAkE0B,YAAlE,CAA+EjI,EAAE,CAACS,KAAlF,EAAyFiF,MAAzF,GAAkGgE,YAAY,CAAC,CAAD,CAAZ,GAAkB,CAAlB,IAAuBA,YAAY,CAAC,CAAD,CAAZ,GAAkB,EAAzC,GAA8C,MAAMA,YAAY,CAAC,CAAD,CAAhE,GAAsEA,YAAY,CAAC,CAAD,CAApL;AACAnI,IAAAA,IAAI,CAACyG,cAAL,CAAoB,WAApB,EAAiCA,cAAjC,CAAgD,MAAhD,EAAwDzB,QAAxD,CAAiE,CAAjE,EAAoE0B,YAApE,CAAiFjI,EAAE,CAACS,KAApF,EAA2FiF,MAA3F,GAAoGgE,YAAY,CAAC,CAAD,CAAZ,GAAkB,CAAlB,IAAuBA,YAAY,CAAC,CAAD,CAAZ,GAAkB,EAAzC,GAA8C,MAAMA,YAAY,CAAC,CAAD,CAAhE,GAAsEA,YAAY,CAAC,CAAD,CAAtL;AACAnI,IAAAA,IAAI,CAACyG,cAAL,CAAoB,WAApB,EAAiCA,cAAjC,CAAgD,OAAhD,EAAyDzB,QAAzD,CAAkE,CAAlE,EAAqE0B,YAArE,CAAkFjI,EAAE,CAACS,KAArF,EAA4FiF,MAA5F,GAAqGgE,YAAY,CAAC,CAAD,CAAZ,GAAkB,CAAlB,IAAuBA,YAAY,CAAC,CAAD,CAAZ,GAAkB,EAAzC,GAA8C,MAAMA,YAAY,CAAC,CAAD,CAAhE,GAAsEA,YAAY,CAAC,CAAD,CAAvL;AAEH,GAlYmB;AAmYpB;AACA3E,EAAAA,UApYoB,wBAoYP;AACT,QAAI,KAAKqE,UAAL,IAAmB,IAAvB,EAA6B;AACzBY,MAAAA,YAAY,CAAC,KAAKZ,UAAN,CAAZ;AACH;;AACD,SAAKA,UAAL,GAAkB,IAAlB;AACH,GAzYmB;AA0YpBa,EAAAA,SA1YoB,uBA0YR;AACRhK,IAAAA,MAAM,CAACwB,OAAP,CAAeoD,GAAf,CAAmBlD,OAAO,CAACC,EAAR,CAAWC,eAA9B,EAA8C,IAA9C;AACA5B,IAAAA,MAAM,CAACwB,OAAP,CAAeoD,GAAf,CAAmBlD,OAAO,CAACC,EAAR,CAAWG,eAA9B,EAA8C,IAA9C;AACA9B,IAAAA,MAAM,CAACwB,OAAP,CAAeoD,GAAf,CAAmB,YAAnB,EAAiC,IAAjC;AACA5E,IAAAA,MAAM,CAACwB,OAAP,CAAeoD,GAAf,CAAmB,gBAAnB,EAAoC,IAApC;AACA,SAAKD,eAAL;AACA,SAAKG,UAAL;AACH,GAjZmB,CAkZpB;;AAlZoB,CAAxB","sourceRoot":"/","sourcesContent":[" const PROCESS = [\r\n    {tip:\"准备中\", color:cc.color(137, 218, 255)}, \r\n    {tip:\"下注中\", color:cc.color(141, 222, 37)},\r\n    {tip:\"结算中\", color:cc.color(226, 137, 255)}\r\n]\r\n\r\nglGame.baseclass.extend({\r\n\r\n    properties: {\r\n        BGM: {\r\n            type: cc.AudioClip,\r\n            default: null,\r\n        },\r\n        goldCount: cc.Label,\r\n        content: cc.Node,\r\n        node_record: cc.Node,\r\n        node_result: cc.Node,\r\n        sprite_Atlas: cc.SpriteAtlas,\r\n        recordPrefab : cc.Prefab,\r\n        rulePrefab : cc.Prefab,\r\n        battleWatchpic: cc.SpriteFrame,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        this.gameid = 0;\r\n        this.node.zIndex = 20;\r\n        glGame.emitter.on(MESSAGE.UI.ROOM_ENTER_SHOW, this.RootNodeShow, this);\r\n        glGame.emitter.on(MESSAGE.UI.ROOM_ENTER_HIDE, this.RootNodeHide, this);\r\n        glGame.emitter.on(\"nodeRemove\", this.click_back, this);\r\n        glGame.emitter.on(\"updateUserData\", this.updateuserInfo, this);\r\n        this.updateuserInfo();\r\n        this.registerEvent();\r\n        this.reqEnterArea();\r\n        this.roomType = 1;\r\n        this.waittime = {};\r\n        this.nodeInfo = {};\r\n    },\r\n     //发包\r\n     reqEnterArea() {\r\n        this.gameID = glGame.scenetag.BRNN;\r\n        glGame.readyroom.reqEnterArea(glGame.scenetag.BRNN);\r\n    },\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"btn_back\": this.click_back(); break;\r\n            case \"btn_help\": this.click_help(); break;\r\n            case \"btn_record\": this.click_record(); break;\r\n            case \"mycoinInfo\": this.click_addgold(); break;\r\n            case \"headbg\": this.click_userinfo(); break;\r\n            case \"img_recharge\": \r\n            case \"btn_chongzhi\": \r\n                this.click_addgold(); break;\r\n            case 'toggle_base':\r\n                if (this.roomType != 1) {\r\n                    this.roomType = 1;\r\n                    // this.reqEnterArea();\r\n                    this.content.destroyAllChildren();\r\n                    this.content.removeAllChildren();\r\n                    this.updateUI();\r\n                }\r\n                break;\r\n            case 'toggle_elementary':\r\n                if (this.roomType != 2) {\r\n                    this.roomType = 2;\r\n                    // this.reqEnterArea();\r\n                    this.content.destroyAllChildren();\r\n                    this.content.removeAllChildren();\r\n                    this.updateUI();\r\n                }\r\n                break;\r\n            case 'toggle_medium':\r\n                if (this.roomType != 3) {\r\n                    this.roomType = 3;\r\n                    // this.reqEnterArea();\r\n                    this.content.destroyAllChildren();\r\n                    this.content.removeAllChildren();\r\n                    this.updateUI();\r\n                }\r\n                break;\r\n            case 'toggle_higher':\r\n                if (this.roomType != 4) {\r\n                    this.roomType = 4;\r\n                    // this.reqEnterArea();\r\n                    this.content.destroyAllChildren();\r\n                    this.content.removeAllChildren();\r\n                    this.updateUI();\r\n                }\r\n                break;\r\n            case 'toggle_plute':\r\n                if (this.roomType != 5) {\r\n                    this.roomType = 5;\r\n                    // this.reqEnterArea();\r\n                    this.content.destroyAllChildren();\r\n                    this.content.removeAllChildren();\r\n                    this.updateUI();\r\n                }\r\n                break;\r\n            case 'btn_enter':\r\n            case 'btn_start':\r\n                console.log(\"BRNN_TEST ===> 点击开始游戏\");\r\n                // if (this.isHaveEnterif) return;\r\n                // this.isHaveEnterif = true;\r\n                // this.scheduleOnce(()=>{\r\n                //     this.isHaveEnterif = false;\r\n                // }, 1.0);\r\n                if (glGame.user.isTourist()) {\r\n                    glGame.panel.showRegisteredGift(true)\r\n                    return;\r\n                }\r\n                if ((glGame.user.suspicious == 1 && glGame.user.game == 2) || glGame.user.is_game == 2) {\r\n                    glGame.panel.showDialog(\"\", \"您的账号数据异常，暂时禁止进入游戏，如有疑问，请联系客服！\", () => {\r\n                        glGame.panel.showService()\r\n                    }, () => {\r\n                    }, \"我知道了\", \"联系客服\")\r\n                    return;\r\n                }\r\n                glGame.panel.showFieldSelectionJuHua();\r\n                glGame.room.reqMyGameState(this.gameID, this.nodeInfo[node.parent.name].type, node.parent.name).then(() => {\r\n                    console.log(\"BRNN_TEST ===> 点击开始游戏 11111\");\r\n                    glGame.readyroom.enterHundredsRoom(node.parent.name, this.nodeInfo[node.parent.name].tag);\r\n                })\r\n                break;\r\n            default: console.error(\"no find button name -> %s\", name);\r\n        }\r\n    },\r\n     //事件监听\r\n     registerEvent() {\r\n        glGame.emitter.on(\"onGameInfolist_area\", this.onGameInfolist, this);\r\n        glGame.emitter.on(\"onRoomInfo_area\", this.onRoomInfo, this);\r\n        glGame.emitter.on(\"onHandInfo_area\", this.onHandInfo, this);\r\n        glGame.emitter.on(\"onDeleteRoom_area\", this.onDeleteRoom, this);\r\n    },\r\n    //事件销毁\r\n    unregisterEvent() {\r\n        glGame.emitter.off(\"onGameInfolist_area\", this);\r\n        glGame.emitter.off(\"onRoomInfo_area\", this);\r\n        glGame.emitter.off(\"onHandInfo_area\", this);\r\n        glGame.emitter.off(\"onDeleteRoom_area\", this);\r\n    },\r\n    RootNodeShow(){\r\n        this.node.active = true;\r\n        this.registerEvent();\r\n        this.reqEnterArea();\r\n        this.waittime = {};\r\n        this.nodeInfo = {};\r\n    },\r\n    RootNodeHide(){\r\n        this.node.active = false;\r\n        this.content.destroyAllChildren();\r\n        this.content.removeAllChildren();\r\n        this.cleanTimer();\r\n        this.unregisterEvent();\r\n    },\r\n    cutFloat(value) {\r\n        return (Number(value).div(100)).toString();\r\n    },\r\n    showUserInfo() {\r\n        glGame.panel.showRemoteImage(this.Playerhead, glGame.user.get(\"headURL\"));\r\n    },\r\n    updateuserInfo() {\r\n        let coin = glGame.user.get(\"coin\")\r\n        this.goldCount.string = glGame.user.GoldTemp(coin);\r\n    },\r\n\r\n    setGameId(gameid) {\r\n        this.gameid = gameid;\r\n    },\r\n\r\n    updateBgInfo() {\r\n    \r\n    },\r\n\r\n    click_userinfo() {\r\n        glGame.panel.showPanelByName(\"userinfo\");\r\n    },\r\n    click_addgold() {\r\n        glGame.panel.showShop(30);\r\n    },\r\n    click_back() {\r\n        glGame.readyroom.reqExitArea();\r\n        this.remove();\r\n    },\r\n    // 规则\r\n    click_help() {\r\n        // let gameName = glGame.scene.getSceneNameByID(this.gameid);\r\n        // if (gameName == \"ddz\" || gameName == \"dzpk\") {\r\n        // glGame.panel.showNewGameRule(this.gameid,30);\r\n        // } else {\r\n        // glGame.panel.showGameRule(gameName);\r\n        // }\r\n\r\n        let panel = glGame.panel.showPanel(this.rulePrefab);\r\n        panel.zIndex = 30;\r\n    },\r\n    // 游戏记录\r\n    click_record() {\r\n        // console.log(\"gameid\", this.gameid)\r\n        // if (this.gameid == 36 || this.gameid == 35 || this.gameid == 30) {\r\n        // glGame.panel.showNewGameRecord(this.gameid,30);\r\n        // } else {\r\n        //     glGame.panel.showGameRecord(this.gameid);\r\n        // }\r\n\r\n        let panel = glGame.panel.showPanel(this.recordPrefab);\r\n        panel.zIndex = 30;\r\n    },\r\n\r\n    set(key, value) {\r\n        this[key] = value;\r\n    },\r\n    get(key) {\r\n        return this[key];\r\n    },\r\n      //事件回调\r\n    //进入游戏信息回调\r\n    onDeleteRoom(msg) {\r\n        for (let i = 0; i < this.content.children.length; i++) {\r\n            if (this.content.children[i].name == msg.roomid) {\r\n                this.content.children[i].destroy();\r\n            }\r\n        }\r\n\r\n    },\r\n    onGameInfolist(msg) {\r\n        cc.log(\"服务端发送数据222\", msg)\r\n        this.content.destroyAllChildren();\r\n        this.content.removeAllChildren();\r\n        this.gameInfoTest = glGame.readyroom.get(\"gameInfo\");\r\n        console.log('this.gameInfoTest', this.gameInfoTest)\r\n        if (!this.gameInfoTest) return;\r\n        this.serverTimeOff = Date.now() - msg.servertime;\r\n        this.updateUI();\r\n    },\r\n    onHandInfo(msg) {\r\n        this.roomRecord = glGame.readyroom.roomrecord;\r\n        console.log(\"奖励\", this.roomRecord);\r\n        for (let i = 0; i < this.content.children.length; i++) {\r\n            if (this.content.children[i].name == msg.roomid) {\r\n                this.showRecord(this.content.children[i], this.roomRecord[msg.roomid], msg.roomid);\r\n            }\r\n        }\r\n    },\r\n    onRoomInfo(msg) {\r\n        //this.updateUI();\r\n        console.log('onRoomInfo ===> r')\r\n        this.roomList = glGame.readyroom.roomlist;\r\n        this.serverTimeOff = Date.now() - msg.servertime;\r\n        //if (this.gameInfo.id != msg.gameid) return\r\n        if (this.roomType != msg.roomdata.bettype && this.roomType !== 0) return\r\n        let count = 0;\r\n        for (let i = 0; i < this.content.children.length; i++) {\r\n            if (this.content.children[i].name == msg.roomdata.roomid) {\r\n                count++;\r\n            }\r\n        }\r\n        if (count == 0) {\r\n            let infoNode = cc.instantiate(this.node_record);\r\n            infoNode.parent = this.content;\r\n            infoNode.active = true;\r\n            infoNode.name = `${msg.roomdata.roomid}`;\r\n            this.nodeInfo[infoNode.name] = {\r\n                tag: this.roomList[msg.roomdata.bettype][msg.roomdata.roomid].roomserverid,\r\n                type: msg.roomdata.bettype\r\n            }\r\n            let waitTime = Math.round((this.roomList[msg.roomdata.bettype][msg.roomdata.roomid].curwaittime - (Date.now() - this.serverTimeOff)) / 1000);\r\n            infoNode.waitTime = waitTime;\r\n            let process = this.roomList[msg.roomdata.bettype][msg.roomdata.roomid].process - 1;\r\n            infoNode.getChildByName(\"lab_time\").color = process == 1 && waitTime < 4 ? cc.color(255, 96, 47) : PROCESS[process].color;\r\n            infoNode.getChildByName(\"lab_time\").getComponent(cc.Label).string = `${PROCESS[process].tip}:${waitTime}S`;\r\n            infoNode.getChildByName('onlinePeople').getChildByName('lab_onlineNum').getComponent(cc.Label).string = this.roomList[msg.roomdata.bettype][msg.roomdata.roomid].online;\r\n            infoNode.getChildByName('roomId').getComponent(cc.Label).string = msg.roomdata.roomid;\r\n            this.roomRecord = glGame.readyroom.roomrecord;\r\n            this.showRecord(infoNode, this.roomRecord[msg.roomdata.roomid], msg.roomdata.roomid);\r\n        }\r\n        for (let i = 0; i < this.content.children.length; i++) {\r\n            if (this.content.children[i].name == msg.roomdata.roomid) {\r\n                let waitTime = Math.round((msg.roomdata.curwaittime - (Date.now() - this.serverTimeOff)) / 1000);\r\n                this.content.children[i].process = msg.roomdata.process;\r\n                this.content.children[i].waitTime = waitTime;\r\n                this.content.children[i].getChildByName('onlinePeople').getChildByName('lab_onlineNum').getComponent(cc.Label).string = msg.roomdata.online;\r\n            }\r\n        }\r\n    },\r\n    //更新UI\r\n    updateUI() {\r\n        this.roomList = []\r\n\r\n        for (let key in glGame.readyroom.roomlist[this.roomType]) {\r\n            this.roomList.push(glGame.readyroom.roomlist[this.roomType][key])\r\n        }\r\n\r\n        this.roomList.sort((a, b) => {\r\n            return a.bettype - b.bettype;\r\n        });\r\n        this.roomRecord = glGame.readyroom.roomrecord;\r\n        if (!this.roomList) {\r\n            return;\r\n        }\r\n        this.cleanTimer();\r\n        for (let roomid in this.roomList) {\r\n            if (!this.roomList[roomid]) continue;\r\n            for (let i = 0; i < this.content.childrenCount; i++) {\r\n                if (this.content.children[i].name == this.roomList[roomid].roomid) {\r\n                    return;\r\n                }\r\n            }\r\n            let infoNode = cc.instantiate(this.node_record);\r\n            infoNode.parent = this.content;\r\n            infoNode.active = true;\r\n            infoNode.name = `${this.roomList[roomid].roomid}`;\r\n            this.nodeInfo[infoNode.name] = {\r\n                tag: this.roomList[roomid].roomserverid,\r\n                type: this.roomList[roomid].bettype\r\n            }\r\n            let str = this.roomList[roomid].roomid.toString();\r\n            infoNode.getChildByName('roomId').getComponent(cc.Label).string = str.length > 5 ? str.substr(str.length - 5) : str;\r\n\r\n            infoNode.getChildByName('onlinePeople').getChildByName('lab_onlineNum').getComponent(cc.Label).string = this.roomList[roomid].online;\r\n            let minbet = glGame.user.EnterRoomGoldTemp(this.gameInfoTest[this.roomList[roomid].bettype].Chips[0]),\r\n                maxbet = glGame.user.EnterRoomGoldTemp(this.gameInfoTest[this.roomList[roomid].bettype].MaxBet);\r\n            infoNode.getChildByName('chiplimitNode').getChildByName('chiplimit').getComponent(cc.Label).string = minbet + \"-\" + maxbet;\r\n            if (this.gameInfoTest[this.roomList[roomid].bettype].EntranceRestrictions <= glGame.user.get(\"coin\") && !glGame.user.isTourist()) {\r\n                infoNode.getChildByName(\"btn_enter\").getChildByName(\"flash\").active = true\r\n            } else {\r\n                infoNode.getChildByName(\"btn_enter\").getChildByName(\"img_jinruyouxi\").getComponent(cc.Sprite).spriteFrame = this.battleWatchpic;\r\n            }\r\n\r\n            let waitTime = Math.round((this.roomList[roomid].curwaittime - (Date.now() - this.serverTimeOff)) / 1000);\r\n            infoNode.waitTime = waitTime;\r\n            infoNode.process = this.roomList[roomid].process;\r\n            let _process = this.roomList[roomid].process - 1;\r\n            infoNode.getChildByName(\"lab_time\").color = _process == 1 && waitTime < 4 ? cc.color(255, 96, 47) : PROCESS[_process].color;\r\n            infoNode.getChildByName(\"lab_time\").getComponent(cc.Label).string = `${PROCESS[_process].tip}:${waitTime}S`;\r\n            this.showRecord(infoNode, this.roomRecord[this.roomList[roomid].roomid], this.roomList[roomid].roomid);\r\n        }\r\n        this.showClock();\r\n    },\r\n    //显示倒计时\r\n    showClock() {\r\n        this.setTimeOut = setInterval(() => {\r\n            if (this.content.children) {\r\n                for (let i = 0; i < this.content.children.length; i++) {\r\n                    this.content.children[i].waitTime -= 1;\r\n                    if (this.content.children[i].waitTime < 0) {\r\n                        this.content.children[i].waitTime = 0;\r\n                    }\r\n                    let _process = this.content.children[i].process - 1;\r\n                    let _waitTime = this.content.children[i].waitTime;\r\n                    this.content.children[i].getChildByName(\"lab_time\").color = _process == 1 && _waitTime < 4 ? cc.color(255, 96, 47) : PROCESS[_process].color;\r\n                    this.content.children[i].getChildByName(\"lab_time\").getComponent(cc.Label).string = `${PROCESS[_process].tip}:${_waitTime}S`;\r\n                }\r\n            }\r\n        }, 1000)\r\n    },\r\n    showRecord(node, record, roomid) {\r\n        if (!record) {\r\n            return\r\n        }\r\n        let index = record.length > 10?record.length - 10:0;\r\n        let dotNode;\r\n\r\n        node.getChildByName('node_dot').destroyAllChildren();\r\n        let resultNumArr = [0, 0, 0, 0];\r\n        for (let i = index; i < record.length; i++) {\r\n            for (let j in record[i]) {\r\n                if (j == 0) {\r\n                    continue;\r\n                }\r\n                dotNode = cc.instantiate(this.node_result);\r\n                if (record[i][j] == 0) {\r\n                    dotNode.getComponent(cc.Sprite).spriteFrame = this.sprite_Atlas._spriteFrames['img_cha'];\r\n                } else {\r\n                    dotNode.getComponent(cc.Sprite).spriteFrame = this.sprite_Atlas._spriteFrames['img_gou'];\r\n                    resultNumArr[j - 1] += 1;\r\n                }\r\n                dotNode.parent = node.getChildByName('node_dot');\r\n                // dotNode.setPosition(cc.v2(-160 + (i - index) * 63.5, 110 - (Number(j) - 1) * 70));\r\n                dotNode.setPosition(cc.v2(-105 + (i - index) * 47.5, 82.5 - (Number(j) - 1) * 52.5));\r\n                dotNode.active = false;\r\n            }\r\n        }\r\n        glGame.panel.showEffectNode(this, node.getChildByName('node_dot'), 0.02, true);\r\n\r\n        // node.getChildByName(\"frame_new\").active = record.length != 0;\r\n        // node.getChildByName(\"frame_new\").x = record.length > 20 ? -380 + 19 * 42.3 : -380 + (record.length - 1) * 42.3\r\n        node.getChildByName('node_left').getChildByName('tian').children[0].getComponent(cc.Label).string = resultNumArr[0] > 0 && resultNumArr[0] < 10 ? '0' + resultNumArr[0] : resultNumArr[0];\r\n        node.getChildByName('node_left').getChildByName('di').children[0].getComponent(cc.Label).string = resultNumArr[1] > 0 && resultNumArr[1] < 10 ? '0' + resultNumArr[1] : resultNumArr[1];\r\n        node.getChildByName('node_left').getChildByName('xuan').children[0].getComponent(cc.Label).string = resultNumArr[2] > 0 && resultNumArr[2] < 10 ? '0' + resultNumArr[2] : resultNumArr[2];\r\n        node.getChildByName('node_left').getChildByName('huang').children[0].getComponent(cc.Label).string = resultNumArr[3] > 0 && resultNumArr[3] < 10 ? '0' + resultNumArr[3] : resultNumArr[3];\r\n\r\n    },\r\n    //清理倒计时\r\n    cleanTimer() {\r\n        if (this.setTimeOut != null) {\r\n            clearTimeout(this.setTimeOut);\r\n        }\r\n        this.setTimeOut = null;\r\n    },\r\n    OnDestroy() {\r\n        glGame.emitter.off(MESSAGE.UI.ROOM_ENTER_SHOW,this);\r\n        glGame.emitter.off(MESSAGE.UI.ROOM_ENTER_HIDE,this);\r\n        glGame.emitter.off(\"nodeRemove\", this);\r\n        glGame.emitter.off(\"updateUserData\",this);\r\n        this.unregisterEvent();\r\n        this.cleanTimer();\r\n    },\r\n    // update (dt) {},\r\n});\r\n"]}