{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\enterRoom\\zhajinhuaentry.js"],"names":["glGame","baseclass","extend","properties","goldCount","cc","Label","zjhRule","Prefab","zjhRecod","level","type","Node","infoNode","BGM","AudioClip","onLoad","gameid","node","zIndex","emitter","on","MESSAGE","UI","ROOM_ENTER_SHOW","RootNodeShow","ROOM_ENTER_HIDE","RootNodeHide","click_back","updateuserInfo","registerEvent","reqEnterArea","i","spineNode","getChildByName","active","skeleton","getComponent","sp","Skeleton","delayTime","callFunc","setAnimation","setCompleteListener","runAction","sequence","length","unregisterEvent","goldOnlineNum","onGameConfig","off","msg","gameConfig","initUI","gameID","scenetag","ZHAJINHUA","readyroom","console","log","count","string","configure","getFloat","BaseChips","EntranceRestrictions","onClick","name","click_help","click_record","click_addgold","click_userinfo","enterGame","error","showUserInfo","panel","showRemoteImage","Playerhead","user","get","coin","setGameId","updateBgInfo","showPanelByName","showShop","reqExitArea","remove","showPanel","room","reqMyGameState","then","showMsgBox","isTourist","showRegisteredGift","showDialog","suspicious","game","is_game","showService","showJuHua","closeJuHua","setGoldRoomInfo","checkGold","minCion","parseInt","i18n","t","value","Number","div","toString","OnDestroy"],"mappings":";;;;;;AAAAA,MAAM,CAACC,SAAP,CAAiBC,MAAjB,CAAwB;AAEpBC,EAAAA,UAAU,EAAE;AACRC,IAAAA,SAAS,EAAEC,EAAE,CAACC,KADN;AAERC,IAAAA,OAAO,EAAEF,EAAE,CAACG,MAFJ;AAGRC,IAAAA,QAAQ,EAAEJ,EAAE,CAACG,MAHL;AAIRE,IAAAA,KAAK,EAAE;AACHC,MAAAA,IAAI,EAAEN,EAAE,CAACO,IADN;AAEH,iBAAS;AAFN,KAJC;AAQRC,IAAAA,QAAQ,EAAE,CAACR,EAAE,CAACO,IAAJ,CARF;AASRE,IAAAA,GAAG,EAAE;AACDH,MAAAA,IAAI,EAAEN,EAAE,CAACU,SADR;AAED,iBAAS;AAFR;AATG,GAFQ;AAiBpB;AAEAC,EAAAA,MAnBoB,oBAmBX;AAAA;;AACL,SAAKC,MAAL,GAAc,CAAd;AACA,SAAKC,IAAL,CAAUC,MAAV,GAAmB,EAAnB;AACAnB,IAAAA,MAAM,CAACoB,OAAP,CAAeC,EAAf,CAAkBC,OAAO,CAACC,EAAR,CAAWC,eAA7B,EAA8C,KAAKC,YAAnD,EAAiE,IAAjE;AACAzB,IAAAA,MAAM,CAACoB,OAAP,CAAeC,EAAf,CAAkBC,OAAO,CAACC,EAAR,CAAWG,eAA7B,EAA8C,KAAKC,YAAnD,EAAiE,IAAjE;AACA3B,IAAAA,MAAM,CAACoB,OAAP,CAAeC,EAAf,CAAkB,YAAlB,EAAgC,KAAKO,UAArC,EAAiD,IAAjD;AACA5B,IAAAA,MAAM,CAACoB,OAAP,CAAeC,EAAf,CAAkB,gBAAlB,EAAoC,KAAKQ,cAAzC,EAAyD,IAAzD;AACA,SAAKC,aAAL;AACA,SAAKC,YAAL;AACA,SAAKF,cAAL;;AATK,+BAWGG,CAXH;AAYD,UAAIC,SAAS,GAAG,KAAI,CAACvB,KAAL,CAAWsB,CAAX,EAAcE,cAAd,CAA6B,OAA7B,CAAhB;;AACAD,MAAAA,SAAS,CAACE,MAAV,GAAmB,KAAnB;AACA,UAAIC,QAAQ,GAAGH,SAAS,CAACI,YAAV,CAAuBC,EAAE,CAACC,QAA1B,CAAf;AACA,UAAIC,SAAS,GAAGnC,EAAE,CAACmC,SAAH,CAAa,OAAOR,CAApB,CAAhB;AACA,UAAIS,QAAQ,GAAGpC,EAAE,CAACoC,QAAH,CAAY,YAAK;AAC5BL,QAAAA,QAAQ,CAACM,YAAT,CAAsB,CAAtB,EAAyB,WAAzB,EAAsC,KAAtC;AACAT,QAAAA,SAAS,CAACE,MAAV,GAAmB,IAAnB;AACH,OAHc,CAAf;AAIAC,MAAAA,QAAQ,CAACO,mBAAT,CAA6B,YAAM;AAC/BP,QAAAA,QAAQ,CAACM,YAAT,CAAsB,CAAtB,EAAyB,YAAzB,EAAuC,IAAvC;AACH,OAFD;;AAGA,MAAA,KAAI,CAACxB,IAAL,CAAU0B,SAAV,CAAoBvC,EAAE,CAACwC,QAAH,CAAYL,SAAZ,EAAuBC,QAAvB,CAApB;AAvBC;;AAWL,SAAI,IAAIT,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,KAAKtB,KAAL,CAAWoC,MAA9B,EAAsCd,CAAC,EAAvC,EAA2C;AAAA,YAAnCA,CAAmC;AAa1C;AAEJ,GA7CmB;AA8CpBP,EAAAA,YA9CoB,0BA8CN;AACV,SAAKP,IAAL,CAAUiB,MAAV,GAAmB,IAAnB;AACA,SAAKL,aAAL;AACA,SAAKC,YAAL;AACH,GAlDmB;AAmDpBJ,EAAAA,YAnDoB,0BAmDN;AACV,SAAKT,IAAL,CAAUiB,MAAV,GAAmB,KAAnB;AACA,SAAKY,eAAL;AACH,GAtDmB;AAuDnB;AACAjB,EAAAA,aAxDmB,2BAwDH;AACb9B,IAAAA,MAAM,CAACoB,OAAP,CAAeC,EAAf,CAAkB,eAAlB,EAAmC,KAAK2B,aAAxC,EAAuD,IAAvD;AACAhD,IAAAA,MAAM,CAACoB,OAAP,CAAeC,EAAf,CAAkB,cAAlB,EAAkC,KAAK4B,YAAvC,EAAqD,IAArD;AACH,GA3DmB;AA4DpB;AACAF,EAAAA,eA7DoB,6BA6DF;AACd/C,IAAAA,MAAM,CAACoB,OAAP,CAAe8B,GAAf,CAAmB,eAAnB,EAAoC,IAApC;AACAlD,IAAAA,MAAM,CAACoB,OAAP,CAAe8B,GAAf,CAAmB,cAAnB,EAAmC,IAAnC;AACH,GAhEmB;AAiEpBD,EAAAA,YAjEoB,wBAiEPE,GAjEO,EAiEF;AACd,SAAKC,UAAL,GAAkBD,GAAlB;AACA,SAAKE,MAAL;AACH,GApEmB;AAqEpBtB,EAAAA,YArEoB,0BAqEL;AACX,SAAKuB,MAAL,GAActD,MAAM,CAACuD,QAAP,CAAgBC,SAA9B;AACAxD,IAAAA,MAAM,CAACyD,SAAP,CAAiB1B,YAAjB,CAA8B/B,MAAM,CAACuD,QAAP,CAAgBC,SAA9C;AACH,GAxEmB;AAyEpBR,EAAAA,aAzEoB,yBAyENG,GAzEM,EAyED;AACfO,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBR,GAAzB;AACA,QAAIS,KAAK,GAAG,KAAKlD,KAAL,CAAWoC,MAAvB;;AACA,SAAK,IAAId,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4B,KAApB,EAA2B5B,CAAC,EAA5B,EAAgC;AAC5B,UAAImB,GAAG,CAACnB,CAAC,GAAG,CAAL,CAAP,EAAgB;AACZ,aAAKtB,KAAL,CAAWsB,CAAX,EAAcE,cAAd,CAA6B,YAA7B,EAA2CG,YAA3C,CAAwDhC,EAAE,CAACC,KAA3D,EAAkEuD,MAAlE,GAA2EV,GAAG,CAACnB,CAAC,GAAG,CAAL,CAA9E;AACH;AACJ;AACJ,GAjFmB;AAkFpBqB,EAAAA,MAlFoB,oBAkFX;AACL,SAAKnC,IAAL,CAAUiB,MAAV,GAAmB,IAAnB;AACA,QAAI2B,SAAS,GAAG,KAAKV,UAArB;AAEA,QAAIQ,KAAK,GAAG,KAAKlD,KAAL,CAAWoC,MAAvB;;AACA,SAAK,IAAId,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4B,KAApB,EAA2B5B,CAAC,EAA5B,EAAgC;AAC5B,WAAKnB,QAAL,CAAcmB,CAAd,EAAiBE,cAAjB,CAAgC,YAAhC,EAA8CA,cAA9C,CAA6D,WAA7D,EAA0EG,YAA1E,CAAuFhC,EAAE,CAACC,KAA1F,EAAiGuD,MAAjG,GAA0G,KAAKE,QAAL,CAAcD,SAAS,CAAC9B,CAAD,CAAT,CAAagC,SAA3B,CAA1G;AACA,WAAKnD,QAAL,CAAcmB,CAAd,EAAiBE,cAAjB,CAAgC,cAAhC,EAAgDA,cAAhD,CAA+D,YAA/D,EAA6EG,YAA7E,CAA0FhC,EAAE,CAACC,KAA7F,EAAoGuD,MAApG,GAA6G,KAAKE,QAAL,CAAcD,SAAS,CAAC9B,CAAD,CAAT,CAAaiC,oBAA3B,CAA7G;AACH;AACJ,GA3FmB;AA4FpBC,EAAAA,OA5FoB,mBA4FZC,IA5FY,EA4FNjD,IA5FM,EA4FA;AAChB,YAAQiD,IAAR;AACI,WAAK,UAAL;AAAiB,aAAKvC,UAAL;AAAmB;;AACpC,WAAK,UAAL;AAAiB,aAAKwC,UAAL;AAAmB;;AACpC,WAAK,YAAL;AAAmB,aAAKC,YAAL;AAAqB;;AACxC,WAAK,YAAL;AAAmB,aAAKC,aAAL;AAAsB;;AACzC,WAAK,QAAL;AAAe,aAAKC,cAAL;AAAuB;;AACtC,WAAK,cAAL;AAAqB,aAAKD,aAAL;AAAsB;;AAC3C,WAAK,SAAL;AAAgB,aAAKE,SAAL,CAAe,EAAf;AAAoB;;AACpC,WAAK,cAAL;AAAqB,aAAKA,SAAL,CAAe,CAAf;AAAmB;;AACxC,WAAK,QAAL;AAAe,aAAKA,SAAL,CAAe,CAAf;AAAmB;;AAClC,WAAK,OAAL;AAAc,aAAKA,SAAL,CAAe,CAAf;AAAmB;;AACjC,WAAK,WAAL;AAAkB,aAAKA,SAAL,CAAe,CAAf;AAAmB;;AACrC,WAAK,OAAL;AAAc,aAAKA,SAAL,CAAe,CAAf;AAAmB;;AACjC;AAASd,QAAAA,OAAO,CAACe,KAAR,CAAc,2BAAd,EAA2CN,IAA3C;AAbb;AAeH,GA5GmB;AA6GpBO,EAAAA,YA7GoB,0BA6GL;AACX1E,IAAAA,MAAM,CAAC2E,KAAP,CAAaC,eAAb,CAA6B,KAAKC,UAAlC,EAA8C7E,MAAM,CAAC8E,IAAP,CAAYC,GAAZ,CAAgB,SAAhB,CAA9C;AACH,GA/GmB;AAgHpBlD,EAAAA,cAhHoB,4BAgHH;AACb,QAAImD,IAAI,GAAGhF,MAAM,CAAC8E,IAAP,CAAYC,GAAZ,CAAgB,MAAhB,CAAX;AACA,SAAK3E,SAAL,CAAeyD,MAAf,GAAwB,KAAKE,QAAL,CAAciB,IAAd,CAAxB;AACH,GAnHmB;AAqHpBC,EAAAA,SArHoB,qBAqHVhE,MArHU,EAqHF;AACd,SAAKA,MAAL,GAAcA,MAAd;AACH,GAvHmB;AAyHpBiE,EAAAA,YAzHoB,0BAyHL,CAEd,CA3HmB;AA4HpBX,EAAAA,cA5HoB,4BA4HH;AACbvE,IAAAA,MAAM,CAAC2E,KAAP,CAAaQ,eAAb,CAA6B,UAA7B;AACH,GA9HmB;AA+HpBb,EAAAA,aA/HoB,2BA+HJ;AACZtE,IAAAA,MAAM,CAAC2E,KAAP,CAAaS,QAAb,CAAsB,EAAtB;AACH,GAjImB;AAkIpBxD,EAAAA,UAlIoB,wBAkIP;AACT5B,IAAAA,MAAM,CAACyD,SAAP,CAAiB4B,WAAjB;AACA,SAAKC,MAAL;AACH,GArImB;AAsIpBlB,EAAAA,UAtIoB,wBAsIP;AACT,QAAIO,KAAK,GAAG3E,MAAM,CAAC2E,KAAP,CAAaY,SAAb,CAAuB,KAAKhF,OAA5B,CAAZ;AACAoE,IAAAA,KAAK,CAACxD,MAAN,GAAe,EAAf;AACH,GAzImB;AA0IpBkD,EAAAA,YA1IoB,0BA0IL;AACX,QAAIM,KAAK,GAAG3E,MAAM,CAAC2E,KAAP,CAAaY,SAAb,CAAuB,KAAK9E,QAA5B,CAAZ;AACAkE,IAAAA,KAAK,CAACxD,MAAN,GAAe,EAAf;AACH,GA7ImB;;AA8IpB;;;;AAIAqD,EAAAA,SAlJoB,qBAkJV9D,KAlJU,EAkJH;AAAA;;AACbV,IAAAA,MAAM,CAACwF,IAAP,CAAYC,cAAZ,CAA2B,KAAKnC,MAAhC,EAAwC5C,KAAxC,EAA+CgF,IAA/C,CAAoD,YAAM;AACtD,UAAIpC,MAAM,GAAG,MAAI,CAACA,MAAlB;;AACA,UAAI,MAAI,CAACF,UAAL,CAAgB1C,KAAhB,KAA0B,IAA9B,EAAoC;AAChCV,QAAAA,MAAM,CAAC2E,KAAP,CAAagB,UAAb,CAAwB,IAAxB,EAA8B,kBAA9B;AACA;AACH;;AACD,UAAI3F,MAAM,CAAC8E,IAAP,CAAYc,SAAZ,EAAJ,EAA6B;AACzB,YAAIlF,KAAK,IAAI,EAAb,EAAiB;AACbV,UAAAA,MAAM,CAAC2E,KAAP,CAAakB,kBAAb,CAAgC,IAAhC;AACA;AACH;AACJ;;AACD,UAAI,MAAI,CAACzC,UAAL,CAAgB1C,KAAhB,EAAuBuD,oBAAvB,GAA8CjE,MAAM,CAAC8E,IAAP,CAAYC,GAAZ,CAAgB,MAAhB,CAAlD,EAA2E;AACvErB,QAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyB,MAAI,CAACP,UAA9B;AACA,YAAIS,MAAM,yHAAsD,MAAI,CAACE,QAAL,CAAc,MAAI,CAACX,UAAL,CAAgB1C,KAAhB,EAAuBuD,oBAArC,CAAtD,8HAAV;AACAjE,QAAAA,MAAM,CAAC2E,KAAP,CAAamB,UAAb,CAAwB,EAAxB,EAA4BjC,MAA5B,EAAoC,YAAM;AAAE7D,UAAAA,MAAM,CAAC2E,KAAP,CAAaS,QAAb,CAAsB,GAAtB;AAA4B,SAAxE,EAA0E,YAAM,CAAG,CAAnF,EAAqF,IAArF,EAA2F,IAA3F;AACA;AACH;;AACD,UAAIpF,MAAM,CAAC8E,IAAP,CAAYiB,UAAZ,IAA0B,CAA1B,IAA8B/F,MAAM,CAAC8E,IAAP,CAAYkB,IAAZ,IAAoB,CAAnD,IAA0DhG,MAAM,CAAC8E,IAAP,CAAYmB,OAAZ,IAAuB,CAApF,EAAuF;AACnFjG,QAAAA,MAAM,CAAC2E,KAAP,CAAamB,UAAb,CAAwB,EAAxB,EAA4B,+BAA5B,EAA6D,YAAM;AAAE9F,UAAAA,MAAM,CAAC2E,KAAP,CAAauB,WAAb;AAA4B,SAAjG,EAAmG,YAAM,CAAE,CAA3G,EAA6G,MAA7G,EAAqH,MAArH;AACA;AACH;;AACDlG,MAAAA,MAAM,CAAC2E,KAAP,CAAawB,SAAb;;AACA,MAAA,MAAI,CAACjF,IAAL,CAAU0B,SAAV,CAAoBvC,EAAE,CAACwC,QAAH,CAChBxC,EAAE,CAACmC,SAAH,CAAa,EAAb,CADgB,EAEhBnC,EAAE,CAACoC,QAAH,CAAY,YAAM;AACdzC,QAAAA,MAAM,CAAC2E,KAAP,CAAayB,UAAb;AACH,OAFD,CAFgB,CAApB;;AAOApG,MAAAA,MAAM,CAACwF,IAAP,CAAYa,eAAZ,CAA4B/C,MAA5B,EAAoC5C,KAApC;AACH,KA/BD;AAgCH,GAnLmB;;AAoLpB;;;;AAIA4F,EAAAA,SAxLoB,qBAwLVtB,IAxLU,EAwLJuB,OAxLI,EAwLK;AACrB7C,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBqB,IAApB,EAA0BuB,OAA1B;;AACA,QAAIC,QAAQ,CAACxB,IAAD,CAAR,GAAiBwB,QAAQ,CAACD,OAAD,CAA7B,EAAwC;AACpCvG,MAAAA,MAAM,CAAC2E,KAAP,CAAamB,UAAb,CAAwB9F,MAAM,CAACyG,IAAP,CAAYC,CAAZ,CAAc,qBAAd,CAAxB,EAA8D1G,MAAM,CAACyG,IAAP,CAAYC,CAAZ,CAAc,uBAAd,CAA9D,EAAsG,YAAM;AACxG1G,QAAAA,MAAM,CAAC2E,KAAP,CAAaQ,eAAb,CAA6B,MAA7B;AACH,OAFD,EAEG,IAFH;AAGA,aAAO,KAAP;AACH;;AACD,WAAO,IAAP;AACH,GAjMmB;AAkMpBpB,EAAAA,QAlMoB,oBAkMX4C,KAlMW,EAkMJ;AACZ,WAAQC,MAAM,CAACD,KAAD,CAAN,CAAcE,GAAd,CAAkB,GAAlB,CAAD,CAAyBC,QAAzB,EAAP;AACH,GApMmB;AAqMpBC,EAAAA,SArMoB,uBAqMR;AACR/G,IAAAA,MAAM,CAACoB,OAAP,CAAe8B,GAAf,CAAmB5B,OAAO,CAACC,EAAR,CAAWC,eAA9B,EAA8C,IAA9C;AACAxB,IAAAA,MAAM,CAACoB,OAAP,CAAe8B,GAAf,CAAmB5B,OAAO,CAACC,EAAR,CAAWG,eAA9B,EAA8C,IAA9C;AACA1B,IAAAA,MAAM,CAACoB,OAAP,CAAe8B,GAAf,CAAmB,YAAnB,EAAiC,IAAjC;AACAlD,IAAAA,MAAM,CAACoB,OAAP,CAAe8B,GAAf,CAAmB,gBAAnB,EAAoC,IAApC;AACA,SAAKH,eAAL;AACH;AA3MmB,CAAxB","sourceRoot":"/","sourcesContent":["glGame.baseclass.extend({\r\n\r\n    properties: {\r\n        goldCount: cc.Label,\r\n        zjhRule: cc.Prefab,\r\n        zjhRecod: cc.Prefab,\r\n        level: {\r\n            type: cc.Node,\r\n            default: []\r\n        },\r\n        infoNode: [cc.Node],\r\n        BGM: {\r\n            type: cc.AudioClip,\r\n            default: null,\r\n        },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        this.gameid = 0;\r\n        this.node.zIndex = 20;\r\n        glGame.emitter.on(MESSAGE.UI.ROOM_ENTER_SHOW, this.RootNodeShow, this);\r\n        glGame.emitter.on(MESSAGE.UI.ROOM_ENTER_HIDE, this.RootNodeHide, this);\r\n        glGame.emitter.on(\"nodeRemove\", this.click_back, this);\r\n        glGame.emitter.on(\"updateUserData\", this.updateuserInfo, this);\r\n        this.registerEvent();\r\n        this.reqEnterArea();\r\n        this.updateuserInfo();\r\n\r\n        for(let i = 0; i < this.level.length; i++) {\r\n            let spineNode = this.level[i].getChildByName(\"spine\");\r\n            spineNode.active = false;\r\n            let skeleton = spineNode.getComponent(sp.Skeleton);\r\n            let delayTime = cc.delayTime(0.06 * i);\r\n            let callFunc = cc.callFunc(()=> {\r\n                skeleton.setAnimation(0, \"animation\", false); \r\n                spineNode.active = true;\r\n            })\r\n            skeleton.setCompleteListener(() => {\r\n                skeleton.setAnimation(0, \"animation2\", true);\r\n            });\r\n            this.node.runAction(cc.sequence(delayTime, callFunc));\r\n        }\r\n\r\n    },\r\n    RootNodeShow(){\r\n        this.node.active = true;\r\n        this.registerEvent();\r\n        this.reqEnterArea();\r\n    },\r\n    RootNodeHide(){\r\n        this.node.active = false;\r\n        this.unregisterEvent();\r\n    },\r\n     //事件监听\r\n     registerEvent() {\r\n        glGame.emitter.on(\"goldOnlineNum\", this.goldOnlineNum, this);\r\n        glGame.emitter.on(\"onGameConfig\", this.onGameConfig, this);\r\n    },\r\n    //事件销毁\r\n    unregisterEvent() {\r\n        glGame.emitter.off(\"goldOnlineNum\", this);\r\n        glGame.emitter.off(\"onGameConfig\", this);\r\n    },\r\n    onGameConfig(msg) {\r\n        this.gameConfig = msg;\r\n        this.initUI();\r\n    },\r\n    reqEnterArea() {\r\n        this.gameID = glGame.scenetag.ZHAJINHUA;\r\n        glGame.readyroom.reqEnterArea(glGame.scenetag.ZHAJINHUA);\r\n    },\r\n    goldOnlineNum(msg) {\r\n        console.log(\"这是在线人数的消息\", msg)\r\n        let count = this.level.length;\r\n        for (let i = 0; i < count; i++) {\r\n            if (msg[i + 1]) {\r\n                this.level[i].getChildByName(\"people_num\").getComponent(cc.Label).string = msg[i + 1]\r\n            }\r\n        }\r\n    },\r\n    initUI() {\r\n        this.node.active = true;\r\n        let configure = this.gameConfig;\r\n\r\n        let count = this.level.length;\r\n        for (let i = 1; i < count; i++) {\r\n            this.infoNode[i].getChildByName(\"dizhulaout\").getChildByName(\"dizhu_num\").getComponent(cc.Label).string = this.getFloat(configure[i].BaseChips);\r\n            this.infoNode[i].getChildByName(\"zhunrulayout\").getChildByName(\"zhunru_num\").getComponent(cc.Label).string = this.getFloat(configure[i].EntranceRestrictions);\r\n        }\r\n    },\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"btn_back\": this.click_back(); break;\r\n            case \"btn_help\": this.click_help(); break;\r\n            case \"btn_record\": this.click_record(); break;\r\n            case \"mycoinInfo\": this.click_addgold(); break;\r\n            case \"headbg\": this.click_userinfo(); break;\r\n            case \"btn_chongzhi\": this.click_addgold(); break;\r\n            case \"primary\": this.enterGame(99); break;\r\n            case \"intermediate\": this.enterGame(1); break;\r\n            case \"senior\": this.enterGame(2); break;\r\n            case \"tuhao\": this.enterGame(3); break;\r\n            case \"supremacy\": this.enterGame(4); break;\r\n            case \"volvo\": this.enterGame(5); break;\r\n            default: console.error(\"no find button name -> %s\", name);\r\n        }\r\n    },\r\n    showUserInfo() {\r\n        glGame.panel.showRemoteImage(this.Playerhead, glGame.user.get(\"headURL\"));\r\n    },\r\n    updateuserInfo() {\r\n        let coin = glGame.user.get(\"coin\")\r\n        this.goldCount.string = this.getFloat(coin);\r\n    },\r\n\r\n    setGameId(gameid) {\r\n        this.gameid = gameid;\r\n    },\r\n\r\n    updateBgInfo() {\r\n       \r\n    },\r\n    click_userinfo() {\r\n        glGame.panel.showPanelByName(\"userinfo\");\r\n    },\r\n    click_addgold() {\r\n        glGame.panel.showShop(30);\r\n    },\r\n    click_back() {\r\n        glGame.readyroom.reqExitArea();\r\n        this.remove();\r\n    },\r\n    click_help() {\r\n        let panel = glGame.panel.showPanel(this.zjhRule);\r\n        panel.zIndex = 30;\r\n    },\r\n    click_record() {\r\n        let panel = glGame.panel.showPanel(this.zjhRecod);\r\n        panel.zIndex = 30;\r\n    },\r\n    /**\r\n     * 进入金币场房间\r\n     * @param level 场次类型 1:初级场 2:中级场 3:高级场 4:土豪场 5:至尊场\r\n     */\r\n    enterGame(level) {\r\n        glGame.room.reqMyGameState(this.gameID, level).then(() => {\r\n            let gameID = this.gameID;\r\n            if (this.gameConfig[level] == null) {\r\n                glGame.panel.showMsgBox('提示', '该房间尚未开放，请尝试其他房间。');\r\n                return;\r\n            }\r\n            if (glGame.user.isTourist()) {\r\n                if (level != 99) {\r\n                    glGame.panel.showRegisteredGift(true)\r\n                    return;\r\n                }\r\n            }\r\n            if (this.gameConfig[level].EntranceRestrictions > glGame.user.get(\"coin\")) {\r\n                console.log(\"这是当前的房间限制\", this.gameConfig)\r\n                let string = `<color=#99C7FF>您的金币不足，该房间需要</c> <color=#ff0000> ${this.getFloat(this.gameConfig[level].EntranceRestrictions)}  </c><color=#99C7FF>金币才可下注，是否马上前往充值？</c>`\r\n                glGame.panel.showDialog(\"\", string, () => { glGame.panel.showShop(100) }, () => { }, \"取消\", \"充值\");\r\n                return\r\n            }\r\n            if((glGame.user.suspicious == 1 &&glGame.user.game == 2 ) || glGame.user.is_game == 2 ){\r\n                glGame.panel.showDialog(\"\", \"您的账号数据异常，暂时禁止进入游戏，如有疑问，请联系客服！\", () => { glGame.panel.showService() }, () => {}, \"我知道了\", \"联系客服\")\r\n                return;\r\n            }\r\n            glGame.panel.showJuHua();\r\n            this.node.runAction(cc.sequence(\r\n                cc.delayTime(15),\r\n                cc.callFunc(() => {\r\n                    glGame.panel.closeJuHua();\r\n                })\r\n            ))\r\n    \r\n            glGame.room.setGoldRoomInfo(gameID, level);\r\n        })\r\n    },\r\n    /**\r\n     * 检查玩家金币是否足够\r\n     * @returns {boolean}\r\n     */\r\n    checkGold(coin, minCion) {\r\n        console.log(\"金币检测\", coin, minCion);\r\n        if (parseInt(coin) < parseInt(minCion)) {\r\n            glGame.panel.showDialog(glGame.i18n.t(\"USER.GOLDLACK.TITLE\"), glGame.i18n.t(\"USER.GOLDLACK.CONTENT\"), () => {\r\n                glGame.panel.showPanelByName(\"shop\");\r\n            }, null);\r\n            return false;\r\n        }\r\n        return true;\r\n    },\r\n    getFloat(value) {\r\n        return (Number(value).div(100)).toString();\r\n    },\r\n    OnDestroy() {\r\n        glGame.emitter.off(MESSAGE.UI.ROOM_ENTER_SHOW,this);\r\n        glGame.emitter.off(MESSAGE.UI.ROOM_ENTER_HIDE,this);\r\n        glGame.emitter.off(\"nodeRemove\", this);\r\n        glGame.emitter.off(\"updateUserData\",this);\r\n        this.unregisterEvent();\r\n    }\r\n});\r\n"]}