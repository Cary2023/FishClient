{"version":3,"sources":["assets\\modules\\public\\script\\msgbox\\installTipBox.js"],"names":["glGame","baseclass","extend","properties","onLoad","node","zIndex","OnDestroy","onClick","name","close","confirm","repairgame","btn_remind","console","error","panel","showFirstEnterPanel","remove","setTips","bool","getChildByName","active","y","cc","sys","openURL","user","get","repair","log","isShowSetupPanel","storage","getItem","isSetup","setItem","showDialog","clearGame","children"],"mappings":"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","sourceRoot":"/","sourcesContent":["glGame.baseclass.extend({\r\n    properties: {\r\n    },\r\n    onLoad() {\r\n        this.node.zIndex = 1000;\r\n    },\r\n    OnDestroy() {\r\n    },\r\n\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"close\": this.close(); break;\r\n            case \"confirm\": this.confirm(); break;\r\n            case \"repairgame\": this.repairgame(); break;\r\n            case \"btn_remind\": this.btn_remind(node); break;\r\n            default: console.error(\"no find button name -> %s\", name);\r\n        }\r\n    },\r\n\r\n    close() {\r\n        glGame.panel.showFirstEnterPanel();\r\n        this.remove();\r\n    },\r\n    setTips(bool) {\r\n        this.node.getChildByName(\"remind_tip\").active = bool;\r\n        this.node.getChildByName(\"btn_remind\").active = bool;\r\n        if (!bool) {\r\n            this.node.getChildByName(\"confirm\").y -= 50\r\n            this.node.getChildByName(\"repairgame\").y -= 50\r\n        }\r\n    },\r\n    confirm() {\r\n        cc.sys.openURL(glGame.user.get(\"url\").repair);\r\n        console.log(\"click 马上安装\")\r\n        let isShowSetupPanel = glGame.storage.getItem('isShowSetupPanel');\r\n        isShowSetupPanel.isSetup = true;\r\n        glGame.storage.setItem('isShowSetupPanel', isShowSetupPanel);\r\n    },\r\n\r\n    repairgame() {\r\n        this.remove();\r\n        glGame.panel.showDialog('提示', '修复将会清除缓存重新下载游戏', () => { clearGame(); console.log(\"清空游戏缓存\") }, () => { }, \"取消\", \"确定\");\r\n    },\r\n\r\n    btn_remind(node) {\r\n        if (node.children[0].active) {\r\n            node.children[0].active = false;\r\n        } else {\r\n            node.children[0].active = true;\r\n        }\r\n        let isShowSetupPanel = glGame.storage.getItem('isShowSetupPanel');\r\n        isShowSetupPanel.isSetup = !node.children[0].active;\r\n        glGame.storage.setItem('isShowSetupPanel', isShowSetupPanel);\r\n    }\r\n});\r\n"]}