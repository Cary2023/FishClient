{"version":3,"sources":["assets\\modules\\games\\nfish\\script\\prefab\\nfish_illustrated.js"],"names":["TITLE_LIST","glGame","movieClip","extend","properties","json_fishTable","displayName","tooltip","type","cc","JsonAsset","fish_AtlaLists","SpriteAtlas","fish_unit","Node","selectItem","content","iconAtlas","fishInfo","fishdesc","Label","fishNode","bossInfo","bossdesc","bossNode","baseView","bossView","onLoad","json","curLevel","gameNet","send_msg","gameid","scenetag","FISH2","route","msg","result","fishMutipleCfg","initSelectToggle","destroyAllChildren","removeAllChildren","key","isCurLevel","level","instantiate","sprite","getChildByName","getComponent","Sprite","spriteFrame","getSpriteFrame","resGroupId","string","fishName","active","parent","name","childrenCount","resetInfo","setInfo","children","initSelectToggleBoss","index","setFishInfo","setFishNode","onClick","node","remove","switchTitle","console","error","listLevel","draw","isShowBoosView","Number","fishDesc","addChild","script","initFishMovieClip","initAtlas","updateFrequency","startFishRuning","fishRateMin","rateValue","width","height","widthRate","heightRate","rate","setScale"],"mappings":"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","sourceRoot":"/","sourcesContent":["const TITLE_LIST = {\r\n    \"ordinary\": 1,\r\n    \"fishdemon\": 2,\r\n    \"specialfish\": 3,\r\n    \"boss\": 4\r\n}\r\n\r\nglGame.movieClip.extend({\r\n    properties: {\r\n        json_fishTable: {\r\n            default: null,\r\n            displayName: \"fish table\",\r\n            tooltip: \"鱼表\",\r\n            type: cc.JsonAsset,\r\n        },\r\n        fish_AtlaLists: {\r\n            default: [],\r\n            displayName: \"所有鱼\",\r\n            tooltip: \"鱼\",\r\n            type: [cc.SpriteAtlas],\r\n        },\r\n        fish_unit: cc.Node,\r\n        selectItem: cc.Node,\r\n        content: cc.Node,\r\n        iconAtlas: cc.SpriteAtlas,\r\n\r\n        fishInfo: cc.Node,\r\n        fishdesc: cc.Label,\r\n        fishNode: cc.Node,\r\n\r\n        bossInfo: [cc.Node],\r\n        bossdesc: [cc.Label],\r\n        bossNode: [cc.Node],\r\n\r\n        baseView: cc.Node,\r\n        bossView: cc.Node\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        this.json_fishTable = this.json_fishTable.json;\r\n        this.curLevel = 1;\r\n        glGame.gameNet.send_msg('http.ReqNewFishConfig', { gameid: glGame.scenetag.FISH2 }, (route, msg) => {\r\n            if (msg.result != null) {\r\n                this.fishMutipleCfg = msg.result;\r\n            }\r\n            this.initSelectToggle();\r\n        });\r\n    },\r\n    //初始化选择复选框\r\n    initSelectToggle() {\r\n        this.content.destroyAllChildren();\r\n        this.content.removeAllChildren();\r\n        for (let key in this.fishMutipleCfg) {\r\n            if (!this.json_fishTable[key] || !this.isCurLevel(this.json_fishTable[key].level)) continue;\r\n            let selectItem = cc.instantiate(this.selectItem);\r\n            let sprite = selectItem.getChildByName(\"icon\").getComponent(cc.Sprite);\r\n            sprite.spriteFrame = this.iconAtlas.getSpriteFrame(`${this.json_fishTable[key].resGroupId}`);\r\n            selectItem.getChildByName(\"fishname\").getComponent(cc.Label).string = this.json_fishTable[key].fishName;\r\n            if (this.fishMutipleCfg[key] <= 0) {//图鉴中，螃蟹特殊处理，不显示倍数(小于等于0的情况不显示倍数)\r\n                selectItem.getChildByName(\"times\").active = false;\r\n            } else {\r\n                selectItem.getChildByName(\"times\").active = true;\r\n            }\r\n            selectItem.getChildByName(\"times\").getComponent(cc.Label).string = `${this.fishMutipleCfg[key]}倍`;\r\n            selectItem.parent = this.content;\r\n            selectItem.getChildByName(\"Background\").name = `${key}`;\r\n            selectItem.active = true;\r\n        }\r\n        if (this.content.childrenCount == 0) return this.resetInfo();\r\n        this.setInfo(this.content.children[0]);\r\n    },\r\n\r\n    //初始化选择复选框\r\n    initSelectToggleBoss() {\r\n        this.content.destroyAllChildren();\r\n        this.content.removeAllChildren();\r\n        let index = 0;\r\n        for (let key in this.fishMutipleCfg) {\r\n            if (!this.json_fishTable[key] || !this.isCurLevel(this.json_fishTable[key].level) ||\r\n                !this.bossInfo[index] || !this.bossdesc[index] || !this.bossNode[index]) continue;\r\n\r\n            this.setFishInfo(this.bossInfo[index], this.bossdesc[index], key);\r\n            this.setFishNode(this.bossNode[index], key);\r\n            index++;\r\n        }\r\n    },\r\n\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"btn_close\": this.remove(); break;\r\n            case \"selectItem\": this.setInfo(node); break;\r\n            case \"fishdemon\": case \"specialfish\": case \"ordinary\": case \"boss\":\r\n                this.switchTitle(name);\r\n                break;\r\n            default: console.error(\"no find button name -> %s\", name);\r\n        }\r\n    },\r\n\r\n    // 策划配置的要求\r\n    // 0~3属于第一档次的鱼  4 属于第二档次的鱼  7~8属于第三档次的鱼， d大于9等于第四档次的鱼\r\n    isCurLevel(listLevel) {\r\n        let draw = false\r\n\r\n        if (this.curLevel == 1 && listLevel >= 0 && listLevel <= 3) {//一档\r\n            draw = true;\r\n        } else if (this.curLevel == 2 && listLevel == 4) {//二挡\r\n            draw = true;\r\n        } else if (this.curLevel == 3 && listLevel >= 7 && listLevel <= 8) { //三挡\r\n            draw = true;\r\n        } else if (this.curLevel == 4 && listLevel >= 9) { //四挡\r\n            draw = true;\r\n        }\r\n        return draw;\r\n    },\r\n    //切换标签\r\n    switchTitle(name) {\r\n        let isShowBoosView = name === \"boss\";\r\n        this.baseView.active = !isShowBoosView;\r\n        this.bossView.active = isShowBoosView;\r\n        this.curLevel = TITLE_LIST[name];\r\n        if (isShowBoosView) {\r\n            this.initSelectToggleBoss();\r\n        } else {\r\n            this.initSelectToggle();\r\n        }\r\n    },\r\n    //设置页面上的详情\r\n    setInfo(node) {\r\n        let index = Number(node.children[0].name);\r\n        this.setFishInfo(this.fishInfo, this.fishdesc, index);\r\n        this.setFishNode(this.fishNode, index);\r\n    },\r\n    //设置鱼的详细信息\r\n    setFishInfo(fishInfo, fishdesc, index) {\r\n        fishInfo.getChildByName(\"fishname\").getComponent(cc.Label).string = this.json_fishTable[index].fishName;\r\n        fishdesc.string = this.json_fishTable[index].fishDesc;\r\n        if (this.fishMutipleCfg[index] <= 0) {//图鉴中，螃蟹特殊处理，不显示倍数(小于等于0的情况不显示倍数)\r\n            fishInfo.getChildByName(\"times\").active = false;\r\n        } else {\r\n            fishInfo.getChildByName(\"times\").active = true;\r\n        }\r\n        fishInfo.getChildByName(\"times\").getComponent(cc.Label).string = `${this.fishMutipleCfg[index]}倍`;\r\n    },\r\n    //设置鱼帧图\r\n    setFishNode(fishNode, index) {\r\n        fishNode.destroyAllChildren();\r\n        fishNode.removeAllChildren();\r\n        let fish_unit = cc.instantiate(this.fish_unit);\r\n        fishNode.addChild(fish_unit);\r\n        fish_unit.active = true;\r\n        let script = fish_unit.getComponent(\"nfish_MovieClip\");\r\n        script.initFishMovieClip();\r\n        script.initAtlas(this.fish_AtlaLists);\r\n        script.updateFrequency(0.1);\r\n        script.startFishRuning(this.json_fishTable[index].resGroupId);\r\n        const fishRateMin = 4;        //需要放大小鱼倍率\r\n        const rateValue = 1.3;\r\n        if (fish_unit.width > fishNode.width || fish_unit.height > fishNode.height) {\r\n            let widthRate = fishNode.width / fish_unit.width,\r\n                heightRate = fishNode.height / fish_unit.height,\r\n                rate = widthRate > heightRate ? heightRate : widthRate;\r\n            fish_unit.setScale(rate);\r\n        } else if (fishNode.height / fish_unit.height > fishRateMin) {     //添加小鱼的处理倍率\r\n            fish_unit.setScale(rateValue);\r\n        }\r\n    },\r\n    //重置初始化信息\r\n    resetInfo() {\r\n        this.fishNode.destroyAllChildren();\r\n        this.fishNode.removeAllChildren();\r\n        this.fishInfo.getChildByName(\"fishname\").getComponent(cc.Label).string = \"\";\r\n        this.fishdesc.string = \"\";\r\n        this.fishInfo.getChildByName(\"times\").getComponent(cc.Label).string = \"\";\r\n    }\r\n    // update (dt) {},\r\n});\r\n"]}