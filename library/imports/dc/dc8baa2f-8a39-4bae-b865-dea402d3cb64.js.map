{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\rank\\rank.js"],"names":["glGame","baseclass","extend","properties","content","cc","Node","withdrawalPanel","withdrawalMyinfo","withdrawalItem","extensionPanel","extensionMyinfo","extensionItem","onLoad","extensionpage","withdrawalpage","registerEvent","panel","showEffectPariticle","node","emitter","on","name","MESSAGE","UI","ACTION_END","ReqCashRanking","unRegisterEvent","off","onClick","switchPanel","remove","console","error","reqExtensionAdd","scrollview","eventType","ScrollView","EventType","SCROLL_TO_BOTTOM","extensionupdateNow","ReqCommissionRanking","scheduleOnce","page","gameNet","send_msg","pageSize","route","msg","updateExtension","data","ranking","i","length","instantiate","parent","active","getChildByName","getComponent","Label","string","vipLevel","getFloat","commission","nickname","logicId","teamNumber","showRemoteImage","headUrl","rank","showEffectNode","myRanking","reqWithdrawalAdd","withdrawalupdateNow","updateWithdrawal","cashAmount","value","Number","div","toString","childrenCount","children","removeAllChildren","OnDestroy"],"mappings":"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","sourceRoot":"/","sourcesContent":["\r\nglGame.baseclass.extend({\r\n\r\n    properties: {\r\n        content: cc.Node,\r\n\r\n        withdrawalPanel: cc.Node,\r\n        withdrawalMyinfo: cc.Node,\r\n        withdrawalItem: cc.Node,\r\n\r\n        extensionPanel: cc.Node,\r\n        extensionMyinfo: cc.Node,\r\n        extensionItem: cc.Node,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        this.extensionpage = 1;\r\n        this.withdrawalpage = 1;\r\n        this.registerEvent();\r\n        glGame.panel.showEffectPariticle(this.node);\r\n    },\r\n\r\n    // 注册界面监听事件\r\n    registerEvent() {\r\n        glGame.emitter.on(`${this.node.name}${MESSAGE.UI.ACTION_END}`, this.ReqCashRanking, this);\r\n    },\r\n    // 销毁界面监听事件\r\n    unRegisterEvent() {\r\n        glGame.emitter.off(`${this.node.name}${MESSAGE.UI.ACTION_END}`, this);\r\n    },\r\n\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"withdrawal\":\r\n            case \"extension\":\r\n                this.switchPanel(name);\r\n                break;\r\n            case \"btn_close\":\r\n                this.remove();\r\n                break;\r\n            default: console.error(\"no find button name -> %s\", name);\r\n        }\r\n    },\r\n    //请求推广增加(滚动监听)\r\n    reqExtensionAdd(scrollview, eventType) {\r\n        if (eventType == cc.ScrollView.EventType.SCROLL_TO_BOTTOM) {\r\n            if (this.extensionupdateNow) return;\r\n            this.extensionupdateNow = true;\r\n            this.extensionpage++\r\n            if (this.extensionpage > 5) return;\r\n            this.ReqCommissionRanking();\r\n            this.scheduleOnce(function () {\r\n                this.extensionupdateNow = false;\r\n            }, 1);\r\n        }\r\n    },\r\n    //推广佣金榜\r\n    ReqCommissionRanking() {\r\n        let page = this.extensionpage;\r\n        glGame.gameNet.send_msg('http.ReqCommissionRanking', { pageSize: 10, page: page }, (route, msg) => {\r\n            this.updateExtension(msg.data);\r\n        })\r\n    },\r\n    //刷新推广排行\r\n    updateExtension(data) {\r\n        let ranking = data.ranking\r\n        for (let i = 0; i < ranking.length; i++) {\r\n            let extensionItem = cc.instantiate(this.extensionItem);\r\n            extensionItem.parent = this.extensionPanel;\r\n            extensionItem.active = false;\r\n            extensionItem.getChildByName(\"layout\").getChildByName(\"vip_bg\").getChildByName(\"vipLevel\").getComponent(cc.Label).string = ranking[i].vipLevel;\r\n            extensionItem.getChildByName(\"cashAmount\").getComponent(cc.Label).string = this.getFloat(ranking[i].commission);\r\n            extensionItem.getChildByName(\"layout\").getChildByName(\"name\").getComponent(cc.Label).string = ranking[i].nickname;\r\n            extensionItem.getChildByName(\"logicid\").getComponent(cc.Label).string = `ID:${ranking[i].logicId}`;\r\n            extensionItem.getChildByName(\"teamNumber\").getComponent(cc.Label).string = ranking[i].teamNumber;\r\n            glGame.panel.showRemoteImage(extensionItem.getChildByName(\"mask\").getChildByName(\"head\"), ranking[i].headUrl)\r\n            if (extensionItem.getChildByName(`rank_${ranking[i].rank}`)) {\r\n                extensionItem.getChildByName(`rank_${ranking[i].rank}`).active = true;\r\n            } else {\r\n                extensionItem.getChildByName(\"rankLevel\").active = true;\r\n                extensionItem.getChildByName(\"rankLevel\").getComponent(cc.Label).string = ranking[i].rank\r\n            }\r\n\r\n        }\r\n        glGame.panel.showEffectNode(this,this.extensionPanel,0.02,true);\r\n        //我的信息\r\n        let myRanking = data.myRanking;\r\n        this.extensionMyinfo.getChildByName(\"img_wsb\").active = myRanking.rank == 0;\r\n        this.extensionMyinfo.getChildByName(\"rankLevel\").active = myRanking.rank != 0;\r\n        this.extensionMyinfo.getChildByName(\"rankLevel\").getComponent(cc.Label).string = myRanking.rank;\r\n        this.extensionMyinfo.getChildByName(\"teamNumber\").getComponent(cc.Label).string = myRanking.teamNumber;\r\n        this.extensionMyinfo.getChildByName(\"layout\").getChildByName(\"name\").getComponent(cc.Label).string = myRanking.nickname;\r\n        this.extensionMyinfo.getChildByName(\"logicid\").getComponent(cc.Label).string = `ID:${myRanking.logicId}`;\r\n        this.extensionMyinfo.getChildByName(\"cashAmount\").getComponent(cc.Label).string = this.getFloat(myRanking.commission);\r\n        this.extensionMyinfo.getChildByName(\"layout\").getChildByName(\"vip_bg\").getChildByName(\"vipLevel\").getComponent(cc.Label).string = myRanking.vipLevel;\r\n        glGame.panel.showRemoteImage(this.extensionMyinfo.getChildByName(\"mask\").getChildByName(\"head\"), myRanking.headUrl);\r\n    },\r\n    //请求提现增加(滚动监听)\r\n    reqWithdrawalAdd(scrollview, eventType) {\r\n        if (eventType == cc.ScrollView.EventType.SCROLL_TO_BOTTOM) {\r\n            if (this.withdrawalupdateNow) return;\r\n            this.withdrawalupdateNow = true;\r\n            this.withdrawalpage++;\r\n            if (this.withdrawalpage > 5) return;\r\n            this.ReqCashRanking();\r\n            this.scheduleOnce(function () {\r\n                this.withdrawalupdateNow = false;\r\n            }, 1);\r\n        }\r\n    },\r\n    //提现金额排行\r\n    ReqCashRanking() {\r\n        let page = this.withdrawalpage;\r\n        glGame.gameNet.send_msg('http.ReqCashRanking', { pageSize: 10, page: page }, (route, msg) => {\r\n            this.updateWithdrawal(msg.data);\r\n        })\r\n    },\r\n    //刷新提现排行\r\n    updateWithdrawal(data) {\r\n        let ranking = data.ranking\r\n        for (let i = 0; i < ranking.length; i++) {\r\n            let withdrawalItem = cc.instantiate(this.withdrawalItem);\r\n            withdrawalItem.parent = this.withdrawalPanel;\r\n            withdrawalItem.active = false;\r\n            withdrawalItem.getChildByName(\"layout\").getChildByName(\"vip_bg\").getChildByName(\"vipLevel\").getComponent(cc.Label).string = ranking[i].vipLevel;\r\n            withdrawalItem.getChildByName(\"cashAmount\").getComponent(cc.Label).string = this.getFloat(ranking[i].cashAmount);\r\n            withdrawalItem.getChildByName(\"layout\").getChildByName(\"name\").getComponent(cc.Label).string = ranking[i].nickname;\r\n            withdrawalItem.getChildByName(\"logicid\").getComponent(cc.Label).string = `ID:${ranking[i].logicId}`;\r\n            glGame.panel.showRemoteImage(withdrawalItem.getChildByName(\"mask\").getChildByName(\"head\"), ranking[i].headUrl)\r\n            if (withdrawalItem.getChildByName(`rank_${ranking[i].rank}`)) {\r\n                withdrawalItem.getChildByName(`rank_${ranking[i].rank}`).active = true;\r\n            } else {\r\n                withdrawalItem.getChildByName(\"rankLevel\").active = true;\r\n                withdrawalItem.getChildByName(\"rankLevel\").getComponent(cc.Label).string = ranking[i].rank\r\n            }\r\n\r\n        }\r\n        glGame.panel.showEffectNode(this,this.withdrawalPanel,0.02,true);\r\n        //我的信息\r\n        let myRanking = data.myRanking;\r\n        this.withdrawalMyinfo.getChildByName(\"img_wsb\").active = myRanking.rank == 0;\r\n        this.withdrawalMyinfo.getChildByName(\"rankLevel\").active = myRanking.rank != 0;\r\n        this.withdrawalMyinfo.getChildByName(\"rankLevel\").getComponent(cc.Label).string = myRanking.rank;\r\n        this.withdrawalMyinfo.getChildByName(\"layout\").getChildByName(\"name\").getComponent(cc.Label).string = myRanking.nickname;\r\n        this.withdrawalMyinfo.getChildByName(\"logicid\").getComponent(cc.Label).string = `ID:${myRanking.logicId}`;\r\n        this.withdrawalMyinfo.getChildByName(\"cashAmount\").getComponent(cc.Label).string = this.getFloat(myRanking.cashAmount);\r\n        this.withdrawalMyinfo.getChildByName(\"layout\").getChildByName(\"vip_bg\").getChildByName(\"vipLevel\").getComponent(cc.Label).string = myRanking.vipLevel;\r\n        glGame.panel.showRemoteImage(this.withdrawalMyinfo.getChildByName(\"mask\").getChildByName(\"head\"), myRanking.headUrl);\r\n    },\r\n    getFloat(value) {\r\n        return (Number(value).div(100)).toString();\r\n    },\r\n    switchPanel(name) {\r\n        this.withdrawalpage = 1;\r\n        this.extensionpage = 1;\r\n        for (let i = 0; i < this.content.childrenCount; i++) {\r\n            this.content.children[i].getChildByName(\"view\").getChildByName(\"content\").removeAllChildren();\r\n            if (this.content.children[i].name == name) {\r\n                this.content.children[i].active = true;\r\n                if (this.extensionPanel.childrenCount == 0 && this.content.children[i].name == name) this.ReqCommissionRanking();\r\n                if (this.withdrawalPanel.childrenCount == 0 && this.content.children[i].name == name) this.ReqCashRanking();\r\n            } else {\r\n                this.content.children[i].active = false;\r\n            }\r\n        }\r\n    },\r\n    OnDestroy(){\r\n        this.unRegisterEvent();\r\n    },\r\n});\r\n"]}