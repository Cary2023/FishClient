{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\enterRoom\\lfishentry.js"],"names":["glGame","baseclass","extend","properties","goldCount","cc","Label","username","help_pre","Prefab","record_pre","BGM","type","AudioClip","LOADING","level","Node","onLoad","gameid","node","zIndex","emitter","on","MESSAGE","UI","ROOM_ENTER_SHOW","RootNodeShow","ROOM_ENTER_HIDE","RootNodeHide","click_back","updateuserInfo","gameID","scenetag","FISH3","readyroom","reqEnterArea","registerEvent","startPlayMove","getChildByName","active","arg","q","game_logo","getComponent","Widget","enabled","scale","opacity","stopAllActions","act","spawn","fadeTo","scaleTo","runAction","sequence","callFunc","ind","qd","playQJunpMovieClip","position","delay","mc","pos","qjPos","v2","x","y","go","moveTo","endEffectPlayed","delayTime","goldOnlineNum","onGameConfig","unregisterEvent","off","msg","gameConfig","initUI","console","log","count","length","i","string","onClick","name","click_help","click_record","click_addgold","click_userinfo","enterGame","error","room","reqMyGameState","then","panel","showMsgBox","user","isTourist","showRegisteredGift","suspicious","game","is_game","showDialog","showService","get","EntranceRestrictions","sendEnterRoom","getFloat","showShop","showJuHua","closeJuHua","setGoldRoomInfo","value","Number","div","toString","checkGold","coin","minCion","parseInt","i18n","t","showPanelByName","cutFloat","BaseConsume","downString1","roomConfig","downString","setGameId","updateBgInfo","reqExitArea","remove","showPanel","set","key","OnDestroy"],"mappings":"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","sourceRoot":"/","sourcesContent":["glGame.baseclass.extend({\r\n\r\n    properties: {\r\n        goldCount: cc.Label,\r\n        username: cc.Label,\r\n        help_pre: cc.Prefab,\r\n        record_pre: cc.Prefab,\r\n        BGM: {                              //背景声音\r\n            type: cc.AudioClip,\r\n            default: null,\r\n        },\r\n        LOADING: cc.Prefab,\r\n        level: {\r\n            type: cc.Node,\r\n            default: []\r\n        },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        this.gameid = 0;\r\n        this.node.zIndex = 20;\r\n        glGame.emitter.on(MESSAGE.UI.ROOM_ENTER_SHOW, this.RootNodeShow, this);\r\n        glGame.emitter.on(MESSAGE.UI.ROOM_ENTER_HIDE, this.RootNodeHide, this);\r\n        glGame.emitter.on(\"nodeRemove\", this.click_back, this);\r\n        glGame.emitter.on(\"updateUserData\", this.updateuserInfo, this);\r\n        this.gameID = glGame.scenetag.FISH3;\r\n        glGame.readyroom.reqEnterArea(glGame.scenetag.FISH3);\r\n        this.registerEvent();\r\n        this.updateuserInfo();\r\n        this.startPlayMove();\r\n        this.node.getChildByName(\"mask\").active = false;\r\n    },\r\n\r\n    startPlayMove(arg = true, q = 100) {\r\n        let game_logo = this.node.getChildByName(\"game_logo\");\r\n        game_logo.getComponent(cc.Widget).enabled = false;\r\n        game_logo.scale = 0;\r\n        game_logo.opacity = 0;\r\n        game_logo.stopAllActions();\r\n        let act = cc.spawn(cc.fadeTo(0.26, 255), cc.scaleTo(0.3, 1.3, 1.3));\r\n        game_logo.runAction(cc.sequence(act, cc.callFunc(() => {\r\n            game_logo.stopAllActions();\r\n            game_logo.runAction(cc.sequence(cc.scaleTo(0.13, 1), cc.callFunc(() => {\r\n                game_logo.getComponent(cc.Widget).enabled = true;\r\n            })));\r\n        })));\r\n\r\n        let ind = 0;\r\n        let qd = q;//q弹值\r\n        if (arg) {\r\n            this.playQJunpMovieClip(0.01, this.node.getChildByName(\"primary\"), this.node.getChildByName(\"primaryPos\").position, ind, qd);\r\n            this.playQJunpMovieClip(0.137, this.node.getChildByName(\"intermediate\"), this.node.getChildByName(\"intermediatePos\").position, ind, qd);\r\n            this.playQJunpMovieClip(0.237, this.node.getChildByName(\"senior\"), this.node.getChildByName(\"seniorPos\").position, ind, qd);\r\n            this.playQJunpMovieClip(0.39, this.node.getChildByName(\"supremacy\"), this.node.getChildByName(\"supremacyPos\").position, ind, qd);\r\n        } else {\r\n            this.playQJunpMovieClip(0.01, this.node.getChildByName(\"primary\"), this.node.getChildByName(\"primaryPos\").position, ind, qd);\r\n            this.playQJunpMovieClip(0.01, this.node.getChildByName(\"intermediate\"), this.node.getChildByName(\"intermediatePos\").position, ind, qd);\r\n            this.playQJunpMovieClip(0.01, this.node.getChildByName(\"senior\"), this.node.getChildByName(\"seniorPos\").position, ind, qd);\r\n            this.playQJunpMovieClip(0.01, this.node.getChildByName(\"supremacy\"), this.node.getChildByName(\"supremacyPos\").position, ind, qd);\r\n        }\r\n    },\r\n    playQJunpMovieClip(delay, mc, pos, ind, qd) {\r\n        mc.stopAllActions();\r\n        let qjPos = cc.v2(pos.x, mc.y > pos.y ? (pos.y - qd) : (pos.y + qd));\r\n        let go = cc.callFunc(() => {\r\n            mc.stopAllActions();\r\n            mc.runAction(cc.sequence(cc.moveTo(0.137 + 0.05, pos), cc.callFunc(() => {\r\n                ind++;\r\n                this.endEffectPlayed(ind);\r\n            })));\r\n        });\r\n        mc.runAction(cc.sequence(cc.delayTime(delay), cc.moveTo(0.17 + 0.05, qjPos), go));\r\n    },\r\n    endEffectPlayed(arg) {\r\n        if (arg == 4) {\r\n            // this.node.getComponent(cc.Widget).enabled = true;\r\n            // this.node.getComponent(cc.Widget).updateAlignment();\r\n        }\r\n    },\r\n\r\n    //事件监听\r\n    registerEvent() {\r\n        glGame.emitter.on(\"goldOnlineNum\", this.goldOnlineNum, this);\r\n        glGame.emitter.on(\"onGameConfig\", this.onGameConfig, this);\r\n    },\r\n    //事件销毁\r\n    unregisterEvent() {\r\n        glGame.emitter.off(\"goldOnlineNum\", this);\r\n        glGame.emitter.off(\"onGameConfig\", this);\r\n    },\r\n    onGameConfig(msg) {\r\n        this.gameConfig = msg;\r\n        this.initUI();\r\n    },\r\n    goldOnlineNum(msg) {\r\n        console.log(\"这是在线人数的消息\", msg)\r\n        let count = this.level.length;\r\n        for (let i = 0; i < count; i++) {\r\n            if (msg[i + 1]) {\r\n                this.level[i].getChildByName(\"people_num\").getComponent(cc.Label).string = msg[i + 1]\r\n            }\r\n        }\r\n    },\r\n    RootNodeShow() {\r\n        this.registerEvent();\r\n        this.node.active = true;\r\n        this.gameID = glGame.scenetag.FISH3;\r\n        glGame.readyroom.reqEnterArea(glGame.scenetag.FISH3);\r\n    },\r\n    RootNodeHide() {\r\n        this.unregisterEvent();\r\n        this.node.active = false;\r\n    },\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"btn_back\": this.click_back(); break;\r\n            case \"btn_help\": this.click_help(); break;\r\n            case \"btn_record\": this.click_record(); break;\r\n            case \"mycoinInfo\": this.click_addgold(); break;\r\n            case \"headbg\": this.click_userinfo(); break;\r\n            case \"btn_chongzhi\": this.click_addgold(); break;\r\n\r\n\r\n            case \"primary\": this.enterGame(99); break;\r\n            case \"intermediate\": this.enterGame(1); break;\r\n            case \"senior\": this.enterGame(2); break;\r\n            // case \"tuhao\": this.enterGame(3); break;\r\n            case \"supremacy\": this.enterGame(3); break;\r\n            case \"volvo\": this.enterGame(5); break;\r\n\r\n            default: console.error(\"no find button name -> %s\", name);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * 进入金币场房间\r\n     * @param level 场次类型 1:初级场 2:中级场 3:高级场 4:土豪场 5:至尊场\r\n     */\r\n    enterGame(level) {\r\n        glGame.room.reqMyGameState(this.gameID, level).then(() => {\r\n            let gameID = this.gameID;\r\n            if (this.gameConfig[level] == null) {\r\n                glGame.panel.showMsgBox('提示', '该房间尚未开放，请尝试其他房间。');\r\n                return;\r\n            }\r\n            if (glGame.user.isTourist()) {\r\n                if (level != 99) {\r\n                    glGame.panel.showRegisteredGift(true)\r\n                    return;\r\n                }\r\n            }\r\n            if ((glGame.user.suspicious == 1 && glGame.user.game == 2) || glGame.user.is_game == 2) {\r\n                glGame.panel.showDialog(\"\", \"您的账号数据异常，暂时禁止进入游戏，如有疑问，请联系客服！\", () => { glGame.panel.showService() }, () => { }, \"我知道了\", \"联系客服\")\r\n                return;\r\n            }\r\n            if (gameID == glGame.scenetag.FISH3) {\r\n                if (glGame.user.get(\"coin\") >= this[\"gameConfig\"][level].EntranceRestrictions) {\r\n                    glGame.room.sendEnterRoom(level, this.gameID);\r\n                } else {\r\n                    let string = `<color=#99C7FF>您的金币不足，该房间需要</c> <color=#ff0000> ${this.getFloat(this.gameConfig[level].EntranceRestrictions)}  </c><color=#99C7FF>金币才可进入，是否马上前往充值？</c>`\r\n                    glGame.panel.showDialog(\"\", string, () => { glGame.panel.showShop(100) }, () => { }, \"取消\", \"充值\");\r\n                }\r\n                return;\r\n            }\r\n            if (this.gameConfig[level].EntranceRestrictions > glGame.user.get(\"coin\")) {\r\n                let string = `<color=#99C7FF>您的金币不足，该房间需要</c> <color=#ff0000> ${this.getFloat(this.gameConfig[level].EntranceRestrictions)}  </c><color=#99C7FF>金币才可进入，是否马上前往充值？</c>`\r\n                glGame.panel.showDialog(\"\", string, () => { glGame.panel.showShop(100) }, () => { }, \"取消\", \"充值\");\r\n                return\r\n            }\r\n            glGame.panel.showJuHua();\r\n            // glGame.readyroom.reqExitArea();\r\n            this.node.runAction(cc.sequence(\r\n                cc.delayTime(15),\r\n                cc.callFunc(() => {\r\n                    glGame.panel.closeJuHua();\r\n                })\r\n            ))\r\n            this.node.getChildByName(\"mask\").active = true;\r\n            // TODO\r\n            // reqGoldRoomVerify为旧的进入房间方法，需要先请求验证，再进入房间\r\n            // setGoldRoomInfo 新的进入房间方法，无需验证，设置游戏类型以及房间信息后，直接进入房间\r\n            // if (glGame.enterRoomVerification) {\r\n            //     glGame.room.reqGoldRoomVerify(gameID, level);\r\n            // } else {\r\n            //     glGame.room.setGoldRoomInfo(gameID, level);\r\n            // }\r\n            glGame.room.setGoldRoomInfo(gameID, level);\r\n        })\r\n    },\r\n    getFloat(value) {\r\n        return (Number(value).div(100)).toString();\r\n    },\r\n    /**\r\n     * 检查玩家金币是否足够\r\n     * @returns {boolean}\r\n     */\r\n    checkGold(coin, minCion) {\r\n        console.log(\"金币检测\", coin, minCion);\r\n        if (parseInt(coin) < parseInt(minCion)) {\r\n            glGame.panel.showDialog(glGame.i18n.t(\"USER.GOLDLACK.TITLE\"), glGame.i18n.t(\"USER.GOLDLACK.CONTENT\"), () => {\r\n                glGame.panel.showPanelByName(\"shop\");\r\n            }, null);\r\n            return false;\r\n        }\r\n        return true;\r\n    },\r\n    cutFloat(value) {\r\n        return (Number(value).div(100)).toString();\r\n    },\r\n    updateuserInfo() {\r\n        let coin = glGame.user.get(\"coin\")\r\n        this.goldCount.string = glGame.user.cutFloat(coin);\r\n        this.username.string = glGame.user.get(\"nickname\")\r\n    },\r\n\r\n    initUI() {\r\n        this.node.active = true;\r\n        this.level[0].getChildByName(\"dizhulaout\").getChildByName('lab_top').getComponent(cc.Label).string = `${this[\"gameConfig\"]['99'].BaseConsume >= 1000000 ? this.cutFloat(this[\"gameConfig\"]['99'].BaseConsume / 10000) + '万' : this.cutFloat(this[\"gameConfig\"]['99'].BaseConsume)}`;\r\n        let downString1 = this[\"gameConfig\"]['99'].EntranceRestrictions >= 1000000 ? `${this.cutFloat(this[\"gameConfig\"]['99'].EntranceRestrictions / 10000)}万` : this.cutFloat(this[\"gameConfig\"]['99'].EntranceRestrictions);\r\n        this.level[0].getChildByName(\"zhunrulayout\").getChildByName('lab_center').getComponent(cc.Label).string = downString1;\r\n        for (let i = 1; i < this.level.length; i++) {\r\n            let roomConfig = this[\"gameConfig\"][i];\r\n            let downString = roomConfig.EntranceRestrictions >= 1000000 ? `${this.cutFloat(roomConfig.EntranceRestrictions / 10000)}万` : this.cutFloat(roomConfig.EntranceRestrictions);\r\n            this.level[i].getChildByName(\"dizhulaout\").getChildByName('lab_top').getComponent(cc.Label).string = `${roomConfig.BaseConsume >= 1000000 ? this.cutFloat(roomConfig.BaseConsume / 10000) + '万' : this.cutFloat(roomConfig.BaseConsume)}`;\r\n\r\n            this.level[i].getChildByName(\"zhunrulayout\").getChildByName('lab_center').getComponent(cc.Label).string = downString;\r\n        }\r\n    },\r\n    setGameId(gameid) {\r\n        this.gameid = gameid;\r\n    },\r\n\r\n    updateBgInfo() {\r\n\r\n    },\r\n    click_userinfo() {\r\n        glGame.panel.showPanelByName(\"userinfo\");\r\n    },\r\n    click_addgold() {\r\n        glGame.panel.showShop(30);\r\n    },\r\n    click_back() {\r\n        glGame.readyroom.reqExitArea();\r\n        this.remove();\r\n    },\r\n    click_help() {\r\n        let panel = glGame.panel.showPanel(this.help_pre);\r\n        panel.zIndex = 30;\r\n    },\r\n    click_record() {\r\n        let panel = glGame.panel.showPanel(this.record_pre);\r\n        panel.zIndex = 30;\r\n    },\r\n\r\n    set(key, value) {\r\n        this[key] = value;\r\n    },\r\n    get(key) {\r\n        return this[key];\r\n    },\r\n    OnDestroy() {\r\n        this.unregisterEvent();\r\n        glGame.emitter.off(MESSAGE.UI.ROOM_ENTER_SHOW, this);\r\n        glGame.emitter.off(MESSAGE.UI.ROOM_ENTER_HIDE, this);\r\n        glGame.emitter.off(\"nodeRemove\", this);\r\n        glGame.emitter.off(\"updateUserData\", this);\r\n    },\r\n    // update (dt) {},\r\n});\r\n"]}