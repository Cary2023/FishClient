{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\userInfo\\userinfostatement.js"],"names":["valueDirt","name","value","type","glGame","baseclass","extend","properties","bet_lab","cc","Label","betScroll","Node","betContent","betItem","award_lab","awardScroll","awardContent","awardItem","typeContent","typeItem","typeScr","mask","type_lab","safebox_lab","coin_lab","norecord","onLoad","timeIndex","endTime","startTime","summary","statementList","bInit","registerEvent","initCoin","allbet_cb","initTypeUI","start","searchByTime","string","cutFloat","user","get","onClick","node","selectType_cb","mask_cb","allaward_cb","indexOf","click_typeItem","active","substring","Number","key","instantiate","getChildByName","getComponent","parent","height","childrenCount","initUi","data","betTotalCoin","rewardTotalCoin","initBetScrollUI","initAwardScrollUI","list","betList","removeAllChildren","length","stripMax","count","Math","ceil","stripName","i","stripCount","min","index","nodeLabel","coin","panel","settingTableLabelColor","showEffectNode","rewardList","ReqReport","msg","gameNet","send_msg","route","cutTimeString","time","newTime","Date","y","getFullYear","m","getMonth","d","getDate","strTime","now","wd","getDay","weekStartDate","weekEndDate","emitter","on","closeDown","unRegisterEvent","off","OnDestroy","div","toString"],"mappings":"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","sourceRoot":"/","sourcesContent":["\r\nconst valueDirt = [\r\n    { name: '今天', value: 0, type: \"day\" },\r\n    { name: '昨天', value: 1 * 24 * 60 * 60 * 1000, type: \"day\" },\r\n    { name: '前天', value: 2 * 24 * 60 * 60 * 1000, type: \"day\" },\r\n    { name: '本周', value: 0, type: \"week\" },\r\n    { name: '上周', value: 7 * 24 * 60 * 60 * 1000, type: \"week\" },\r\n]\r\n\r\nglGame.baseclass.extend({\r\n    properties: {\r\n        //\r\n        \r\n        //打码量\r\n        bet_lab: cc.Label,\r\n        betScroll: cc.Node,\r\n        betContent: cc.Node,\r\n        betItem: cc.Node,\r\n        //奖励金额\r\n        award_lab: cc.Label,\r\n        awardScroll: cc.Node,\r\n        awardContent: cc.Node,\r\n        awardItem: cc.Node,\r\n\r\n        //时间选项\r\n        typeContent: cc.Node,\r\n        typeItem: cc.Node,\r\n        typeScr: cc.Node,\r\n        mask: cc.Node,\r\n        type_lab: cc.Label,\r\n\r\n        safebox_lab: cc.Label,\r\n        coin_lab: cc.Label,\r\n\r\n        norecord: cc.Node,\r\n    },\r\n    onLoad() {\r\n        this.timeIndex = 0;\r\n        this.endTime = null;\r\n        this.startTime = null;\r\n        this.summary = {};\r\n        this.statementList = [];\r\n        this.bInit = false;\r\n\r\n        this.registerEvent();\r\n        this.initCoin();\r\n        this.allbet_cb();\r\n        this.initTypeUI();\r\n    },\r\n\r\n    start() {\r\n        this.searchByTime();\r\n    },\r\n\r\n    initCoin() {\r\n        this.safebox_lab.string = this.cutFloat(glGame.user.get(\"bank_coin\"));\r\n        this.coin_lab.string = this.cutFloat(glGame.user.get(\"coin\"));\r\n    },\r\n\r\n\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"btn_selectType\": this.selectType_cb(); break;\r\n            case \"mask\": this.mask_cb(); break;\r\n            case \"btn_allbet\": this.allbet_cb(); break;\r\n            case \"btn_allaward\": this.allaward_cb(); break;\r\n            default:\r\n                if (name.indexOf(\"typeItem\") > -1) return this.click_typeItem(name);\r\n                break;\r\n        }\r\n    },\r\n\r\n    allbet_cb() {\r\n        if (this.betScroll.active) return;\r\n        this.awardScroll.active = false;\r\n        this.betScroll.active = true;\r\n        this.click_typeItem(\"typeItem0\");\r\n    },\r\n\r\n    allaward_cb() {\r\n        if (this.awardScroll.active) return;\r\n        this.betScroll.active = false;\r\n        this.awardScroll.active = true;\r\n        this.click_typeItem(\"typeItem0\");\r\n    },\r\n\r\n    click_typeItem(name) {\r\n        let string = name.substring(8);\r\n        this.type_lab.string = valueDirt[Number(string)].name;\r\n        this.typeScr.active = this.mask.active = false;\r\n        this.timeIndex = Number(string);      //全部游戏不传这个字段就OK\r\n        this.searchByTime();\r\n    },\r\n\r\n    initTypeUI() {\r\n        let typeItem = null;\r\n        for (let key in valueDirt) {\r\n            if (!valueDirt[key]) continue;\r\n            typeItem = cc.instantiate(this.typeItem);\r\n            typeItem.name = `typeItem${key}`\r\n            typeItem.getChildByName(\"label\").getComponent(cc.Label).string = valueDirt[key].name;\r\n            typeItem.parent = this.typeContent;\r\n            typeItem.active = true;\r\n        }\r\n\r\n        if(typeItem) {\r\n            typeItem.getChildByName(\"img_xialafengexian\").active = false;\r\n        }\r\n\r\n        this.typeScr.height = this.typeContent.childrenCount<=10?this.typeContent.childrenCount*this.typeItem.height:10*this.typeItem.height;\r\n    },\r\n\r\n    initUi() {\r\n        let data = this.statementList[this.timeIndex];\r\n        \r\n        if(!this.bInit) {\r\n            this.bet_lab.string = this.cutFloat(data.betTotalCoin);\r\n            this.award_lab.string = this.cutFloat(data.rewardTotalCoin);\r\n            this.initBetScrollUI();\r\n            this.initAwardScrollUI();\r\n            this.bInit = true;\r\n            return;\r\n        }\r\n\r\n        if(this.betScroll.active) {\r\n            this.bet_lab.string = this.cutFloat(data.betTotalCoin);\r\n            this.initBetScrollUI();    \r\n        } else {\r\n            this.award_lab.string = this.cutFloat(data.rewardTotalCoin);\r\n            this.initAwardScrollUI();    \r\n        }\r\n    },\r\n\r\n    initBetScrollUI() {\r\n        let list = this.statementList[this.timeIndex].betList;\r\n        this.betContent.removeAllChildren();\r\n        if (list.length == 0) {\r\n            this.norecord.active = true;\r\n            return;\r\n        }\r\n\r\n        this.norecord.active = false;\r\n\r\n        let stripMax = 3;\r\n        let count = Math.ceil(list.length / stripMax);\r\n        let stripName = ['leftLabel', 'middleLabel', 'rightLabel'];\r\n        for (let i = 0; i < count; i++) {\r\n            let node = cc.instantiate(this.betItem);\r\n            node.parent = this.betContent;\r\n            node.active = false;\r\n            node.getChildByName(\"bg\").active = i % 2 != 0;\r\n\r\n            let stripCount = Math.min((i + 1) * stripMax);\r\n            for (let index = i * stripMax; index < stripCount; index++) {\r\n                let nodeLabel = node.getChildByName(stripName[index % stripMax]);\r\n                if (index >= list.length) nodeLabel.active = false;\r\n                else {\r\n                    nodeLabel.getChildByName('name').getComponent(cc.Label).string = list[index].name + \"：\";\r\n                    nodeLabel.getChildByName('coin').getComponent(cc.Label).string = this.cutFloat(list[index].coin);\r\n                    glGame.panel.settingTableLabelColor(nodeLabel.getChildByName('coin'));\r\n                }\r\n            }\r\n        }\r\n\r\n        glGame.panel.showEffectNode(this,this.betContent,0.02,true);\r\n    },\r\n\r\n    initAwardScrollUI() {\r\n        let list = this.statementList[this.timeIndex].rewardList;\r\n        this.awardContent.removeAllChildren();\r\n        if (list.length == 0) return;\r\n        let stripMax = 2;\r\n        let count = Math.ceil(list.length / stripMax);\r\n        let stripName = ['leftLabel', 'rightLabel'];\r\n        for (let i = 0; i < count; i++) {\r\n            let node = cc.instantiate(this.awardItem);\r\n            node.parent = this.awardContent;\r\n            node.active = false;\r\n            node.getChildByName(\"bg\").active = i % 2 != 0;\r\n\r\n            let stripCount = Math.min((i + 1) * stripMax);\r\n            for (let index = i * stripMax; index < stripCount; index++) {\r\n                let nodeLabel = node.getChildByName(stripName[index % stripMax]);\r\n                if (index >= list.length) nodeLabel.active = false;\r\n                else {\r\n                    nodeLabel.getChildByName('name').getComponent(cc.Label).string = list[index].name + \"：\";\r\n                    nodeLabel.getChildByName('coin').getComponent(cc.Label).string = this.cutFloat(list[index].coin);\r\n                }\r\n            }\r\n        }\r\n\r\n        glGame.panel.showEffectNode(this,this.awardContent,0.02,true);\r\n    },\r\n    selectType_cb() {\r\n        this.typeScr.active = !this.typeScr.active;\r\n        if (this.typeScr.active) this.mask.active = true;\r\n    },\r\n    mask_cb() {\r\n        this.typeScr.active = this.mask.active = false;\r\n    },\r\n\r\n    ReqReport() {\r\n        if (this.statementList[this.timeIndex]) {\r\n            this.initUi();\r\n            return;\r\n        }\r\n        let msg = {};\r\n        msg.type = this.timeIndex + 1;\r\n\r\n        glGame.gameNet.send_msg('http.ReqReport', msg, (route, data) => {\r\n            this.statementList[this.timeIndex] = data;\r\n\r\n            this.initUi();\r\n        })\r\n    },\r\n\r\n    cutTimeString(time) {\r\n        let newTime = new Date(time);\r\n        let y = newTime.getFullYear();\r\n        let m = (newTime.getMonth() + 1) < 10 ? \"0\" + (newTime.getMonth() + 1) : (newTime.getMonth() + 1);\r\n        let d = newTime.getDate() < 10 ? \"0\" + newTime.getDate() : newTime.getDate();\r\n        let strTime = y + \"-\" + m + \"-\" + d;\r\n        return strTime;\r\n    },\r\n\r\n\r\n\r\n    searchByTime() {\r\n        let index = this.timeIndex;\r\n        if (valueDirt[index].type == \"day\") {\r\n            let startTime = Date.now() - valueDirt[index].value;\r\n            this.startTime = this.cutTimeString(startTime);\r\n            this.endTime = this.cutTimeString(startTime);\r\n        } else if (valueDirt[index].type == \"week\") {\r\n            let startTime = Date.now() - valueDirt[index].value;\r\n            let newTime = new Date(startTime);\r\n            let y = newTime.getFullYear();\r\n            let m = newTime.getMonth();\r\n            let d = newTime.getDate();\r\n            let wd = newTime.getDay() == 0 ? 7 : newTime.getDay();\r\n            var weekStartDate = new Date(y, m, d - wd + 1);\r\n            var weekEndDate = new Date(y, m, d + (6 - wd) + 1);\r\n\r\n            this.startTime = this.cutTimeString(weekStartDate);\r\n            this.endTime = this.cutTimeString(weekEndDate);\r\n        } else {\r\n            this.endTime = null;\r\n            this.startTime = null;\r\n        }\r\n        this.ReqReport();\r\n    },\r\n\r\n    // 注册界面监听事件\r\n    registerEvent() {\r\n        glGame.emitter.on(\"updateUserData\", this.initCoin, this);\r\n        glGame.emitter.on(\"userinfo_switchFace\", this.closeDown, this);\r\n    },\r\n    // 销毁界面监听事件\r\n    unRegisterEvent() {\r\n        glGame.emitter.off(\"updateUserData\", this);\r\n        glGame.emitter.off(\"userinfo_switchFace\",this);\r\n    },\r\n    closeDown(){\r\n        this.typeScr.active = this.mask.active = false;\r\n    },\r\n    OnDestroy() {\r\n        this.unRegisterEvent();\r\n    },\r\n\r\n    //浮点型运算取俩位\r\n    cutFloat(value) {\r\n        return (Number(value).div(100)).toString();\r\n    },\r\n});\r\n"]}