{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\enterRoom\\baijialeentry.js"],"names":["glGame","baseclass","extend","properties","goldCount","cc","Label","content","Node","node_record","node_result","sprite_Atlas","SpriteAtlas","rulePrefab","Prefab","recordPrefab","BGM","type","AudioClip","onLoad","gameid","node","zIndex","audio","playBGM","emitter","on","click_back","MESSAGE","UI","ROOM_ENTER_SHOW","RootNodeShow","ROOM_ENTER_HIDE","RootNodeHide","updateuserInfo","registerEvent","reqEnterArea","roomType","nodeInfo","gameState","color","stateWord","isUpdateTrend","gameID","scenetag","BAIJIALE","readyroom","onClick","name","click_help","click_record","click_addgold","click_userinfo","destroyAllChildren","removeAllChildren","updateUI","user","isTourist","panel","showRegisteredGift","suspicious","game","is_game","showDialog","showService","showFieldSelectionJuHua","room","reqMyGameState","parent","then","enterHundredsRoom","tag","console","error","active","cleanTimer","unregisterEvent","onGameInfolist","onRoomInfo","onHandInfo","onDeleteRoom","off","cutFloat","value","Number","div","toString","showUserInfo","showRemoteImage","Playerhead","get","coin","string","GoldTemp","setGameId","updateBgInfo","showPanelByName","showShop","reqExitArea","remove","showPanel","set","key","msg","i","children","length","roomid","destroy","gameInfoTest","serverTimeOff","Date","now","servertime","roomRecord","roomrecord","showRecord","roomList","roomlist","roomdata","bettype","count","infoNode","instantiate","roomserverid","waitTime","Math","floor","curwaittime","getChildByName","getComponent","online","minbet","EnterRoomGoldTemp","Chips","maxbet","MaxBet","EntranceRestrictions","process","push","sort","a","b","childrenCount","str","substr","showClock","getFloat","setTimeOut","setInterval","record","index","dotNode","row","col","showSmallTrend","recordArr","getIndex","isChangeRow","j","labelColor","result","Color","Sprite","spriteFrame","_spriteFrames","he","k","num","newCol","newRow","setPosition","v2","showEffectNode","roundRecord","z","doublerecord","clearTimeout","OnDestroy"],"mappings":"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","sourceRoot":"/","sourcesContent":["glGame.baseclass.extend({\r\n\r\n    properties: {\r\n        goldCount: cc.Label,\r\n        content: cc.Node,\r\n        node_record: cc.Node,\r\n        node_result: cc.Node,\r\n        sprite_Atlas: cc.SpriteAtlas,\r\n        rulePrefab: cc.Prefab,\r\n        recordPrefab:cc.Prefab,\r\n        BGM:{\r\n            type:cc.AudioClip,\r\n            default:null\r\n         },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        this.gameid = 0;\r\n        this.node.zIndex = 20;\r\n        glGame.audio.playBGM(this.BGM);\r\n        glGame.emitter.on(\"nodeRemove\", this.click_back, this);\r\n        glGame.emitter.on(MESSAGE.UI.ROOM_ENTER_SHOW, this.RootNodeShow, this);\r\n        glGame.emitter.on(MESSAGE.UI.ROOM_ENTER_HIDE, this.RootNodeHide, this);\r\n        glGame.emitter.on(\"updateUserData\", this.updateuserInfo, this);\r\n        this.updateuserInfo();\r\n        this.registerEvent();\r\n        this.reqEnterArea();\r\n        this.roomType = 1;\r\n        this.nodeInfo = {};\r\n        this.gameState = { 0: cc.color(255, 96, 47), 1: cc.color(137, 218, 255), 2: cc.color(141, 222, 37), 3: cc.color(226, 137, 255),4: cc.color(226, 137, 255) };\r\n        this.stateWord = { 1: \"休息中\", 2: \"下注中\", 3: \"结算中\", 4: \"洗牌中\" };\r\n        this.isUpdateTrend = {};\r\n    },\r\n    //发包\r\n    reqEnterArea() {\r\n        this.gameID = glGame.scenetag.BAIJIALE;\r\n        glGame.readyroom.reqEnterArea(glGame.scenetag.BAIJIALE);\r\n    },\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"btn_back\": this.click_back(); break;\r\n            case \"btn_help\": this.click_help(); break;\r\n            case \"btn_record\": this.click_record(); break;\r\n            case \"mycoinInfo\": this.click_addgold(); break;\r\n            case \"headbg\": this.click_userinfo(); break;\r\n            case \"btn_chongzhi\": this.click_addgold(); break;\r\n            case 'toggle_all':\r\n                if (this.roomType != 0) {\r\n                    this.roomType = 0;\r\n                    this.content.destroyAllChildren();\r\n                    this.content.removeAllChildren();\r\n                    this.isUpdateTrend = {};\r\n                    this.updateUI();\r\n                }\r\n                break;\r\n            case 'toggle_base':\r\n                if (this.roomType != 1) {\r\n                    this.roomType = 1;\r\n                    this.content.destroyAllChildren();\r\n                    this.content.removeAllChildren();\r\n                    this.isUpdateTrend = {};\r\n                    this.updateUI();\r\n                }\r\n                break;\r\n            case 'toggle_elementary':\r\n                if (this.roomType != 2) {\r\n                    this.roomType = 2;\r\n                    this.content.destroyAllChildren();\r\n                    this.content.removeAllChildren();\r\n                    this.isUpdateTrend = {};\r\n                    this.updateUI();\r\n                }\r\n                break;\r\n            case 'toggle_medium':\r\n                if (this.roomType != 3) {\r\n                    this.roomType = 3;\r\n                    this.content.destroyAllChildren();\r\n                    this.content.removeAllChildren();\r\n                    this.isUpdateTrend = {};\r\n                    this.updateUI();\r\n                }\r\n                break;\r\n            case 'toggle_higher':\r\n                if (this.roomType != 4) {\r\n                    this.roomType = 4;\r\n                    this.content.destroyAllChildren();\r\n                    this.content.removeAllChildren();\r\n                    this.updateUI();\r\n                }\r\n                break;\r\n            case 'toggle_plute':\r\n                if (this.roomType != 5) {\r\n                    this.roomType = 5;\r\n                    this.content.destroyAllChildren();\r\n                    this.content.removeAllChildren();\r\n                    this.updateUI();\r\n                }\r\n                break;\r\n            case 'btn_enter':\r\n            case 'btn_start':\r\n                if (glGame.user.isTourist()) {\r\n                    glGame.panel.showRegisteredGift(true)\r\n                    return;\r\n                }\r\n                if ((glGame.user.suspicious == 1 && glGame.user.game == 2) || glGame.user.is_game == 2) {\r\n                    glGame.panel.showDialog(\"\", \"您的账号数据异常，暂时禁止进入游戏，如有疑问，请联系客服！\", () => {\r\n                        glGame.panel.showService()\r\n                    }, () => {\r\n                    }, \"我知道了\", \"联系客服\")\r\n                    return;\r\n                }\r\n                glGame.panel.showFieldSelectionJuHua();\r\n                glGame.room.reqMyGameState(this.gameID, this.nodeInfo[node.parent.name].type, node.parent.name).then(() => {\r\n                    glGame.readyroom.enterHundredsRoom(node.parent.name, this.nodeInfo[node.parent.name].tag);\r\n                })\r\n                break;\r\n            default: console.error(\"no find button name -> %s\", name);\r\n        }\r\n    },\r\n    RootNodeShow() {\r\n        this.node.active = true;\r\n        this.registerEvent();\r\n        this.reqEnterArea();\r\n        this.nodeInfo = {};\r\n    },\r\n    RootNodeHide() {\r\n        this.node.active = false;\r\n        this.content.destroyAllChildren();\r\n        this.content.removeAllChildren();\r\n        this.cleanTimer();\r\n        this.unregisterEvent();\r\n    },\r\n    //事件监听\r\n    registerEvent() {\r\n        glGame.emitter.on(\"onGameInfolist_area\", this.onGameInfolist, this);\r\n        glGame.emitter.on(\"onRoomInfo_area\", this.onRoomInfo, this);\r\n        glGame.emitter.on(\"onHandInfo_area\", this.onHandInfo, this);\r\n        glGame.emitter.on(\"onDeleteRoom_area\", this.onDeleteRoom, this);\r\n    },\r\n    //事件销毁\r\n    unregisterEvent() {\r\n        glGame.emitter.off(\"onGameInfolist_area\", this);\r\n        glGame.emitter.off(\"onRoomInfo_area\", this);\r\n        glGame.emitter.off(\"onHandInfo_area\", this);\r\n        glGame.emitter.off(\"onDeleteRoom_area\", this);\r\n    },\r\n    cutFloat(value) {\r\n        return (Number(value).div(100)).toString();\r\n    },\r\n    showUserInfo() {\r\n        glGame.panel.showRemoteImage(this.Playerhead, glGame.user.get(\"headURL\"));\r\n    },\r\n    updateuserInfo() {\r\n        let coin = glGame.user.get(\"coin\")\r\n        this.goldCount.string = glGame.user.GoldTemp(coin);\r\n    },\r\n\r\n    setGameId(gameid) {\r\n        this.gameid = gameid;\r\n    },\r\n\r\n    updateBgInfo() {\r\n    },\r\n    click_userinfo() {\r\n        glGame.panel.showPanelByName(\"userinfo\");\r\n    },\r\n    click_addgold() {\r\n        glGame.panel.showShop(30);\r\n    },\r\n    click_back() {\r\n        glGame.readyroom.reqExitArea();\r\n        this.remove();\r\n    },\r\n    click_help() {\r\n        let rulePrefab = glGame.panel.showPanel(this.rulePrefab);\r\n        rulePrefab.zIndex = 30;\r\n    },\r\n    click_record() {\r\n        let recordPrefab = glGame.panel.showPanel(this.recordPrefab);\r\n        recordPrefab.zIndex = 30\r\n    },\r\n\r\n    set(key, value) {\r\n        this[key] = value;\r\n    },\r\n    get(key) {\r\n        return this[key];\r\n    },\r\n    //事件回调\r\n    //进入游戏信息回调\r\n    onDeleteRoom(msg) {\r\n        for (let i = 0; i < this.content.children.length; i++) {\r\n            if (this.content.children[i].name == msg.roomid) {\r\n                this.content.children[i].destroy();\r\n            }\r\n        }\r\n\r\n    },\r\n    onGameInfolist(msg) {\r\n        this.content.destroyAllChildren();\r\n        this.content.removeAllChildren();\r\n        this.gameInfoTest = glGame.readyroom.get(\"gameInfo\");\r\n        if (!this.gameInfoTest) return;\r\n        this.serverTimeOff = Date.now() - msg.servertime;\r\n        this.updateUI();\r\n    },\r\n    onHandInfo(msg) {\r\n        this.roomRecord = glGame.readyroom.roomrecord;\r\n        for (let i = 0; i < this.content.children.length; i++) {\r\n            if (this.content.children[i].name == msg.roomid) {\r\n                this.showRecord(this.content.children[i], this.roomRecord[msg.roomid], msg.roomid);\r\n            }\r\n        }\r\n    },\r\n    onRoomInfo(msg) {\r\n        this.roomList = glGame.readyroom.roomlist;\r\n        this.serverTimeOff = Date.now() - msg.servertime;\r\n        if (this.roomType != msg.roomdata.bettype && this.roomType !== 0) return\r\n        let count = 0;\r\n        for (let i = 0; i < this.content.children.length; i++) {\r\n            if (this.content.children[i].name == msg.roomdata.roomid) {\r\n                count++;\r\n            }\r\n        }\r\n        if (count == 0) {\r\n            let infoNode = cc.instantiate(this.node_record);\r\n            infoNode.parent = this.content;\r\n            infoNode.active = true;\r\n            infoNode.name = `${msg.roomdata.roomid}`;\r\n            this.nodeInfo[infoNode.name] = {\r\n                tag: this.roomList[msg.roomdata.bettype][msg.roomdata.roomid].roomserverid,\r\n                type: msg.roomdata.bettype\r\n            }\r\n            let waitTime = Math.floor((this.roomList[msg.roomdata.bettype][msg.roomdata.roomid].curwaittime - (Date.now() - this.serverTimeOff)) / 1000);\r\n            infoNode.waitTime = waitTime;\r\n            infoNode.getChildByName('onlineNum').getComponent(cc.Label).string = this.roomList[msg.roomdata.bettype][msg.roomdata.roomid].online;\r\n            infoNode.getChildByName('roomId').getChildByName('lab_roomId').getComponent(cc.Label).string = msg.roomdata.roomid;\r\n            let minbet = glGame.user.EnterRoomGoldTemp(this.gameInfoTest[msg.roomdata.bettype].Chips[0]),\r\n                maxbet = glGame.user.EnterRoomGoldTemp(this.gameInfoTest[msg.roomdata.bettype].MaxBet);\r\n            infoNode.getChildByName('chiplimit').getComponent(cc.Label).string = minbet + \"~\" + maxbet;\r\n            if (this.gameInfoTest[msg.roomdata.bettype].EntranceRestrictions <= glGame.user.get(\"coin\") && !glGame.user.isTourist()) {\r\n                infoNode.getChildByName(\"btn_enter\").getChildByName(\"enter\").active = true;\r\n                infoNode.getChildByName(\"btn_enter\").getChildByName(\"watch\").active = false;\r\n            } else {\r\n                infoNode.getChildByName(\"btn_enter\").getChildByName(\"enter\").active = false;\r\n                infoNode.getChildByName(\"btn_enter\").getChildByName(\"watch\").active = true;\r\n            }\r\n            this.roomRecord = glGame.readyroom.roomrecord;\r\n            this.showRecord(infoNode, this.roomRecord[msg.roomdata.roomid], msg.roomdata.roomid);\r\n\r\n        }\r\n        for (let i = 0; i < this.content.children.length; i++) {\r\n            if (this.content.children[i].name == msg.roomdata.roomid) {\r\n                let waitTime = Math.floor((msg.roomdata.curwaittime - (Date.now() - this.serverTimeOff)) / 1000);\r\n                this.content.children[i].waitTime = waitTime;\r\n                this.content.children[i].getChildByName(\"time\").getComponent(cc.Label).string = waitTime + \"s\";\r\n                this.content.children[i].getChildByName(\"gamestate\").color = this.gameState[msg.roomdata.process];\r\n                this.content.children[i].getChildByName(\"time\").color = this.gameState[msg.roomdata.process];\r\n                this.content.children[i].process = msg.roomdata.process;\r\n                this.content.children[i].getChildByName(\"gamestate\").getComponent(cc.Label).string = this.stateWord[msg.roomdata.process];\r\n                this.content.children[i].getChildByName('onlineNum').getComponent(cc.Label).string = msg.roomdata.online;\r\n            }\r\n        }\r\n    },\r\n    //更新UI\r\n    updateUI() {\r\n        this.roomList = []\r\n\r\n        for (let key in glGame.readyroom.roomlist[this.roomType]) {\r\n            this.roomList.push(glGame.readyroom.roomlist[this.roomType][key])\r\n        }\r\n\r\n        this.roomList.sort((a, b) => {\r\n            return a.bettype - b.bettype;\r\n        });\r\n        this.roomRecord = glGame.readyroom.roomrecord;\r\n        if (!this.roomList) {\r\n            return;\r\n        }\r\n        this.cleanTimer();\r\n        for (let roomid in this.roomList) {\r\n            if (!this.roomList[roomid]) continue;\r\n            for (let i = 0; i < this.content.childrenCount; i++) {\r\n                if (this.content.children[i].name == this.roomList[roomid].roomid) {\r\n                    return;\r\n                }\r\n            }\r\n            let infoNode = cc.instantiate(this.node_record);\r\n            infoNode.parent = this.content;\r\n            infoNode.active = true;\r\n            infoNode.name = `${this.roomList[roomid].roomid}`;\r\n            this.nodeInfo[infoNode.name] = {\r\n                tag: this.roomList[roomid].roomserverid,\r\n                type: this.roomList[roomid].bettype\r\n            }\r\n            let str = this.roomList[roomid].roomid.toString();\r\n            infoNode.getChildByName('roomId').getChildByName('lab_roomId').getComponent(cc.Label).string = str.length > 5 ? str.substr(str.length - 5) : str;\r\n            infoNode.getChildByName('onlineNum').getComponent(cc.Label).string = this.roomList[roomid].online;\r\n            let minbet = glGame.user.EnterRoomGoldTemp(this.gameInfoTest[this.roomList[roomid].bettype].Chips[0]),\r\n                maxbet = glGame.user.EnterRoomGoldTemp(this.gameInfoTest[this.roomList[roomid].bettype].MaxBet);\r\n            infoNode.getChildByName('chiplimit').getComponent(cc.Label).string = minbet + \"~\" + maxbet;\r\n            if (this.gameInfoTest[this.roomList[roomid].bettype].EntranceRestrictions <= glGame.user.get(\"coin\") && !glGame.user.isTourist()) {\r\n                infoNode.getChildByName(\"btn_enter\").getChildByName(\"enter\").active = true;\r\n                infoNode.getChildByName(\"btn_enter\").getChildByName(\"watch\").active = false;\r\n            } else {\r\n                infoNode.getChildByName(\"btn_enter\").getChildByName(\"enter\").active = false;\r\n                infoNode.getChildByName(\"btn_enter\").getChildByName(\"watch\").active = true;\r\n            }\r\n            infoNode.getChildByName(\"gamestate\").getComponent(cc.Label).string = this.stateWord[this.roomList[roomid].process]\r\n            infoNode.process = this.roomList[roomid].process;\r\n            let waitTime = Math.floor((this.roomList[roomid].curwaittime - (Date.now() - this.serverTimeOff)) / 1000);\r\n            infoNode.waitTime = waitTime;\r\n            infoNode.getChildByName(\"time\").color = waitTime <= 3 && this.roomList[roomid].process == 2 ? this.gameState[0] : this.gameState[this.roomList[roomid].process];\r\n            infoNode.getChildByName(\"gamestate\").color = waitTime <= 3 && this.roomList[roomid].process == 2 ? this.gameState[0] : this.gameState[this.roomList[roomid].process];\r\n            infoNode.getChildByName('time').getComponent(cc.Label).string = waitTime + \"s\"\r\n            this.showRecord(infoNode, this.roomRecord[this.roomList[roomid].roomid], this.roomList[roomid].roomid);\r\n        }\r\n        this.showClock();\r\n    },\r\n    //桌面数据的显示\r\n    getFloat(value) {\r\n        return (Number(value).div(100)).toString();\r\n    },\r\n    //显示倒计时\r\n    showClock() {\r\n        this.setTimeOut = setInterval(() => {\r\n            if (this.content.children) {\r\n                for (let i = 0; i < this.content.children.length; i++) {\r\n                    this.content.children[i].waitTime -= 1;\r\n                    if (this.content.children[i].waitTime <= 0) {\r\n                        this.content.children[i].waitTime = 0;\r\n                    }\r\n                    if (this.content.children[i].waitTime <= 3 && this.content.children[i].process == 2) {\r\n                        this.content.children[i].getChildByName(\"gamestate\").color = this.gameState[0];\r\n                        this.content.children[i].getChildByName(\"time\").color = this.gameState[0];\r\n                    }\r\n                    this.content.children[i].getChildByName(\"time\").getComponent(cc.Label).string = this.content.children[i].waitTime + \"s\";\r\n                }\r\n            }\r\n        }, 1000)\r\n    },\r\n\r\n    showRecord(node, record, roomid) {\r\n        if (!record) {\r\n            return\r\n        }\r\n        let index = 0;\r\n        let dotNode;\r\n        let row = 0,\r\n            col = 0;\r\n        node.getChildByName('node_dot').destroyAllChildren();\r\n        node.getChildByName('node_dot').removeAllChildren();\r\n        this.showSmallTrend(node, record, roomid);\r\n        index = 0;\r\n        row = 0;\r\n        col = 0;\r\n        let recordArr = [];\r\n        index = this.getIndex(record);\r\n        for (let i = index; i < record.length; i++) {\r\n            let isChangeRow = false;\r\n            for (let j = 0; j < record[i].count; j++) {\r\n                let labelColor = null;\r\n                dotNode = cc.instantiate(this.node_result);\r\n                if (record[i].result == 1) {\r\n                    labelColor = cc.Color(179, 6, 7);\r\n                    dotNode.getComponent(cc.Sprite).spriteFrame = this.sprite_Atlas._spriteFrames['img_hongquan'];\r\n                } else if (record[i].result == 2) {\r\n                    labelColor = cc.color(30, 2, 3);\r\n                    dotNode.getComponent(cc.Sprite).spriteFrame = this.sprite_Atlas._spriteFrames['img_heiquan'];\r\n                }\r\n                if (record[i].he) {\r\n                    for (let k = 0; k < record[i].he.length; k++) {\r\n                        if (record[i].he[k].index - 1 == j) {\r\n                            dotNode.children[0].active = true;\r\n                            dotNode.children[0].getComponent(cc.Label).string = record[i].he[k].num;\r\n                            dotNode.children[0].color = labelColor;\r\n                        }\r\n                    }\r\n                }\r\n                dotNode.parent = node.getChildByName('node_dot');\r\n                let newCol = col;\r\n                let newRow = row;\r\n                while (newRow > 5) {\r\n                    newRow--;\r\n                    newCol++;\r\n                }\r\n                for (let k = 0; k < recordArr.length; k++) {\r\n                    if (newRow == recordArr[k][0] && newCol == recordArr[k][1]) {\r\n                        isChangeRow = true;\r\n                    }\r\n                }\r\n                if (isChangeRow) {\r\n                    newRow--;\r\n                }\r\n                dotNode.setPosition(cc.v2(-343 + newCol * 43, 84 - newRow * 36));\r\n                recordArr.push([newRow, newCol]);\r\n                if(this.isUpdateTrend[roomid]){\r\n                    dotNode.active = true;\r\n                }\r\n                \r\n                row++;\r\n            }\r\n            col++;\r\n            row = 0;\r\n        }\r\n        if(!this.isUpdateTrend[roomid]){\r\n            glGame.panel.showEffectNode(this,node.getChildByName('node_dot'),0.02,true);\r\n            this.isUpdateTrend[roomid] = true;\r\n        }\r\n    },\r\n    //显示当前的小路\r\n    showSmallTrend(node, record, roomid) {\r\n        let roundRecord = [], dotNode;\r\n        node.getChildByName(\"trend\").destroyAllChildren();\r\n        node.getChildByName(\"trend\").removeAllChildren();\r\n\r\n        for (let i = 0; i < record.length; i++) {\r\n            for (let j = 0; j < record[i].count; j++) {\r\n                roundRecord.push(record[i].result)\r\n                if (record[i].he) {\r\n                    for (let k = 0; k < record[i].he.length; k++) {\r\n                        if (record[i].he[k].index - 1 == j) {\r\n                            for (let z = 0; z < record[i].he[k].num; z++) {\r\n                                roundRecord.push(3);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n        let doublerecord = glGame.readyroom.doublerecord[roomid]\r\n        let index = roundRecord.length > 15 ? roundRecord.length - 15 : 0;\r\n        for (let i = index; i < roundRecord.length; i++) {\r\n            dotNode = cc.instantiate(this.node_result);\r\n            dotNode.parent = node.getChildByName(\"trend\");\r\n            if (roundRecord[i] == 1) {\r\n                dotNode.getComponent(cc.Sprite).spriteFrame = this.sprite_Atlas._spriteFrames['img_zhuang'];\r\n            } else if (roundRecord[i] == 2) {\r\n                dotNode.getComponent(cc.Sprite).spriteFrame = this.sprite_Atlas._spriteFrames['img_xian'];\r\n            } else if (roundRecord[i] == 3) {\r\n                dotNode.getComponent(cc.Sprite).spriteFrame = this.sprite_Atlas._spriteFrames['img_he'];\r\n            }\r\n            if (doublerecord[i] == 1) {\r\n                dotNode.children[1].active = true;\r\n            } else if (doublerecord[i] == 2) {\r\n                dotNode.children[2].active = true;\r\n            } else if (doublerecord[i] == 3) {\r\n                dotNode.children[1].active = true;\r\n                dotNode.children[2].active = true;\r\n            }\r\n            dotNode.active = true;\r\n        }\r\n    },\r\n    getIndex(record) {\r\n        let index = 0;\r\n        if (record.length > 17) {\r\n            index = record.length - 17;\r\n        }\r\n        for (let j = index; j < record.length; j++) {\r\n            if (j - index + record[j].count >= 29) {\r\n                index += j - index + record[j].count - 29;\r\n            }\r\n        }\r\n        return index;\r\n    },\r\n    //清理倒计时\r\n    cleanTimer() {\r\n        if (this.setTimeOut != null) {\r\n            clearTimeout(this.setTimeOut);\r\n        }\r\n        this.setTimeOut = null;\r\n    },\r\n    OnDestroy() {\r\n        glGame.emitter.off(MESSAGE.UI.ROOM_ENTER_SHOW, this);\r\n        glGame.emitter.off(MESSAGE.UI.ROOM_ENTER_HIDE, this);\r\n        glGame.emitter.off(\"nodeRemove\", this);\r\n        glGame.emitter.off(\"updateUserData\", this);\r\n        this.cleanTimer();\r\n        this.unregisterEvent();\r\n    },\r\n    // update (dt) {},\r\n});\r\n"]}