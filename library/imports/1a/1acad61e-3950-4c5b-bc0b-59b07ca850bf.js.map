{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\popularize\\todaybrokerage.js"],"names":["glGame","baseclass","extend","properties","norecord","cc","Node","infoItem","content","Lab_CurPage","Label","Lab_totalPage","direct_achievement","achievement","commission","onLoad","page","string","recordReqData","id","nickname","onClick","name","node","pageup_CB","pagedown_CB","ReqPlayerExtensionCountlessDaily","recordData","gameNet","send_msg","page_size","route","msg","page_total","setTable","list","initUI","data","getFloat","destroyAllChildren","removeAllChildren","count","length","active","hiadShowNode","i","instantiate","parent","getChildByName","getComponent","logicid","bet","achievecontribu","contribute_bet_commission","panel","settingTableLabelColor","rankcontribu","contribute_sub_commission","totalcontribu","showEffectNode","isBool","value","Number","div","toString","set","key","OnDestroy"],"mappings":"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","sourceRoot":"/","sourcesContent":["glGame.baseclass.extend({\r\n    properties: {\r\n        norecord: cc.Node,//noneLab\r\n        infoItem: cc.Node,\r\n        content: cc.Node,\r\n        Lab_CurPage: cc.Label,\r\n        Lab_totalPage: cc.Label,\r\n\r\n        //up\r\n        direct_achievement: cc.Label,\r\n        achievement: cc.Label,\r\n        commission: cc.Label,\r\n    },\r\n    onLoad() {\r\n        this.page = 1;\r\n        this.Lab_CurPage.string = this.page;\r\n        this.recordReqData = { id: \"\", nickname: \"\" };\r\n    },\r\n    \r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"btn_pageup\": this.pageup_CB(); break;\r\n            case \"btn_pagedown\": this.pagedown_CB(); break;\r\n            //case \"btn_detail\": this.btn_detailCB(node); break;\r\n            default: break;\r\n        }\r\n    },\r\n    ReqPlayerExtensionCountlessDaily() {\r\n        let id = this.recordData.id,\r\n            nickname = this.recordData.nickname,\r\n            page = this.page;\r\n        this.Lab_CurPage.string = this.page;\r\n        glGame.gameNet.send_msg('http.ReqPlayerExtensionCountlessDaily', { page: page, page_size: 8, id: id, nickname: nickname }, (route, msg) => {\r\n            this.recordData = msg;\r\n            this.Lab_totalPage.string = this.recordData.page_total == 0 ? 1 : this.recordData.page_total;\r\n            this.setTable(this.recordData.list)\r\n        })\r\n    },\r\n    initUI(data) {\r\n        this.recordData = data\r\n        this.direct_achievement.string = this.getFloat(this.recordData.direct_achievement);\r\n        this.achievement.string = this.getFloat(this.recordData.achievement);\r\n        this.commission.string = this.getFloat(this.recordData.commission);\r\n        this.Lab_totalPage.string = this.recordData.page_total == 0 ? 1 : this.recordData.page_total;\r\n        this.setTable(this.recordData.list)\r\n        \r\n    },\r\n    setTable(data) {\r\n        this.content.destroyAllChildren();\r\n        this.content.removeAllChildren();\r\n\r\n        let count = data.length;\r\n        if (count == 0) {\r\n            this.norecord.active = true;\r\n            return;\r\n        }\r\n        this.hiadShowNode(count > 0);\r\n        for (let i = 0; i < count; i++) {\r\n            let infoItem = cc.instantiate(this.infoItem);\r\n            infoItem.parent = this.content;\r\n            infoItem.active = false;\r\n            infoItem.getChildByName(\"bg\").active = i % 2 == 1;\r\n            infoItem.getChildByName(\"member\").getComponent(cc.Label).string = data[i].logicid;\r\n            infoItem.getChildByName(\"name\").getComponent(cc.Label).string = data[i].nickname;\r\n            infoItem.getChildByName(\"achievement\").getComponent(cc.Label).string = this.getFloat(data[i].bet);      //打码量\r\n            let achievecontribu = infoItem.getChildByName(\"achievecontribu\")\r\n            achievecontribu.getComponent(cc.Label).string = this.getFloat(data[i].contribute_bet_commission);    //直推\r\n            glGame.panel.settingTableLabelColor(achievecontribu);\r\n            infoItem.getChildByName(\"teamcontribu\").getComponent(cc.Label).string = this.getFloat(data[i].achievement);                     //团队业绩\r\n            let rankcontribu = infoItem.getChildByName(\"rankcontribu\")\r\n            rankcontribu.getComponent(cc.Label).string = this.getFloat(data[i].contribute_sub_commission);       //级差佣金\r\n            glGame.panel.settingTableLabelColor(rankcontribu);\r\n            let totalcontribu = infoItem.getChildByName(\"totalcontribu\")\r\n            totalcontribu.getComponent(cc.Label).string = this.getFloat(data[i].contribute_bet_commission + data[i].contribute_sub_commission);\r\n            glGame.panel.settingTableLabelColor(totalcontribu);\r\n        }\r\n        glGame.panel.showEffectNode(this,this.content,0.02,true);\r\n    },\r\n    hiadShowNode(isBool) {\r\n        this.node.getChildByName(\"btn_pageup\").active = isBool;\r\n        this.node.getChildByName(\"pagelayout\").active = isBool;\r\n        this.node.getChildByName(\"btn_pagedown\").active = isBool;\r\n        this.node.getChildByName(\"explain\").active = isBool;\r\n    },\r\n    getFloat(value) {\r\n        return (Number(value).div(100)).toString();\r\n    },\r\n\r\n    pageup_CB() {\r\n        this.page--\r\n        if (this.page < 1) {\r\n            this.page = 1\r\n            return\r\n        }\r\n        this.ReqPlayerExtensionCountlessDaily()\r\n    },\r\n    pagedown_CB() {\r\n        this.page++;\r\n        if (this.page > Number(this.Lab_totalPage.string)) {\r\n            this.page = Number(this.Lab_totalPage.string);\r\n            return\r\n        }\r\n        this.ReqPlayerExtensionCountlessDaily()\r\n    },\r\n    set(key, value) {\r\n        this[key] = value;\r\n    },\r\n    OnDestroy() {\r\n\r\n    },\r\n});\r\n"]}