{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\enterRoom\\ddzentry.js"],"names":["glGame","baseclass","extend","properties","goldCount","cc","Label","recordPrefab","Prefab","rulePrefab","level","type","Node","BGM","AudioClip","onLoad","gameid","node","zIndex","audio","playBGM","emitter","on","MESSAGE","UI","ROOM_ENTER_SHOW","RootNodeShow","ROOM_ENTER_HIDE","RootNodeHide","updateuserInfo","click_back","registerEvent","reqEnterArea","onClick","name","click_help","click_record","click_addgold","click_userinfo","enterGame","console","error","room","reqMyGameState","gameID","then","gameConfig","panel","showMsgBox","user","isTourist","showRegisteredGift","suspicious","game","is_game","showDialog","showService","EntranceRestrictions","get","log","string","cutFloat","showShop","showJuHua","runAction","sequence","delayTime","callFunc","closeJuHua","setGoldRoomInfo","goldOnlineNum","onGameConfig","unregisterEvent","off","active","msg","initUI","scenetag","DDZ","readyroom","count","length","i","getChildByName","getComponent","configure","BaseChips","value","Number","div","toString","checkGold","coin","minCion","parseInt","i18n","t","showPanelByName","showUserInfo","showRemoteImage","Playerhead","GoldTemp","setGameId","updateBgInfo","reqExitArea","remove","showPanel","set","key","OnDestroy"],"mappings":"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","sourceRoot":"/","sourcesContent":["glGame.baseclass.extend({\r\n\r\n    properties: {\r\n        goldCount: cc.Label,\r\n        recordPrefab : cc.Prefab,\r\n        rulePrefab : cc.Prefab,\r\n        level: {\r\n            type: cc.Node,\r\n            default: []\r\n        },\r\n        BGM:{\r\n            type:cc.AudioClip,\r\n            default:null\r\n         },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        this.gameid = 0;\r\n        this.node.zIndex = 20;\r\n        glGame.audio.playBGM(this.BGM);\r\n        glGame.emitter.on(MESSAGE.UI.ROOM_ENTER_SHOW, this.RootNodeShow, this);\r\n        glGame.emitter.on(MESSAGE.UI.ROOM_ENTER_HIDE, this.RootNodeHide, this);\r\n        glGame.emitter.on(\"updateUserData\", this.updateuserInfo, this);\r\n        glGame.emitter.on(\"nodeRemove\", this.click_back, this);\r\n        this.updateuserInfo();\r\n        this.registerEvent();\r\n        this.reqEnterArea();\r\n    },\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"btn_back\": this.click_back(); break;\r\n            case \"btn_help\": this.click_help(); break;\r\n            case \"btn_record\": this.click_record(); break;\r\n            case \"mycoinInfo\": this.click_addgold(); break;\r\n            case \"headbg\": this.click_userinfo(); break;\r\n            case \"btn_chongzhi\": this.click_addgold(); break;\r\n            case \"primary\": this.enterGame(99); break;\r\n            case \"intermediate\": this.enterGame(1); break;\r\n            case \"senior\": this.enterGame(2); break;\r\n            case \"tuhao\": this.enterGame(3); break;\r\n            case \"supremacy\": this.enterGame(4); break;\r\n            case \"volvo\": this.enterGame(5); break;\r\n            default: console.error(\"no find button name -> %s\", name);\r\n        }\r\n    },\r\n    /**\r\n     * 进入金币场房间\r\n     * @param level 场次类型 1:初级场 2:中级场 3:高级场 4:土豪场 5:至尊场\r\n     */\r\n    enterGame(level) {\r\n        glGame.room.reqMyGameState(this.gameID, level).then(() => {\r\n            let gameID = this.gameID;\r\n            if (this.gameConfig[level] == null) {\r\n                glGame.panel.showMsgBox('提示', '该房间尚未开放，请尝试其他房间。');\r\n                return;\r\n            }\r\n            if (glGame.user.isTourist()) {\r\n                if (level != 99) {\r\n                    glGame.panel.showRegisteredGift(true)\r\n                    return;\r\n                }\r\n            }\r\n            if((glGame.user.suspicious == 1 &&glGame.user.game == 2 ) || glGame.user.is_game == 2 ){\r\n                glGame.panel.showDialog(\"\", \"您的账号数据异常，暂时禁止进入游戏，如有疑问，请联系客服！\", () => { glGame.panel.showService() }, () => {}, \"我知道了\", \"联系客服\")\r\n                return;\r\n            }\r\n            if (this.gameConfig[level].EntranceRestrictions > glGame.user.get(\"coin\")) {\r\n                console.log(\"这是当前的房间限制\", this.gameConfig)\r\n                let string = ` <color=#99C7FF>您的金币不足，该房间需要</c> <color=#ff0000> ${this.cutFloat(this.gameConfig[level].EntranceRestrictions)}  </c><color=#99C7FF>金币才可下注，是否马上前往充值？</c>`\r\n                glGame.panel.showDialog(\"\", string, () => { glGame.panel.showShop(100) }, () => { }, \"取消\", \"充值\");\r\n                return\r\n            }\r\n            glGame.panel.showJuHua();\r\n            // glGame.readyroom.reqExitArea();\r\n            this.node.runAction(cc.sequence(\r\n                cc.delayTime(15),\r\n                cc.callFunc(() => {\r\n                    glGame.panel.closeJuHua();\r\n                })\r\n            ))\r\n            // TODO\r\n            // reqGoldRoomVerify为旧的进入房间方法，需要先请求验证，再进入房间\r\n            // setGoldRoomInfo 新的进入房间方法，无需验证，设置游戏类型以及房间信息后，直接进入房间\r\n            // if (glGame.enterRoomVerification) {\r\n            //     glGame.room.reqGoldRoomVerify(gameID, level);\r\n            // } else {\r\n            //     glGame.room.setGoldRoomInfo(gameID, level);\r\n            // }\r\n            glGame.room.setGoldRoomInfo(gameID, level);\r\n        })\r\n    },\r\n    //事件监听\r\n    registerEvent() {\r\n        glGame.emitter.on(\"goldOnlineNum\", this.goldOnlineNum, this);\r\n        glGame.emitter.on(\"onGameConfig\", this.onGameConfig, this);\r\n    },\r\n    //事件销毁\r\n    unregisterEvent() {\r\n        glGame.emitter.off(\"goldOnlineNum\", this);\r\n        glGame.emitter.off(\"onGameConfig\", this);\r\n    },\r\n    RootNodeShow(){\r\n        this.node.active = true;\r\n        this.registerEvent();\r\n        this.reqEnterArea();\r\n    },\r\n    RootNodeHide(){\r\n        this.node.active = false;\r\n        this.unregisterEvent();\r\n    },\r\n    onGameConfig(msg) {\r\n        this.gameConfig = msg;\r\n        this.initUI();\r\n    },\r\n  \r\n    reqEnterArea() {\r\n        this.gameID = glGame.scenetag.DDZ;\r\n        glGame.readyroom.reqEnterArea(glGame.scenetag.DDZ);\r\n    },\r\n    goldOnlineNum(msg) {\r\n        console.log(\"这是在线人数的消息\", msg)\r\n        let count = this.level.length;\r\n        for (let i = 0; i < count; i++) {\r\n            if (msg[i + 1]) {\r\n                this.level[i].getChildByName(\"people_num\").getComponent(cc.Label).string = msg[i + 1]\r\n            }\r\n        }\r\n    },\r\n    initUI() {\r\n        this.node.active = true;\r\n        let configure = this.gameConfig;\r\n        let count = this.level.length;\r\n        for (let i = 1; i < count; i++) {\r\n            this.level[i].getChildByName(\"dizhulaout\").getChildByName(\"dizhu_num\").getComponent(cc.Label).string = this.cutFloat(configure[i].BaseChips);\r\n            this.level[i].getChildByName(\"zhunrulayout\").getChildByName(\"zhunru_num\").getComponent(cc.Label).string = this.cutFloat(configure[i].EntranceRestrictions);\r\n        }\r\n    },\r\n    cutFloat(value) {\r\n        return (Number(value).div(100)).toString();\r\n    },\r\n    /**\r\n     * 检查玩家金币是否足够\r\n     * @returns {boolean}\r\n     */\r\n    checkGold(coin, minCion) {\r\n        console.log(\"金币检测\", coin, minCion);\r\n        if (parseInt(coin) < parseInt(minCion)) {\r\n            glGame.panel.showDialog(glGame.i18n.t(\"USER.GOLDLACK.TITLE\"), glGame.i18n.t(\"USER.GOLDLACK.CONTENT\"), () => {\r\n                glGame.panel.showPanelByName(\"shop\");\r\n            }, null);\r\n            return false;\r\n        }\r\n        return true;\r\n    },\r\n    showUserInfo() {\r\n        glGame.panel.showRemoteImage(this.Playerhead, glGame.user.get(\"headURL\"));\r\n    },\r\n    updateuserInfo() {\r\n        let coin = glGame.user.get(\"coin\")\r\n        this.goldCount.string = glGame.user.GoldTemp(coin);\r\n    },\r\n\r\n    setGameId(gameid) {\r\n        this.gameid = gameid;\r\n    },\r\n\r\n    updateBgInfo() {\r\n        \r\n    },\r\n    click_userinfo() {\r\n        glGame.panel.showPanelByName(\"userinfo\");\r\n    },\r\n    click_addgold() {\r\n        glGame.panel.showShop(30);\r\n    },\r\n    click_back() {\r\n        glGame.readyroom.reqExitArea();\r\n        this.remove();\r\n    },\r\n    click_help() {\r\n        let panel = glGame.panel.showPanel(this.rulePrefab);\r\n        panel.zIndex = 30;\r\n    },\r\n    click_record() {\r\n        let panel = glGame.panel.showPanel(this.recordPrefab);\r\n        panel.zIndex = 30;\r\n    },\r\n\r\n    set(key, value) {\r\n        this[key] = value;\r\n    },\r\n    get(key) {\r\n        return this[key];\r\n    },\r\n    OnDestroy() {\r\n        glGame.emitter.off(MESSAGE.UI.ROOM_ENTER_SHOW,this);\r\n        glGame.emitter.off(MESSAGE.UI.ROOM_ENTER_HIDE,this);\r\n        glGame.emitter.off(\"nodeRemove\", this);\r\n        glGame.emitter.off(\"updateUserData\",this);\r\n        this.unregisterEvent();\r\n    },\r\n    // update (dt) {},\r\n});\r\n"]}