{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\enterRoom\\hbslentry.js"],"names":["glGame","baseclass","extend","properties","BGM","type","cc","AudioClip","gold_count","Label","entrance_item","Node","scrollView","ScrollView","content","hbslRecord","Prefab","hbslRule","sp_bg","sp","SkeletonData","font","Font","hbsl_tipAni","bg_mask","fire_node","fireworks","launchPoint","onLoad","gameid","node","zIndex","emitter","on","MESSAGE","UI","ROOM_ENTER_SHOW","RootNodeShow","ROOM_ENTER_HIDE","RootNodeHide","click_back","updateuserInfo","registerEvent","reqEnterArea","nodeInfo","initUI","indexFire","playFireworks","getComponent","Widget","updateAlignment","s_width","width","item_width","spacing_x","scrollLeftCb","scrollRigthCb","onGameInfolist","onRoomInfo","onDeleteRoom","unregisterEvent","off","active","index","childrenCount","children","gameID","scenetag","HBSL","readyroom","getChildByName","msg","removeAllChildren","roomlist","gameInfoTest","get","spacingX","Object","values","forEach","gameInfo","item","instantiate","parent","name","x","y","height","Skeleton","skeletonData","zhunru_txt","small_num","cutFloat","RedPacketMoney","big_num","length","string","initAni","renwu_pos","pos","getPosition","push","setAnimation","i","runAction","sequence","delayTime","moveTo","v2","time","Math","random","indextemp","callFunc","emissionFire","distance","aniList","scaleList","position","setScale","moveBy","opacity","Animation","play","destroy","onClick","click_help","click_record","click_addgold","showTip","console","log","executionScrollTo","error","scrollToLeft","scrollToRight","tipAni","panel","showPanel","emit","enterroom","user","isTourist","showRegisteredGift","suspicious","game","is_game","showDialog","showService","showFieldSelectionJuHua","room","reqMyGameState","then","enterHundredsRoomOther","value","Number","div","toString","coin","GoldTemp","setGameId","updateBgInfo","showShop","reqExitArea","remove","set","key","OnDestroy"],"mappings":"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","sourceRoot":"/","sourcesContent":["glGame.baseclass.extend({\r\n\r\n    properties: {\r\n        BGM: {\r\n            type: cc.AudioClip,\r\n            default: null,\r\n        },\r\n        gold_count: cc.Label,\r\n        entrance_item: cc.Node,\r\n        scrollView: cc.ScrollView,\r\n        content: cc.Node,\r\n        hbslRecord: cc.Prefab,\r\n        hbslRule: cc.Prefab,\r\n        sp_bg: [sp.SkeletonData],\r\n        font: [cc.Font],\r\n        hbsl_tipAni: cc.Prefab,\r\n        bg_mask: cc.Node,\r\n        fire_node: cc.Node,\r\n        fireworks: cc.Node,\r\n        launchPoint: cc.Node,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        this.gameid = 0;\r\n        this.node.zIndex = 20;\r\n        glGame.emitter.on(MESSAGE.UI.ROOM_ENTER_SHOW, this.RootNodeShow, this);\r\n        glGame.emitter.on(MESSAGE.UI.ROOM_ENTER_HIDE, this.RootNodeHide, this);\r\n        glGame.emitter.on(\"nodeRemove\", this.click_back, this);\r\n        glGame.emitter.on(\"updateUserData\", this.updateuserInfo, this);\r\n        this.updateuserInfo();\r\n        this.registerEvent();\r\n        this.reqEnterArea();\r\n        this.nodeInfo = {};\r\n        this.initUI();\r\n        this.indexFire = 0;\r\n        this.playFireworks();\r\n    },\r\n    initUI() {\r\n        this.scrollView.getComponent(cc.Widget).updateAlignment();\r\n\r\n        let s_width = this.scrollView.node.width;\r\n        let item_width = this.entrance_item.width;\r\n        this.spacing_x =  (s_width - item_width * 3) / 5;\r\n        // let c_layout = this.content.getComponent(cc.Layout);\r\n        // c_layout.spacingX = spacing_x * 1.5;\r\n        // c_layout.paddingLeft = spacing_x * 1.25;\r\n        // c_layout.paddingRight = spacing_x * 1.25;\r\n    },\r\n    //事件监听\r\n    registerEvent() {\r\n        // 监听scrollView的滚动事件\r\n        this.scrollView.node.on(\"scroll-to-left\", this.scrollLeftCb, this);\r\n        this.scrollView.node.on(\"scroll-to-right\", this.scrollRigthCb, this);\r\n\r\n        glGame.emitter.on(\"onGameInfolist_area\", this.onGameInfolist, this);\r\n        glGame.emitter.on(\"onRoomInfo_area\", this.onRoomInfo, this);\r\n        glGame.emitter.on(\"onDeleteRoom_area\", this.onDeleteRoom, this);\r\n    },\r\n    //事件销毁\r\n    unregisterEvent() {\r\n        glGame.emitter.off(\"onGameInfolist_area\", this);\r\n        glGame.emitter.off(\"onRoomInfo_area\", this);\r\n        glGame.emitter.off(\"onDeleteRoom_area\", this);\r\n    },\r\n    RootNodeShow() {\r\n        this.node.active = true;\r\n        this.registerEvent();\r\n        this.reqEnterArea();\r\n    },\r\n    RootNodeHide() {\r\n        for (let index = 0; index < this.content.childrenCount; index++) {\r\n            this.content.children[index].active = false;\r\n        }\r\n        this.node.active = false;\r\n        this.unregisterEvent();\r\n    },\r\n    //发包\r\n    reqEnterArea() {\r\n        this.gameID = glGame.scenetag.HBSL;\r\n        glGame.readyroom.reqEnterArea(glGame.scenetag.HBSL);\r\n    },\r\n    scrollLeftCb(scrollView){\r\n        // cc.log(\"**********************************触摸到Left，反弹函数\");\r\n        this.node.getChildByName(\"jiantou_l\").active = false;\r\n        this.node.getChildByName(\"jiantou_r\").active = false;\r\n        this.node.getChildByName(\"jiantou_r\").active = true;\r\n    },\r\n    scrollRigthCb(scrollView) {\r\n        // 回调的参数是 ScrollView 组件\r\n        // do whatever you want with scrollview\r\n        // cc.log(\"**********************************触摸到Rigth，反弹函数\");\r\n        this.node.getChildByName(\"jiantou_l\").active = false;\r\n        this.node.getChildByName(\"jiantou_r\").active = false;\r\n        this.node.getChildByName(\"jiantou_l\").active = true;\r\n     },\r\n    onGameInfolist(msg) {\r\n        this.content.removeAllChildren();\r\n        let index = 0;\r\n        let roomlist = glGame.readyroom.roomlist;\r\n        let gameInfoTest = glGame.readyroom.get(\"gameInfo\");\r\n        let spacingX = this.spacing_x * 1.5;\r\n        this.content.width = (this.entrance_item.width + spacingX) * 4  + this.spacing_x * 1.25 * 2 - spacingX;\r\n        this.content.getComponent(cc.Widget).updateAlignment();\r\n        Object.values(gameInfoTest).forEach(gameInfo=>{\r\n            if (index < 4) {\r\n                let item = cc.instantiate(this.entrance_item);\r\n                item.parent = this.content;\r\n                item.active = false;\r\n                item.name = (index + 1) + \"\";\r\n                item.x = this.spacing_x * 1.25 + this.entrance_item.width / 2 + (this.entrance_item.width + spacingX) * index;\r\n                item.y = -this.content.height/2;\r\n\r\n                // let bettype = index + 1;\r\n                // let roomid = Object.keys(roomlist[bettype])[0];\r\n                // item.name = roomid;\r\n                // this.nodeInfo[roomid] = {\r\n                //     tag: roomlist[bettype][roomid].roomserverid,\r\n                //     type: bettype\r\n                // }\r\n\r\n                // 设置位置和刷新数据\r\n                item.getChildByName(\"spine\").getComponent(sp.Skeleton).skeletonData = this.sp_bg[index];\r\n                // item.getChildByName(\"spine\").getComponent(sp.Skeleton).setAnimation(0,\"animation\", true);\r\n                item.getChildByName(\"difen_txt\").getComponent(cc.Label).font = this.font[index];\r\n                let zhunru_txt = item.getChildByName(\"zhunru_txt\").getComponent(cc.Label);\r\n                zhunru_txt.font = this.font[index];\r\n                let small_num = this.cutFloat(gameInfo.RedPacketMoney[0]);\r\n                let big_num = this.cutFloat(gameInfo.RedPacketMoney[gameInfo.RedPacketMoney.length-1]);\r\n                zhunru_txt.string = `${small_num}-${big_num}`;\r\n\r\n                index++;\r\n            }\r\n        });\r\n\r\n        this.initAni();\r\n    },\r\n    initAni() {\r\n        this.renwu_pos = [];\r\n        for (let index = 0; index < this.content.childrenCount; index++) {\r\n            let pos = this.content.children[index].getPosition()\r\n            this.renwu_pos.push(pos);\r\n            this.content.children[index].x = this.node.width / 2 + pos.x;\r\n            this.content.children[index].active = true\r\n            this.content.children[index].getChildByName(\"spine\").getComponent(sp.Skeleton).setAnimation(0,\"animation\", true);\r\n        }\r\n\r\n        for (let i = 0; i < this.content.childrenCount; i++) {\r\n            this.content.children[i].runAction(cc.sequence(\r\n                cc.delayTime(i * 0.05),\r\n                cc.moveTo(0.25, cc.v2(this.renwu_pos[i].x - 40, this.renwu_pos[i].y)),\r\n                cc.moveTo(0.1, this.renwu_pos[i])\r\n            ))\r\n        }\r\n    },\r\n    playFireworks() {\r\n        let time = Math.random() * 2;\r\n        let indextemp = [1, 0, 3, 2]\r\n        let index = indextemp[this.indexFire % 4];\r\n        this.node.runAction(cc.sequence(\r\n            cc.delayTime(time),\r\n            cc.callFunc(()=>{\r\n                this.indexFire++;\r\n                // console.log(\"烟花发射111111\", index)\r\n                this.emissionFire(index)\r\n                this.playFireworks();\r\n            })\r\n        ))\r\n    },\r\n    emissionFire(index) {\r\n        let distance = [this.node.height / 2, this.node.height / 2.5, this.node.height / 2.1, this.node.height / 1.8];\r\n        let aniList = [\"bluefireworks\",\"redfireworks\",\"yellowfireworks\",\"bluefireworks\"];\r\n        let scaleList = [2.5 ,1.7, 1.5, 2];\r\n\r\n        let fire_node = cc.instantiate(this.fire_node);\r\n        fire_node.parent = this.bg_mask;\r\n        fire_node.position = this.launchPoint.children[index].position;\r\n        fire_node.active = true;\r\n        let fireworks = cc.instantiate(this.fireworks);\r\n        fireworks.parent = this.bg_mask;\r\n        fireworks.setScale(scaleList[index]);\r\n        fire_node.runAction(cc.sequence(\r\n            cc.moveBy(1, 0, distance[index]),\r\n            cc.callFunc(() => {\r\n                fire_node.opacity = 0;\r\n                fireworks.position = fire_node.position;\r\n                fireworks.active = true;\r\n                fireworks.getComponent(cc.Animation).play(`${aniList[index]}`);\r\n            }),\r\n            cc.delayTime(1.2),\r\n            cc.callFunc(() => {\r\n                fire_node.destroy();\r\n                fireworks.destroy();\r\n            })\r\n        ))\r\n    },\r\n    onRoomInfo(msg) {\r\n\r\n    },\r\n    onDeleteRoom(msg) {\r\n\r\n    },\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"btn_back\": this.click_back(); break;\r\n            case \"btn_help\": this.click_help(); break;\r\n            case \"btn_record\": this.click_record(); break;\r\n            case \"mycoinInfo\":\r\n            case \"btn_addgold\": \r\n                this.click_addgold(); break;\r\n            case \"btn_start\": this.showTip(name, node); break;\r\n            case \"jiantou_l\":\r\n            case \"jiantou_r\":\r\n                console.log(\"点击了按钮\");\r\n                this.executionScrollTo(name);\r\n                break;\r\n            default: console.error(\"no find button name -> %s\", name);\r\n        }\r\n    },\r\n    executionScrollTo(name) {\r\n        this.node.getChildByName(\"jiantou_l\").active = false;\r\n        this.node.getChildByName(\"jiantou_r\").active = false;\r\n\r\n        if (name == \"jiantou_l\") {\r\n            this.node.getChildByName(\"jiantou_r\").active = true;\r\n            this.scrollView.scrollToLeft(0.1);\r\n        } else {\r\n            this.node.getChildByName(\"jiantou_l\").active = true;\r\n            this.scrollView.scrollToRight(0.1);\r\n        }\r\n    },\r\n    showTip(name, node){\r\n        let tipAni = glGame.panel.showPanel(this.hbsl_tipAni);\r\n        tipAni.zIndex = 30;\r\n        this.node.runAction(cc.sequence(\r\n            cc.delayTime(1.5),\r\n            cc.callFunc(() => {\r\n                glGame.emitter.emit(\"hbsl.hbsl_close_tip_ani\");\r\n                this.enterroom(name, node);\r\n            })\r\n        ));\r\n    },\r\n    // 进入游戏的入口\r\n    enterroom(name, node) {\r\n        // 判断是否是游客\r\n        if (glGame.user.isTourist()) {\r\n            glGame.panel.showRegisteredGift(true)\r\n            return;\r\n        }\r\n        // （判断用户账号是否异常 && 是否可以玩游戏） || 针对玩家游戏\r\n        if((glGame.user.suspicious == 1 && glGame.user.game == 2 ) || glGame.user.is_game == 2 ){\r\n            glGame.panel.showDialog(\"\", \"您的账号数据异常，暂时禁止进入游戏，如有疑问，请联系客服！\", () => { glGame.panel.showService() }, () => {}, \"我知道了\", \"联系客服\")\r\n            return;\r\n        }\r\n\r\n        glGame.panel.showFieldSelectionJuHua();\r\n        glGame.room.reqMyGameState(this.gameID, node.parent.name).then(() => {\r\n            glGame.readyroom.enterHundredsRoomOther(this.gameID, node.parent.name);\r\n        })\r\n    },\r\n    cutFloat(value) {\r\n        return (Number(value).div(100)).toString();\r\n    },\r\n    // 刷新金币\r\n    updateuserInfo() {\r\n        let coin = glGame.user.get(\"coin\")\r\n        this.gold_count.string = glGame.user.GoldTemp(coin);\r\n    },\r\n    setGameId(gameid) {\r\n        this.gameid = gameid;\r\n    },\r\n    updateBgInfo() {\r\n\r\n    },\r\n    // 充值\r\n    click_addgold() {\r\n        glGame.panel.showShop(30);\r\n    },\r\n    // 关闭当前页面\r\n    click_back() {\r\n        glGame.readyroom.reqExitArea();\r\n        this.remove();\r\n    },\r\n    // 帮助\r\n    click_help() {\r\n        // glGame.panel.showNewGameRule(this.gameid, 30);\r\n        let panel = glGame.panel.showPanel(this.hbslRule);\r\n        panel.zIndex = 30;\r\n\r\n        // this.showTip();\r\n    },\r\n    // 游戏记录\r\n    click_record() {\r\n        // glGame.panel.showNewGameRecord(this.gameid, 30);\r\n        let panel = glGame.panel.showPanel(this.hbslRecord);\r\n        panel.zIndex = 30;\r\n    },\r\n    set(key, value) {\r\n        this[key] = value;\r\n    },\r\n    get(key) {\r\n        return this[key];\r\n    },\r\n    OnDestroy() {\r\n        glGame.emitter.off(MESSAGE.UI.ROOM_ENTER_SHOW, this);\r\n        glGame.emitter.off(MESSAGE.UI.ROOM_ENTER_HIDE, this);\r\n        glGame.emitter.off(\"nodeRemove\", this);\r\n        glGame.emitter.off(\"updateUserData\", this);\r\n        this.unregisterEvent();\r\n    },\r\n    // update (dt) {},\r\n});\r\n"]}