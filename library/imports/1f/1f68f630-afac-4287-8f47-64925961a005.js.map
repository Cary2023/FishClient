{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\room\\record\\rqznn\\rqznnGameRecord.js"],"names":["ROUND_STRIP_NAME","glGame","baseclass","extend","properties","gameData","cc","Node","UserData","gameContent","gameItem","labPage","Label","onLoad","gameDetails","PageIndex","pageCount","pageMax","playerMax","gameAllData","registerEvent","initData","data","removeAllChildren","initRoomData","reqRoomGameRoundList","unRegisterEvent","OnDestroy","onClick","name","node","emitter","emit","lastPage_cb","nextPage_cb","indexOf","click_roundStrip","panel","showTip","string","substring","length","gameId","summaryId","Number","msg","page","pageSize","initGameContent","gameNet","send_msg","route","result","totalPage","sortUserData","initGameTitle","getChildByName","getComponent","timeStamp","Date","createTime","strTime","getFullYear","getMonth","getDate","tips","WEEKNAME","getDay","getHours","getMinutes","getSeconds","gameName","totalRound","getFixNumber","score","color","list","index","detail","uid","user","get","active","i","nickname","instantiate","parent","scoreOffset","count","key","sort","a","b","value","value1","div","isNaN","toString","toFixed"],"mappings":"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","sourceRoot":"/","sourcesContent":["const ROUND_STRIP_NAME = \"roundstrip\";\r\n\r\nglGame.baseclass.extend({\r\n    properties: {\r\n        //牌局\r\n        gameData: cc.Node,\r\n        UserData: cc.Node,\r\n        gameContent: cc.Node,\r\n        gameItem: cc.Node,\r\n        labPage: cc.Label,\r\n    },\r\n    onLoad() {\r\n        this.gameDetails = {};\r\n        this.PageIndex = 1;\r\n        this.pageCount = 1;\r\n        this.pageMax = 8;\r\n        this.playerMax = 5;\r\n        this.gameAllData = null;\r\n        this.registerEvent();\r\n    },\r\n\r\n    initData(data) {\r\n        this.gameAllData = data;\r\n        this.gameContent.removeAllChildren();\r\n        this.initRoomData();\r\n        this.reqRoomGameRoundList();\r\n    },\r\n\r\n    registerEvent() {\r\n    },\r\n    unRegisterEvent() {\r\n    },\r\n\r\n    OnDestroy() {\r\n        this.unRegisterEvent();\r\n    },\r\n\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"btn_return\": glGame.emitter.emit(\"openRoomList\"); break;\r\n            case \"btn_lastPage\": this.lastPage_cb(); break;\r\n            case \"btn_nextPage\": this.nextPage_cb(); break;\r\n\r\n            default:\r\n                if (name.indexOf(ROUND_STRIP_NAME) > -1) return this.click_roundStrip(name);\r\n                break\r\n        }\r\n    },\r\n\r\n    lastPage_cb() {\r\n        if (this.PageIndex == 1 || this.PageIndex == 0) return glGame.panel.showTip(\"已经是第一页了！\")\r\n        this.PageIndex--;\r\n        this.reqRoomGameRoundList();\r\n    },\r\n\r\n    nextPage_cb() {\r\n        if (this.PageIndex >= this.pageCount || this.PageIndex == 0) return glGame.panel.showTip(\"已经是最后一页了！\")\r\n        this.PageIndex++;\r\n        this.reqRoomGameRoundList();\r\n    },\r\n\r\n    click_roundStrip(name) {\r\n        let string = name.substring(ROUND_STRIP_NAME.length);\r\n        let data = this.gameDetails[this.gameAllData.gameId][this.gameAllData.summaryId][this.PageIndex][Number(string)];\r\n        glGame.emitter.emit(\"openRoomRound\", data);\r\n    },\r\n\r\n    reqRoomGameRoundList() {\r\n        let msg = {};\r\n        msg.gameId = this.gameAllData.gameId;\r\n        msg.summaryId = this.gameAllData.summaryId;\r\n        msg.page = this.PageIndex;\r\n        msg.pageSize = this.pageMax;\r\n        if (this.gameDetails[msg.gameId] && this.gameDetails[msg.gameId][msg.summaryId] && this.gameDetails[msg.gameId][msg.summaryId][this.PageIndex]) {\r\n            this.initGameContent(this.gameDetails[msg.gameId][msg.summaryId][this.PageIndex]);\r\n        } else {\r\n            glGame.gameNet.send_msg('http.ReqRoomGameRoundList', msg, (route, data) => {\r\n                let result = data.result;\r\n                this.pageCount = result.totalPage;\r\n                this.gameDetails[msg.gameId] ? null : this.gameDetails[msg.gameId] = {};\r\n                this.gameDetails[msg.gameId][msg.summaryId] ? null : this.gameDetails[msg.gameId][msg.summaryId] = {};\r\n                result.data = this.sortUserData(result.data);\r\n                this.gameDetails[msg.gameId][msg.summaryId][this.PageIndex] = result.data;\r\n                this.initGameTitle(result.data);\r\n                this.initGameContent(this.gameDetails[msg.gameId][msg.summaryId][this.PageIndex]);\r\n            })\r\n        }\r\n    },\r\n\r\n    initRoomData() {\r\n        let data = this.gameAllData;\r\n        this.gameData.getChildByName(\"number\").getComponent(cc.Label).string = data.summaryId;\r\n\r\n        let timeStamp = new Date(data.createTime);\r\n        let strTime = `${timeStamp.getFullYear()}/${timeStamp.getMonth() + 1 >= 10 ? timeStamp.getMonth() + 1 : \"0\" + (timeStamp.getMonth() + 1)}/${timeStamp.getDate() >= 10 ? timeStamp.getDate() : '0' + timeStamp.getDate()}`\r\n        strTime += `（${glGame.tips.WEEKNAME[timeStamp.getDay()]}）`\r\n        strTime += `${timeStamp.getHours() >= 10 ? timeStamp.getHours() : \"0\" + timeStamp.getHours()}:`\r\n        strTime += `${timeStamp.getMinutes() >= 10 ? timeStamp.getMinutes() : \"0\" + timeStamp.getMinutes()}:`\r\n        strTime += `${timeStamp.getSeconds() >= 10 ? timeStamp.getSeconds() : \"0\" + timeStamp.getSeconds()}`\r\n        this.gameData.getChildByName(\"time\").getComponent(cc.Label).string = strTime;\r\n        this.gameData.getChildByName(\"game\").getComponent(cc.Label).string = data.gameName;\r\n        this.gameData.getChildByName(\"round\").getComponent(cc.Label).string = data.totalRound;\r\n        this.gameData.getChildByName(\"score\").getComponent(cc.Label).string = this.getFixNumber(data.score);\r\n        this.gameData.getChildByName(\"score\").color = data.score > 0 ? cc.color(0x48, 0xd4, 0xa8) : cc.color(0xf6, 0x8e, 0x1e);\r\n    },\r\n\r\n    initGameTitle(list) {\r\n        if (list.length == 0) return;\r\n        // 便利出自己数据\r\n        for (let index in list[0].detail) {\r\n            let data = list[0].detail[index];\r\n            if (!data) continue;\r\n            if (Number(data.uid) == glGame.user.get(\"userID\")) {\r\n                this.UserData.getChildByName(`seat1`).active = true;\r\n                this.UserData.getChildByName(`seat1`).getComponent(cc.Label).string = `［我］`;\r\n                break;\r\n            }\r\n        }\r\n        // 清理其他角色\r\n        for (let i = 2; i < this.playerMax; i++) this.UserData.getChildByName(`seat${i}`).active = false;\r\n        // 便利出其他角色\r\n        let i = 2;\r\n        for (let index in list[0].detail) {\r\n            let data = list[0].detail[index];\r\n            if (!data) continue;\r\n            if (Number(data.uid) != glGame.user.get(\"userID\")) {\r\n                this.UserData.getChildByName(`seat${i}`).active = true;\r\n                this.UserData.getChildByName(`seat${i}`).getComponent(cc.Label).string = `［${data.nickname}］`;\r\n                i++;\r\n            }\r\n        }\r\n    },\r\n\r\n    initGameContent(list) {\r\n        this.gameContent.removeAllChildren();\r\n        if (list.length == 0) {\r\n            this.labPage.string = '第0/0页';\r\n            return;\r\n        }\r\n        this.labPage.string = `第${this.PageIndex}/${this.pageCount}页`;\r\n        for (let i = list.length - 1; i >=0; i--) {\r\n            if (!list[i].detail) continue;\r\n            let node = cc.instantiate(this.gameItem);\r\n            node.name = `${ROUND_STRIP_NAME}${i}`;\r\n            node.getChildByName(\"bg\").active = i % 2 != 0;\r\n            node.parent = this.gameContent;\r\n            node.active = true;\r\n\r\n            node.getChildByName(`round`).getComponent(cc.Label).string = `第${(list.length - i) + ((this.PageIndex - 1) * this.pageMax)}局`;\r\n\r\n            // 便利出自己数据\r\n            for (let index in list[i].detail) {\r\n                let data = list[i].detail[index];\r\n                if (!data) continue;\r\n                if (Number(data.uid) == glGame.user.get(\"userID\")) {\r\n                    node.getChildByName(`score1`).active = true;\r\n                    node.getChildByName(`score1`).getComponent(cc.Label).string = this.getFixNumber(data.scoreOffset);\r\n                    node.getChildByName(\"score1\").color = data.scoreOffset > 0 ? cc.color(0x48, 0xd4, 0xa8) : cc.color(0xf6, 0x8e, 0x1e);\r\n                    break;\r\n                }\r\n            }\r\n            // 便利出其他角色\r\n            let count = 2;\r\n            for (let index in list[i].detail) {\r\n                let data = list[i].detail[index];\r\n                if (!data) continue;\r\n                if (Number(data.uid) != glGame.user.get(\"userID\")) {\r\n                    node.getChildByName(`score${count}`).active = true;\r\n                    node.getChildByName(`score${count}`).getComponent(cc.Label).string = this.getFixNumber(data.scoreOffset);\r\n                    node.getChildByName(`score${count}`).color = data.scoreOffset > 0 ? cc.color(0x48, 0xd4, 0xa8) : cc.color(0xf6, 0x8e, 0x1e);\r\n                    count++;\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    sortUserData(list) {\r\n        for (let key in list) {\r\n            if (!list[key].detail) continue;\r\n            list[key].detail.sort((a, b) => { return a.uid - b.uid; });\r\n        }\r\n        return list;\r\n    },\r\n\r\n    getFixNumber(value) {\r\n        let value1 = Number(value).div(10);\r\n        value = Number(value).div(100);\r\n        if (isNaN(value)) return;\r\n        if (~~value === value) {\r\n            return value.toString();\r\n        } else if (~~value1 === value1) {\r\n            return value.toFixed(1);\r\n        } else {\r\n            return value.toFixed(2);\r\n        }\r\n    },\r\n});\r\n"]}