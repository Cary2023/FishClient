{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\announcement\\announce.js"],"names":["DIMAND","COIN","glGame","baseclass","extend","properties","firstView","cc","Node","firstItem","secondView","secondItem","detailView1","node_detailView1","detailView2","rewardBar1","rewardBar2","rewardBarother","imageItem","contentItem","iconArr","SpriteFrame","activityArr","cycleTypeArr","detailwindow","Prefab","conditionItem","btn_allreward","Button","LabelItem","barItem","lineItem","wordItem","formView","downPage","upPage","onLoad","console","log","user","get","emitter","on","initReddot","node","name","MESSAGE","UI","ACTION_END","announceActionEnd","cacheData","gameNet","send_msg","route","msg","active","notices","reqFirstTitle","getAllrewardState","interactable","state","onClick","close","allreward","noticeShow","switchFirst","switchSecond","goGetCoin","reward","activityDetail","onUpPage","onDownPage","updateDetailView1","data","destroyAllChildren","removeAllChildren","activitypic","instantiate","parent","panel","showRemoteImage","i","titledetail","length","id","type","img","then","width","height","initform","content","getChildByName","getComponent","Label","string","title","Sprite","spriteFrame","icon","showEffectNode","updateRewardBar","BarType","rewardItem","sumCoin","sumDiamond","rewardBar","rewardTypeCount","getStr","minValue","coinpic","dimandpic","coin","Number","getFloat","k","rewardType","diamond","children","nowIndex","cycleType","rewardWords","rewardicon","y","RichText","schedule","lab_accumulate","str","lab_rewardNum","lab_diamondNum","undefined","conditional","curSchdule","color","value","div","toString","j","replace","total","lengthBest","childrenCount","distance","distanceArr","push","Count","Posy","x","zIndex","updateDetailView2","lab_time","reqActivitydetail","index","nowId","layout","updateCurSecond","forceRefreshRedPoint","ReqRedDot","category_id","received_status","updateSecondTitle","firstTitleData","updateFirstTitle","reqSecondTitle","redDotData","discountReq","key","interval","itemHeight","firstViewNode","view","Layout","spacingY","discount_activity_title","tag","updateClick","unscheduleAllCallbacks","onScrollEvent","scroll","event","minY","maxY","item","cellHeight","offsetCount","paddingTop","Math","floor","targetY","max","stopAllActions","runAction","moveTo","v2","ceil","min","updateNotice","ScrollView","stopAutoScroll","showTextDelay","getFirstIndex","getSecondIndex","showShop","isTourist","showRegistration","showPanelByName","remove","gradeid","rewardCoin","rewarddimand","grade","arr","awardtype","DIAMOND","showAwardBox","tips","ANNOUNCE","AWARD_TIPS","REVIEW_WAIT_TIPS","draw","updateFirstRed","getIndexById","clearDetailData","reviewNum","showTip","REVIEW_TIPS","format","AWARD_REVIEW_TIPS","showPanel","script","lbCom","assembler","_assembler","assemblerData","_getAssemblerData","wrapText","_calculateLabelFont","context","_getFontDesc","txt","_getFontFamily","comp","useSystemFont","font","_nativeAsset","loader","load","nativeUrl","err","asset","setVertsDirty","fontFamily","lb","fontDesc","fontSize","enableBold","enableItalic","_measureText","ctx","textUtils","safeMeasureText","_calculateWrapText","paragraphedStrings","nodeWidth","_splitedStrings","canvasWidthNoMargin","allWidth","textFragment","fragmentText","concat","split","OnDestroy","reqGetCoin","reqGetDiamond","off"],"mappings":";;;;;;AAAA,IAAMA,MAAM,GAAG,CAAf;AACA,IAAMC,IAAI,GAAG,CAAb;AACAC,MAAM,CAACC,SAAP,CAAiBC,MAAjB,CAAwB;AAEpBC,EAAAA,UAAU,EAAE;AACRC,IAAAA,SAAS,EAAEC,EAAE,CAACC,IADN;AAERC,IAAAA,SAAS,EAAEF,EAAE,CAACC,IAFN;AAGRE,IAAAA,UAAU,EAAEH,EAAE,CAACC,IAHP;AAIRG,IAAAA,UAAU,EAAEJ,EAAE,CAACC,IAJP;AAKRI,IAAAA,WAAW,EAAEL,EAAE,CAACC,IALR;AAMRK,IAAAA,gBAAgB,EAAEN,EAAE,CAACC,IANb;AAMmB;AAC3BM,IAAAA,WAAW,EAAEP,EAAE,CAACC,IAPR;AAOoB;AAC5BO,IAAAA,UAAU,EAAER,EAAE,CAACC,IARP;AASRQ,IAAAA,UAAU,EAAET,EAAE,CAACC,IATP;AAURS,IAAAA,cAAc,EAAEV,EAAE,CAACC,IAVX;AAWRU,IAAAA,SAAS,EAAEX,EAAE,CAACC,IAXN;AAYRW,IAAAA,WAAW,EAAEZ,EAAE,CAACC,IAZR;AAaRY,IAAAA,OAAO,EAAE,CAACb,EAAE,CAACc,WAAJ,CAbD;AAcRC,IAAAA,WAAW,EAAE,CAACf,EAAE,CAACc,WAAJ,CAdL;AAeRE,IAAAA,YAAY,EAAE,CAAChB,EAAE,CAACc,WAAJ,CAfN;AAgBRG,IAAAA,YAAY,EAAEjB,EAAE,CAACkB,MAhBT;AAiBRC,IAAAA,aAAa,EAAEnB,EAAE,CAACC,IAjBV;AAkBRmB,IAAAA,aAAa,EAAEpB,EAAE,CAACqB,MAlBV;AAoBRC,IAAAA,SAAS,EAAEtB,EAAE,CAACC,IApBN;AAqBR;AACAsB,IAAAA,OAAO,EAAEvB,EAAE,CAACC,IAtBJ;AAuBRuB,IAAAA,QAAQ,EAAExB,EAAE,CAACC,IAvBL;AAwBRwB,IAAAA,QAAQ,EAAEzB,EAAE,CAACC,IAxBL;AAyBRyB,IAAAA,QAAQ,EAAE1B,EAAE,CAACC,IAzBL;AA2BR0B,IAAAA,QAAQ,EAAE3B,EAAE,CAACC,IA3BL;AA4BR2B,IAAAA,MAAM,EAAE5B,EAAE,CAACC;AA5BH,GAFQ;AAiCpB;AAEA4B,EAAAA,MAnCoB,oBAmCX;AACLC,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBpC,MAAM,CAACqC,IAAP,CAAYC,GAAZ,CAAgB,YAAhB,CAAzB;AACAtC,IAAAA,MAAM,CAACuC,OAAP,CAAeC,EAAf,CAAkB,WAAlB,EAA+B,KAAKC,UAApC,EAAgD,IAAhD;AACAzC,IAAAA,MAAM,CAACuC,OAAP,CAAeC,EAAf,WAAqB,KAAKE,IAAL,CAAUC,IAA/B,SAAsCC,OAAO,CAACC,EAAR,CAAWC,UAAjD,GAA+D,KAAKC,iBAApE,EAAuF,IAAvF;AACA,SAAKC,SAAL,GAAiB,EAAjB;AAEH,GAzCmB;AA0CpBD,EAAAA,iBA1CoB,+BA0CA;AAAA;;AAChB/C,IAAAA,MAAM,CAACiD,OAAP,CAAeC,QAAf,CAAwB,gBAAxB,EAA0C,EAA1C,EAA8C,UAACC,KAAD,EAAQC,GAAR,EAAgB;AAC1D,MAAA,KAAI,CAAC3B,aAAL,CAAmBiB,IAAnB,CAAwBW,MAAxB,GAAiC,IAAjC;AACA,MAAA,KAAI,CAACC,OAAL,GAAeF,GAAG,CAACE,OAAnB;;AACA,MAAA,KAAI,CAACC,aAAL;;AACA,MAAA,KAAI,CAACC,iBAAL,GAJ0D,CAK1D;AACA;AACA;AACA;AACA;AACA;;AACH,KAXD;AAYH,GAvDmB;AAyDpB;AACAA,EAAAA,iBA1DoB,+BA0DA;AAAA;;AAChBxD,IAAAA,MAAM,CAACiD,OAAP,CAAeC,QAAf,CAAwB,kCAAxB,EAA4D,EAA5D,EAAgE,UAACC,KAAD,EAAQC,GAAR,EAAgB;AAC5E,MAAA,MAAI,CAAC3B,aAAL,CAAmBgC,YAAnB,GAAkCL,GAAG,CAACM,KAAJ,IAAa,CAA/C;AACH,KAFD;AAGH,GA9DmB;AA+DpBC,EAAAA,OA/DoB,mBA+DZhB,IA/DY,EA+DND,IA/DM,EA+DA;AAChB,YAAQC,IAAR;AACI,WAAK,WAAL;AAAkB,aAAKiB,KAAL;AAAc;;AAChC,WAAK,gBAAL;AAAuB,aAAKC,SAAL;AAAkB;;AACzC,WAAK,QAAL;AAAe,aAAKC,UAAL,CAAgBpB,IAAhB;AAAuB;;AACtC,WAAK,WAAL;AAAkB,aAAKqB,WAAL,CAAiBpB,IAAjB,EAAuBD,IAAvB;AAA8B;;AAChD,WAAK,YAAL;AAAmB,aAAKsB,YAAL,CAAkBrB,IAAlB,EAAwBD,IAAxB;AAA+B;;AAClD,WAAK,eAAL;AAAsB,aAAKuB,SAAL,CAAevB,IAAf;AAAsB;;AAC5C,WAAK,YAAL;AAAmB,aAAKwB,MAAL,CAAYxB,IAAZ;AAAmB;;AACtC,WAAK,oBAAL;AAA2B,aAAKyB,cAAL;AAAuB;;AAClD,WAAK,QAAL;AAAe,aAAKC,QAAL;AAAiB;;AAChC,WAAK,UAAL;AAAiB,aAAKC,UAAL;AAAmB;;AACpC;AAASlC,QAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BO,IAA3B;AAAkC;AAX/C;AAaH,GA7EmB;AA8EpB;AACA;AACA2B,EAAAA,iBAhFoB,6BAgFFC,IAhFE,EAgFI;AAAA;;AACpB,SAAK5D,gBAAL,CAAsB0C,MAAtB,GAA+B,IAA/B;AACA,SAAKzC,WAAL,CAAiByC,MAAjB,GAA0B,KAA1B;AACA,SAAK3C,WAAL,CAAiB8D,kBAAjB;AACA,SAAK9D,WAAL,CAAiB+D,iBAAjB;;AACA,QAAIF,IAAI,CAACG,WAAL,IAAoBH,IAAI,CAACG,WAAL,IAAoB,EAA5C,EAAgD;AAC5C,UAAI1D,SAAS,GAAGX,EAAE,CAACsE,WAAH,CAAe,KAAK3D,SAApB,CAAhB;AACAA,MAAAA,SAAS,CAAC4D,MAAV,GAAmB,KAAKlE,WAAxB;AACAV,MAAAA,MAAM,CAAC6E,KAAP,CAAaC,eAAb,CAA6B9D,SAA7B,EAAwCuD,IAAI,CAACG,WAA7C;AACA1D,MAAAA,SAAS,CAACqC,MAAV,GAAmB,IAAnB;AACH;;AAED,SAAK,IAAI0B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGR,IAAI,CAACS,WAAL,CAAiBC,MAArC,EAA6CF,CAAC,EAA9C,EAAkD;AAC9C,UAAIR,IAAI,CAACS,WAAL,CAAiBD,CAAjB,EAAoBG,EAApB,IAA0B,CAA1B,IAA+BX,IAAI,CAACS,WAAL,CAAiBD,CAAjB,EAAoBG,EAApB,IAA0B,CAA7D,EAAgE;;AAChE,UAAIX,IAAI,CAACS,WAAL,CAAiBD,CAAjB,EAAoBI,IAApB,IAA4B,CAA5B,IAAiCZ,IAAI,CAACS,WAAL,CAAiBD,CAAjB,EAAoBK,GAArD,IAA4Db,IAAI,CAACS,WAAL,CAAiBD,CAAjB,EAAoBK,GAApB,IAA2B,EAA3F,EAA+F;AAAA;AAC3F,cAAIpE,SAAS,GAAGX,EAAE,CAACsE,WAAH,CAAe,MAAI,CAAC3D,SAApB,CAAhB;AACAhB,UAAAA,MAAM,CAAC6E,KAAP,CAAaC,eAAb,CAA6B9D,SAA7B,EAAwCuD,IAAI,CAACS,WAAL,CAAiBD,CAAjB,EAAoBK,GAA5D,EAAiEC,IAAjE,CAAsE,YAAM;AACxElD,YAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;;AACA,gBAAIpB,SAAS,CAACsE,KAAV,GAAkB,IAAtB,EAA4B;AACxBtE,cAAAA,SAAS,CAACuE,MAAV,GAAmBvE,SAAS,CAACuE,MAAV,GAAmB,IAAnB,GAA0BvE,SAAS,CAACsE,KAAvD;AACAtE,cAAAA,SAAS,CAACsE,KAAV,GAAkB,IAAlB;AACH;AACJ,WAND;AAOAtE,UAAAA,SAAS,CAAC4D,MAAV,GAAmB,MAAI,CAAClE,WAAxB;AACAM,UAAAA,SAAS,CAACqC,MAAV,GAAmB,KAAnB;AACA;AAX2F;;AAAA,iCAW3F;AACH,OAZD,MAYO,IAAIkB,IAAI,CAACS,WAAL,CAAiBD,CAAjB,EAAoBK,GAApB,IAA2B,EAA/B,EAAmC;AACtC;AACH;;AACD,UAAIb,IAAI,CAACS,WAAL,CAAiBD,CAAjB,EAAoBG,EAApB,KAA2B,CAA/B,EAAkC;AAC9B,aAAKM,QAAL,CAAcjB,IAAI,CAACS,WAAL,CAAiBD,CAAjB,EAAoBU,OAAlC;AACA;AACH;;AACD,UAAIxE,WAAW,GAAGZ,EAAE,CAACsE,WAAH,CAAe,KAAK1D,WAApB,CAAlB;AACAA,MAAAA,WAAW,CAAC2D,MAAZ,GAAqB,KAAKlE,WAA1B;AACAO,MAAAA,WAAW,CAACoC,MAAZ,GAAqB,KAArB;AACApC,MAAAA,WAAW,CAACyE,cAAZ,CAA2B,KAA3B,EAAkCC,YAAlC,CAA+CtF,EAAE,CAACuF,KAAlD,EAAyDC,MAAzD,GAAkEtB,IAAI,CAACS,WAAL,CAAiBD,CAAjB,EAAoBe,KAApB,GAA4B,GAA9F;AACA7E,MAAAA,WAAW,CAACyE,cAAZ,CAA2B,UAA3B,EAAuCC,YAAvC,CAAoDtF,EAAE,CAAC0F,MAAvD,EAA+DC,WAA/D,GAA6E,KAAK9E,OAAL,CAAaqD,IAAI,CAACS,WAAL,CAAiBD,CAAjB,EAAoBkB,IAAjC,CAA7E;;AACA,UAAI1B,IAAI,CAACS,WAAL,CAAiBD,CAAjB,EAAoBG,EAApB,IAA0B,CAA9B,EAAiC;AAC7BjE,QAAAA,WAAW,CAACyE,cAAZ,CAA2B,UAA3B,EAAuCrC,MAAvC,GAAgD,IAAhD;AACApC,QAAAA,WAAW,CAACyE,cAAZ,CAA2B,UAA3B,EAAuCC,YAAvC,CAAoDtF,EAAE,CAACuF,KAAvD,EAA8DC,MAA9D,GAAuEtB,IAAI,CAACS,WAAL,CAAiBD,CAAjB,EAAoBU,OAA3F;;AACA,YAAIlB,IAAI,CAACS,WAAL,CAAiBD,CAAjB,EAAoBU,OAApB,CAA4BR,MAA5B,IAAsC,CAA1C,EAA6C;AACzChE,UAAAA,WAAW,CAACyE,cAAZ,CAA2B,UAA3B,EAAuCrC,MAAvC,GAAgD,KAAhD;AACH;AACJ,OAND,MAMO;AACHpC,QAAAA,WAAW,CAACyE,cAAZ,CAA2B,UAA3B,EAAuCrC,MAAvC,GAAgD,IAAhD;AACApC,QAAAA,WAAW,CAACyE,cAAZ,CAA2B,UAA3B,EAAuCC,YAAvC,CAAoDtF,EAAE,CAACuF,KAAvD,EAA8DC,MAA9D,GAAuEtB,IAAI,CAACS,WAAL,CAAiBD,CAAjB,EAAoBU,OAA3F;AACH;AACJ;;AACDzF,IAAAA,MAAM,CAAC6E,KAAP,CAAaqB,cAAb,CAA4B,IAA5B,EAAkC,KAAKxF,WAAvC,EAAoD,IAApD,EAA0D,IAA1D;AACA,SAAKyF,eAAL,CAAqB5B,IAArB,EAA2B,KAAK1D,UAAhC,EAA4C,KAAKH,WAAjD,EAA8D,CAA9D;AACH,GAnImB;AAoIpB;AACAyF,EAAAA,eArIoB,2BAqIJ5B,IArII,EAqIE6B,OArIF,EAqIWxB,MArIX,EAqImBO,IArInB,EAqIyB;AACzC,QAAIkB,UAAU,GAAG9B,IAAI,CAAC8B,UAAtB;AACA,QAAI,CAACA,UAAL,EAAiB;;AACjB,QAAIA,UAAU,CAACpB,MAAf,EAAuB;AACnB,UAAIqB,OAAO,GAAG,CAAd;AACA,UAAIC,UAAU,GAAG,CAAjB;;AACA,WAAK,IAAIxB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGsB,UAAU,CAACpB,MAA/B,EAAuCF,CAAC,EAAxC,EAA4C;AACxC,YAAIyB,SAAS,GAAGnG,EAAE,CAACsE,WAAH,CAAeyB,OAAf,CAAhB;AACAI,QAAAA,SAAS,CAAC5B,MAAV,GAAmBA,MAAnB;AACA4B,QAAAA,SAAS,CAACnD,MAAV,GAAmB,KAAnB;AACAmD,QAAAA,SAAS,CAAC7D,IAAV,aAAoBoC,CAApB;AACA,YAAI0B,eAAe,GAAG,CAAtB;;AAEA,YAAItB,IAAI,IAAI,CAAZ,EAAe;AACX,cAAIqB,SAAS,CAACd,cAAV,CAAyB,gBAAzB,CAAJ,EAAgD;AAC5Cc,YAAAA,SAAS,CAACd,cAAV,CAAyB,gBAAzB,EAA2CC,YAA3C,CAAwDtF,EAAE,CAACuF,KAA3D,EAAkEC,MAAlE,GAA2EQ,UAAU,CAACtB,CAAD,CAAV,CAAc2B,MAAzF;AACH;AACJ;;AAED,YAAIC,QAAQ,GAAG,CAAf;;AACA,YAAIxB,IAAI,IAAI,CAAZ,EAAe;AACXwB,UAAAA,QAAQ,GAAG,CAAC,CAAZ;AACH;;AAED,YAAIC,OAAO,GAAGJ,SAAS,CAACd,cAAV,CAAyB,cAAzB,EAAyCA,cAAzC,CAAwD,SAAxD,CAAd;AACA,YAAImB,SAAS,GAAGL,SAAS,CAACd,cAAV,CAAyB,cAAzB,EAAyCA,cAAzC,CAAwD,WAAxD,CAAhB,CAnBwC,CAoBxC;;AACA,YAAIW,UAAU,CAACtB,CAAD,CAAV,CAAcb,MAAd,CAAqB4C,IAArB,GAA4B,CAA5B,IAAiCC,MAAM,CAACV,UAAU,CAACtB,CAAD,CAAV,CAAcb,MAAd,CAAqB4C,IAAtB,CAAN,GAAoC,CAAzE,EAA4E;AACxEF,UAAAA,OAAO,CAACvD,MAAR,GAAiB,IAAjB;AACAoD,UAAAA,eAAe;AACfH,UAAAA,OAAO,IAAIS,MAAM,CAACV,UAAU,CAACtB,CAAD,CAAV,CAAcb,MAAd,CAAqB4C,IAAtB,CAAjB;AACAF,UAAAA,OAAO,CAAClB,cAAR,CAAuB,eAAvB,EAAwCC,YAAxC,CAAqDtF,EAAE,CAACuF,KAAxD,EAA+DC,MAA/D,GAAwE,KAAKmB,QAAL,CAAcX,UAAU,CAACtB,CAAD,CAAV,CAAcb,MAAd,CAAqB4C,IAAnC,CAAxE;AACH;;AACD,YAAIT,UAAU,CAACtB,CAAD,CAAV,CAAcb,MAAd,CAAqB4C,IAArB,IAA6B,CAAjC,EAAoC;AAChC,eAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGZ,UAAU,CAACtB,CAAD,CAAV,CAAcmC,UAAd,CAAyBjC,MAA7C,EAAqDgC,CAAC,EAAtD,EAA0D;AACtD,gBAAIZ,UAAU,CAACtB,CAAD,CAAV,CAAcmC,UAAd,CAAyBD,CAAzB,KAA+BlH,IAA/B,IAAuCgH,MAAM,CAACV,UAAU,CAACtB,CAAD,CAAV,CAAcb,MAAd,CAAqB4C,IAAtB,CAAN,GAAoCH,QAA/E,EAAyF;AACrFC,cAAAA,OAAO,CAACvD,MAAR,GAAiB,IAAjB;AACAuD,cAAAA,OAAO,CAAClB,cAAR,CAAuB,eAAvB,EAAwCC,YAAxC,CAAqDtF,EAAE,CAACuF,KAAxD,EAA+DC,MAA/D,GAAwE,KAAKmB,QAAL,CAAcX,UAAU,CAACtB,CAAD,CAAV,CAAcb,MAAd,CAAqB4C,IAAnC,CAAxE;AACA;AACH;AACJ;AACJ;;AACD3E,QAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBpC,MAAM,CAACqC,IAAP,CAAYC,GAAZ,CAAgB,YAAhB,CAAzB,EAAwD+D,UAAU,CAACtB,CAAD,CAAV,CAAcb,MAAd,CAAqBiD,OAA7E,EApCwC,CAqCxC;;AACA,YAAId,UAAU,CAACtB,CAAD,CAAV,CAAcb,MAAd,CAAqBiD,OAArB,GAA+B,CAA/B,IAAoCnH,MAAM,CAACqC,IAAP,CAAYC,GAAZ,CAAgB,YAAhB,KAAiC,CAAzE,EAA4E;AACxEuE,UAAAA,SAAS,CAACxD,MAAV,GAAmB,IAAnB;AACAoD,UAAAA,eAAe;AACfF,UAAAA,UAAU,IAAIF,UAAU,CAACtB,CAAD,CAAV,CAAcb,MAAd,CAAqBiD,OAAnC;AACAN,UAAAA,SAAS,CAACnB,cAAV,CAAyB,gBAAzB,EAA2CC,YAA3C,CAAwDtF,EAAE,CAACuF,KAA3D,EAAkEC,MAAlE,GAA2E,KAAKmB,QAAL,CAAcX,UAAU,CAACtB,CAAD,CAAV,CAAcb,MAAd,CAAqBiD,OAAnC,CAA3E;AACH;;AACD,YAAId,UAAU,CAACtB,CAAD,CAAV,CAAcb,MAAd,CAAqBiD,OAArB,IAAgC,CAAhC,IAAqCnH,MAAM,CAACqC,IAAP,CAAYC,GAAZ,CAAgB,YAAhB,KAAiC,CAA1E,EAA6E;AACzE,eAAK,IAAI2E,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGZ,UAAU,CAACtB,CAAD,CAAV,CAAcmC,UAAd,CAAyBjC,MAA7C,EAAqDgC,EAAC,EAAtD,EAA0D;AACtD,gBAAIZ,UAAU,CAACtB,CAAD,CAAV,CAAcmC,UAAd,CAAyBD,EAAzB,KAA+BnH,MAA/B,IAAyCiH,MAAM,CAACV,UAAU,CAACtB,CAAD,CAAV,CAAcb,MAAd,CAAqBiD,OAAtB,CAAN,GAAuCR,QAApF,EAA8F;AAC1FE,cAAAA,SAAS,CAACxD,MAAV,GAAmB,IAAnB;AACAwD,cAAAA,SAAS,CAACnB,cAAV,CAAyB,gBAAzB,EAA2CC,YAA3C,CAAwDtF,EAAE,CAACuF,KAA3D,EAAkEC,MAAlE,GAA2E,KAAKmB,QAAL,CAAcX,UAAU,CAACtB,CAAD,CAAV,CAAcb,MAAd,CAAqBiD,OAAnC,CAA3E;AACA;AACH;AACJ;AACJ;;AAEDX,QAAAA,SAAS,CAACd,cAAV,CAAyB,YAAzB,EAAuCrC,MAAvC,GAAgDgD,UAAU,CAACtB,CAAD,CAAV,CAAcrB,KAAd,IAAuB,CAAvE;;AACA,YAAI2C,UAAU,CAACtB,CAAD,CAAV,CAAcrB,KAAd,IAAuB,CAA3B,EAA8B;AAC1B;AACA,eAAKlD,UAAL,CAAgB4G,QAAhB,CAAyB,KAAKC,QAA9B,EAAwC3B,cAAxC,CAAuD,SAAvD,EAAkErC,MAAlE,GAA2E,IAA3E;AACH;;AAEDmD,QAAAA,SAAS,CAACd,cAAV,CAAyB,eAAzB,EAA0CrC,MAA1C,GAAmDgD,UAAU,CAACtB,CAAD,CAAV,CAAcrB,KAAd,IAAuB,CAA1E;AACA8C,QAAAA,SAAS,CAACd,cAAV,CAAyB,WAAzB,EAAsCrC,MAAtC,GAA+CgD,UAAU,CAACtB,CAAD,CAAV,CAAcrB,KAAd,IAAuB,CAAtE;AACA8C,QAAAA,SAAS,CAACd,cAAV,CAAyB,UAAzB,EAAqCrC,MAArC,GAA8CgD,UAAU,CAACtB,CAAD,CAAV,CAAcrB,KAAd,IAAuB,CAArE;AACA8C,QAAAA,SAAS,CAACd,cAAV,CAAyB,QAAzB,EAAmCrC,MAAnC,GAA4CgD,UAAU,CAACtB,CAAD,CAAV,CAAcrB,KAAd,IAAuB,CAAnE;;AACA,YAAI2C,UAAU,CAACtB,CAAD,CAAV,CAAcrB,KAAd,IAAuB,CAAC,CAAxB,IAA6Ba,IAAI,CAAC+C,SAAtC,EAAiD;AAC7Cd,UAAAA,SAAS,CAACd,cAAV,CAAyB,aAAzB,EAAwCrC,MAAxC,GAAiD,IAAjD;AACAmD,UAAAA,SAAS,CAACd,cAAV,CAAyB,aAAzB,EAAwCC,YAAxC,CAAqDtF,EAAE,CAAC0F,MAAxD,EAAgEC,WAAhE,GAA8E,KAAK3E,YAAL,CAAkBkD,IAAI,CAAC+C,SAAvB,CAA9E;AACH,SAHD,MAGO;AACHd,UAAAA,SAAS,CAACd,cAAV,CAAyB,aAAzB,EAAwCrC,MAAxC,GAAiD,KAAjD;AACH,SArEuC,CAsExC;AACA;AACA;AACA;;;AACA,YAAIgD,UAAU,CAACtB,CAAD,CAAV,CAAcwC,WAAlB,EAA+B;AAC3B,cAAIC,UAAU,GAAGhB,SAAS,CAACd,cAAV,CAAyB,YAAzB,CAAjB;AACA8B,UAAAA,UAAU,CAAC7B,YAAX,CAAwBtF,EAAE,CAACuF,KAA3B,EAAkCC,MAAlC,GAA2CQ,UAAU,CAACtB,CAAD,CAAV,CAAcwC,WAAd,GAA4B,GAAvE;AACH;;AACDf,QAAAA,SAAS,CAACd,cAAV,CAAyB,eAAzB,EAA0C+B,CAA1C,GAA8C,IAA9C;AACAjB,QAAAA,SAAS,CAACd,cAAV,CAAyB,YAAzB,EAAuC+B,CAAvC,GAA2C,IAA3C;;AACA,YAAIpB,UAAU,CAACtB,CAAD,CAAV,CAAcrB,KAAd,IAAuB,CAA3B,EAA8B;AAC1B8C,UAAAA,SAAS,CAACd,cAAV,CAAyB,YAAzB,EAAuC+B,CAAvC,GAA2C,CAAC,EAA5C;AACAjB,UAAAA,SAAS,CAACd,cAAV,CAAyB,eAAzB,EAA0C+B,CAA1C,GAA8C,CAAC,EAA/C;AACAjB,UAAAA,SAAS,CAACd,cAAV,CAAyB,cAAzB,EAAyCrC,MAAzC,GAAkD,IAAlD;AACAmD,UAAAA,SAAS,CAACd,cAAV,CAAyB,cAAzB,EAAyCC,YAAzC,CAAsDtF,EAAE,CAACqH,QAAzD,EAAmE7B,MAAnE,GAA4E,KAA5E;AACA;AACH,SAND,MAMO,IAAIQ,UAAU,CAACtB,CAAD,CAAV,CAAcrB,KAAd,IAAuB,CAA3B,EAA8B;AACjC8C,UAAAA,SAAS,CAACd,cAAV,CAAyB,cAAzB,EAAyCrC,MAAzC,GAAkD,KAAlD;AACA;AACH;;AACD,YAAIsE,QAAQ,GAAGZ,MAAM,CAACV,UAAU,CAACtB,CAAD,CAAV,CAAc4C,QAAd,CAAuB,CAAvB,CAAD,CAArB;;AACA,gBAAQA,QAAR;AACI,eAAK,CAAL;AAEI,gBAAIZ,MAAM,CAACV,UAAU,CAACtB,CAAD,CAAV,CAAc4C,QAAd,CAAuB,CAAvB,CAAD,CAAN,IAAqC,CAAC,CAA1C,EAA6C;AACzCnB,cAAAA,SAAS,CAACd,cAAV,CAAyB,cAAzB,EAAyCC,YAAzC,CAAsDtF,EAAE,CAACqH,QAAzD,EAAmE7B,MAAnE,GACIQ,UAAU,CAACtB,CAAD,CAAV,CAAc4C,QAAd,CAAuB,CAAvB,eAAgC,KAAKX,QAAL,CAAcX,UAAU,CAACtB,CAAD,CAAV,CAAc4C,QAAd,CAAuB,CAAvB,CAAd,CAAhC,SADJ;AAEH,aAHD,MAGO;AACHnB,cAAAA,SAAS,CAACd,cAAV,CAAyB,cAAzB,EAAyCC,YAAzC,CAAsDtF,EAAE,CAACqH,QAAzD,EAAmE7B,MAAnE,GACIQ,UAAU,CAACtB,CAAD,CAAV,CAAc4C,QAAd,CAAuB,CAAvB,eAAgC,KAAKX,QAAL,CAAcX,UAAU,CAACtB,CAAD,CAAV,CAAc4C,QAAd,CAAuB,CAAvB,CAAd,CAAhC,kBAAgF,KAAKX,QAAL,CAAcX,UAAU,CAACtB,CAAD,CAAV,CAAc4C,QAAd,CAAuB,CAAvB,CAAd,CAAhF,CADJ;AAEH;;AAEDnB,YAAAA,SAAS,CAACd,cAAV,CAAyB,cAAzB,EAAyCrC,MAAzC,GAAkD,IAAlD;AACAmD,YAAAA,SAAS,CAACd,cAAV,CAAyB,YAAzB,EAAuC+B,CAAvC,GAA2C,CAAC,EAA5C;AACAjB,YAAAA,SAAS,CAACd,cAAV,CAAyB,eAAzB,EAA0C+B,CAA1C,GAA8C,CAAC,EAA/C;AACA;;AACJ,eAAK,CAAL;AACIjB,YAAAA,SAAS,CAACd,cAAV,CAAyB,cAAzB,EAAyCC,YAAzC,CAAsDtF,EAAE,CAACqH,QAAzD,EAAmE7B,MAAnE,GAA4EQ,UAAU,CAACtB,CAAD,CAAV,CAAc4C,QAAd,CAAuB,CAAvB,CAA5E;AACAnB,YAAAA,SAAS,CAACd,cAAV,CAAyB,cAAzB,EAAyCrC,MAAzC,GAAkD,IAAlD;AACAmD,YAAAA,SAAS,CAACd,cAAV,CAAyB,YAAzB,EAAuC+B,CAAvC,GAA2C,CAAC,EAA5C;AACAjB,YAAAA,SAAS,CAACd,cAAV,CAAyB,eAAzB,EAA0C+B,CAA1C,GAA8C,CAAC,EAA/C;AACA;;AACJ,eAAK,CAAL;AACIjB,YAAAA,SAAS,CAACd,cAAV,CAAyB,cAAzB,EAAyCC,YAAzC,CAAsDtF,EAAE,CAACqH,QAAzD,EAAmE7B,MAAnE,GAA4EQ,UAAU,CAACtB,CAAD,CAAV,CAAc4C,QAAd,CAAuB,CAAvB,gBAAiCtB,UAAU,CAACtB,CAAD,CAAV,CAAc4C,QAAd,CAAuB,CAAvB,CAAjC,cAA8DtB,UAAU,CAACtB,CAAD,CAAV,CAAc4C,QAAd,CAAuB,CAAvB,CAA9D,CAA5E;AACAnB,YAAAA,SAAS,CAACd,cAAV,CAAyB,cAAzB,EAAyCrC,MAAzC,GAAkD,IAAlD;AACAmD,YAAAA,SAAS,CAACd,cAAV,CAAyB,YAAzB,EAAuC+B,CAAvC,GAA2C,CAAC,EAA5C;AACAjB,YAAAA,SAAS,CAACd,cAAV,CAAyB,eAAzB,EAA0C+B,CAA1C,GAA8C,CAAC,EAA/C;AACA;AA1BR;;AA6BA,YAAItC,IAAI,IAAI,CAAZ,EAAe;AACX,cAAIyC,cAAc,GAAGpB,SAAS,CAACd,cAAV,CAAyB,cAAzB,EAAyCA,cAAzC,CAAwD,gBAAxD,CAArB;;AACA,cAAIkC,cAAJ,EAAoB;AAChB,gBAAInB,eAAe,IAAI,CAAvB,EAA0B;AACtB,kBAAIoB,GAAG,GAAG,EAAV;;AACA,kBAAIjB,OAAO,CAACvD,MAAZ,EAAoB;AAChBwE,gBAAAA,GAAG,sCAAW,KAAKb,QAAL,CAAcV,OAAd,CAAX,kBAAH;AACH,eAFD,MAEO;AACHuB,gBAAAA,GAAG,sCAAW,KAAKb,QAAL,CAAcT,UAAd,CAAX,kBAAH;AACH;;AACDqB,cAAAA,cAAc,CAACvE,MAAf,GAAwB,IAAxB;AACAuE,cAAAA,cAAc,CAACjC,YAAf,CAA4BtF,EAAE,CAACuF,KAA/B,EAAsCC,MAAtC,GAA+CgC,GAA/C;AACH,aATD,MASO,IAAIpB,eAAe,IAAI,CAAvB,EAA0B;AAC7BmB,cAAAA,cAAc,CAACvE,MAAf,GAAwB,IAAxB;AACAuE,cAAAA,cAAc,CAACjC,YAAf,CAA4BtF,EAAE,CAACuF,KAA/B,EAAsCC,MAAtC,GAA+CQ,UAAU,CAACtB,CAAD,CAAV,CAAc2B,MAA7D;AACH;AAEJ;AACJ;AAEJ;;AACD1G,MAAAA,MAAM,CAAC6E,KAAP,CAAaqB,cAAb,CAA4B,IAA5B,EAAkCtB,MAAlC,EAA0C,IAA1C,EAAgD,IAAhD;AACH,KAjJD,MAiJO;AACH,UAAI7D,cAAc,GAAGV,EAAE,CAACsE,WAAH,CAAe,KAAK5D,cAApB,CAArB;AACAA,MAAAA,cAAc,CAAC6D,MAAf,GAAwBA,MAAxB;AACA7D,MAAAA,cAAc,CAACsC,MAAf,GAAwB,IAAxB;AACAtC,MAAAA,cAAc,CAAC4B,IAAf,GAAsB,eAAtB;AACA5B,MAAAA,cAAc,CAAC2E,cAAf,CAA8B,SAA9B,EAAyCC,YAAzC,CAAsDtF,EAAE,CAACuF,KAAzD,EAAgEC,MAAhE,GAAyEQ,UAAU,CAACK,MAAX,GAAoB,GAA7F;AACA3F,MAAAA,cAAc,CAAC2E,cAAf,CAA8B,YAA9B,EAA4CrC,MAA5C,GAAqDgD,UAAU,CAAC3C,KAAX,IAAoB,CAAzE;AACA3C,MAAAA,cAAc,CAAC2E,cAAf,CAA8B,eAA9B,EAA+CrC,MAA/C,GAAwDgD,UAAU,CAAC3C,KAAX,IAAoB,CAA5E;AACA3C,MAAAA,cAAc,CAAC2E,cAAf,CAA8B,WAA9B,EAA2CrC,MAA3C,GAAoDgD,UAAU,CAAC3C,KAAX,IAAoB,CAAxE;AACA3C,MAAAA,cAAc,CAAC2E,cAAf,CAA8B,UAA9B,EAA0CrC,MAA1C,GAAmDgD,UAAU,CAAC3C,KAAX,IAAoB,CAAvE;AACA3C,MAAAA,cAAc,CAAC2E,cAAf,CAA8B,QAA9B,EAAwCrC,MAAxC,GAAiDgD,UAAU,CAAC3C,KAAX,IAAoB,CAArE;AAEA,UAAIoE,aAAa,GAAG/G,cAAc,CAAC2E,cAAf,CAA8B,cAA9B,EAA8CA,cAA9C,CAA6D,eAA7D,CAApB;AACA,UAAIqC,cAAc,GAAGhH,cAAc,CAAC2E,cAAf,CAA8B,cAA9B,EAA8CA,cAA9C,CAA6D,gBAA7D,CAArB,CAbG,CAeH;AACA;AACA;AACA;AACA;AAEA;AAEA;;AAEA,WAAK,IAAIuB,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGZ,UAAU,CAACa,UAAX,CAAsBjC,MAA1C,EAAkDgC,GAAC,EAAnD,EAAuD;AACnD,YAAIZ,UAAU,CAACa,UAAX,CAAsBD,GAAtB,KAA4BlH,IAA5B,IAAmCgH,MAAM,CAACV,UAAU,CAACnC,MAAX,CAAkB4C,IAAnB,CAAN,IAAgCkB,SAAvE,EAAkF;AAC9EF,UAAAA,aAAa,CAACzE,MAAd,GAAuB,IAAvB;AACAyE,UAAAA,aAAa,CAACnC,YAAd,CAA2BtF,EAAE,CAACuF,KAA9B,EAAqCC,MAArC,GAA8C,KAAKmB,QAAL,CAAcX,UAAU,CAACnC,MAAX,CAAkB4C,IAAhC,CAA9C;AACA;AACH;AACJ;;AACD,WAAK,IAAIG,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGZ,UAAU,CAACa,UAAX,CAAsBjC,MAA1C,EAAkDgC,GAAC,EAAnD,EAAuD;AACnD,YAAIZ,UAAU,CAACa,UAAX,CAAsBD,GAAtB,KAA4BnH,MAA5B,IAAoCE,MAAM,CAACqC,IAAP,CAAYC,GAAZ,CAAgB,YAAhB,KAAiC,CAArE,IAAwEyE,MAAM,CAACV,UAAU,CAACnC,MAAX,CAAkBiD,OAAnB,CAAN,IAAmCa,SAA/G,EAA0H;AACtHD,UAAAA,cAAc,CAAC1E,MAAf,GAAwB,IAAxB;AACA0E,UAAAA,cAAc,CAACpC,YAAf,CAA4BtF,EAAE,CAACuF,KAA/B,EAAsCC,MAAtC,GAA+C,KAAKmB,QAAL,CAAcX,UAAU,CAACnC,MAAX,CAAkBiD,OAAhC,CAA/C;AACA;AACH;AACJ,OAtCE,CAuCH;AACA;AACA;AACA;AACA;AACA;AAEA;;;AAEA,UAAId,UAAU,CAAC3C,KAAX,IAAoB,CAAxB,EAA2B;AACvB;AACA,aAAKlD,UAAL,CAAgB4G,QAAhB,CAAyB,KAAKC,QAA9B,EAAwC3B,cAAxC,CAAuD,SAAvD,EAAkErC,MAAlE,GAA2E,IAA3E;AACH;;AACD,UAAI4E,WAAW,GAAG1D,IAAI,CAAC0D,WAAvB;AAAA,UACIC,UAAU,GAAG,CADjB;;AAEA,WAAK,IAAInD,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGkD,WAAW,CAAChD,MAAhC,EAAwCF,EAAC,EAAzC,EAA6C;AACzC,YAAIvD,aAAa,GAAGnB,EAAE,CAACsE,WAAH,CAAe,KAAKnD,aAApB,CAApB;AACAA,QAAAA,aAAa,CAACmE,YAAd,CAA2BtF,EAAE,CAACuF,KAA9B,EAAqCC,MAArC,GAA8CoC,WAAW,CAAClD,EAAD,CAAX,CAAeU,OAA7D;;AACA,YAAIwC,WAAW,CAAClD,EAAD,CAAX,CAAerB,KAAf,IAAwB,CAA5B,EAA+B;AAC3BwE,UAAAA,UAAU;AACV1G,UAAAA,aAAa,CAACkE,cAAd,CAA6B,KAA7B,EAAoCrC,MAApC,GAA6C,IAA7C;AACH;;AACD7B,QAAAA,aAAa,CAAC2G,KAAd,GAAsBF,WAAW,CAAClD,EAAD,CAAX,CAAerB,KAAf,IAAwB,CAAxB,GAA4BrD,EAAE,CAAC8H,KAAH,CAAS,EAAT,EAAa,GAAb,EAAkB,EAAlB,CAA5B,GAAoD9H,EAAE,CAAC8H,KAAH,CAAS,GAAT,EAAc,EAAd,EAAkB,EAAlB,CAA1E;AACA3G,QAAAA,aAAa,CAACoD,MAAd,GAAuB7D,cAAc,CAAC2E,cAAf,CAA8B,SAA9B,CAAvB;AACAlE,QAAAA,aAAa,CAAC6B,MAAd,GAAuB,KAAvB;AACH;;AAEDtC,MAAAA,cAAc,CAAC2E,cAAf,CAA8B,cAA9B,EAA8CC,YAA9C,CAA2DtF,EAAE,CAACuF,KAA9D,EAAqEC,MAArE,GAA8EQ,UAAU,CAAC3C,KAAX,IAAoB,CAApB,GAAwB,KAAxB,yBAAqCwE,UAArC,cAAmDD,WAAW,CAAChD,MAA/D,CAA9E;AACAjF,MAAAA,MAAM,CAAC6E,KAAP,CAAaqB,cAAb,CAA4B,IAA5B,EAAkCnF,cAAc,CAAC2E,cAAf,CAA8B,SAA9B,CAAlC,EAA4E,IAA5E,EAAkF,IAAlF;AACH;AACJ,GA9VmB;AA+VpB;AACAsB,EAAAA,QAhWoB,oBAgWXoB,KAhWW,EAgWJ;AACZ,WAAQrB,MAAM,CAACqB,KAAD,CAAN,CAAcC,GAAd,CAAkB,GAAlB,CAAD,CAAyBC,QAAzB,EAAP;AACH,GAlWmB;AAmWpB;AACA9C,EAAAA,QApWoB,oBAoWXjB,IApWW,EAoWL;AACX,QAAIxC,QAAQ,GAAG1B,EAAE,CAACsE,WAAH,CAAe,KAAK5C,QAApB,CAAf;AACAA,IAAAA,QAAQ,CAAC6C,MAAT,GAAkB,KAAKlE,WAAvB;AACAqB,IAAAA,QAAQ,CAACsB,MAAT,GAAkB,IAAlB;AACAtB,IAAAA,QAAQ,CAACwD,MAAT,GAAkB,MAAM,CAAChB,IAAI,CAACU,MAAL,GAAc,CAAf,IAAoB,EAA5C;;AACA,SAAK,IAAIF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGR,IAAI,CAACU,MAAzB,EAAiCF,CAAC,EAAlC,EAAsC;AAClC,WAAK,IAAIwD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGhE,IAAI,CAACQ,CAAD,CAAJ,CAAQE,MAA5B,EAAoCsD,CAAC,EAArC,EAAyC;AACrC,YAAIzG,QAAQ,GAAGzB,EAAE,CAACsE,WAAH,CAAe,KAAK7C,QAApB,CAAf;AACAA,QAAAA,QAAQ,CAAC8C,MAAT,GAAkB7C,QAAlB;AACAD,QAAAA,QAAQ,CAAC6D,YAAT,CAAsBtF,EAAE,CAACqH,QAAzB,EAAmC7B,MAAnC,GAA4CtB,IAAI,CAACQ,CAAD,CAAJ,CAAQwD,CAAR,EAAWC,OAAX,CAAmB,MAAnB,EAA2B,GAA3B,CAA5C;AACA1G,QAAAA,QAAQ,CAACuB,MAAT,GAAkB,IAAlB;AACH;AACJ;;AAED,QAAIoF,KAAK,GAAG,CAAZ;AACA,QAAIC,UAAU,GAAGnE,IAAI,CAAC,CAAD,CAAJ,CAAQU,MAAzB;;AACA,SAAK,IAAIF,GAAC,GAAG2D,UAAb,EAAyB3D,GAAC,IAAI,CAA9B,EAAiCA,GAAC,EAAlC,EAAsC;AAClC0D,MAAAA,KAAK,IAAI1G,QAAQ,CAACqF,QAAT,CAAkBrF,QAAQ,CAAC4G,aAAT,GAAyB5D,GAA3C,EAA8CO,KAAvD;AACH;;AACD,QAAIsD,QAAQ,GAAG,CAAC7G,QAAQ,CAACuD,KAAT,GAAiBmD,KAAlB,KAA4BlE,IAAI,CAAC,CAAD,CAAJ,CAAQU,MAAR,GAAiB,CAA7C,CAAf;AACAwD,IAAAA,KAAK,GAAG,CAAR;AACA,QAAII,WAAW,GAAG,EAAlB;;AACA,SAAK,IAAI9D,GAAC,GAAG2D,UAAb,EAAyB3D,GAAC,IAAI,CAA9B,EAAiCA,GAAC,EAAlC,EAAsC;AAClC0D,MAAAA,KAAK,IAAI1G,QAAQ,CAACqF,QAAT,CAAkBrF,QAAQ,CAAC4G,aAAT,GAAyB5D,GAA3C,EAA8CO,KAA9C,GAAsDsD,QAA/D;AACAC,MAAAA,WAAW,CAACC,IAAZ,CAAiBL,KAAjB;AACH;;AACD,QAAIM,KAAK,GAAG,CAAZ;AACA,QAAIC,IAAI,GAAG,CAAC,EAAZ;;AACA,SAAK,IAAIjE,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGR,IAAI,CAACU,MAAzB,EAAiCF,GAAC,EAAlC,EAAsC;AAClC,WAAK,IAAIwD,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGhE,IAAI,CAACQ,GAAD,CAAJ,CAAQE,MAA5B,EAAoCsD,EAAC,EAArC,EAAyC;AACrCxG,QAAAA,QAAQ,CAACqF,QAAT,CAAkB2B,KAAlB,EAAyBE,CAAzB,GAA6BV,EAAC,IAAI,CAAL,GAASK,QAAT,GAAoBA,QAAQ,GAAGC,WAAW,CAACN,EAAC,GAAG,CAAL,CAAvE;AACAxG,QAAAA,QAAQ,CAACqF,QAAT,CAAkB2B,KAAlB,EAAyBtB,CAAzB,GAA6BuB,IAA7B;;AACA,YAAIT,EAAC,IAAI,CAAT,EAAY;AACRxG,UAAAA,QAAQ,CAACqF,QAAT,CAAkB2B,KAAlB,EAAyBZ,KAAzB,GAAiC9H,EAAE,CAAC8H,KAAH,CAAS,GAAT,EAAc,GAAd,EAAmB,EAAnB,CAAjC;AACApG,UAAAA,QAAQ,CAACqF,QAAT,CAAkB2B,KAAlB,EAAyBpD,YAAzB,CAAsCtF,EAAE,CAACqH,QAAzC,EAAmD7B,MAAnD,GAA4D9D,QAAQ,CAACqF,QAAT,CAAkB2B,KAAlB,EAAyBpD,YAAzB,CAAsCtF,EAAE,CAACqH,QAAzC,EAAmD7B,MAAnD,CAA0D2C,OAA1D,CAAkE,MAAlE,EAA0E,GAA1E,CAA5D;AACH;;AAED,YAAID,EAAC,IAAI,CAAT,EAAY;AACR,cAAI1G,QAAQ,GAAGxB,EAAE,CAACsE,WAAH,CAAe,KAAK9C,QAApB,CAAf;AACAA,UAAAA,QAAQ,CAAC+C,MAAT,GAAkB7C,QAAQ,CAAC2D,cAAT,CAAwB,IAAxB,CAAlB;AACA7D,UAAAA,QAAQ,CAAC4F,CAAT,GAAa,EAAE1F,QAAQ,CAACwD,MAAT,GAAkB,CAApB,CAAb;AACA1D,UAAAA,QAAQ,CAACoH,CAAT,GAAalH,QAAQ,CAACqF,QAAT,CAAkB2B,KAAlB,EAAyBE,CAAzB,GAA6BL,QAAQ,GAAG,CAArD;AACA/G,UAAAA,QAAQ,CAAC0D,MAAT,GAAkBxD,QAAQ,CAACwD,MAAT,GAAkB,EAApC;AACA1D,UAAAA,QAAQ,CAACwB,MAAT,GAAkB,IAAlB;AACAxB,UAAAA,QAAQ,CAACqH,MAAT,GAAkB,MAAMX,EAAxB;AACH;;AACD,YAAIxD,GAAC,GAAG,CAAJ,IAAS,CAAb,EAAgB;AACZ,cAAInD,OAAO,GAAGvB,EAAE,CAACsE,WAAH,CAAe,KAAK/C,OAApB,CAAd;AACAA,UAAAA,OAAO,CAACgD,MAAR,GAAiB7C,QAAQ,CAAC2D,cAAT,CAAwB,IAAxB,CAAjB;AACA9D,UAAAA,OAAO,CAACyB,MAAR,GAAiB,IAAjB;AACAzB,UAAAA,OAAO,CAAC6F,CAAR,GAAYuB,IAAZ;AACH;;AACDD,QAAAA,KAAK;AACR;;AACDC,MAAAA,IAAI,IAAI,EAAR;AACH;;AAEDjH,IAAAA,QAAQ,CAACsB,MAAT,GAAkB,KAAlB;AACH,GA9ZmB;AA+ZpB8F,EAAAA,iBA/ZoB,6BA+ZF5E,IA/ZE,EA+ZI;AACpB,SAAK5D,gBAAL,CAAsB0C,MAAtB,GAA+B,KAA/B;AACA,SAAKzC,WAAL,CAAiByC,MAAjB,GAA0B,IAA1B;AACA,QAAIoC,OAAO,GAAG,KAAK7E,WAAL,CAAiB8E,cAAjB,CAAgC,YAAhC,EAA8CA,cAA9C,CAA6D,MAA7D,EAAqEA,cAArE,CAAoF,SAApF,CAAd;AACAD,IAAAA,OAAO,CAACjB,kBAAR;AACAiB,IAAAA,OAAO,CAAChB,iBAAR;AACA,QAAI2E,QAAQ,GAAG,KAAKxI,WAAL,CAAiB8E,cAAjB,CAAgC,UAAhC,CAAf;;AACA,QAAInB,IAAI,CAACS,WAAL,CAAiBC,MAAjB,IAA2BV,IAAI,CAACS,WAAL,CAAiB,CAAjB,EAAoBc,KAApB,IAA6B,MAA5D,EAAoE;AAChEsD,MAAAA,QAAQ,CAAC/F,MAAT,GAAkB,IAAlB;AACA+F,MAAAA,QAAQ,CAACzD,YAAT,CAAsBtF,EAAE,CAACuF,KAAzB,EAAgCC,MAAhC,GAAyCtB,IAAI,CAACS,WAAL,CAAiB,CAAjB,EAAoBS,OAA7D;AACH,KAHD,MAGO;AACH2D,MAAAA,QAAQ,CAAC/F,MAAT,GAAkB,KAAlB;AACH;;AAED,QAAIkB,IAAI,CAACG,WAAL,IAAoBH,IAAI,CAACG,WAAL,IAAoB,EAA5C,EAAgD;AAC5C1E,MAAAA,MAAM,CAAC6E,KAAP,CAAaC,eAAb,CAA6B,KAAKlE,WAAlC,EAA+C2D,IAAI,CAACG,WAApD;AACH;;AACD,SAAKyB,eAAL,CAAqB5B,IAArB,EAA2B,KAAKzD,UAAhC,EAA4C2E,OAA5C,EAAqD,CAArD;AACAtD,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBmC,IAAvB;AACH,GAlbmB;AAmbpB;AACA8E,EAAAA,iBApboB,6BAobFnE,EApbE,EAobEC,IApbF,EAobmB;AAAA;;AAAA,QAAXmE,KAAW,uEAAH,CAAG;;AACnC,QAAI,KAAKtG,SAAL,CAAe,KAAKuG,KAApB,EAA2BD,KAA3B,EAAkC7D,OAAtC,EAA+C;AAC3C,WAAK4B,QAAL,GAAgBiC,KAAhB;;AACA,UAAI,KAAKtG,SAAL,CAAe,KAAKuG,KAApB,EAA2BD,KAA3B,EAAkC7D,OAAlC,CAA0C+D,MAA1C,IAAoD,CAAxD,EAA2D;AACvD,aAAKlF,iBAAL,CAAuB,KAAKtB,SAAL,CAAe,KAAKuG,KAApB,EAA2BD,KAA3B,EAAkC7D,OAAzD;AACH,OAFD,MAEO;AACH,aAAK0D,iBAAL,CAAuB,KAAKnG,SAAL,CAAe,KAAKuG,KAApB,EAA2BD,KAA3B,EAAkC7D,OAAzD;AACH;;AACD,WAAKgE,eAAL;AACAtH,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB,KAAKY,SAAL,CAAe,KAAKuG,KAApB,EAA2BD,KAA3B,EAAkC7D,OAAzD;AACA;AACH;;AACDzF,IAAAA,MAAM,CAACiD,OAAP,CAAeC,QAAf,CAAwB,uBAAxB,EAAiD;AAAEgC,MAAAA,EAAE,EAAEA,EAAN;AAAUC,MAAAA,IAAI,EAAEA,IAAhB;AAAsBgD,MAAAA,KAAK,EAAE;AAA7B,KAAjD,EAA2F,UAAChF,KAAD,EAAQC,GAAR,EAAgB;AACvG,MAAA,MAAI,CAACiE,QAAL,GAAgBiC,KAAhB;AACA,MAAA,MAAI,CAACtG,SAAL,CAAe,MAAI,CAACuG,KAApB,EAA2BD,KAA3B,EAAkC7D,OAAlC,GAA4CrC,GAA5C;;AACA,UAAI,MAAI,CAACJ,SAAL,CAAe,MAAI,CAACuG,KAApB,EAA2BD,KAA3B,EAAkC7D,OAAlC,CAA0C+D,MAA1C,IAAoD,CAAxD,EAA2D;AACvD,QAAA,MAAI,CAAClF,iBAAL,CAAuB,MAAI,CAACtB,SAAL,CAAe,MAAI,CAACuG,KAApB,EAA2BD,KAA3B,EAAkC7D,OAAzD;AACH,OAFD,MAEO;AACH,QAAA,MAAI,CAAC0D,iBAAL,CAAuB,MAAI,CAACnG,SAAL,CAAe,MAAI,CAACuG,KAApB,EAA2BD,KAA3B,EAAkC7D,OAAzD;AACH;;AACD,MAAA,MAAI,CAACgE,eAAL;;AACAtH,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB,MAAI,CAACY,SAAL,CAAe,MAAI,CAACuG,KAApB,EAA2BD,KAA3B,EAAkC7D,OAAzD;AACH,KAVD;AAWH,GA3cmB;AA6cpB;AACAiE,EAAAA,oBA9coB,kCA8cG;AAAA;;AACnB1J,IAAAA,MAAM,CAACqC,IAAP,CAAYsH,SAAZ,GADmB,CAGnB;;AACA,QAAIzE,EAAE,GAAG,KAAKqE,KAAd;AACAvJ,IAAAA,MAAM,CAACiD,OAAP,CAAeC,QAAf,CAAwB,uBAAxB,EAAiD;AAAE0G,MAAAA,WAAW,EAAE1E;AAAf,KAAjD,EAAsE,UAAC/B,KAAD,EAAQC,GAAR,EAAgB;AAClF,MAAA,MAAI,CAACJ,SAAL,CAAekC,EAAf,IAAqB9B,GAArB;AAEA,UAAImB,IAAI,GAAG,MAAI,CAACvB,SAAL,CAAekC,EAAf,CAAX;;AACA,WAAK,IAAIH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGR,IAAI,CAACU,MAAzB,EAAiCF,CAAC,EAAlC,EAAsC;AAClC,YAAItE,UAAU,GAAG,MAAI,CAACD,UAAL,CAAgB4G,QAAhB,CAAyBrC,CAAzB,CAAjB;AACAtE,QAAAA,UAAU,CAACiF,cAAX,CAA0B,SAA1B,EAAqCrC,MAArC,GAA8CkB,IAAI,CAACQ,CAAD,CAAJ,CAAQ8E,eAAR,IAA2B,CAAzE;AACApJ,QAAAA,UAAU,CAACiF,cAAX,CAA0B,WAA1B,EAAuCrC,MAAvC,GAAgD0B,CAAC,IAAI,MAAI,CAACsC,QAA1D;AACH;;AACD,MAAA,MAAI,CAACkC,KAAL,GAAarE,EAAb;;AACA,MAAA,MAAI,CAAC4E,iBAAL,CAAuB,MAAI,CAAC9G,SAAL,CAAekC,EAAf,CAAvB;;AACA,UAAI,MAAI,CAAClC,SAAL,CAAekC,EAAf,EAAmBD,MAAnB,IAA6B,CAAjC,EAAoC;AAChC,QAAA,MAAI,CAACoE,iBAAL,CAAuB,MAAI,CAACrG,SAAL,CAAekC,EAAf,EAAmB,CAAnB,EAAsBA,EAA7C,EAAiD,MAAI,CAAClC,SAAL,CAAekC,EAAf,EAAmB,CAAnB,EAAsBC,IAAvE;AACH,OAFD,MAEO;AACH,YAAIM,OAAO,GAAG,MAAI,CAAC7E,WAAL,CAAiB8E,cAAjB,CAAgC,YAAhC,EAA8CA,cAA9C,CAA6D,MAA7D,EAAqEA,cAArE,CAAoF,SAApF,CAAd;;AACAD,QAAAA,OAAO,CAACjB,kBAAR;AACAiB,QAAAA,OAAO,CAAChB,iBAAR;;AACA,QAAA,MAAI,CAAC/D,WAAL,CAAiB8D,kBAAjB;;AACA,QAAA,MAAI,CAAC9D,WAAL,CAAiB+D,iBAAjB;AACH;AACJ,KApBD;AAqBH,GAxemB;AA0epB;AACAlB,EAAAA,aA3eoB,2BA2eJ;AAAA;;AACZvD,IAAAA,MAAM,CAACiD,OAAP,CAAeC,QAAf,CAAwB,uBAAxB,EAAiD,EAAjD,EAAqD,UAACC,KAAD,EAAQC,GAAR,EAAgB;AACjE,MAAA,MAAI,CAAC2G,cAAL,GAAsB3G,GAAtB;;AACA,MAAA,MAAI,CAAC4G,gBAAL;;AACA,UAAI,MAAI,CAACD,cAAL,CAAoB9E,MAApB,IAA8B,CAAlC,EAAqC;AACjC,QAAA,MAAI,CAACgF,cAAL,CAAoB,MAAI,CAACF,cAAL,CAAoB,CAApB,EAAuB7E,EAA3C;AACH,OAFD,MAEO;AACH,QAAA,MAAI,CAACzD,aAAL,CAAmBiB,IAAnB,CAAwBW,MAAxB,GAAiC,KAAjC;;AACA,YAAI,MAAI,CAACC,OAAL,IAAgB,MAAI,CAACA,OAAL,CAAa2B,MAAb,IAAuB,CAA3C,EAA8C;AAC1C,UAAA,MAAI,CAACtB,OAAL,CAAa,QAAb,EAAuB,MAAI,CAACvD,SAAL,CAAesF,cAAf,CAA8B,QAA9B,CAAvB;AACH;AACJ;;AACD,MAAA,MAAI,CAACjD,UAAL;AACH,KAZD;AAaH,GAzfmB;AA0fpBA,EAAAA,UA1foB,wBA0fP;AACT,QAAIyH,UAAU,GAAGlK,MAAM,CAACqC,IAAP,CAAYC,GAAZ,CAAgB,YAAhB,EAA8B6H,WAA/C;;AACA,SAAK,IAAIpF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK3E,SAAL,CAAeuI,aAAnC,EAAkD5D,CAAC,EAAnD,EAAuD;AACnD,WAAK3E,SAAL,CAAegH,QAAf,CAAwBrC,CAAxB,EAA2BqC,QAA3B,CAAoC,CAApC,EAAuC1B,cAAvC,CAAsD,SAAtD,EAAiErC,MAAjE,GAA0E,KAA1E;AACA,WAAKjD,SAAL,CAAegH,QAAf,CAAwBrC,CAAxB,EAA2BqC,QAA3B,CAAoC,CAApC,EAAuC1B,cAAvC,CAAsD,SAAtD,EAAiErC,MAAjE,GAA0E,KAA1E;AACH;;AACD,SAAK,IAAI+G,GAAT,IAAgBF,UAAhB,EAA4B;AACxB,WAAK,IAAInF,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAG,KAAK3E,SAAL,CAAeuI,aAAnC,EAAkD5D,GAAC,EAAnD,EAAuD;AACnD,YAAImF,UAAU,CAACE,GAAD,CAAV,CAAgBR,WAAhB,IAA+B,KAAKxJ,SAAL,CAAegH,QAAf,CAAwBrC,GAAxB,EAA2BqC,QAA3B,CAAoC,CAApC,EAAuCzE,IAA1E,EAAgF;AAC5E,eAAKvC,SAAL,CAAegH,QAAf,CAAwBrC,GAAxB,EAA2BqC,QAA3B,CAAoC,CAApC,EAAuC1B,cAAvC,CAAsD,SAAtD,EAAiErC,MAAjE,GAA0E,IAA1E;AACA,eAAKjD,SAAL,CAAegH,QAAf,CAAwBrC,GAAxB,EAA2BqC,QAA3B,CAAoC,CAApC,EAAuC1B,cAAvC,CAAsD,SAAtD,EAAiErC,MAAjE,GAA0E,IAA1E;AACH;AACJ;AACJ;AACJ,GAxgBmB;AAygBpB;AACA4G,EAAAA,cA1gBoB,0BA0gBL/E,EA1gBK,EA0gBD;AAAA;;AACf/C,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyB8C,EAAzB;;AACA,SAAK,IAAIkF,GAAT,IAAgB,KAAKpH,SAArB,EAAgC;AAC5B,UAAIoH,GAAG,IAAIlF,EAAX,EAAe;AACX,aAAKqE,KAAL,GAAarE,EAAb;AACA,aAAK4E,iBAAL,CAAuB,KAAK9G,SAAL,CAAeoH,GAAf,CAAvB;;AACA,YAAI,KAAKpH,SAAL,CAAekC,EAAf,EAAmBD,MAAnB,IAA6B,CAAjC,EAAoC;AAChC,eAAKoE,iBAAL,CAAuB,KAAKrG,SAAL,CAAekC,EAAf,EAAmB,CAAnB,EAAsBA,EAA7C,EAAiD,KAAKlC,SAAL,CAAekC,EAAf,EAAmB,CAAnB,EAAsBC,IAAvE;AACH,SAFD,MAEO;AACH,cAAIM,OAAO,GAAG,KAAK7E,WAAL,CAAiB8E,cAAjB,CAAgC,YAAhC,EAA8CA,cAA9C,CAA6D,MAA7D,EAAqEA,cAArE,CAAoF,SAApF,CAAd;AACAD,UAAAA,OAAO,CAACjB,kBAAR;AACAiB,UAAAA,OAAO,CAAChB,iBAAR;AACA,eAAK/D,WAAL,CAAiB8D,kBAAjB;AACA,eAAK9D,WAAL,CAAiB+D,iBAAjB;AACH;;AACD;AACH;AACJ;;AAEDzE,IAAAA,MAAM,CAACiD,OAAP,CAAeC,QAAf,CAAwB,uBAAxB,EAAiD;AAAE0G,MAAAA,WAAW,EAAE1E;AAAf,KAAjD,EAAsE,UAAC/B,KAAD,EAAQC,GAAR,EAAgB;AAClF,MAAA,MAAI,CAACJ,SAAL,CAAekC,EAAf,IAAqB9B,GAArB;AACA,MAAA,MAAI,CAACmG,KAAL,GAAarE,EAAb;;AACA,MAAA,MAAI,CAAC4E,iBAAL,CAAuB,MAAI,CAAC9G,SAAL,CAAekC,EAAf,CAAvB;;AACA,UAAI,MAAI,CAAClC,SAAL,CAAekC,EAAf,EAAmBD,MAAnB,IAA6B,CAAjC,EAAoC;AAChC,QAAA,MAAI,CAACoE,iBAAL,CAAuB,MAAI,CAACrG,SAAL,CAAekC,EAAf,EAAmB,CAAnB,EAAsBA,EAA7C,EAAiD,MAAI,CAAClC,SAAL,CAAekC,EAAf,EAAmB,CAAnB,EAAsBC,IAAvE;AACH,OAFD,MAEO;AACH,YAAIM,QAAO,GAAG,MAAI,CAAC7E,WAAL,CAAiB8E,cAAjB,CAAgC,YAAhC,EAA8CA,cAA9C,CAA6D,MAA7D,EAAqEA,cAArE,CAAoF,SAApF,CAAd;;AACAD,QAAAA,QAAO,CAACjB,kBAAR;;AACAiB,QAAAA,QAAO,CAAChB,iBAAR;;AACA,QAAA,MAAI,CAAC/D,WAAL,CAAiB8D,kBAAjB;;AACA,QAAA,MAAI,CAAC9D,WAAL,CAAiB+D,iBAAjB;AACH;AACJ,KAbD;AAcH,GA3iBmB;AA6iBpB;AACAuF,EAAAA,gBA9iBoB,8BA8iBD;AACf,QAAIK,QAAQ,GAAG,EAAf;AAAA,QAAmBC,UAAU,GAAG,CAAhC;AACA,QAAIC,aAAa,GAAG,KAAK7H,IAAL,CAAUgD,cAAV,CAAyB,WAAzB,CAApB;AACA,QAAI8E,IAAI,GAAGD,aAAa,CAAC7E,cAAd,CAA6B,MAA7B,CAAX;;AAEA,SAAK,IAAIX,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKgF,cAAL,CAAoB9E,MAAxC,EAAgDF,CAAC,EAAjD,EAAqD;AACjD,UAAIxE,SAAS,GAAGF,EAAE,CAACsE,WAAH,CAAe,KAAKpE,SAApB,CAAhB;AACAA,MAAAA,SAAS,CAACqE,MAAV,GAAmB,KAAKxE,SAAxB;AACAG,MAAAA,SAAS,CAACmF,cAAV,CAAyB,YAAzB,EAAuCA,cAAvC,CAAsD,OAAtD,EAA+DC,YAA/D,CAA4EtF,EAAE,CAACuF,KAA/E,EAAsFC,MAAtF,GAA+F,KAAKkE,cAAL,CAAoBhF,CAApB,EAAuBe,KAAtH;AACAvF,MAAAA,SAAS,CAACmF,cAAV,CAAyB,WAAzB,EAAsCA,cAAtC,CAAqD,OAArD,EAA8DC,YAA9D,CAA2EtF,EAAE,CAACuF,KAA9E,EAAqFC,MAArF,GAA8F,KAAKkE,cAAL,CAAoBhF,CAApB,EAAuBe,KAArH;AACAvF,MAAAA,SAAS,CAACmF,cAAV,CAAyB,YAAzB,EAAuC/C,IAAvC,aAAiD,KAAKoH,cAAL,CAAoBhF,CAApB,EAAuBG,EAAxE;AACAoF,MAAAA,UAAU,GAAG/J,SAAS,CAACgF,MAAvB;AACAhF,MAAAA,SAAS,CAAC8C,MAAV,GAAmB,IAAnB;AACH;;AACD,QAAI,KAAKC,OAAL,CAAa2B,MAAb,IAAuB,CAA3B,EAA8B;AAC1B,UAAI1E,UAAS,GAAGF,EAAE,CAACsE,WAAH,CAAe,KAAKpE,SAApB,CAAhB;;AACAA,MAAAA,UAAS,CAACqE,MAAV,GAAmB,KAAKxE,SAAxB;AACAG,MAAAA,UAAS,CAACmF,cAAV,CAAyB,YAAzB,EAAuCA,cAAvC,CAAsD,OAAtD,EAA+DC,YAA/D,CAA4EtF,EAAE,CAACuF,KAA/E,EAAsFC,MAAtF,GAA+F,IAA/F;AACAtF,MAAAA,UAAS,CAACmF,cAAV,CAAyB,WAAzB,EAAsCA,cAAtC,CAAqD,OAArD,EAA8DC,YAA9D,CAA2EtF,EAAE,CAACuF,KAA9E,EAAqFC,MAArF,GAA8F,IAA9F;AACAtF,MAAAA,UAAS,CAACoC,IAAV;AACA2H,MAAAA,UAAU,GAAG/J,UAAS,CAACgF,MAAvB;AACAhF,MAAAA,UAAS,CAAC8C,MAAV,GAAmB,IAAnB;AACH;;AAED,QAAI,KAAKjD,SAAL,CAAeuI,aAAf,IAAgC,CAApC,EAAuC;AACnC;AACH;;AAED,SAAKvI,SAAL,CAAemF,MAAf,GAAwB,KAAKnF,SAAL,CAAeuI,aAAf,IAAgC2B,UAAU,GAAG,KAAKlK,SAAL,CAAeuF,YAAf,CAA4BtF,EAAE,CAACoK,MAA/B,EAAuCC,QAApF,IAAgG,EAAxH;;AAEA,QAAG,KAAKtK,SAAL,CAAemF,MAAf,GAAwBiF,IAAI,CAACjF,MAAhC,EAAwC;AACpCgF,MAAAA,aAAa,CAAC7E,cAAd,CAA6B,UAA7B,EAAyCrC,MAAzC,GAAkD,IAAlD;AACH;AACJ,GA/kBmB;AAilBpB;AACAyG,EAAAA,iBAllBoB,6BAklBFvF,IAllBE,EAklBI;AACpB,SAAK/D,UAAL,CAAgBgE,kBAAhB;AACA,SAAKhE,UAAL,CAAgBiE,iBAAhB;;AACA,SAAK,IAAIM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGR,IAAI,CAACU,MAAzB,EAAiCF,CAAC,EAAlC,EAAsC;AAClC,UAAItE,UAAU,GAAGJ,EAAE,CAACsE,WAAH,CAAe,KAAKlE,UAApB,CAAjB;AACAA,MAAAA,UAAU,CAACmE,MAAX,GAAoB,KAAKpE,UAAzB;AACAC,MAAAA,UAAU,CAACiF,cAAX,CAA0B,OAA1B,EAAmCC,YAAnC,CAAgDtF,EAAE,CAACuF,KAAnD,EAA0DC,MAA1D,GAAmEtB,IAAI,CAACQ,CAAD,CAAJ,CAAQ4F,uBAA3E;AACAlK,MAAAA,UAAU,CAACiF,cAAX,CAA0B,WAA1B,EAAuCA,cAAvC,CAAsD,OAAtD,EAA+DC,YAA/D,CAA4EtF,EAAE,CAACuF,KAA/E,EAAsFC,MAAtF,GAA+FtB,IAAI,CAACQ,CAAD,CAAJ,CAAQ4F,uBAAvG;AACAlK,MAAAA,UAAU,CAACiF,cAAX,CAA0B,KAA1B,EAAiCC,YAAjC,CAA8CtF,EAAE,CAAC0F,MAAjD,EAAyDC,WAAzD,GAAuE,KAAK5E,WAAL,CAAiBmD,IAAI,CAACQ,CAAD,CAAJ,CAAQ6F,GAAzB,CAAvE;AACAnK,MAAAA,UAAU,CAACiF,cAAX,CAA0B,SAA1B,EAAqCrC,MAArC,GAA8CkB,IAAI,CAACQ,CAAD,CAAJ,CAAQ8E,eAAR,IAA2B,CAAzE;AACApJ,MAAAA,UAAU,CAAC2G,QAAX,CAAoB,CAApB,EAAuBzE,IAAvB,aAAiCoC,CAAjC;AACAtE,MAAAA,UAAU,CAAC4C,MAAX,GAAoB,IAApB;AACA5C,MAAAA,UAAU,CAACiF,cAAX,CAA0B,WAA1B,EAAuCrC,MAAvC,GAAgD0B,CAAC,IAAI,CAArD;AACH;AACJ,GAhmBmB;AAimBpB;AACA8F,EAAAA,WAlmBoB,uBAkmBRnI,IAlmBQ,EAkmBF;AACdA,IAAAA,IAAI,CAACgD,cAAL,CAAoB,WAApB,EAAiCrC,MAAjC,GAA0C,IAA1C;;AACA,SAAK,IAAI0B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKvE,UAAL,CAAgBmI,aAApC,EAAmD5D,CAAC,EAApD,EAAwD;AACpD,UAAI,KAAKvE,UAAL,CAAgB4G,QAAhB,CAAyBrC,CAAzB,EAA4BqC,QAA5B,CAAqC,CAArC,EAAwCzE,IAAxC,IAAgDD,IAAI,CAAC0E,QAAL,CAAc,CAAd,EAAiBzE,IAArE,EAA2E;AACvE,aAAKnC,UAAL,CAAgB4G,QAAhB,CAAyBrC,CAAzB,EAA4BW,cAA5B,CAA2C,WAA3C,EAAwDrC,MAAxD,GAAiE,KAAjE;AACH;AACJ;AACJ,GAzmBmB;AA0mBpB;AACAU,EAAAA,WA3mBoB,uBA2mBRpB,IA3mBQ,EA2mBFD,IA3mBE,EA2mBI;AACpB,SAAKjB,aAAL,CAAmBiB,IAAnB,CAAwBW,MAAxB,GAAiC,IAAjC;AACA,SAAKyH,sBAAL;AACA,SAAKb,cAAL,CAAoBvH,IAAI,CAAC0E,QAAL,CAAc,CAAd,EAAiBzE,IAArC;AACH,GA/mBmB;AAgnBpB;AACAoI,EAAAA,aAjnBoB,yBAinBNC,MAjnBM,EAinBEC,KAjnBF,EAinBS;AACzB,QAAIT,IAAI,GAAG,KAAKpK,SAAL,CAAewE,MAA1B;AACA,QAAIa,OAAO,GAAG,KAAKrF,SAAnB;AACA,QAAI8K,IAAI,GAAG,CAAX;AACA,QAAIC,IAAI,GAAG1F,OAAO,CAACF,MAAR,GAAiBiF,IAAI,CAACjF,MAAjC;;AAEA,QAAGE,OAAO,CAACgC,CAAR,IAAayD,IAAhB,EAAsB;AAClB,WAAKjJ,MAAL,CAAYoB,MAAZ,GAAqB,KAArB;AACH,KAFD,MAEO,IAAGoC,OAAO,CAACgC,CAAR,IAAa0D,IAAhB,EAAsB;AACzB,WAAKnJ,QAAL,CAAcqB,MAAd,GAAuB,KAAvB;AACH,KAFM,MAEA;AACH,WAAKrB,QAAL,CAAcqB,MAAd,GAAuB,IAAvB;AACA,WAAKpB,MAAL,CAAYoB,MAAZ,GAAqB,IAArB;AACH;AACJ,GA/nBmB;AAgoBpB;AACAe,EAAAA,QAjoBoB,sBAioBT;AACP,QAAIoG,IAAI,GAAG,KAAKpK,SAAL,CAAewE,MAA1B;AACA,QAAIa,OAAO,GAAG,KAAKrF,SAAnB;AACA,QAAIgL,IAAI,GAAG,KAAK7K,SAAhB;AACA,QAAIiJ,MAAM,GAAG/D,OAAO,CAACE,YAAR,CAAqBtF,EAAE,CAACoK,MAAxB,CAAb;AACA,QAAIS,IAAI,GAAG,CAAX;AACA,QAAIC,IAAI,GAAG1F,OAAO,CAACF,MAAR,GAAiBiF,IAAI,CAACjF,MAAjC;;AAEA,QAAGE,OAAO,CAACgC,CAAR,IAAayD,IAAhB,EAAsB;AAClB;AACH;;AAED,QAAIG,UAAU,GAAGD,IAAI,CAAC7F,MAAL,GAAciE,MAAM,CAACkB,QAAtC;AACA,QAAIY,WAAW,GAAG,CAAC7F,OAAO,CAACgC,CAAR,GAAY+B,MAAM,CAAC+B,UAApB,IAAkCF,UAApD;;AACA,QAAGC,WAAW,GAAGE,IAAI,CAACC,KAAL,CAAWH,WAAX,CAAd,GAAwC,IAA3C,EAAiD;AAC7CA,MAAAA,WAAW,GAAGE,IAAI,CAACC,KAAL,CAAWH,WAAX,IAA0B,CAAxC;AACH,KAFD,MAEO;AACHA,MAAAA,WAAW,GAAGE,IAAI,CAACC,KAAL,CAAWH,WAAX,IAA0B,CAAxC;AACH;;AAED,QAAII,OAAO,GAAGlC,MAAM,CAAC+B,UAAP,GAAoBD,WAAW,GAAGD,UAAhD;;AACA,QAAGK,OAAO,GAAGR,IAAV,GAAiBE,IAAI,CAAC7F,MAAzB,EAAiC;AAC7BmG,MAAAA,OAAO,GAAGR,IAAI,GAAC,CAAf;AACA,WAAKjJ,MAAL,CAAYoB,MAAZ,GAAqB,KAArB;AACH;;AAED,SAAKrB,QAAL,CAAcqB,MAAd,GAAuB,IAAvB;AACAqI,IAAAA,OAAO,GAAGF,IAAI,CAACG,GAAL,CAASD,OAAT,EAAkBR,IAAlB,CAAV;AAEAzF,IAAAA,OAAO,CAACmG,cAAR;AACAnG,IAAAA,OAAO,CAACoG,SAAR,CAAkBxL,EAAE,CAACyL,MAAH,CAAU,GAAV,EAAezL,EAAE,CAAC0L,EAAH,CAAM,CAAN,EAASL,OAAT,CAAf,CAAlB;AAEH,GAjqBmB;AAkqBpB;AACArH,EAAAA,UAnqBoB,wBAmqBP;AACT,QAAImG,IAAI,GAAG,KAAKpK,SAAL,CAAewE,MAA1B;AACA,QAAIa,OAAO,GAAG,KAAKrF,SAAnB;AACA,QAAIgL,IAAI,GAAG,KAAK7K,SAAhB;AACA,QAAIiJ,MAAM,GAAG/D,OAAO,CAACE,YAAR,CAAqBtF,EAAE,CAACoK,MAAxB,CAAb;AACA,QAAIU,IAAI,GAAG1F,OAAO,CAACF,MAAR,GAAiBiF,IAAI,CAACjF,MAAjC;;AAEA,QAAGE,OAAO,CAACgC,CAAR,IAAa0D,IAAhB,EAAsB;AAClB;AACH;;AAED,QAAIE,UAAU,GAAGD,IAAI,CAAC7F,MAAL,GAAciE,MAAM,CAACkB,QAAtC;AACA,QAAIY,WAAW,GAAG,CAAC7F,OAAO,CAACgC,CAAR,GAAY+C,IAAI,CAACjF,MAAjB,GAA0BiE,MAAM,CAAC+B,UAAlC,IAAgDF,UAAlE;AACAC,IAAAA,WAAW,GAAGE,IAAI,CAACG,GAAL,CAASL,WAAT,EAAsB,CAAtB,CAAd;;AAEA,QAAGA,WAAW,GAAGE,IAAI,CAACC,KAAL,CAAWH,WAAX,CAAd,GAAwC,GAA3C,EAAgD;AAC5CA,MAAAA,WAAW,GAAGE,IAAI,CAACC,KAAL,CAAWH,WAAX,IAA0B,CAAxC;AACH,KAFD,MAEO;AACHA,MAAAA,WAAW,GAAGE,IAAI,CAACQ,IAAL,CAAUV,WAAV,IAAyB,CAAvC;AACH;;AAED,QAAII,OAAO,GAAGlC,MAAM,CAAC+B,UAAP,GAAoBD,WAAW,GAAGD,UAAlC,GAA+Cb,IAAI,CAACjF,MAAlE;;AACA,QAAG4F,IAAI,GAAGO,OAAP,GAAiBN,IAAI,CAAC7F,MAAzB,EAAiC;AAC7BmG,MAAAA,OAAO,GAAGP,IAAI,GAAG,CAAjB;AACA,WAAKnJ,QAAL,CAAcqB,MAAd,GAAuB,KAAvB;AACH;;AAED,SAAKpB,MAAL,CAAYoB,MAAZ,GAAqB,IAArB;AACAqI,IAAAA,OAAO,GAAGF,IAAI,CAACS,GAAL,CAASP,OAAT,EAAkBP,IAAlB,CAAV;AAEA1F,IAAAA,OAAO,CAACmG,cAAR;AACAnG,IAAAA,OAAO,CAACoG,SAAR,CAAkBxL,EAAE,CAACyL,MAAH,CAAU,GAAV,EAAezL,EAAE,CAAC0L,EAAH,CAAM,CAAN,EAASL,OAAT,CAAf,CAAlB;AACH,GAnsBmB;AAqsBpB5H,EAAAA,UArsBoB,sBAqsBTpB,IArsBS,EAqsBH;AAAA;;AACb,QAAI,KAAKY,OAAT,EAAkB;AACd,WAAK4I,YAAL,CAAkB,KAAK5I,OAAvB;AACH,KAFD,MAEO;AACHtD,MAAAA,MAAM,CAACiD,OAAP,CAAeC,QAAf,CAAwB,gBAAxB,EAA0C,EAA1C,EAA8C,UAACC,KAAD,EAAQC,GAAR,EAAgB;AAC1D,QAAA,MAAI,CAACE,OAAL,GAAeF,GAAG,CAACE,OAAnB;;AACA,QAAA,MAAI,CAAC4I,YAAL,CAAkB,MAAI,CAAC5I,OAAvB;AACH,OAHD;AAIH;;AACD,SAAKiG,KAAL,GAAa,IAAb;AACA,SAAK9H,aAAL,CAAmBiB,IAAnB,CAAwBW,MAAxB,GAAiC,KAAjC;AACH,GAhtBmB;AAitBpB6I,EAAAA,YAjtBoB,wBAitBP3H,IAjtBO,EAitBD;AACf,SAAK/D,UAAL,CAAgBgE,kBAAhB;AACA,SAAKhE,UAAL,CAAgBiE,iBAAhB;;AACA,SAAK,IAAIM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGR,IAAI,CAACU,MAAzB,EAAiCF,CAAC,EAAlC,EAAsC;AAClC,UAAItE,UAAU,GAAGJ,EAAE,CAACsE,WAAH,CAAe,KAAKlE,UAApB,CAAjB;AACAA,MAAAA,UAAU,CAACmE,MAAX,GAAoB,KAAKpE,UAAzB;AACAC,MAAAA,UAAU,CAACiF,cAAX,CAA0B,OAA1B,EAAmCC,YAAnC,CAAgDtF,EAAE,CAACuF,KAAnD,EAA0DC,MAA1D,GAAmEtB,IAAI,CAACQ,CAAD,CAAJ,CAAQe,KAA3E;AACArF,MAAAA,UAAU,CAACiF,cAAX,CAA0B,WAA1B,EAAuCA,cAAvC,CAAsD,OAAtD,EAA+DC,YAA/D,CAA4EtF,EAAE,CAACuF,KAA/E,EAAsFC,MAAtF,GAA+FtB,IAAI,CAACQ,CAAD,CAAJ,CAAQe,KAAvG;AACArF,MAAAA,UAAU,CAACiF,cAAX,CAA0B,KAA1B,EAAiCrC,MAAjC,GAA0C,KAA1C;AACA5C,MAAAA,UAAU,CAAC2G,QAAX,CAAoB,CAApB,EAAuBzE,IAAvB,aAAiCoC,CAAjC;AACAtE,MAAAA,UAAU,CAAC4C,MAAX,GAAoB,IAApB;AACA5C,MAAAA,UAAU,CAACiF,cAAX,CAA0B,WAA1B,EAAuCrC,MAAvC,GAAgD0B,CAAC,IAAI,CAArD;AACH;;AACD,SAAKpE,gBAAL,CAAsB0C,MAAtB,GAA+B,IAA/B;AACA,SAAKzC,WAAL,CAAiByC,MAAjB,GAA0B,KAA1B;AACA,SAAK3C,WAAL,CAAiB8D,kBAAjB;AACA,SAAK9D,WAAL,CAAiB+D,iBAAjB;AACA,SAAK9D,gBAAL,CAAsBgF,YAAtB,CAAmCtF,EAAE,CAAC8L,UAAtC,EAAkDC,cAAlD;AACA,QAAI,KAAK9I,OAAL,CAAa2B,MAAb,IAAuB,CAA3B,EAA8B,OAlBf,CAoBf;;AACA,SAAKoH,aAAL,CAAmB,KAAK/I,OAAL,CAAa,CAAb,EAAgBmC,OAAnC,EAA4C,KAAK9D,SAAjD;AACH,GAvuBmB;AAyuBpB;AACA2K,EAAAA,aA1uBoB,yBA0uBN5J,IA1uBM,EA0uBA;AAChB,SAAK,IAAIqC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK3E,SAAL,CAAeuI,aAAnC,EAAkD5D,CAAC,EAAnD,EAAuD;AACnD,UAAI,KAAK3E,SAAL,CAAegH,QAAf,CAAwBrC,CAAxB,EAA2BqC,QAA3B,CAAoC,CAApC,EAAuCzE,IAAvC,IAA+CD,IAAI,CAAC0E,QAAL,CAAc,CAAd,EAAiBzE,IAApE,EAA0E;AACtE,eAAOoC,CAAP;AACH;AACJ;AACJ,GAhvBmB;AAivBpB;AACAf,EAAAA,YAlvBoB,wBAkvBPrB,IAlvBO,EAkvBDD,IAlvBC,EAkvBK;AACrB,QAAIA,IAAI,CAACgD,cAAL,CAAoB,WAApB,EAAiCrC,MAArC,EAA6C;AAC7C,SAAKwH,WAAL,CAAiBnI,IAAjB;;AACA,QAAI,KAAK6G,KAAL,IAAc,IAAlB,EAAwB;AACpB,WAAK5I,gBAAL,CAAsB0C,MAAtB,GAA+B,IAA/B;AACA,WAAKzC,WAAL,CAAiByC,MAAjB,GAA0B,KAA1B;AACA,WAAK3C,WAAL,CAAiB8D,kBAAjB;AACA,WAAK9D,WAAL,CAAiB+D,iBAAjB;AACA,WAAK9D,gBAAL,CAAsBgF,YAAtB,CAAmCtF,EAAE,CAAC8L,UAAtC,EAAkDC,cAAlD,GALoB,CAOpB;;AACA,WAAKC,aAAL,CAAmB,KAAK/I,OAAL,CAAaZ,IAAI,CAAC0E,QAAL,CAAc,CAAd,EAAiBzE,IAA9B,EAAoC8C,OAAvD,EAAgE,KAAK9D,SAArE;AACA;AACH;;AACD,QAAI2H,KAAK,GAAG,KAAKiD,cAAL,CAAoB7J,IAApB,CAAZ;AACA,SAAK2G,iBAAL,CAAuB,KAAKrG,SAAL,CAAe,KAAKuG,KAApB,EAA2BD,KAA3B,EAAkCpE,EAAzD,EAA6D,KAAKlC,SAAL,CAAe,KAAKuG,KAApB,EAA2BD,KAA3B,EAAkCnE,IAA/F,EAAqGmE,KAArG;AACH,GAlwBmB;AAowBpB;AACAiD,EAAAA,cArwBoB,0BAqwBL7J,IArwBK,EAqwBC;AACjB,SAAK,IAAIqC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKvE,UAAL,CAAgBmI,aAApC,EAAmD5D,CAAC,EAApD,EAAwD;AACpD,UAAI,KAAKvE,UAAL,CAAgB4G,QAAhB,CAAyBrC,CAAzB,EAA4BqC,QAA5B,CAAqC,CAArC,EAAwCzE,IAAxC,IAAgDD,IAAI,CAAC0E,QAAL,CAAc,CAAd,EAAiBzE,IAArE,EAA2E;AACvE,eAAOoC,CAAP;AACH;AACJ;AACJ,GA3wBmB;AA4wBpB;AACAd,EAAAA,SA7wBoB,uBA6wBR;AACR,QAAIkB,IAAI,GAAG,KAAKnC,SAAL,CAAe,KAAKuG,KAApB,EAA2B,KAAKlC,QAAhC,EAA0ClC,IAArD;AACAhD,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB+C,IAAvB;;AACA,QAAIA,IAAI,IAAI,CAAR,IAAaA,IAAI,IAAI,CAArB,IAA0BA,IAAI,IAAI,CAAtC,EAAyC;AACrCnF,MAAAA,MAAM,CAAC6E,KAAP,CAAa2H,QAAb;AACH,KAFD,MAEO,IAAIrH,IAAI,IAAI,CAAZ,EAAe;AAClBnF,MAAAA,MAAM,CAACqC,IAAP,CAAYoK,SAAZ,KAA0BzM,MAAM,CAAC6E,KAAP,CAAa6H,gBAAb,CAA8B,IAA9B,CAA1B,GAAgE1M,MAAM,CAAC6E,KAAP,CAAa8H,eAAb,CAA6B,UAA7B,CAAhE;AACH,KAFM,MAEA,IAAIxH,IAAI,IAAI,CAAZ,EAAe;AAClBnF,MAAAA,MAAM,CAACqC,IAAP,CAAYoK,SAAZ,KAA0BzM,MAAM,CAAC6E,KAAP,CAAa6H,gBAAb,CAA8B,IAA9B,CAA1B,GAAgE1M,MAAM,CAAC6E,KAAP,CAAa8H,eAAb,CAA6B,YAA7B,CAAhE;AACA;AACH;;AACD,SAAKC,MAAL;AACA,SAAKjJ,OAAL,CAAa,OAAb;AACH,GA1xBmB;AA2xBpB;AACAO,EAAAA,MA5xBoB,kBA4xBbxB,IA5xBa,EA4xBP;AAAA;;AACT,QAAIyC,IAAI,GAAG,KAAKnC,SAAL,CAAe,KAAKuG,KAApB,EAA2B,KAAKlC,QAAhC,EAA0ClC,IAArD;AACA,QAAID,EAAE,GAAG,KAAKlC,SAAL,CAAe,KAAKuG,KAApB,EAA2B,KAAKlC,QAAhC,EAA0CnC,EAAnD;AACA,QAAI2H,OAAO,GAAGnK,IAAI,CAACkC,MAAL,CAAYjC,IAAZ,IAAoB,eAApB,GAAsC,KAAKK,SAAL,CAAe,KAAKuG,KAApB,EAA2B,KAAKlC,QAAhC,EAA0C5B,OAA1C,CAAkDY,UAAlD,CAA6DnB,EAAnG,GAAwG,KAAKlC,SAAL,CAAe,KAAKuG,KAApB,EAA2B,KAAKlC,QAAhC,EAA0C5B,OAA1C,CAAkDY,UAAlD,CAA6D3D,IAAI,CAACkC,MAAL,CAAYjC,IAAzE,EAA+EuC,EAArM;AACA,QAAI4H,UAAU,GAAGpK,IAAI,CAACkC,MAAL,CAAYjC,IAAZ,IAAoB,eAApB,GAAsC,KAAKK,SAAL,CAAe,KAAKuG,KAApB,EAA2B,KAAKlC,QAAhC,EAA0C5B,OAA1C,CAAkDY,UAAlD,CAA6DnC,MAA7D,CAAoE4C,IAA1G,GAAiH,KAAK9D,SAAL,CAAe,KAAKuG,KAApB,EAA2B,KAAKlC,QAAhC,EAA0C5B,OAA1C,CAAkDY,UAAlD,CAA6D3D,IAAI,CAACkC,MAAL,CAAYjC,IAAzE,EAA+EuB,MAA/E,CAAsF4C,IAAxN;AACA,QAAIiG,YAAY,GAAGrK,IAAI,CAACkC,MAAL,CAAYjC,IAAZ,IAAoB,eAApB,GAAsC,KAAKK,SAAL,CAAe,KAAKuG,KAApB,EAA2B,KAAKlC,QAAhC,EAA0C5B,OAA1C,CAAkDY,UAAlD,CAA6DnC,MAA7D,CAAoEiD,OAA1G,GAAoH,KAAKnE,SAAL,CAAe,KAAKuG,KAApB,EAA2B,KAAKlC,QAAhC,EAA0C5B,OAA1C,CAAkDY,UAAlD,CAA6D3D,IAAI,CAACkC,MAAL,CAAYjC,IAAzE,EAA+EuB,MAA/E,CAAsFiD,OAA7N;AACAnH,IAAAA,MAAM,CAACiD,OAAP,CAAeC,QAAf,CAAwB,0BAAxB,EAAoD;AAAEiC,MAAAA,IAAI,EAAEA,IAAR;AAAcD,MAAAA,EAAE,EAAEA,EAAlB;AAAsB8H,MAAAA,KAAK,EAAEH;AAA7B,KAApD,EAA4F,UAAC1J,KAAD,EAAQC,GAAR,EAAgB;AACxG,UAAI6J,GAAG,GAAG,EAAV;AACA,UAAIH,UAAJ,EAAgBG,GAAG,CAACnE,IAAJ,CAAS;AAAE3D,QAAAA,IAAI,EAAEnF,MAAM,CAACkN,SAAP,CAAiBnN,IAAzB;AAA+BqI,QAAAA,KAAK,EAAE,MAAI,CAACpB,QAAL,CAAc8F,UAAd;AAAtC,OAAT;AAChB,UAAI9M,MAAM,CAACqC,IAAP,CAAYC,GAAZ,CAAgB,YAAhB,KAAiCyK,YAArC,EAAmDE,GAAG,CAACnE,IAAJ,CAAS;AAAE3D,QAAAA,IAAI,EAAEnF,MAAM,CAACkN,SAAP,CAAiBC,OAAzB;AAAkC/E,QAAAA,KAAK,EAAE,MAAI,CAACpB,QAAL,CAAc+F,YAAd;AAAzC,OAAT;;AACnD,UAAI3J,GAAG,CAACmB,IAAJ,CAASY,IAAT,IAAiB,CAArB,EAAwB;AACpBnF,QAAAA,MAAM,CAAC6E,KAAP,CAAauI,YAAb,CAA0BpN,MAAM,CAACqN,IAAP,CAAYC,QAAZ,CAAqBC,UAA/C,EAA2DN,GAA3D;;AACA,YAAIvK,IAAI,CAACkC,MAAL,CAAYjC,IAAZ,IAAoB,eAAxB,EAAyC;AACrC,UAAA,MAAI,CAACK,SAAL,CAAe,MAAI,CAACuG,KAApB,EAA2B,MAAI,CAAClC,QAAhC,EAA0C5B,OAA1C,CAAkDY,UAAlD,CAA6D3C,KAA7D,GAAqE,CAArE;AACH,SAFD,MAEO;AACH,UAAA,MAAI,CAACV,SAAL,CAAe,MAAI,CAACuG,KAApB,EAA2B,MAAI,CAAClC,QAAhC,EAA0C5B,OAA1C,CAAkDY,UAAlD,CAA6D3D,IAAI,CAACkC,MAAL,CAAYjC,IAAzE,EAA+Ee,KAA/E,GAAuF,CAAvF;AACH;;AACDhB,QAAAA,IAAI,CAACkC,MAAL,CAAYc,cAAZ,CAA2B,WAA3B,EAAwCrC,MAAxC,GAAiD,IAAjD;AACAX,QAAAA,IAAI,CAACkC,MAAL,CAAYc,cAAZ,CAA2B,cAA3B,EAA2CrC,MAA3C,GAAoD,KAApD;AACA,YAAIX,IAAI,CAACkC,MAAL,CAAYc,cAAZ,CAA2B,aAA3B,CAAJ,EAA+ChD,IAAI,CAACkC,MAAL,CAAYc,cAAZ,CAA2B,aAA3B,EAA0CrC,MAA1C,GAAmD,KAAnD;AAC/CX,QAAAA,IAAI,CAACW,MAAL,GAAc,KAAd;AACH,OAXD,MAWO,IAAID,GAAG,CAACmB,IAAJ,CAASY,IAAT,IAAiB,CAArB,EAAwB;AAC3BnF,QAAAA,MAAM,CAAC6E,KAAP,CAAauI,YAAb,CAA0BpN,MAAM,CAACqN,IAAP,CAAYC,QAAZ,CAAqBE,gBAA/C,EAAiEP,GAAjE;;AACA,YAAIvK,IAAI,CAACkC,MAAL,CAAYjC,IAAZ,IAAoB,eAAxB,EAAyC;AACrC,UAAA,MAAI,CAACK,SAAL,CAAe,MAAI,CAACuG,KAApB,EAA2B,MAAI,CAAClC,QAAhC,EAA0C5B,OAA1C,CAAkDY,UAAlD,CAA6D3C,KAA7D,GAAqE,CAArE;AACH,SAFD,MAEO;AACH,UAAA,MAAI,CAACV,SAAL,CAAe,MAAI,CAACuG,KAApB,EAA2B,MAAI,CAAClC,QAAhC,EAA0C5B,OAA1C,CAAkDY,UAAlD,CAA6D3D,IAAI,CAACkC,MAAL,CAAYjC,IAAzE,EAA+Ee,KAA/E,GAAuF,CAAvF;AACH;;AACDhB,QAAAA,IAAI,CAACkC,MAAL,CAAYc,cAAZ,CAA2B,UAA3B,EAAuCrC,MAAvC,GAAgD,IAAhD;AACAX,QAAAA,IAAI,CAACkC,MAAL,CAAYc,cAAZ,CAA2B,cAA3B,EAA2CrC,MAA3C,GAAoD,KAApD;AACA,YAAIX,IAAI,CAACkC,MAAL,CAAYc,cAAZ,CAA2B,aAA3B,CAAJ,EAA+ChD,IAAI,CAACkC,MAAL,CAAYc,cAAZ,CAA2B,aAA3B,EAA0CrC,MAA1C,GAAmD,KAAnD;AAC/CX,QAAAA,IAAI,CAACW,MAAL,GAAc,KAAd;AACH;;AACD,MAAA,MAAI,CAACoG,eAAL;;AACA,MAAA,MAAI,CAACjG,iBAAL;AACH,KA7BD;AA+BH,GAj0BmB;AAm0BpB;AACAiG,EAAAA,eAp0BoB,6BAo0BF;AACd,QAAI,CAAC,KAAKzG,SAAL,CAAe,KAAKuG,KAApB,EAA2B,KAAKlC,QAAhC,EAA0C5B,OAA1C,CAAkDY,UAAvD,EAAmE;;AACnE,QAAI,CAAC,KAAKrD,SAAL,CAAe,KAAKuG,KAApB,EAA2B,KAAKlC,QAAhC,EAA0C5B,OAA1C,CAAkDY,UAAlD,CAA6DpB,MAAlE,EAA0E;AACtE,WAAKzE,UAAL,CAAgB4G,QAAhB,CAAyB,KAAKC,QAA9B,EAAwC3B,cAAxC,CAAuD,SAAvD,EAAkErC,MAAlE,GAA2E,KAAKL,SAAL,CAAe,KAAKuG,KAApB,EAA2B,KAAKlC,QAAhC,EAA0C5B,OAA1C,CAAkDY,UAAlD,CAA6D3C,KAA7D,IAAsE,CAAjJ;AACA,WAAKV,SAAL,CAAe,KAAKuG,KAApB,EAA2B,KAAKlC,QAAhC,EAA0CwC,eAA1C,GAA4D,KAAK7G,SAAL,CAAe,KAAKuG,KAApB,EAA2B,KAAKlC,QAAhC,EAA0C5B,OAA1C,CAAkDY,UAAlD,CAA6D3C,KAA7D,IAAsE,CAAtE,GAA0E,CAA1E,GAA8E,CAA1I;AACH,KAHD,MAGO;AACH,UAAIa,IAAI,GAAG,KAAKvB,SAAL,CAAe,KAAKuG,KAApB,EAA2B,KAAKlC,QAAhC,EAA0C5B,OAA1C,CAAkDY,UAA7D;AACA,UAAIoH,IAAI,GAAG,KAAX;;AACA,WAAK,IAAI1I,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGR,IAAI,CAACU,MAAzB,EAAiCF,CAAC,EAAlC,EAAsC;AAClC,YAAIR,IAAI,CAACQ,CAAD,CAAJ,CAAQrB,KAAR,IAAiB,CAArB,EAAwB;AACpB+J,UAAAA,IAAI,GAAG,IAAP;AACA;AACH;AACJ;;AACDtL,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BqL,IAA7B;;AACA,UAAIA,IAAJ,EAAU;AACN,aAAKjN,UAAL,CAAgB4G,QAAhB,CAAyB,KAAKC,QAA9B,EAAwC3B,cAAxC,CAAuD,SAAvD,EAAkErC,MAAlE,GAA2E,IAA3E;AACA,aAAKL,SAAL,CAAe,KAAKuG,KAApB,EAA2B,KAAKlC,QAAhC,EAA0CwC,eAA1C,GAA4D,CAA5D;AACH,OAHD,MAGO;AACH,aAAKrJ,UAAL,CAAgB4G,QAAhB,CAAyB,KAAKC,QAA9B,EAAwC3B,cAAxC,CAAuD,SAAvD,EAAkErC,MAAlE,GAA2E,KAA3E;AACA,aAAKL,SAAL,CAAe,KAAKuG,KAApB,EAA2B,KAAKlC,QAAhC,EAA0CwC,eAA1C,GAA4D,CAA5D;AACH;AACJ;;AACD,SAAK6D,cAAL;AACH,GA51BmB;AA61BpB;AACAA,EAAAA,cA91BoB,4BA81BH;AACb,QAAID,IAAI,GAAG,KAAX;;AACA,SAAK,IAAI1I,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK/B,SAAL,CAAe,KAAKuG,KAApB,EAA2BtE,MAA/C,EAAuDF,CAAC,EAAxD,EAA4D;AACxD,UAAI,KAAK/B,SAAL,CAAe,KAAKuG,KAApB,EAA2BxE,CAA3B,EAA8B8E,eAA9B,IAAiD,CAArD,EAAwD;AACpD4D,QAAAA,IAAI,GAAG,IAAP;AACA;AACH;AACJ;;AACD,QAAInE,KAAK,GAAG,KAAKqE,YAAL,CAAkB,KAAKpE,KAAvB,CAAZ;AACApH,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgC,KAAKY,SAArC,EAAgDyK,IAAhD;AACA,SAAKrN,SAAL,CAAegH,QAAf,CAAwBkC,KAAxB,EAA+BlC,QAA/B,CAAwC,CAAxC,EAA2C1B,cAA3C,CAA0D,SAA1D,EAAqErC,MAArE,GAA8EoK,IAA9E;AACA,SAAKrN,SAAL,CAAegH,QAAf,CAAwBkC,KAAxB,EAA+BlC,QAA/B,CAAwC,CAAxC,EAA2C1B,cAA3C,CAA0D,SAA1D,EAAqErC,MAArE,GAA8EoK,IAA9E;AACH,GA12BmB;AA22BpBE,EAAAA,YA32BoB,wBA22BPzI,EA32BO,EA22BH;AACb,SAAK,IAAIH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK3E,SAAL,CAAeuI,aAAnC,EAAkD5D,CAAC,EAAnD,EAAuD;AACnD,UAAI,KAAK3E,SAAL,CAAegH,QAAf,CAAwBrC,CAAxB,EAA2BqC,QAA3B,CAAoC,CAApC,EAAuCzE,IAAvC,IAA+CuC,EAAnD,EAAuD;AACnD,eAAOH,CAAP;AACH;AACJ;AACJ,GAj3BmB;AAk3BpB;AACAlB,EAAAA,SAn3BoB,uBAm3BR;AAAA;;AACR7D,IAAAA,MAAM,CAACiD,OAAP,CAAeC,QAAf,CAAwB,6BAAxB,EAAuD,EAAvD,EAA2D,UAACC,KAAD,EAAQC,GAAR,EAAgB;AACvE,MAAA,OAAI,CAACwK,eAAL;;AACA,MAAA,OAAI,CAACvE,iBAAL,CAAuB,OAAI,CAACrG,SAAL,CAAe,OAAI,CAACuG,KAApB,EAA2B,OAAI,CAAClC,QAAhC,EAA0CnC,EAAjE,EAAqE,OAAI,CAAClC,SAAL,CAAe,OAAI,CAACuG,KAApB,EAA2B,OAAI,CAAClC,QAAhC,EAA0ClC,IAA/G,EAAqH,OAAI,CAACkC,QAA1H;;AACA,UAAI4F,GAAG,GAAG,EAAV;AACA,UAAI7J,GAAG,CAACmB,IAAJ,CAASuC,IAAb,EAAmBmG,GAAG,CAACnE,IAAJ,CAAS;AAAE3D,QAAAA,IAAI,EAAEnF,MAAM,CAACkN,SAAP,CAAiBnN,IAAzB;AAA+BqI,QAAAA,KAAK,EAAE,OAAI,CAACpB,QAAL,CAAc5D,GAAG,CAACmB,IAAJ,CAASuC,IAAvB;AAAtC,OAAT;AACnB,UAAI9G,MAAM,CAACqC,IAAP,CAAYC,GAAZ,CAAgB,YAAhB,KAAiCc,GAAG,CAACmB,IAAJ,CAAS4C,OAA9C,EAAuD8F,GAAG,CAACnE,IAAJ,CAAS;AAAE3D,QAAAA,IAAI,EAAEnF,MAAM,CAACkN,SAAP,CAAiBC,OAAzB;AAAkC/E,QAAAA,KAAK,EAAE,OAAI,CAACpB,QAAL,CAAc5D,GAAG,CAACmB,IAAJ,CAAS4C,OAAvB;AAAzC,OAAT;;AACvD,UAAI/D,GAAG,CAACmB,IAAJ,CAASuC,IAAT,IAAiB,CAAjB,IAAsB1D,GAAG,CAACmB,IAAJ,CAASsJ,SAAT,IAAsB,CAAhD,EAAmD;AAC/C7N,QAAAA,MAAM,CAAC6E,KAAP,CAAaiJ,OAAb,CAAqB9N,MAAM,CAACqN,IAAP,CAAYC,QAAZ,CAAqBS,WAArB,CAAiCC,MAAjC,CAAwC5K,GAAG,CAACmB,IAAJ,CAASsJ,SAAjD,CAArB;AACH,OAFD,MAEO,IAAIzK,GAAG,CAACmB,IAAJ,CAASsJ,SAAT,IAAsB,CAA1B,EAA6B;AAChC7N,QAAAA,MAAM,CAAC6E,KAAP,CAAauI,YAAb,CAA0BpN,MAAM,CAACqN,IAAP,CAAYC,QAAZ,CAAqBC,UAA/C,EAA2DN,GAA3D;AACH,OAFM,MAEA,IAAI7J,GAAG,CAACmB,IAAJ,CAASuC,IAAT,IAAiB,CAAjB,IAAsB1D,GAAG,CAACmB,IAAJ,CAASsJ,SAAT,IAAsB,CAAhD,EAAmD;AACtD7N,QAAAA,MAAM,CAAC6E,KAAP,CAAauI,YAAb,CAA0BpN,MAAM,CAACqN,IAAP,CAAYC,QAAZ,CAAqBW,iBAArB,CAAuCD,MAAvC,CAA8C5K,GAAG,CAACmB,IAAJ,CAASsJ,SAAvD,CAA1B,EAA6FZ,GAA7F;AACH;;AAED9K,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBgB,GAAzB;;AACA,WAAK,IAAI2B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,OAAI,CAAC3E,SAAL,CAAeuI,aAAnC,EAAkD5D,CAAC,EAAnD,EAAuD;AACnD,QAAA,OAAI,CAAC3E,SAAL,CAAegH,QAAf,CAAwBrC,CAAxB,EAA2BqC,QAA3B,CAAoC,CAApC,EAAuC1B,cAAvC,CAAsD,SAAtD,EAAiErC,MAAjE,GAA0E,KAA1E;AACA,QAAA,OAAI,CAACjD,SAAL,CAAegH,QAAf,CAAwBrC,CAAxB,EAA2BqC,QAA3B,CAAoC,CAApC,EAAuC1B,cAAvC,CAAsD,SAAtD,EAAiErC,MAAjE,GAA0E,KAA1E;AACH;;AACD,WAAK,IAAI0B,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAG,OAAI,CAACvE,UAAL,CAAgBmI,aAApC,EAAmD5D,GAAC,EAApD,EAAwD;AACpD,QAAA,OAAI,CAACvE,UAAL,CAAgB4G,QAAhB,CAAyBrC,GAAzB,EAA4BW,cAA5B,CAA2C,SAA3C,EAAsDrC,MAAtD,GAA+D,KAA/D;AACH,OArBsE,CAuBvE;;;AACA,MAAA,OAAI,CAACqG,oBAAL;AAEH,KA1BD;AA2BH,GA/4BmB;AAg5BpB;AACAkE,EAAAA,eAj5BoB,6BAi5BF;AACd,SAAK,IAAI7I,CAAT,IAAc,KAAK/B,SAAnB,EAA8B;AAC1B,WAAK,IAAIuF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKvF,SAAL,CAAe+B,CAAf,EAAkBE,MAAtC,EAA8CsD,CAAC,EAA/C,EAAmD;AAC/C,YAAI,KAAKvF,SAAL,CAAe+B,CAAf,EAAkBwD,CAAlB,EAAqB9C,OAAzB,EAAkC;AAC9B,iBAAO,KAAKzC,SAAL,CAAe+B,CAAf,EAAkBwD,CAAlB,EAAqB9C,OAA5B;AACH;;AACD,aAAKzC,SAAL,CAAe+B,CAAf,EAAkBwD,CAAlB,EAAqBsB,eAArB,GAAuC,CAAvC;AACH;AACJ;;AACD1H,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyB,KAAKY,SAA9B,EATc,CAUd;;AACA,SAAKvB,aAAL,CAAmBgC,YAAnB,GAAkC,KAAlC;AACH,GA75BmB;AA85BpB;AACAU,EAAAA,cA/5BoB,4BA+5BH;AACb,QAAI7C,YAAY,GAAGtB,MAAM,CAAC6E,KAAP,CAAaqJ,SAAb,CAAuB,KAAK5M,YAA5B,CAAnB;AAAA,QACI6M,MAAM,GAAG7M,YAAY,CAACqE,YAAb,CAA0B,cAA1B,CADb;AAEAxD,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB,KAAKY,SAAL,CAAe,KAAKuG,KAApB,EAA2B,KAAKlC,QAAhC,CAAvB;AACA,QAAIrC,WAAW,GAAG,KAAKhC,SAAL,CAAe,KAAKuG,KAApB,EAA2B,KAAKlC,QAAhC,EAA0C5B,OAA1C,CAAkDT,WAApE;AACAmJ,IAAAA,MAAM,CAAC7J,iBAAP,CAAyBU,WAAzB;AACH,GAr6BmB;AAu6BpB;AACA;AACAqH,EAAAA,aAz6BoB,yBAy6BN5G,OAz6BM,EAy6BG9D,SAz6BH,EAy6Bc;AAAA;;AAC9BA,IAAAA,SAAS,CAAC0B,MAAV,GAAmB,IAAnB;AACA,QAAI+K,KAAK,GAAGzM,SAAS,CAACgE,YAAV,CAAuBtF,EAAE,CAACuF,KAA1B,CAAZ;AACA,QAAIyI,SAAS,GAAGD,KAAK,CAACE,UAAtB;;AACA,QAAIC,aAAa,GAAGF,SAAS,CAACG,iBAAV,EAApB;;AACA,QAAIC,QAAQ,GAAG,KAAKC,mBAAL,CAAyBjJ,OAAzB,EAAkC8I,aAAa,CAACI,OAAhD,EAAyD,KAAKC,YAAL,CAAkBR,KAAlB,CAAzD,EAAmFzM,SAAS,CAAC2D,KAA7F,CAAf;;AAEA,QAAIgE,KAAK,GAAG,CAAZ;AACA,SAAKwB,sBAAL;AACA,SAAKnD,QAAL,CAAc,YAAM;AAChB,UAAIkH,GAAG,GAAGxO,EAAE,CAACsE,WAAH,CAAe,OAAI,CAAChD,SAApB,CAAV,CADgB,CAEhB;AACA;;AACAkN,MAAAA,GAAG,CAAClJ,YAAJ,CAAiBtF,EAAE,CAACuF,KAApB,EAA2BC,MAA3B,GAAoC4I,QAAQ,CAACnF,KAAK,EAAN,CAA5C;AACAuF,MAAAA,GAAG,CAACjK,MAAJ,GAAa,OAAI,CAAClE,WAAlB;AACAmO,MAAAA,GAAG,CAACxL,MAAJ,GAAa,IAAb;AACH,KAPD,EAOG,IAPH,EAOSoL,QAAQ,CAACxJ,MAAT,GAAkB,CAP3B;AAQH,GA17BmB;AA47BpB6J,EAAAA,cA57BoB,0BA47BLC,IA57BK,EA47BC;AACjB,QAAI,CAACA,IAAI,CAACC,aAAV,EAAyB;AACrB,UAAID,IAAI,CAACE,IAAT,EAAe;AACX,YAAIF,IAAI,CAACE,IAAL,CAAUC,YAAd,EAA4B,OAAOH,IAAI,CAACE,IAAL,CAAUC,YAAjB;AAC5B7O,QAAAA,EAAE,CAAC8O,MAAH,CAAUC,IAAV,CAAeL,IAAI,CAACE,IAAL,CAAUI,SAAzB,EAAoC,UAACC,GAAD,EAAMC,KAAN,EAAgB;AAChDR,UAAAA,IAAI,CAACE,IAAL,CAAUC,YAAV,GAAyBK,KAAzB;AACAR,UAAAA,IAAI,CAACS,aAAL;AACH,SAHD;AAIA,eAAO,OAAP;AACH;;AAED,aAAO,OAAP;AACH,KAXD,MAYK;AACD,aAAOT,IAAI,CAACU,UAAL,IAAmB,OAA1B;AACH;AACJ,GA58BmB;AA88BpBb,EAAAA,YA98BoB,wBA88BPc,EA98BO,EA88BH;AACb,QAAIC,QAAQ,GAAGD,EAAE,CAACE,QAAH,CAAYtH,QAAZ,KAAyB,KAAxC;AACAqH,IAAAA,QAAQ,IAAI,KAAKb,cAAL,CAAoBY,EAApB,CAAZ;;AACA,QAAIA,EAAE,CAACG,UAAP,EAAmB;AACfF,MAAAA,QAAQ,GAAG,UAAUA,QAArB;AACH;;AACD,QAAID,EAAE,CAACI,YAAP,EAAqB;AACjBH,MAAAA,QAAQ,GAAG,YAAYA,QAAvB;AACH;;AACD,WAAOA,QAAP;AACH,GAx9BmB;AA09BpBI,EAAAA,YA19BoB,wBA09BPC,GA19BO,EA09BFL,QA19BE,EA09BQ;AACxB,WAAO,UAAU9J,MAAV,EAAkB;AACrB,aAAOxF,EAAE,CAAC4P,SAAH,CAAaC,eAAb,CAA6BF,GAA7B,EAAkCnK,MAAlC,EAA0C8J,QAA1C,CAAP;AACH,KAFD;AAGH,GA99BmB;AAg+BpBQ,EAAAA,kBAh+BoB,8BAg+BDxB,OAh+BC,EAg+BQgB,QAh+BR,EAg+BkBS,kBAh+BlB,EAg+BsCC,SAh+BtC,EAg+BiD;AACjE,QAAIC,eAAe,GAAG,EAAtB;AACA,QAAIC,mBAAmB,GAAGF,SAA1B;;AACA,SAAK,IAAItL,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqL,kBAAkB,CAACnL,MAAvC,EAA+C,EAAEF,CAAjD,EAAoD;AAChD,UAAIyL,QAAQ,GAAGnQ,EAAE,CAAC4P,SAAH,CAAaC,eAAb,CAA6BvB,OAA7B,EAAsCyB,kBAAkB,CAACrL,CAAD,CAAxD,EAA6D4K,QAA7D,CAAf;AACA,UAAIc,YAAY,GAAGpQ,EAAE,CAAC4P,SAAH,CAAaS,YAAb,CAA0BN,kBAAkB,CAACrL,CAAD,CAA5C,EACfyL,QADe,EAEfD,mBAFe,EAGf,KAAKR,YAAL,CAAkBpB,OAAlB,EAA2BgB,QAA3B,CAHe,CAAnB;AAIAW,MAAAA,eAAe,GAAGA,eAAe,CAACK,MAAhB,CAAuBF,YAAvB,CAAlB;AACH;;AAED,WAAOH,eAAP;AACH,GA7+BmB;AA++BpB5B,EAAAA,mBA/+BoB,+BA++BAG,GA/+BA,EA++BKF,OA/+BL,EA++BcgB,QA/+Bd,EA++BwBU,SA/+BxB,EA++BmC;AACnD,QAAID,kBAAkB,GAAGvB,GAAG,CAAC+B,KAAJ,CAAU,IAAV,CAAzB;AACAjC,IAAAA,OAAO,CAACM,IAAR,GAAeU,QAAf;AAEA,WAAO,KAAKQ,kBAAL,CAAwBxB,OAAxB,EAAiCgB,QAAjC,EAA2CS,kBAA3C,EAA+DC,SAA/D,CAAP;AACH,GAp/BmB;AAq/BpB;AAEAzM,EAAAA,KAv/BoB,mBAu/BZ;AACJ,SAAKgJ,MAAL;AACH,GAz/BmB;AA0/BpBiE,EAAAA,SA1/BoB,uBA0/BR;AACR7Q,IAAAA,MAAM,CAACqC,IAAP,CAAYsH,SAAZ;AACA3J,IAAAA,MAAM,CAACqC,IAAP,CAAYyO,UAAZ;AACA9Q,IAAAA,MAAM,CAACqC,IAAP,CAAY0O,aAAZ;AACA/Q,IAAAA,MAAM,CAACuC,OAAP,CAAeyO,GAAf,CAAmB,WAAnB,EAAgC,IAAhC;AACAhR,IAAAA,MAAM,CAACuC,OAAP,CAAeyO,GAAf,WAAsB,KAAKtO,IAAL,CAAUC,IAAhC,SAAuCC,OAAO,CAACC,EAAR,CAAWC,UAAlD,GAAgE,IAAhE;AACH,GAhgCmB,CAigCpB;;AAjgCoB,CAAxB","sourceRoot":"/","sourcesContent":["const DIMAND = 2\r\nconst COIN = 1\r\nglGame.baseclass.extend({\r\n\r\n    properties: {\r\n        firstView: cc.Node,\r\n        firstItem: cc.Node,\r\n        secondView: cc.Node,\r\n        secondItem: cc.Node,\r\n        detailView1: cc.Node,\r\n        node_detailView1: cc.Node, // layout为1时显示\r\n        detailView2: cc.Node,       //layout为2时显示\r\n        rewardBar1: cc.Node,\r\n        rewardBar2: cc.Node,\r\n        rewardBarother: cc.Node,\r\n        imageItem: cc.Node,\r\n        contentItem: cc.Node,\r\n        iconArr: [cc.SpriteFrame],\r\n        activityArr: [cc.SpriteFrame],\r\n        cycleTypeArr: [cc.SpriteFrame],\r\n        detailwindow: cc.Prefab,\r\n        conditionItem: cc.Node,\r\n        btn_allreward: cc.Button,\r\n\r\n        LabelItem: cc.Node,\r\n        //以下为表格生成用到\r\n        barItem: cc.Node,\r\n        lineItem: cc.Node,\r\n        wordItem: cc.Node,\r\n        formView: cc.Node,\r\n\r\n        downPage: cc.Node,\r\n        upPage: cc.Node,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        console.log(\"这是当前的钻石开关\", glGame.user.get(\"roomSwitch\"));\r\n        glGame.emitter.on(\"ReqRedDot\", this.initReddot, this);\r\n        glGame.emitter.on(`${this.node.name}${MESSAGE.UI.ACTION_END}`, this.announceActionEnd, this);\r\n        this.cacheData = {};\r\n\r\n    },\r\n    announceActionEnd() {\r\n        glGame.gameNet.send_msg(\"http.reqNotice\", {}, (route, msg) => {\r\n            this.btn_allreward.node.active = true;\r\n            this.notices = msg.notices;\r\n            this.reqFirstTitle();\r\n            this.getAllrewardState();\r\n            // if (!glGame.user.isTourist()) {\r\n            //     let data = glGame.user.get('redDotData');\r\n            //     this.btn_allreward.interactable = data['discountReq'].length != 0;\r\n            // } else {\r\n            //     this.btn_allreward.interactable = false\r\n            // }\r\n        })\r\n    },\r\n\r\n    //拉取当前一键领取状态\r\n    getAllrewardState() {\r\n        glGame.gameNet.send_msg(\"http.ReqDiscountsReceiveAllState\", {}, (route, msg) => {\r\n            this.btn_allreward.interactable = msg.state != 0\r\n        })\r\n    },\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"btn_close\": this.close(); break;\r\n            case \"btn_allReceive\": this.allreward(); break;\r\n            case \"notice\": this.noticeShow(node); break;\r\n            case \"firstItem\": this.switchFirst(name, node); break;\r\n            case \"secondItem\": this.switchSecond(name, node); break;\r\n            case \"btn_goGetCoin\": this.goGetCoin(node); break;\r\n            case \"btn_reward\": this.reward(node); break;\r\n            case \"btn_activityDetail\": this.activityDetail(); break;\r\n            case \"upPage\": this.onUpPage(); break;\r\n            case \"downPage\": this.onDownPage(); break;\r\n            default: console.log(\" btn name: \", name); break;\r\n        }\r\n    },\r\n    // 1 活动时间// 2 活动对象// 3 活动介绍// 4活动表格// 5 活动细则// 6 活动规则与条款\r\n    //更新详细信息\r\n    updateDetailView1(data) {\r\n        this.node_detailView1.active = true;\r\n        this.detailView2.active = false;\r\n        this.detailView1.destroyAllChildren();\r\n        this.detailView1.removeAllChildren();\r\n        if (data.activitypic && data.activitypic != \"\") {\r\n            let imageItem = cc.instantiate(this.imageItem);\r\n            imageItem.parent = this.detailView1;\r\n            glGame.panel.showRemoteImage(imageItem, data.activitypic);\r\n            imageItem.active = true;\r\n        }\r\n\r\n        for (let i = 0; i < data.titledetail.length; i++) {\r\n            if (data.titledetail[i].id == 5 || data.titledetail[i].id == 6) continue;\r\n            if (data.titledetail[i].type == 4 && data.titledetail[i].img && data.titledetail[i].img != \"\") {\r\n                let imageItem = cc.instantiate(this.imageItem);\r\n                glGame.panel.showRemoteImage(imageItem, data.titledetail[i].img).then(() => {\r\n                    console.log(\"加载成功\")\r\n                    if (imageItem.width > 1200) {\r\n                        imageItem.height = imageItem.height * 1200 / imageItem.width;\r\n                        imageItem.width = 1200\r\n                    }\r\n                });\r\n                imageItem.parent = this.detailView1;\r\n                imageItem.active = false;\r\n                continue;\r\n            } else if (data.titledetail[i].img == \"\") {\r\n                continue;\r\n            }\r\n            if (data.titledetail[i].id === 4) {\r\n                this.initform(data.titledetail[i].content)\r\n                continue;\r\n            }\r\n            let contentItem = cc.instantiate(this.contentItem);\r\n            contentItem.parent = this.detailView1;\r\n            contentItem.active = false;\r\n            contentItem.getChildByName(\"Tip\").getComponent(cc.Label).string = data.titledetail[i].title + \"：\";\r\n            contentItem.getChildByName(\"img_icon\").getComponent(cc.Sprite).spriteFrame = this.iconArr[data.titledetail[i].icon];\r\n            if (data.titledetail[i].id == 3) {\r\n                contentItem.getChildByName(\"content2\").active = true;\r\n                contentItem.getChildByName(\"content2\").getComponent(cc.Label).string = data.titledetail[i].content;\r\n                if (data.titledetail[i].content.length == 0) {\r\n                    contentItem.getChildByName(\"content2\").active = false;\r\n                }\r\n            } else {\r\n                contentItem.getChildByName(\"content1\").active = true;\r\n                contentItem.getChildByName(\"content1\").getComponent(cc.Label).string = data.titledetail[i].content;\r\n            }\r\n        }\r\n        glGame.panel.showEffectNode(this, this.detailView1, 0.02, true);\r\n        this.updateRewardBar(data, this.rewardBar1, this.detailView1, 1)\r\n    },\r\n    //更新领取奖励条\r\n    updateRewardBar(data, BarType, parent, type) {\r\n        let rewardItem = data.rewardItem\r\n        if (!rewardItem) return\r\n        if (rewardItem.length) {\r\n            let sumCoin = 0;\r\n            let sumDiamond = 0;\r\n            for (let i = 0; i < rewardItem.length; i++) {\r\n                let rewardBar = cc.instantiate(BarType)\r\n                rewardBar.parent = parent;\r\n                rewardBar.active = false;\r\n                rewardBar.name = `${i}`\r\n                let rewardTypeCount = 0;\r\n\r\n                if (type != 2) {\r\n                    if (rewardBar.getChildByName(\"lab_accumulate\")) {\r\n                        rewardBar.getChildByName(\"lab_accumulate\").getComponent(cc.Label).string = rewardItem[i].getStr;\r\n                    }\r\n                }\r\n\r\n                let minValue = 0;\r\n                if (type != 2) {\r\n                    minValue = -1;\r\n                }\r\n\r\n                let coinpic = rewardBar.getChildByName(\"rewardLayout\").getChildByName(\"coinpic\");\r\n                let dimandpic = rewardBar.getChildByName(\"rewardLayout\").getChildByName(\"dimandpic\");\r\n                //这是金币的显示部分\r\n                if (rewardItem[i].reward.coin > 0 && Number(rewardItem[i].reward.coin) > 0) {\r\n                    coinpic.active = true;\r\n                    rewardTypeCount++;\r\n                    sumCoin += Number(rewardItem[i].reward.coin);\r\n                    coinpic.getChildByName(\"lab_rewardNum\").getComponent(cc.Label).string = this.getFloat(rewardItem[i].reward.coin);\r\n                }\r\n                if (rewardItem[i].reward.coin == 0) {\r\n                    for (let k = 0; k < rewardItem[i].rewardType.length; k++) {\r\n                        if (rewardItem[i].rewardType[k] == COIN && Number(rewardItem[i].reward.coin) > minValue) {\r\n                            coinpic.active = true;\r\n                            coinpic.getChildByName(\"lab_rewardNum\").getComponent(cc.Label).string = this.getFloat(rewardItem[i].reward.coin);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                console.log(\"这是当前的钻石显示\", glGame.user.get(\"roomSwitch\"), rewardItem[i].reward.diamond)\r\n                //这部分是钻石的显示\r\n                if (rewardItem[i].reward.diamond > 0 && glGame.user.get(\"roomSwitch\") == 1) {\r\n                    dimandpic.active = true;\r\n                    rewardTypeCount++;\r\n                    sumDiamond += rewardItem[i].reward.diamond;\r\n                    dimandpic.getChildByName(\"lab_diamondNum\").getComponent(cc.Label).string = this.getFloat(rewardItem[i].reward.diamond);\r\n                }\r\n                if (rewardItem[i].reward.diamond == 0 && glGame.user.get(\"roomSwitch\") == 1) {\r\n                    for (let k = 0; k < rewardItem[i].rewardType.length; k++) {\r\n                        if (rewardItem[i].rewardType[k] == DIMAND && Number(rewardItem[i].reward.diamond) > minValue) {\r\n                            dimandpic.active = true;\r\n                            dimandpic.getChildByName(\"lab_diamondNum\").getComponent(cc.Label).string = this.getFloat(rewardItem[i].reward.diamond);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                rewardBar.getChildByName(\"btn_reward\").active = rewardItem[i].state == 0;\r\n                if (rewardItem[i].state == 0) {\r\n                    //this.btn_allreward.interactable = true;\r\n                    this.secondView.children[this.nowIndex].getChildByName(\"redmark\").active = true;\r\n                }\r\n\r\n                rewardBar.getChildByName(\"btn_goGetCoin\").active = rewardItem[i].state == 2;\r\n                rewardBar.getChildByName(\"Receiveed\").active = rewardItem[i].state == 1;\r\n                rewardBar.getChildByName(\"auditing\").active = rewardItem[i].state == 4;\r\n                rewardBar.getChildByName(\"refuse\").active = rewardItem[i].state == 5;\r\n                if (rewardItem[i].state == -1 && data.cycleType) {\r\n                    rewardBar.getChildByName(\"ReceiveType\").active = true;\r\n                    rewardBar.getChildByName(\"ReceiveType\").getComponent(cc.Sprite).spriteFrame = this.cycleTypeArr[data.cycleType];\r\n                } else {\r\n                    rewardBar.getChildByName(\"ReceiveType\").active = false;\r\n                }\r\n                // rewardBar.getChildByName(\"ReceiveType\").active = rewardItem[i].state == -1;\r\n                // if (rewardItem[i].schedule[1] == 4) {\r\n                //     rewardBar.getChildByName(\"ReceiveType\").getComponent(cc.Label).string = rewardItem[i].schedule[4]\r\n                // }\r\n                if (rewardItem[i].rewardWords) {\r\n                    let rewardicon = rewardBar.getChildByName(\"rewardTips\")\r\n                    rewardicon.getComponent(cc.Label).string = rewardItem[i].rewardWords + \"：\";\r\n                }\r\n                rewardBar.getChildByName(\"btn_goGetCoin\").y = 4.24;\r\n                rewardBar.getChildByName(\"btn_reward\").y = 4.24;\r\n                if (rewardItem[i].state == 0) {\r\n                    rewardBar.getChildByName(\"btn_reward\").y = -20;\r\n                    rewardBar.getChildByName(\"btn_goGetCoin\").y = -20;\r\n                    rewardBar.getChildByName(\"des_shcedule\").active = true;\r\n                    rewardBar.getChildByName(\"des_shcedule\").getComponent(cc.RichText).string = \"已完成\";\r\n                    continue\r\n                } else if (rewardItem[i].state != 2) {\r\n                    rewardBar.getChildByName(\"des_shcedule\").active = false;\r\n                    continue\r\n                }\r\n                let schedule = Number(rewardItem[i].schedule[1]);\r\n                switch (schedule) {\r\n                    case 1:\r\n\r\n                        if (Number(rewardItem[i].schedule[3]) == -1) {\r\n                            rewardBar.getChildByName(\"des_shcedule\").getComponent(cc.RichText).string =\r\n                                rewardItem[i].schedule[4] + ` ${this.getFloat(rewardItem[i].schedule[2])}</c>`\r\n                        } else {\r\n                            rewardBar.getChildByName(\"des_shcedule\").getComponent(cc.RichText).string =\r\n                                rewardItem[i].schedule[4] + ` ${this.getFloat(rewardItem[i].schedule[2])}</c>/${this.getFloat(rewardItem[i].schedule[3])}`\r\n                        }\r\n\r\n                        rewardBar.getChildByName(\"des_shcedule\").active = true;\r\n                        rewardBar.getChildByName(\"btn_reward\").y = -20;\r\n                        rewardBar.getChildByName(\"btn_goGetCoin\").y = -20;\r\n                        break;\r\n                    case 2:\r\n                        rewardBar.getChildByName(\"des_shcedule\").getComponent(cc.RichText).string = rewardItem[i].schedule[4];\r\n                        rewardBar.getChildByName(\"des_shcedule\").active = true;\r\n                        rewardBar.getChildByName(\"btn_reward\").y = -20;\r\n                        rewardBar.getChildByName(\"btn_goGetCoin\").y = -20;\r\n                        break;\r\n                    case 3:\r\n                        rewardBar.getChildByName(\"des_shcedule\").getComponent(cc.RichText).string = rewardItem[i].schedule[4] + `  ${rewardItem[i].schedule[2]}/${rewardItem[i].schedule[3]}`\r\n                        rewardBar.getChildByName(\"des_shcedule\").active = true;\r\n                        rewardBar.getChildByName(\"btn_reward\").y = -20;\r\n                        rewardBar.getChildByName(\"btn_goGetCoin\").y = -20;\r\n                        break;\r\n                }\r\n\r\n                if (type == 2) {\r\n                    let lab_accumulate = rewardBar.getChildByName(\"rewardLayout\").getChildByName(\"lab_accumulate\");\r\n                    if (lab_accumulate) {\r\n                        if (rewardTypeCount == 1) {\r\n                            let str = \"\";\r\n                            if (coinpic.active) {\r\n                                str = `(累计奖励${this.getFloat(sumCoin)}金币)`;\r\n                            } else {\r\n                                str = `(累计奖励${this.getFloat(sumDiamond)}钻石)`\r\n                            }\r\n                            lab_accumulate.active = true;\r\n                            lab_accumulate.getComponent(cc.Label).string = str;\r\n                        } else if (rewardTypeCount == 0) {\r\n                            lab_accumulate.active = true;\r\n                            lab_accumulate.getComponent(cc.Label).string = rewardItem[i].getStr;\r\n                        }\r\n\r\n                    }\r\n                }\r\n\r\n            }\r\n            glGame.panel.showEffectNode(this, parent, 0.02, true);\r\n        } else {\r\n            let rewardBarother = cc.instantiate(this.rewardBarother);\r\n            rewardBarother.parent = parent;\r\n            rewardBarother.active = true\r\n            rewardBarother.name = \"registerbonus\"\r\n            rewardBarother.getChildByName(\"des_tip\").getComponent(cc.Label).string = rewardItem.getStr + \"：\";\r\n            rewardBarother.getChildByName(\"btn_reward\").active = rewardItem.state == 0;\r\n            rewardBarother.getChildByName(\"btn_goGetCoin\").active = rewardItem.state == 2;\r\n            rewardBarother.getChildByName(\"Receiveed\").active = rewardItem.state == 1\r\n            rewardBarother.getChildByName(\"auditing\").active = rewardItem.state == 4;\r\n            rewardBarother.getChildByName(\"refuse\").active = rewardItem.state == 5;\r\n\r\n            let lab_rewardNum = rewardBarother.getChildByName(\"rewardLayout\").getChildByName(\"lab_rewardNum\");\r\n            let lab_diamondNum = rewardBarother.getChildByName(\"rewardLayout\").getChildByName(\"lab_diamondNum\");\r\n\r\n            // //这是金币的显示部分\r\n            // if (rewardItem.reward.coin > 0 && Number(rewardItem.reward.coin) > 0) {\r\n            //     lab_rewardNum.active = true;\r\n            //     lab_rewardNum.getComponent(cc.Label).string = this.getFloat(rewardItem.reward.coin);\r\n            // }\r\n\r\n            // if (rewardItem.reward.coin == 0) {\r\n                \r\n            // }\r\n\r\n            for (let k = 0; k < rewardItem.rewardType.length; k++) {\r\n                if (rewardItem.rewardType[k] == COIN &&Number(rewardItem.reward.coin)!=undefined) {\r\n                    lab_rewardNum.active = true;\r\n                    lab_rewardNum.getComponent(cc.Label).string = this.getFloat(rewardItem.reward.coin);\r\n                    break;\r\n                }\r\n            }\r\n            for (let k = 0; k < rewardItem.rewardType.length; k++) {\r\n                if (rewardItem.rewardType[k] == DIMAND&&glGame.user.get(\"roomSwitch\") == 1&&Number(rewardItem.reward.diamond)!=undefined) {\r\n                    lab_diamondNum.active = true;\r\n                    lab_diamondNum.getComponent(cc.Label).string = this.getFloat(rewardItem.reward.diamond);\r\n                    break;\r\n                }\r\n            }\r\n            // //这部分是钻石的显示\r\n            // if (Number(rewardItem.reward.diamond) > 0 && glGame.user.get(\"roomSwitch\") == 1) {\r\n            //     lab_diamondNum.active = true;\r\n            //     lab_diamondNum.getComponent(cc.Label).string = this.getFloat(rewardItem.reward.diamond);\r\n            // }\r\n            // if (Number(rewardItem.reward.diamond) == 0 && glGame.user.get(\"roomSwitch\") == 1) {\r\n              \r\n            // }\r\n\r\n            if (rewardItem.state == 0) {\r\n                //this.btn_allreward.interactable = true;\r\n                this.secondView.children[this.nowIndex].getChildByName(\"redmark\").active = true;\r\n            }\r\n            let conditional = data.conditional,\r\n                curSchdule = 0;\r\n            for (let i = 0; i < conditional.length; i++) {\r\n                let conditionItem = cc.instantiate(this.conditionItem);\r\n                conditionItem.getComponent(cc.Label).string = conditional[i].content\r\n                if (conditional[i].state == 1) {\r\n                    curSchdule++\r\n                    conditionItem.getChildByName(\"gou\").active = true;\r\n                }\r\n                conditionItem.color = conditional[i].state == 1 ? cc.color(38, 218, 18) : cc.color(255, 71, 71)\r\n                conditionItem.parent = rewardBarother.getChildByName(\"content\");\r\n                conditionItem.active = false;\r\n            }\r\n\r\n            rewardBarother.getChildByName(\"des_shcedule\").getComponent(cc.Label).string = rewardItem.state == 0 ? \"已完成\" : `进度${curSchdule}/${conditional.length}`\r\n            glGame.panel.showEffectNode(this, rewardBarother.getChildByName(\"content\"), 0.02, true);\r\n        }\r\n    },\r\n    //桌面数据的显示\r\n    getFloat(value) {\r\n        return (Number(value).div(100)).toString();\r\n    },\r\n    //生成表格\r\n    initform(data) {\r\n        let formView = cc.instantiate(this.formView);\r\n        formView.parent = this.detailView1;\r\n        formView.active = true;\r\n        formView.height = 100 + (data.length - 1) * 50\r\n        for (let i = 0; i < data.length; i++) {\r\n            for (let j = 0; j < data[i].length; j++) {\r\n                let wordItem = cc.instantiate(this.wordItem);\r\n                wordItem.parent = formView;\r\n                wordItem.getComponent(cc.RichText).string = data[i][j].replace(\"<br>\", \",\");\r\n                wordItem.active = true;\r\n            }\r\n        }\r\n\r\n        let total = 0;\r\n        let lengthBest = data[0].length;\r\n        for (let i = lengthBest; i >= 1; i--) {\r\n            total += formView.children[formView.childrenCount - i].width\r\n        }\r\n        let distance = (formView.width - total) / (data[0].length + 1);\r\n        total = 0;\r\n        let distanceArr = [];\r\n        for (let i = lengthBest; i >= 1; i--) {\r\n            total += formView.children[formView.childrenCount - i].width + distance\r\n            distanceArr.push(total);\r\n        }\r\n        let Count = 1;\r\n        let Posy = -50\r\n        for (let i = 0; i < data.length; i++) {\r\n            for (let j = 0; j < data[i].length; j++) {\r\n                formView.children[Count].x = j == 0 ? distance : distance + distanceArr[j - 1];\r\n                formView.children[Count].y = Posy\r\n                if (j == 1) {\r\n                    formView.children[Count].color = cc.color(246, 142, 30)\r\n                    formView.children[Count].getComponent(cc.RichText).string = formView.children[Count].getComponent(cc.RichText).string.replace(\"<br>\", \",\");\r\n                }\r\n\r\n                if (j != 0) {\r\n                    let lineItem = cc.instantiate(this.lineItem);\r\n                    lineItem.parent = formView.getChildByName(\"bg\");\r\n                    lineItem.y = -(formView.height / 2);\r\n                    lineItem.x = formView.children[Count].x - distance / 2;\r\n                    lineItem.height = formView.height - 20\r\n                    lineItem.active = true;\r\n                    lineItem.zIndex = 100 + j;\r\n                }\r\n                if (i % 2 == 0) {\r\n                    let barItem = cc.instantiate(this.barItem);\r\n                    barItem.parent = formView.getChildByName(\"bg\");\r\n                    barItem.active = true;\r\n                    barItem.y = Posy;\r\n                }\r\n                Count++\r\n            }\r\n            Posy -= 50;\r\n        }\r\n\r\n        formView.active = false\r\n    },\r\n    updateDetailView2(data) {\r\n        this.node_detailView1.active = false;\r\n        this.detailView2.active = true;\r\n        let content = this.detailView2.getChildByName(\"scrollView\").getChildByName(\"view\").getChildByName(\"content\");\r\n        content.destroyAllChildren();\r\n        content.removeAllChildren();\r\n        let lab_time = this.detailView2.getChildByName(\"lab_time\");\r\n        if (data.titledetail.length && data.titledetail[0].title == \"活动时间\") {\r\n            lab_time.active = true;\r\n            lab_time.getComponent(cc.Label).string = data.titledetail[0].content;\r\n        } else {\r\n            lab_time.active = false;\r\n        }\r\n\r\n        if (data.activitypic && data.activitypic != \"\") {\r\n            glGame.panel.showRemoteImage(this.detailView2, data.activitypic);\r\n        }\r\n        this.updateRewardBar(data, this.rewardBar2, content, 2)\r\n        console.log(\"这是当前的数据\", data)\r\n    },\r\n    //请求详情内容\r\n    reqActivitydetail(id, type, index = 0) {\r\n        if (this.cacheData[this.nowId][index].content) {\r\n            this.nowIndex = index;\r\n            if (this.cacheData[this.nowId][index].content.layout == 1) {\r\n                this.updateDetailView1(this.cacheData[this.nowId][index].content)\r\n            } else {\r\n                this.updateDetailView2(this.cacheData[this.nowId][index].content)\r\n            }\r\n            this.updateCurSecond();\r\n            console.log(\"这是详情的内容\", this.cacheData[this.nowId][index].content)\r\n            return;\r\n        }\r\n        glGame.gameNet.send_msg(\"http.reqDiscountsInfo\", { id: id, type: type, color: \"#F4C404\" }, (route, msg) => {\r\n            this.nowIndex = index;\r\n            this.cacheData[this.nowId][index].content = msg;\r\n            if (this.cacheData[this.nowId][index].content.layout == 1) {\r\n                this.updateDetailView1(this.cacheData[this.nowId][index].content)\r\n            } else {\r\n                this.updateDetailView2(this.cacheData[this.nowId][index].content)\r\n            }\r\n            this.updateCurSecond();\r\n            console.log(\"这是详情的内容\", this.cacheData[this.nowId][index].content)\r\n        })\r\n    },\r\n\r\n    //强制刷新红点\r\n    forceRefreshRedPoint() {\r\n        glGame.user.ReqRedDot();\r\n\r\n        //强制刷新二级标题红点\r\n        let id = this.nowId;\r\n        glGame.gameNet.send_msg(\"http.reqDiscountsList\", { category_id: id }, (route, msg) => {\r\n            this.cacheData[id] = msg;\r\n\r\n            let data = this.cacheData[id];\r\n            for (let i = 0; i < data.length; i++) {\r\n                let secondItem = this.secondView.children[i];\r\n                secondItem.getChildByName(\"redmark\").active = data[i].received_status == 1;\r\n                secondItem.getChildByName(\"checkmark\").active = i == this.nowIndex;\r\n            }\r\n            this.nowId = id;\r\n            this.updateSecondTitle(this.cacheData[id]);\r\n            if (this.cacheData[id].length != 0) {\r\n                this.reqActivitydetail(this.cacheData[id][0].id, this.cacheData[id][0].type);\r\n            } else {\r\n                let content = this.detailView2.getChildByName(\"scrollView\").getChildByName(\"view\").getChildByName(\"content\");\r\n                content.destroyAllChildren();\r\n                content.removeAllChildren();\r\n                this.detailView1.destroyAllChildren();\r\n                this.detailView1.removeAllChildren();\r\n            }\r\n        })\r\n    },\r\n\r\n    //请求当前的一级大标题\r\n    reqFirstTitle() {\r\n        glGame.gameNet.send_msg(\"http.reqDiscountsType\", {}, (route, msg) => {\r\n            this.firstTitleData = msg;\r\n            this.updateFirstTitle();\r\n            if (this.firstTitleData.length != 0) {\r\n                this.reqSecondTitle(this.firstTitleData[0].id);\r\n            } else {\r\n                this.btn_allreward.node.active = false;\r\n                if (this.notices && this.notices.length != 0) {\r\n                    this.onClick(\"notice\", this.firstView.getChildByName(\"notice\"));\r\n                }\r\n            }\r\n            this.initReddot();\r\n        })\r\n    },\r\n    initReddot() {\r\n        let redDotData = glGame.user.get(\"redDotData\").discountReq;\r\n        for (let i = 0; i < this.firstView.childrenCount; i++) {\r\n            this.firstView.children[i].children[0].getChildByName(\"redmark\").active = false;\r\n            this.firstView.children[i].children[1].getChildByName(\"redmark\").active = false;\r\n        }\r\n        for (let key in redDotData) {\r\n            for (let i = 0; i < this.firstView.childrenCount; i++) {\r\n                if (redDotData[key].category_id == this.firstView.children[i].children[0].name) {\r\n                    this.firstView.children[i].children[0].getChildByName(\"redmark\").active = true;\r\n                    this.firstView.children[i].children[1].getChildByName(\"redmark\").active = true;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    //请求当前的二级标题\r\n    reqSecondTitle(id) {\r\n        console.log(\"这是当前传入的id\", id)\r\n        for (let key in this.cacheData) {\r\n            if (key == id) {\r\n                this.nowId = id;\r\n                this.updateSecondTitle(this.cacheData[key]);\r\n                if (this.cacheData[id].length != 0) {\r\n                    this.reqActivitydetail(this.cacheData[id][0].id, this.cacheData[id][0].type);\r\n                } else {\r\n                    let content = this.detailView2.getChildByName(\"scrollView\").getChildByName(\"view\").getChildByName(\"content\");\r\n                    content.destroyAllChildren();\r\n                    content.removeAllChildren();\r\n                    this.detailView1.destroyAllChildren();\r\n                    this.detailView1.removeAllChildren();\r\n                }\r\n                return\r\n            }\r\n        }\r\n\r\n        glGame.gameNet.send_msg(\"http.reqDiscountsList\", { category_id: id }, (route, msg) => {\r\n            this.cacheData[id] = msg;\r\n            this.nowId = id;\r\n            this.updateSecondTitle(this.cacheData[id]);\r\n            if (this.cacheData[id].length != 0) {\r\n                this.reqActivitydetail(this.cacheData[id][0].id, this.cacheData[id][0].type);\r\n            } else {\r\n                let content = this.detailView2.getChildByName(\"scrollView\").getChildByName(\"view\").getChildByName(\"content\");\r\n                content.destroyAllChildren();\r\n                content.removeAllChildren();\r\n                this.detailView1.destroyAllChildren();\r\n                this.detailView1.removeAllChildren();\r\n            }\r\n        })\r\n    },\r\n\r\n    //更新一级标题\r\n    updateFirstTitle() {\r\n        let interval = 15, itemHeight = 0;\r\n        let firstViewNode = this.node.getChildByName(\"firstView\");\r\n        let view = firstViewNode.getChildByName(\"view\");\r\n        \r\n        for (let i = 0; i < this.firstTitleData.length; i++) {\r\n            let firstItem = cc.instantiate(this.firstItem);\r\n            firstItem.parent = this.firstView;\r\n            firstItem.getChildByName(\"Background\").getChildByName(\"title\").getComponent(cc.Label).string = this.firstTitleData[i].title;\r\n            firstItem.getChildByName(\"checkmark\").getChildByName(\"title\").getComponent(cc.Label).string = this.firstTitleData[i].title;\r\n            firstItem.getChildByName(\"Background\").name = `${this.firstTitleData[i].id}`\r\n            itemHeight = firstItem.height;\r\n            firstItem.active = true;\r\n        }\r\n        if (this.notices.length != 0) {\r\n            let firstItem = cc.instantiate(this.firstItem);\r\n            firstItem.parent = this.firstView;\r\n            firstItem.getChildByName(\"Background\").getChildByName(\"title\").getComponent(cc.Label).string = \"公告\";\r\n            firstItem.getChildByName(\"checkmark\").getChildByName(\"title\").getComponent(cc.Label).string = \"公告\";\r\n            firstItem.name = `notice`\r\n            itemHeight = firstItem.height;\r\n            firstItem.active = true;\r\n        }\r\n\r\n        if (this.firstView.childrenCount == 0) {\r\n            return;\r\n        }\r\n\r\n        this.firstView.height = this.firstView.childrenCount * (itemHeight + this.firstView.getComponent(cc.Layout).spacingY) + 10;\r\n\r\n        if(this.firstView.height > view.height) {\r\n            firstViewNode.getChildByName(\"downPage\").active = true;\r\n        }\r\n    },\r\n\r\n    //更新二级标题\r\n    updateSecondTitle(data) {\r\n        this.secondView.destroyAllChildren();\r\n        this.secondView.removeAllChildren();\r\n        for (let i = 0; i < data.length; i++) {\r\n            let secondItem = cc.instantiate(this.secondItem);\r\n            secondItem.parent = this.secondView;\r\n            secondItem.getChildByName(\"title\").getComponent(cc.Label).string = data[i].discount_activity_title;\r\n            secondItem.getChildByName(\"checkmark\").getChildByName(\"title\").getComponent(cc.Label).string = data[i].discount_activity_title;\r\n            secondItem.getChildByName(\"tag\").getComponent(cc.Sprite).spriteFrame = this.activityArr[data[i].tag]\r\n            secondItem.getChildByName(\"redmark\").active = data[i].received_status == 1;\r\n            secondItem.children[0].name = `${i}`;\r\n            secondItem.active = true;\r\n            secondItem.getChildByName(\"checkmark\").active = i == 0;\r\n        }\r\n    },\r\n    //点击按钮变化toggle有bug所以改用button\r\n    updateClick(node) {\r\n        node.getChildByName(\"checkmark\").active = true;\r\n        for (let i = 0; i < this.secondView.childrenCount; i++) {\r\n            if (this.secondView.children[i].children[0].name != node.children[0].name) {\r\n                this.secondView.children[i].getChildByName(\"checkmark\").active = false;\r\n            }\r\n        }\r\n    },\r\n    //一级标题切换\r\n    switchFirst(name, node) {\r\n        this.btn_allreward.node.active = true;\r\n        this.unscheduleAllCallbacks();\r\n        this.reqSecondTitle(node.children[0].name)\r\n    },\r\n    //滚动事件\r\n    onScrollEvent(scroll, event) {\r\n        let view = this.firstView.parent;\r\n        let content = this.firstView;\r\n        let minY = 0;\r\n        let maxY = content.height - view.height;\r\n\r\n        if(content.y <= minY) {\r\n            this.upPage.active = false;\r\n        } else if(content.y >= maxY) {\r\n            this.downPage.active = false;\r\n        } else {\r\n            this.downPage.active = true;\r\n            this.upPage.active = true;\r\n        }\r\n    },\r\n    // 上一页\r\n    onUpPage() {\r\n        let view = this.firstView.parent;\r\n        let content = this.firstView;\r\n        let item = this.firstItem;\r\n        let layout = content.getComponent(cc.Layout);\r\n        let minY = 0;\r\n        let maxY = content.height - view.height;\r\n\r\n        if(content.y <= minY) {\r\n            return;\r\n        }\r\n\r\n        let cellHeight = item.height + layout.spacingY;\r\n        let offsetCount = (content.y - layout.paddingTop) / cellHeight;\r\n        if(offsetCount - Math.floor(offsetCount) > 0.01) {\r\n            offsetCount = Math.floor(offsetCount) - 1;\r\n        } else {\r\n            offsetCount = Math.floor(offsetCount) - 2;\r\n        }\r\n\r\n        let targetY = layout.paddingTop + offsetCount * cellHeight;\r\n        if(targetY - minY < item.height) {\r\n            targetY = minY-1;\r\n            this.upPage.active = false;\r\n        }\r\n        \r\n        this.downPage.active = true;\r\n        targetY = Math.max(targetY, minY);\r\n\r\n        content.stopAllActions();\r\n        content.runAction(cc.moveTo(0.2, cc.v2(0, targetY)));\r\n\r\n    },\r\n    // 下一页\r\n    onDownPage() {\r\n        let view = this.firstView.parent;\r\n        let content = this.firstView;\r\n        let item = this.firstItem;\r\n        let layout = content.getComponent(cc.Layout);\r\n        let maxY = content.height - view.height;\r\n\r\n        if(content.y >= maxY) {\r\n            return;\r\n        }\r\n\r\n        let cellHeight = item.height + layout.spacingY;\r\n        let offsetCount = (content.y + view.height - layout.paddingTop) / cellHeight;\r\n        offsetCount = Math.max(offsetCount, 0);\r\n\r\n        if(offsetCount - Math.floor(offsetCount) < 0.4) {\r\n            offsetCount = Math.floor(offsetCount) + 2;\r\n        } else {\r\n            offsetCount = Math.ceil(offsetCount) + 1;\r\n        }\r\n\r\n        let targetY = layout.paddingTop + offsetCount * cellHeight - view.height;\r\n        if(maxY - targetY < item.height) {\r\n            targetY = maxY + 1;\r\n            this.downPage.active = false;\r\n        }\r\n        \r\n        this.upPage.active = true;\r\n        targetY = Math.min(targetY, maxY);\r\n\r\n        content.stopAllActions();\r\n        content.runAction(cc.moveTo(0.2, cc.v2(0, targetY)));\r\n    },\r\n\r\n    noticeShow(node) {\r\n        if (this.notices) {\r\n            this.updateNotice(this.notices)\r\n        } else {\r\n            glGame.gameNet.send_msg(\"http.reqNotice\", {}, (route, msg) => {\r\n                this.notices = msg.notices;\r\n                this.updateNotice(this.notices)\r\n            })\r\n        }\r\n        this.nowId = 6422;\r\n        this.btn_allreward.node.active = false;\r\n    },\r\n    updateNotice(data) {\r\n        this.secondView.destroyAllChildren();\r\n        this.secondView.removeAllChildren();\r\n        for (let i = 0; i < data.length; i++) {\r\n            let secondItem = cc.instantiate(this.secondItem);\r\n            secondItem.parent = this.secondView;\r\n            secondItem.getChildByName(\"title\").getComponent(cc.Label).string = data[i].title;\r\n            secondItem.getChildByName(\"checkmark\").getChildByName(\"title\").getComponent(cc.Label).string = data[i].title;\r\n            secondItem.getChildByName(\"tag\").active = false;\r\n            secondItem.children[0].name = `${i}`;\r\n            secondItem.active = true;\r\n            secondItem.getChildByName(\"checkmark\").active = i == 0;\r\n        }\r\n        this.node_detailView1.active = true;\r\n        this.detailView2.active = false;\r\n        this.detailView1.destroyAllChildren();\r\n        this.detailView1.removeAllChildren();\r\n        this.node_detailView1.getComponent(cc.ScrollView).stopAutoScroll();\r\n        if (this.notices.length == 0) return\r\n\r\n        // 分帧显示公告\r\n        this.showTextDelay(this.notices[0].content, this.LabelItem);\r\n    },\r\n\r\n    //获取索引\r\n    getFirstIndex(node) {\r\n        for (let i = 0; i < this.firstView.childrenCount; i++) {\r\n            if (this.firstView.children[i].children[0].name == node.children[0].name) {\r\n                return i;\r\n            }\r\n        }\r\n    },\r\n    //二级级标题切换\r\n    switchSecond(name, node) {\r\n        if (node.getChildByName(\"checkmark\").active) return\r\n        this.updateClick(node);\r\n        if (this.nowId == 6422) {\r\n            this.node_detailView1.active = true;\r\n            this.detailView2.active = false;\r\n            this.detailView1.destroyAllChildren();\r\n            this.detailView1.removeAllChildren();\r\n            this.node_detailView1.getComponent(cc.ScrollView).stopAutoScroll();\r\n\r\n            // 分帧显示公告\r\n            this.showTextDelay(this.notices[node.children[0].name].content, this.LabelItem);\r\n            return\r\n        }\r\n        let index = this.getSecondIndex(node);\r\n        this.reqActivitydetail(this.cacheData[this.nowId][index].id, this.cacheData[this.nowId][index].type, index);\r\n    },\r\n\r\n    //获取索引\r\n    getSecondIndex(node) {\r\n        for (let i = 0; i < this.secondView.childrenCount; i++) {\r\n            if (this.secondView.children[i].children[0].name == node.children[0].name) {\r\n                return i;\r\n            }\r\n        }\r\n    },\r\n    //去完成\r\n    goGetCoin() {\r\n        let type = this.cacheData[this.nowId][this.nowIndex].type;\r\n        console.log(\"这是当前的类型\", type)\r\n        if (type == 2 || type == 3 || type == 6) {\r\n            glGame.panel.showShop();\r\n        } else if (type == 7) {\r\n            glGame.user.isTourist() ? glGame.panel.showRegistration(true) : glGame.panel.showPanelByName(\"userinfo\");\r\n        } else if (type == 8) {\r\n            glGame.user.isTourist() ? glGame.panel.showRegistration(true) : glGame.panel.showPanelByName(\"popularize\");\r\n            return;\r\n        }\r\n        this.remove()\r\n        this.onClick(\"close\")\r\n    },\r\n    //领取奖励\r\n    reward(node) {\r\n        let type = this.cacheData[this.nowId][this.nowIndex].type;\r\n        let id = this.cacheData[this.nowId][this.nowIndex].id;\r\n        let gradeid = node.parent.name == \"registerbonus\" ? this.cacheData[this.nowId][this.nowIndex].content.rewardItem.id : this.cacheData[this.nowId][this.nowIndex].content.rewardItem[node.parent.name].id;\r\n        let rewardCoin = node.parent.name == \"registerbonus\" ? this.cacheData[this.nowId][this.nowIndex].content.rewardItem.reward.coin : this.cacheData[this.nowId][this.nowIndex].content.rewardItem[node.parent.name].reward.coin;\r\n        let rewarddimand = node.parent.name == \"registerbonus\" ? this.cacheData[this.nowId][this.nowIndex].content.rewardItem.reward.diamond : this.cacheData[this.nowId][this.nowIndex].content.rewardItem[node.parent.name].reward.diamond;\r\n        glGame.gameNet.send_msg(\"http.ReqDiscountsReceive\", { type: type, id: id, grade: gradeid }, (route, msg) => {\r\n            let arr = [];\r\n            if (rewardCoin) arr.push({ type: glGame.awardtype.COIN, value: this.getFloat(rewardCoin) });\r\n            if (glGame.user.get(\"roomSwitch\") && rewarddimand) arr.push({ type: glGame.awardtype.DIAMOND, value: this.getFloat(rewarddimand) });\r\n            if (msg.data.type == 1) {\r\n                glGame.panel.showAwardBox(glGame.tips.ANNOUNCE.AWARD_TIPS, arr);\r\n                if (node.parent.name == \"registerbonus\") {\r\n                    this.cacheData[this.nowId][this.nowIndex].content.rewardItem.state = 1;\r\n                } else {\r\n                    this.cacheData[this.nowId][this.nowIndex].content.rewardItem[node.parent.name].state = 1;\r\n                }\r\n                node.parent.getChildByName(\"Receiveed\").active = true;\r\n                node.parent.getChildByName(\"des_shcedule\").active = false;\r\n                if (node.parent.getChildByName(\"ReceiveType\")) node.parent.getChildByName(\"ReceiveType\").active = false;\r\n                node.active = false\r\n            } else if (msg.data.type == 2) {\r\n                glGame.panel.showAwardBox(glGame.tips.ANNOUNCE.REVIEW_WAIT_TIPS, arr);\r\n                if (node.parent.name == \"registerbonus\") {\r\n                    this.cacheData[this.nowId][this.nowIndex].content.rewardItem.state = 4;\r\n                } else {\r\n                    this.cacheData[this.nowId][this.nowIndex].content.rewardItem[node.parent.name].state = 4;\r\n                }\r\n                node.parent.getChildByName(\"auditing\").active = true;\r\n                node.parent.getChildByName(\"des_shcedule\").active = false;\r\n                if (node.parent.getChildByName(\"ReceiveType\")) node.parent.getChildByName(\"ReceiveType\").active = false;\r\n                node.active = false\r\n            }\r\n            this.updateCurSecond();\r\n            this.getAllrewardState();\r\n        })\r\n\r\n    },\r\n\r\n    //刷新当前小类的红点\r\n    updateCurSecond() {\r\n        if (!this.cacheData[this.nowId][this.nowIndex].content.rewardItem) return;\r\n        if (!this.cacheData[this.nowId][this.nowIndex].content.rewardItem.length) {\r\n            this.secondView.children[this.nowIndex].getChildByName(\"redmark\").active = this.cacheData[this.nowId][this.nowIndex].content.rewardItem.state == 0;\r\n            this.cacheData[this.nowId][this.nowIndex].received_status = this.cacheData[this.nowId][this.nowIndex].content.rewardItem.state == 0 ? 1 : 0\r\n        } else {\r\n            let data = this.cacheData[this.nowId][this.nowIndex].content.rewardItem;\r\n            let draw = false;\r\n            for (let i = 0; i < data.length; i++) {\r\n                if (data[i].state == 0) {\r\n                    draw = true;\r\n                    break;\r\n                }\r\n            }\r\n            console.log(\"这是刷新当前红点信息的消息\", draw)\r\n            if (draw) {\r\n                this.secondView.children[this.nowIndex].getChildByName(\"redmark\").active = true;\r\n                this.cacheData[this.nowId][this.nowIndex].received_status = 1\r\n            } else {\r\n                this.secondView.children[this.nowIndex].getChildByName(\"redmark\").active = false;\r\n                this.cacheData[this.nowId][this.nowIndex].received_status = 0\r\n            }\r\n        }\r\n        this.updateFirstRed();\r\n    },\r\n    //刷新一级菜单红点\r\n    updateFirstRed() {\r\n        let draw = false;\r\n        for (let i = 0; i < this.cacheData[this.nowId].length; i++) {\r\n            if (this.cacheData[this.nowId][i].received_status == 1) {\r\n                draw = true;\r\n                break;\r\n            }\r\n        }\r\n        let index = this.getIndexById(this.nowId);\r\n        console.log(\"这是刷新当前红点信息的消息111\", this.cacheData, draw)\r\n        this.firstView.children[index].children[0].getChildByName(\"redmark\").active = draw;\r\n        this.firstView.children[index].children[1].getChildByName(\"redmark\").active = draw;\r\n    },\r\n    getIndexById(id) {\r\n        for (let i = 0; i < this.firstView.childrenCount; i++) {\r\n            if (this.firstView.children[i].children[0].name == id) {\r\n                return i;\r\n            }\r\n        }\r\n    },\r\n    //一键领取全部\r\n    allreward() {\r\n        glGame.gameNet.send_msg(\"http.ReqDiscountsReceiveAll\", {}, (route, msg) => {\r\n            this.clearDetailData();\r\n            this.reqActivitydetail(this.cacheData[this.nowId][this.nowIndex].id, this.cacheData[this.nowId][this.nowIndex].type, this.nowIndex);\r\n            let arr = [];\r\n            if (msg.data.coin) arr.push({ type: glGame.awardtype.COIN, value: this.getFloat(msg.data.coin) });\r\n            if (glGame.user.get(\"roomSwitch\") && msg.data.diamond) arr.push({ type: glGame.awardtype.DIAMOND, value: this.getFloat(msg.data.diamond) });\r\n            if (msg.data.coin == 0 && msg.data.reviewNum != 0) {\r\n                glGame.panel.showTip(glGame.tips.ANNOUNCE.REVIEW_TIPS.format(msg.data.reviewNum));\r\n            } else if (msg.data.reviewNum == 0) {\r\n                glGame.panel.showAwardBox(glGame.tips.ANNOUNCE.AWARD_TIPS, arr);\r\n            } else if (msg.data.coin != 0 && msg.data.reviewNum != 0) {\r\n                glGame.panel.showAwardBox(glGame.tips.ANNOUNCE.AWARD_REVIEW_TIPS.format(msg.data.reviewNum), arr);\r\n            }\r\n\r\n            console.log(\"这是全部领取的消息\", msg)\r\n            for (let i = 0; i < this.firstView.childrenCount; i++) {\r\n                this.firstView.children[i].children[0].getChildByName(\"redmark\").active = false;\r\n                this.firstView.children[i].children[1].getChildByName(\"redmark\").active = false;\r\n            }\r\n            for (let i = 0; i < this.secondView.childrenCount; i++) {\r\n                this.secondView.children[i].getChildByName(\"redmark\").active = false;\r\n            }\r\n\r\n            // 强制刷新红点\r\n            this.forceRefreshRedPoint();\r\n\r\n        })\r\n    },\r\n    //清除刷新之后的缓存数据\r\n    clearDetailData() {\r\n        for (let i in this.cacheData) {\r\n            for (let j = 0; j < this.cacheData[i].length; j++) {\r\n                if (this.cacheData[i][j].content) {\r\n                    delete this.cacheData[i][j].content;\r\n                }\r\n                this.cacheData[i][j].received_status = 0;\r\n            }\r\n        }\r\n        console.log(\"这是当前的缓存数据\", this.cacheData)\r\n        //置灰一键领取\r\n        this.btn_allreward.interactable = false\r\n    },\r\n    //这是活动详情\r\n    activityDetail() {\r\n        let detailwindow = glGame.panel.showPanel(this.detailwindow),\r\n            script = detailwindow.getComponent(\"detailwindow\");\r\n        console.log(\"这是当前的数据\", this.cacheData[this.nowId][this.nowIndex])\r\n        let titledetail = this.cacheData[this.nowId][this.nowIndex].content.titledetail\r\n        script.updateDetailView1(titledetail);\r\n    },\r\n\r\n    // 文本处理相关\r\n    //////////////////////////////////////////////////\r\n    showTextDelay(content, LabelItem) {\r\n        LabelItem.active = true;\r\n        let lbCom = LabelItem.getComponent(cc.Label);\r\n        let assembler = lbCom._assembler;\r\n        let assemblerData = assembler._getAssemblerData();\r\n        let wrapText = this._calculateLabelFont(content, assemblerData.context, this._getFontDesc(lbCom), LabelItem.width);\r\n\r\n        let index = 0;\r\n        this.unscheduleAllCallbacks();\r\n        this.schedule(() => {\r\n            let txt = cc.instantiate(this.LabelItem);\r\n            // txt.opacity = 0;\r\n            // txt.runAction(cc.fadeIn(0.1));\r\n            txt.getComponent(cc.Label).string = wrapText[index++];\r\n            txt.parent = this.detailView1;\r\n            txt.active = true;\r\n        }, 0.01, wrapText.length - 1);\r\n    },\r\n\r\n    _getFontFamily(comp) {\r\n        if (!comp.useSystemFont) {\r\n            if (comp.font) {\r\n                if (comp.font._nativeAsset) return comp.font._nativeAsset;\r\n                cc.loader.load(comp.font.nativeUrl, (err, asset) => {\r\n                    comp.font._nativeAsset = asset;\r\n                    comp.setVertsDirty();\r\n                });\r\n                return 'Arial';\r\n            }\r\n\r\n            return 'Arial';\r\n        }\r\n        else {\r\n            return comp.fontFamily || 'Arial';\r\n        }\r\n    },\r\n\r\n    _getFontDesc(lb) {\r\n        let fontDesc = lb.fontSize.toString() + 'px ';\r\n        fontDesc += this._getFontFamily(lb);\r\n        if (lb.enableBold) {\r\n            fontDesc = \"bold \" + fontDesc;\r\n        }\r\n        if (lb.enableItalic) {\r\n            fontDesc = \"italic \" + fontDesc;\r\n        }\r\n        return fontDesc;\r\n    },\r\n\r\n    _measureText(ctx, fontDesc) {\r\n        return function (string) {\r\n            return cc.textUtils.safeMeasureText(ctx, string, fontDesc);\r\n        };\r\n    },\r\n\r\n    _calculateWrapText(context, fontDesc, paragraphedStrings, nodeWidth) {\r\n        let _splitedStrings = [];\r\n        let canvasWidthNoMargin = nodeWidth;\r\n        for (let i = 0; i < paragraphedStrings.length; ++i) {\r\n            let allWidth = cc.textUtils.safeMeasureText(context, paragraphedStrings[i], fontDesc);\r\n            let textFragment = cc.textUtils.fragmentText(paragraphedStrings[i],\r\n                allWidth,\r\n                canvasWidthNoMargin,\r\n                this._measureText(context, fontDesc));\r\n            _splitedStrings = _splitedStrings.concat(textFragment);\r\n        }\r\n\r\n        return _splitedStrings;\r\n    },\r\n\r\n    _calculateLabelFont(txt, context, fontDesc, nodeWidth) {\r\n        let paragraphedStrings = txt.split('\\n');\r\n        context.font = fontDesc;\r\n\r\n        return this._calculateWrapText(context, fontDesc, paragraphedStrings, nodeWidth);\r\n    },\r\n    ////////////////////////////////////////////////////\r\n\r\n    close() {\r\n        this.remove();\r\n    },\r\n    OnDestroy() {\r\n        glGame.user.ReqRedDot();\r\n        glGame.user.reqGetCoin();\r\n        glGame.user.reqGetDiamond();\r\n        glGame.emitter.off(\"ReqRedDot\", this);\r\n        glGame.emitter.off(`${this.node.name}${MESSAGE.UI.ACTION_END}`, this);\r\n    }\r\n    // update (dt) {},\r\n});\r\n"]}