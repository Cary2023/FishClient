{"version":3,"sources":["assets\\modules\\public\\script\\effect\\edgeFlow.js"],"names":["cc","Class","Component","properties","startdelay","interval","duration","lightwidth","direction","brightness","onLoad","delta","material","node","getComponent","RenderComponent","getMaterial","setProperty","halfTime","update","dt"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,UAAU,EAAE,CADJ;AACY;AACpBC,IAAAA,QAAQ,EAAE,GAFF;AAEY;AACpBC,IAAAA,QAAQ,EAAE,IAHF;AAGa;AACrBC,IAAAA,UAAU,EAAE,IAJJ;AAIY;AACpBC,IAAAA,SAAS,EAAE,CALH;AAKY;AACpBC,IAAAA,UAAU,EAAE,GANJ,CAMY;;AANZ,GAHP;AAYLC,EAAAA,MAZK,oBAYI;AACL,SAAKC,KAAL,GAAa,CAAb;AACA,SAAKC,QAAL,GAAgB,KAAKC,IAAL,CAAUC,YAAV,CAAuBd,EAAE,CAACe,eAA1B,EAA2CC,WAA3C,CAAuD,CAAvD,CAAhB;AACA,SAAKJ,QAAL,CAAcK,WAAd,CAA0B,UAA1B,EAAsC,KAAKX,QAA3C;AACA,SAAKM,QAAL,CAAcK,WAAd,CAA0B,YAA1B,EAAwC,KAAKV,UAA7C;AACA,SAAKK,QAAL,CAAcK,WAAd,CAA0B,YAA1B,EAAwC,KAAKR,UAA7C;AACA,SAAKS,QAAL,GAAgB,CAAC,KAAKZ,QAAL,GAAgB,KAAKD,QAAtB,IAAkC,GAAlD;AACA,QAAG,KAAKG,SAAL,IAAkB,CAArB,EAAyB,KAAKG,KAAL,GAAa,KAAKL,QAAlB;AAC5B,GApBI;AAsBLa,EAAAA,MAtBK,kBAsBGC,EAtBH,EAsBO;AACR,QAAG,KAAKhB,UAAL,IAAmB,CAAtB,EAAyB;AACrB,WAAKA,UAAL,IAAmBgB,EAAnB;AACA;AACH;;AAED,QAAG,KAAKZ,SAAL,IAAkB,CAArB,EAAwB;AACpB,WAAKG,KAAL,IAAcS,EAAd;;AACA,UAAG,KAAKT,KAAL,IAAc,KAAKO,QAAtB,EAAgC;AAC5B,aAAKP,KAAL,GAAa,CAAC,KAAKO,QAAnB;AACH;AACJ,KALD,MAKO;AACH,WAAKP,KAAL,IAAcS,EAAd;;AACA,UAAG,KAAKT,KAAL,IAAc,CAAC,KAAKO,QAAvB,EAAiC;AAC7B,aAAKP,KAAL,GAAa,KAAKO,QAAlB;AACH;AACJ;;AAED,SAAKN,QAAL,CAAcK,WAAd,CAA0B,MAA1B,EAAkC,KAAKN,KAAvC;AACH;AAzCI,CAAT","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        startdelay: 0,      // 开始延迟\r\n        interval: 3.5,      // 时间间隔\r\n        duration: 1.25,      // 流光移动时间\r\n        lightwidth: 0.25,   // 流光宽度(百分比)\r\n        direction: 1,       // 方向  1： 从左到右 2: 从右到左\r\n        brightness: 1.1,    // 亮度\r\n    },\r\n\r\n    onLoad() {\r\n        this.delta = 0;\r\n        this.material = this.node.getComponent(cc.RenderComponent).getMaterial(0);\r\n        this.material.setProperty(\"duration\", this.duration);\r\n        this.material.setProperty(\"lightwidth\", this.lightwidth); \r\n        this.material.setProperty(\"brightness\", this.brightness);\r\n        this.halfTime = (this.duration + this.interval) * 0.5; \r\n        if(this.direction != 1)  this.delta = this.duration;\r\n    },\r\n\r\n    update (dt) {\r\n        if(this.startdelay >= 0) {\r\n            this.startdelay -= dt;\r\n            return;\r\n        }\r\n\r\n        if(this.direction == 1) {\r\n            this.delta += dt;    \r\n            if(this.delta >= this.halfTime) {\r\n                this.delta = -this.halfTime;\r\n            }\r\n        } else {\r\n            this.delta -= dt;    \r\n            if(this.delta <= -this.halfTime) {\r\n                this.delta = this.halfTime;\r\n            }\r\n        }\r\n\r\n        this.material.setProperty(\"time\", this.delta);\r\n    },\r\n});\r\n "]}