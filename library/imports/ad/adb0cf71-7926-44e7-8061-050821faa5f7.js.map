{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\userInfo\\userinfoVipGet.js"],"names":["glGame","baseclass","extend","properties","content","cc","Node","item","btnGet","normalMaterial","Material","grayMaterial","onLoad","state_color","Color","state_txt","tips","VIPAWARD","GETSTATE","type","registerEvent","onVipInfo","data","node","active","showWeekGift","vipList","userInfo","showMonthGift","vip_color","other_color","gray_color","frameBg","getChildByName","destroyAllChildren","i","count","length","vipInfo","id","cloneItem","instantiate","parent","vipId","getComponent","Label","string","vipName","bonusWeekDiff","bonusWeek","bonusWeekBetting","bonusWeekRecharge","unclaimedWeek","color","weekBetting","weekRecharge","panel","showEffectNode","infoNode","cutFloat","rightNode","weekCanBonus","weekBonus","weekCurrentBonus","Button","interactable","weekIsReceive","btnTitle","RenderComponent","setMaterial","bonusMonthDiff","bonusMonth","bonusMonthBetting","bonusMonthRecharge","unclaimedMonth","monthBetting","monthRecharge","monthCanBonus","monthBonus","monthCurrentBonus","monthIsReceive","onClick","name","remove","ReqVipReward","emitter","on","unRegisterEvent","off","vipid","msg","gameNet","send_msg","route","result","user","ReqRedDot","reqGetCoin","emit","strTitle","WEEKAWARD","MONTHAWARD","showAwardBox","awardtype","COIN","value","coin","Math","floor","parseFloat","toFixed","OnDestroy"],"mappings":"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","sourceRoot":"/","sourcesContent":["/**\r\n * 玩家个人信息界面\r\n */\r\nglGame.baseclass.extend({\r\n    properties: {\r\n        content: cc.Node,\r\n        item: cc.Node,\r\n        btnGet: cc.Node,\r\n        normalMaterial: cc.Material,\r\n        grayMaterial: cc.Material,\r\n    },\r\n\r\n    onLoad() {\r\n        this.state_color = [new cc.Color(239,65,65), new cc.Color(0,255,54), new cc.Color(89,110,139)];\r\n        this.state_txt = glGame.tips.VIPAWARD.GETSTATE;\r\n        this.type = 2;\r\n        this.registerEvent();\r\n    },\r\n\r\n    onVipInfo(data) {\r\n        if(this.node.active == false) {\r\n            return;\r\n        }\r\n\r\n        if(this.type == 2) {\r\n            this.showWeekGift(data.vipList, data.userInfo);\r\n        } else {\r\n            this.showMonthGift(data.vipList, data.userInfo);\r\n        }\r\n    },\r\n\r\n    // 显示周礼金\r\n    showWeekGift(vipList, userInfo) {\r\n        this.type = 2;\r\n        this.userInfo = userInfo;\r\n        let vip_color = new cc.Color(177,136,71);\r\n        let other_color = new cc.Color(221, 245, 255);\r\n        let gray_color = new cc.Color(89,110,139);\r\n\r\n        let frameBg = this.node.getChildByName(\"frame_big\");\r\n        frameBg.getChildByName(\"tittle_week\").active = true;\r\n        this.btnGet.getChildByName(\"Background\").getChildByName(\"tittle_week\").active = true;\r\n\r\n        this.content.destroyAllChildren();\r\n        for(let i = 0, count = vipList.length; i < count; i++) {\r\n            let vipInfo = vipList[i];\r\n            if(vipInfo.id == 1) {\r\n                continue;\r\n            }\r\n\r\n            let cloneItem = cc.instantiate(this.item);\r\n            cloneItem.active = false;\r\n            cloneItem.parent = this.content;\r\n            cloneItem.getChildByName(\"bg\").active = i % 2 == 0;\r\n            cloneItem.getChildByName(\"img_me\").active = vipInfo.id == userInfo.vipId;\r\n            \r\n            cloneItem.getChildByName(\"vip\").getComponent(cc.Label).string = `VIP${vipInfo.vipName}`;                               // vip等级\r\n            cloneItem.getChildByName(\"award\").getComponent(cc.Label).string = vipInfo.bonusWeekDiff/100;                // 周礼金\r\n            cloneItem.getChildByName(\"allaward\").getComponent(cc.Label).string = vipInfo.bonusWeek/100;                 // 累计礼金\r\n            cloneItem.getChildByName(\"needbet\").getComponent(cc.Label).string = vipInfo.bonusWeekBetting/100;           // 打码量需求\r\n            cloneItem.getChildByName(\"needcharge\").getComponent(cc.Label).string = vipInfo.bonusWeekRecharge/100;       // 存款量需求\r\n            cloneItem.getChildByName(\"state\").getComponent(cc.Label).string = this.state_txt[vipInfo.unclaimedWeek - 1];           // 领取状态\r\n            cloneItem.getChildByName(\"state\").color = this.state_color[vipInfo.unclaimedWeek - 1];  \r\n            if(vipInfo.bonusWeekDiff <= 0) {\r\n                cloneItem.getChildByName(\"state\").getComponent(cc.Label).string = \"-\";\r\n                cloneItem.getChildByName(\"state\").color = this.state_color[2];\r\n            }\r\n\r\n            if(userInfo.vipId >= vipInfo.id) {\r\n                cloneItem.getChildByName(\"vip\").color = vip_color;\r\n                cloneItem.getChildByName(\"award\").color = other_color;\r\n                cloneItem.getChildByName(\"allaward\").color = other_color;\r\n\r\n                if(userInfo.weekBetting >= vipInfo.bonusWeekBetting) {\r\n                    cloneItem.getChildByName(\"needbet\").color = other_color;\r\n                }\r\n\r\n                if(userInfo.weekRecharge >= vipInfo.bonusWeekRecharge) {\r\n                    cloneItem.getChildByName(\"needcharge\").color = other_color;\r\n                }\r\n            } else {\r\n                cloneItem.getChildByName(\"vip\").color = gray_color;\r\n                cloneItem.getChildByName(\"award\").color = gray_color;\r\n                cloneItem.getChildByName(\"allaward\").color = gray_color;\r\n                cloneItem.getChildByName(\"needbet\").color = gray_color;\r\n                cloneItem.getChildByName(\"needcharge\").color = gray_color;\r\n            }\r\n\r\n            if(i == vipList.length -1) {\r\n                cloneItem.getChildByName(\"frame_horizontal\").active = false;\r\n            }\r\n        }\r\n\r\n        glGame.panel.showEffectNode(this,this.content,0.02,true);\r\n\r\n        let infoNode = this.node.getChildByName(\"info\");\r\n        infoNode.getChildByName(\"all_bet\").getComponent(cc.Label).string = this.cutFloat(userInfo.weekBetting);                    // 本周打码量\r\n        infoNode.getChildByName(\"all_save\").getComponent(cc.Label).string = this.cutFloat(userInfo.weekRecharge);                  // 本周存款量\r\n\r\n        let rightNode = this.node.getChildByName(\"right\");\r\n        rightNode.getChildByName(\"cur_can_get\").getComponent(cc.Label).string = this.cutFloat(userInfo.weekCanBonus);              // 当前可领取\r\n        rightNode.getChildByName(\"all_can_get\").getComponent(cc.Label).string = this.cutFloat(userInfo.weekBonus);                 // 总计可领取\r\n        rightNode.getChildByName(\"have_get\").getComponent(cc.Label).string = this.cutFloat(userInfo.weekCurrentBonus);             // 已领取\r\n        rightNode.getChildByName(\"btn_get\").getComponent(cc.Button).interactable = userInfo.weekIsReceive == 2;                      \r\n        let btnTitle = this.btnGet.getChildByName(\"Background\").getChildByName(\"tittle_week\");\r\n        if(userInfo.weekIsReceive != 2) {\r\n            btnTitle.getComponent(cc.RenderComponent).setMaterial(0, this.grayMaterial);\r\n        } else {\r\n            btnTitle.getComponent(cc.RenderComponent).setMaterial(0, this.normalMaterial);\r\n        }   \r\n    },\r\n\r\n    // 显示月礼金\r\n    showMonthGift(vipList, userInfo) {\r\n        this.type = 3;\r\n        this.userInfo = userInfo;\r\n        let vip_color = new cc.Color(177,136,71);\r\n        let other_color = new cc.Color(221, 245, 255);\r\n        let gray_color = new cc.Color(89,110,139);\r\n        let frameBg = this.node.getChildByName(\"frame_big\");\r\n        frameBg.getChildByName(\"tittle_month\").active = true;\r\n        this.btnGet.getChildByName(\"Background\").getChildByName(\"tittle_month\").active = true;\r\n\r\n        let infoNode = this.node.getChildByName(\"info\");\r\n        infoNode.getChildByName(\"tittle1\").getComponent(cc.Label).string = \"本月打码量\";\r\n        infoNode.getChildByName(\"tittle2\").getComponent(cc.Label).string = \"本月充值量\";\r\n        this.node.getChildByName(\"grid\").getChildByName(\"img_title_ylj\").active = true;\r\n        this.node.getChildByName(\"grid\").getChildByName(\"img_title_zhoulijin\").active = false;\r\n\r\n        this.content.destroyAllChildren();\r\n        for(let i = 0, count = vipList.length; i < count; i++) {\r\n            let vipInfo = vipList[i];\r\n            if(vipInfo.id == 1) {\r\n                continue;\r\n            }\r\n\r\n            let cloneItem = cc.instantiate(this.item);\r\n            cloneItem.active = false;\r\n            cloneItem.parent = this.content;\r\n            cloneItem.getChildByName(\"bg\").active = i % 2 == 0;\r\n            cloneItem.getChildByName(\"img_me\").active = vipInfo.id == userInfo.vipId;\r\n\r\n            cloneItem.getChildByName(\"vip\").getComponent(cc.Label).string = `VIP${vipInfo.vipName}`;                                // vip等级\r\n            cloneItem.getChildByName(\"award\").getComponent(cc.Label).string = vipInfo.bonusMonthDiff/100;                           // 周礼金\r\n            cloneItem.getChildByName(\"allaward\").getComponent(cc.Label).string = vipInfo.bonusMonth/100;                            // 累计礼金\r\n            cloneItem.getChildByName(\"needbet\").getComponent(cc.Label).string = vipInfo.bonusMonthBetting/100;                      // 打码量需求\r\n            cloneItem.getChildByName(\"needcharge\").getComponent(cc.Label).string = vipInfo.bonusMonthRecharge/100;                  // 存款量需求\r\n            cloneItem.getChildByName(\"state\").getComponent(cc.Label).string = this.state_txt[vipInfo.unclaimedMonth - 1];           // 领取状态\r\n            cloneItem.getChildByName(\"state\").color = this.state_color[vipInfo.unclaimedMonth - 1];  \r\n            if(vipInfo.bonusMonthDiff <= 0) {\r\n                cloneItem.getChildByName(\"state\").getComponent(cc.Label).string = \"-\";\r\n                cloneItem.getChildByName(\"state\").color = this.state_color[2];\r\n            }\r\n\r\n            if(userInfo.vipId >= vipInfo.id) {\r\n                cloneItem.getChildByName(\"vip\").color = vip_color;\r\n                cloneItem.getChildByName(\"award\").color = other_color;\r\n                cloneItem.getChildByName(\"allaward\").color = other_color;\r\n\r\n                if(userInfo.monthBetting >= vipInfo.bonusMonthBetting) {\r\n                    cloneItem.getChildByName(\"needbet\").color = other_color;\r\n                }\r\n\r\n                if(userInfo.monthRecharge >= vipInfo.bonusMonthRecharge) {\r\n                    cloneItem.getChildByName(\"needcharge\").color = other_color;\r\n                }\r\n            } else {\r\n                cloneItem.getChildByName(\"vip\").color = gray_color;\r\n                cloneItem.getChildByName(\"award\").color = gray_color;\r\n                cloneItem.getChildByName(\"allaward\").color = gray_color;\r\n                cloneItem.getChildByName(\"needbet\").color = gray_color;\r\n                cloneItem.getChildByName(\"needcharge\").color = gray_color;\r\n            }\r\n        }\r\n\r\n        glGame.panel.showEffectNode(this,this.content,0.02,true);\r\n\r\n        // let infoNode = this.node.getChildByName(\"info\");\r\n        infoNode.getChildByName(\"all_bet\").getComponent(cc.Label).string = this.cutFloat(userInfo.monthBetting);                    // 本周打码量\r\n        infoNode.getChildByName(\"all_save\").getComponent(cc.Label).string = this.cutFloat(userInfo.monthRecharge);                  // 本周存款量\r\n\r\n        let rightNode = this.node.getChildByName(\"right\");\r\n        rightNode.getChildByName(\"cur_can_get\").getComponent(cc.Label).string = this.cutFloat(userInfo.monthCanBonus);              // 当前可领取\r\n        rightNode.getChildByName(\"all_can_get\").getComponent(cc.Label).string = this.cutFloat(userInfo.monthBonus);                 // 总计可领取\r\n        rightNode.getChildByName(\"have_get\").getComponent(cc.Label).string = this.cutFloat(userInfo.monthCurrentBonus);             // 已领取\r\n        rightNode.getChildByName(\"btn_get\").getComponent(cc.Button).interactable = userInfo.monthIsReceive == 2;      \r\n        let btnTitle = this.btnGet.getChildByName(\"Background\").getChildByName(\"tittle_month\");       \r\n        if(userInfo.monthIsReceive != 2) {\r\n            btnTitle.getComponent(cc.RenderComponent).setMaterial(0, this.grayMaterial);\r\n        } else {\r\n            btnTitle.getComponent(cc.RenderComponent).setMaterial(0, this.normalMaterial);\r\n        }\r\n    },\r\n\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"close\":\r\n                this.remove()\r\n                break;\r\n            case \"btn_get\":\r\n                this.ReqVipReward(this.type, this.userInfo.vipId);\r\n                break;\r\n        }\r\n    },\r\n\r\n    // 注册界面监听事件\r\n    registerEvent() {\r\n        glGame.emitter.on(\"notifyVipInfo\", this.onVipInfo, this);\r\n    },\r\n    // 销毁界面监听事件\r\n    unRegisterEvent() {\r\n        glGame.emitter.off(\"notifyVipInfo\", this);\r\n    },\r\n\r\n    //领取 1彩金，2周礼金，3月礼金\r\n    ReqVipReward(type, vipid) {\r\n        let msg = { \"type\": type, \"vip_id\": vipid }\r\n        glGame.gameNet.send_msg('http.ReqVipReward', msg, (route, data) => {\r\n            if (data.result) {\r\n                glGame.user.ReqRedDot();\r\n                glGame.user.reqGetCoin();\r\n                glGame.emitter.emit(\"notifyReqVipInfo\");\r\n                let strTitle = \"\";\r\n                if (type == 2) strTitle = glGame.tips.VIPAWARD.WEEKAWARD;\r\n                else if (type == 3) strTitle = glGame.tips.VIPAWARD.MONTHAWARD;\r\n                glGame.panel.showAwardBox(strTitle, [{ type: glGame.awardtype.COIN, value: this.cutFloat(data.coin) }]);\r\n            }\r\n        })\r\n    },\r\n\r\n    //截取小数点后2位\r\n    cutFloat(value) {\r\n        if (typeof value !== 'string' && typeof value !== 'number') return;\r\n        return (Math.floor(parseFloat(value)) / 100).toFixed(2);\r\n    },\r\n\r\n    OnDestroy() {\r\n        this.unRegisterEvent();\r\n    },\r\n});\r\n"]}