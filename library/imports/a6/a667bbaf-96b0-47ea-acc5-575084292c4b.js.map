{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\enterRoom\\longhudouentry.js"],"names":["glGame","baseclass","extend","properties","goldCount","cc","Label","content","Node","node_record","node_result","Lhd_record","Prefab","Lhd_gamerule","sprite_Atlas","SpriteAtlas","BGM","type","AudioClip","onLoad","gameid","node","zIndex","emitter","on","MESSAGE","UI","ROOM_ENTER_SHOW","RootNodeShow","ROOM_ENTER_HIDE","RootNodeHide","click_back","updateuserInfo","registerEvent","reqEnterArea","roomType","nodeInfo","gameState","color","stateWord","isUpdateTrend","onGameInfolist","onRoomInfo","onHandInfo","onDeleteRoom","unregisterEvent","off","active","destroyAllChildren","removeAllChildren","cleanTimer","onClick","name","click_help","click_record","click_addgold","click_userinfo","updateUI","user","isTourist","panel","showRegisteredGift","suspicious","game","is_game","showDialog","showService","showFieldSelectionJuHua","room","reqMyGameState","gameID","parent","then","readyroom","enterHundredsRoom","tag","console","error","cutFloat","value","Number","div","toString","showUserInfo","showRemoteImage","Playerhead","get","coin","string","GoldTemp","setGameId","updateBgInfo","showPanelByName","showShop","reqExitArea","remove","showPanel","set","key","scenetag","LONGHUDOU","msg","i","children","length","roomid","destroy","log","gameInfoTest","serverTimeOff","Date","now","servertime","roomRecord","roomrecord","showRecord","roomList","roomlist","roomdata","bettype","count","infoNode","instantiate","roomserverid","waitTime","Math","floor","curwaittime","getChildByName","getComponent","online","minbet","EnterRoomGoldTemp","Chips","maxbet","MaxBet","EntranceRestrictions","process","push","sort","a","b","childrenCount","str","substr","showClock","getFloat","setTimeOut","setInterval","showRound","record","long","hu","he","round","result","k","num","index","dotNode","row","col","updateTrend","recordArr","getIndex","isChangeRow","newCol","j","labelColor","Sprite","spriteFrame","_spriteFrames","newRow","setPosition","v2","showEffectNode","Round","z","addComponent","width","height","clearTimeout"],"mappings":"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","sourceRoot":"/","sourcesContent":["glGame.baseclass.extend({\r\n\r\n    properties: {\r\n        goldCount: cc.Label,\r\n        content: cc.Node,\r\n        node_record: cc.Node,\r\n        node_result: cc.Node,\r\n        Lhd_record: cc.Prefab,\r\n        Lhd_gamerule: cc.Prefab,\r\n        sprite_Atlas: cc.SpriteAtlas,\r\n        BGM: {\r\n            type: cc.AudioClip,\r\n            default: null,\r\n        },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        this.gameid = 0;\r\n        this.node.zIndex = 20;\r\n        // glGame.audio.playBGM(this.BGM_audio);\r\n        glGame.emitter.on(MESSAGE.UI.ROOM_ENTER_SHOW, this.RootNodeShow, this);\r\n        glGame.emitter.on(MESSAGE.UI.ROOM_ENTER_HIDE, this.RootNodeHide, this);\r\n        glGame.emitter.on(\"nodeRemove\", this.click_back, this);\r\n        glGame.emitter.on(\"updateUserData\", this.updateuserInfo, this);\r\n        this.updateuserInfo();\r\n        this.registerEvent();\r\n        this.reqEnterArea();\r\n        this.roomType = 1;\r\n        this.nodeInfo = {};\r\n        this.gameState = { 0: cc.color(255, 96, 47), 1: cc.color(137, 218, 255), 2: cc.color(141, 222, 37), 3: cc.color(226, 137, 255), 4: cc.color(226, 137, 255) };\r\n        this.stateWord = { 1: \"休息中\", 2: \"下注中\", 3: \"结算中\", 4: \"洗牌中\" };\r\n        this.isUpdateTrend = {};\r\n    },\r\n    //事件监听\r\n    registerEvent() {\r\n        glGame.emitter.on(\"onGameInfolist_area\", this.onGameInfolist, this);\r\n        glGame.emitter.on(\"onRoomInfo_area\", this.onRoomInfo, this);\r\n        glGame.emitter.on(\"onHandInfo_area\", this.onHandInfo, this);\r\n        glGame.emitter.on(\"onDeleteRoom_area\", this.onDeleteRoom, this);\r\n    },\r\n    //事件销毁\r\n    unregisterEvent() {\r\n        glGame.emitter.off(\"onGameInfolist_area\", this);\r\n        glGame.emitter.off(\"onRoomInfo_area\", this);\r\n        glGame.emitter.off(\"onHandInfo_area\", this);\r\n        glGame.emitter.off(\"onDeleteRoom_area\", this);\r\n    },\r\n    RootNodeShow() {\r\n        this.node.active = true;\r\n        this.registerEvent();\r\n        this.reqEnterArea();\r\n        this.nodeInfo = {};\r\n    },\r\n    RootNodeHide() {\r\n        this.node.active = false;\r\n        this.content.destroyAllChildren();\r\n        this.content.removeAllChildren();\r\n        this.cleanTimer();\r\n        this.unregisterEvent();\r\n    },\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"btn_back\": this.click_back(); break;\r\n            case \"btn_help\": this.click_help(); break;\r\n            case \"btn_record\": this.click_record(); break;\r\n            case \"mycoinInfo\": this.click_addgold(); break;\r\n            case \"headbg\": this.click_userinfo(); break;\r\n            case \"btn_chongzhi\": this.click_addgold(); break;\r\n            case 'toggle_base':\r\n                if (this.roomType != 1) {\r\n                    this.roomType = 1;\r\n                    this.content.destroyAllChildren();\r\n                    this.content.removeAllChildren();\r\n                    this.isUpdateTrend = {};\r\n                    this.updateUI();\r\n                }\r\n                break;\r\n            case 'toggle_elementary':\r\n                if (this.roomType != 2) {\r\n                    this.roomType = 2;\r\n                    this.content.destroyAllChildren();\r\n                    this.content.removeAllChildren();\r\n                    this.isUpdateTrend = {};\r\n                    this.updateUI();\r\n                }\r\n                break;\r\n            case 'toggle_medium':\r\n                if (this.roomType != 3) {\r\n                    this.roomType = 3;\r\n                    this.content.destroyAllChildren();\r\n                    this.content.removeAllChildren();\r\n                    this.isUpdateTrend = {};\r\n                    this.updateUI();\r\n                }\r\n                break;\r\n            case 'toggle_higher':\r\n                if (this.roomType != 4) {\r\n                    this.roomType = 4;\r\n                    this.content.destroyAllChildren();\r\n                    this.content.removeAllChildren();\r\n                    this.isUpdateTrend = {};\r\n                    this.updateUI();\r\n                }\r\n                break;\r\n            case 'toggle_plute':\r\n                if (this.roomType != 5) {\r\n                    this.roomType = 5;\r\n                    this.content.destroyAllChildren();\r\n                    this.content.removeAllChildren();\r\n                    this.updateUI();\r\n                }\r\n                break;\r\n            case 'btn_enter':\r\n            case 'btn_start':\r\n                if (glGame.user.isTourist()) {\r\n                    glGame.panel.showRegisteredGift(true)\r\n                    return;\r\n                }\r\n                if ((glGame.user.suspicious == 1 && glGame.user.game == 2) || glGame.user.is_game == 2) {\r\n                    glGame.panel.showDialog(\"\", \"您的账号数据异常，暂时禁止进入游戏，如有疑问，请联系客服！\", () => { glGame.panel.showService() }, () => { }, \"我知道了\", \"联系客服\")\r\n                    return;\r\n                }\r\n                glGame.panel.showFieldSelectionJuHua();\r\n                glGame.room.reqMyGameState(this.gameID, this.nodeInfo[node.parent.name].type, node.parent.name).then(() => {\r\n                    glGame.readyroom.enterHundredsRoom(node.parent.name, this.nodeInfo[node.parent.name].tag);\r\n                })\r\n                break;\r\n            default: console.error(\"no find button name -> %s\", name);\r\n        }\r\n    },\r\n    cutFloat(value) {\r\n        return (Number(value).div(100)).toString();\r\n    },\r\n    showUserInfo() {\r\n        glGame.panel.showRemoteImage(this.Playerhead, glGame.user.get(\"headURL\"));\r\n    },\r\n    updateuserInfo() {\r\n        let coin = glGame.user.get(\"coin\")\r\n        this.goldCount.string = glGame.user.GoldTemp(coin);\r\n    },\r\n\r\n    setGameId(gameid) {\r\n        this.gameid = gameid;\r\n    },\r\n\r\n    updateBgInfo() {\r\n    },\r\n\r\n    click_userinfo() {\r\n        glGame.panel.showPanelByName(\"userinfo\");\r\n    },\r\n    click_addgold() {\r\n        glGame.panel.showShop(30);\r\n    },\r\n    click_back() {\r\n        glGame.readyroom.reqExitArea();\r\n        this.remove();\r\n    },\r\n    click_help() {\r\n        let Lhd_gamerule = glGame.panel.showPanel(this.Lhd_gamerule);\r\n        Lhd_gamerule.zIndex = 30;\r\n    },\r\n    click_record() {\r\n        let Lhd_record = glGame.panel.showPanel(this.Lhd_record);\r\n        Lhd_record.zIndex = 30;\r\n    },\r\n\r\n    set(key, value) {\r\n        this[key] = value;\r\n    },\r\n    get(key) {\r\n        return this[key];\r\n    },\r\n    //发包\r\n    reqEnterArea() {\r\n        this.gameID = glGame.scenetag.LONGHUDOU;\r\n        glGame.readyroom.reqEnterArea(glGame.scenetag.LONGHUDOU);\r\n\r\n    },\r\n    //事件回调\r\n    //进入游戏信息回调\r\n    onDeleteRoom(msg) {\r\n        for (let i = 0; i < this.content.children.length; i++) {\r\n            if (this.content.children[i].name == msg.roomid) {\r\n                this.content.children[i].destroy();\r\n            }\r\n        }\r\n\r\n    },\r\n    onGameInfolist(msg) {\r\n        cc.log(\"服务端发送数据222\", msg)\r\n        this.content.destroyAllChildren();\r\n        this.content.removeAllChildren();\r\n        this.gameInfoTest = glGame.readyroom.get(\"gameInfo\");\r\n        console.log('this.gameInfoTest', this.gameInfoTest)\r\n        if (!this.gameInfoTest) return;\r\n        this.serverTimeOff = Date.now() - msg.servertime;\r\n        this.updateUI();\r\n    },\r\n    onHandInfo(msg) {\r\n        this.roomRecord = glGame.readyroom.roomrecord;\r\n        console.log(\"奖励\", this.roomRecord);\r\n        for (let i = 0; i < this.content.children.length; i++) {\r\n            if (this.content.children[i].name == msg.roomid) {\r\n                this.showRecord(this.content.children[i], this.roomRecord[msg.roomid], msg.roomid);\r\n            }\r\n        }\r\n    },\r\n    onRoomInfo(msg) {\r\n        console.log('r')\r\n        this.roomList = glGame.readyroom.roomlist;\r\n        this.serverTimeOff = Date.now() - msg.servertime;\r\n        if (this.roomType != msg.roomdata.bettype && this.roomType !== 0) return\r\n        let count = 0;\r\n        for (let i = 0; i < this.content.children.length; i++) {\r\n            if (this.content.children[i].name == msg.roomdata.roomid) {\r\n                count++;\r\n            }\r\n        }\r\n        if (count == 0) {\r\n            let infoNode = cc.instantiate(this.node_record);\r\n            infoNode.parent = this.content;\r\n            infoNode.active = true;\r\n            infoNode.name = `${msg.roomdata.roomid}`;\r\n            this.nodeInfo[infoNode.name] = {\r\n                tag: this.roomList[msg.roomdata.bettype][msg.roomdata.roomid].roomserverid,\r\n                type: msg.roomdata.bettype\r\n            }\r\n            let waitTime = Math.floor((this.roomList[msg.roomdata.bettype][msg.roomdata.roomid].curwaittime - (Date.now() - this.serverTimeOff)) / 1000);\r\n            infoNode.waitTime = waitTime\r\n            infoNode.getChildByName('onlineNum').getComponent(cc.Label).string = this.roomList[msg.roomdata.bettype][msg.roomdata.roomid].online;\r\n            infoNode.getChildByName('roomId').getComponent(cc.Label).string = msg.roomdata.roomid;\r\n            let minbet = glGame.user.EnterRoomGoldTemp(this.gameInfoTest[msg.roomdata.bettype].Chips[0]),\r\n                maxbet = glGame.user.EnterRoomGoldTemp(this.gameInfoTest[msg.roomdata.bettype].MaxBet);\r\n            infoNode.getChildByName('chiplimit').getChildByName('lab_coin').getComponent(cc.Label).string = minbet + \"~\" + maxbet;\r\n            if (this.gameInfoTest[msg.roomdata.bettype].EntranceRestrictions <= glGame.user.get(\"coin\") && !glGame.user.isTourist()) {\r\n                infoNode.getChildByName(\"btn_enter\").getChildByName(\"enter\").active = true;\r\n                infoNode.getChildByName(\"btn_enter\").getChildByName(\"watch\").active = false;\r\n            } else {\r\n                infoNode.getChildByName(\"btn_enter\").getChildByName(\"enter\").active = false;\r\n                infoNode.getChildByName(\"btn_enter\").getChildByName(\"watch\").active = true;\r\n            }\r\n            this.roomRecord = glGame.readyroom.roomrecord;\r\n            this.showRecord(infoNode, this.roomRecord[msg.roomdata.roomid], msg.roomdata.roomid);\r\n\r\n        }\r\n        for (let i = 0; i < this.content.children.length; i++) {\r\n            if (this.content.children[i].name == msg.roomdata.roomid) {\r\n                let waitTime = Math.floor((msg.roomdata.curwaittime - (Date.now() - this.serverTimeOff)) / 1000);\r\n                this.content.children[i].waitTime = waitTime;\r\n                this.content.children[i].getChildByName(\"lab_time\").getComponent(cc.Label).string = waitTime + \"s\";\r\n                this.content.children[i].getChildByName(\"gamestate\").color = this.gameState[msg.roomdata.process];\r\n                this.content.children[i].getChildByName(\"lab_time\").color = this.gameState[msg.roomdata.process];\r\n                this.content.children[i].process = msg.roomdata.process;\r\n                this.content.children[i].getChildByName(\"gamestate\").getComponent(cc.Label).string = this.stateWord[msg.roomdata.process];\r\n                this.content.children[i].getChildByName('onlineNum').getComponent(cc.Label).string = msg.roomdata.online;\r\n\r\n            }\r\n        }\r\n    },\r\n    //更新UI\r\n    updateUI() {\r\n        this.roomList = []\r\n        for (let key in glGame.readyroom.roomlist[this.roomType]) {\r\n            this.roomList.push(glGame.readyroom.roomlist[this.roomType][key])\r\n        }\r\n\r\n        this.roomList.sort((a, b) => {\r\n            return a.bettype - b.bettype;\r\n        });\r\n        this.roomRecord = glGame.readyroom.roomrecord;\r\n        if (!this.roomList) {\r\n            return;\r\n        }\r\n        this.cleanTimer();\r\n        for (let roomid in this.roomList) {\r\n            if (!this.roomList[roomid]) continue;\r\n            for (let i = 0; i < this.content.childrenCount; i++) {\r\n                if (this.content.children[i].name == this.roomList[roomid].roomid) {\r\n                    return;\r\n                }\r\n            }\r\n            let infoNode = cc.instantiate(this.node_record);\r\n            infoNode.parent = this.content;\r\n            infoNode.active = true;\r\n            infoNode.name = `${this.roomList[roomid].roomid}`;\r\n            this.nodeInfo[infoNode.name] = {\r\n                tag: this.roomList[roomid].roomserverid,\r\n                type: this.roomList[roomid].bettype\r\n            }\r\n            let str = this.roomList[roomid].roomid.toString();\r\n            infoNode.getChildByName('roomId').getComponent(cc.Label).string = str.length > 5 ? str.substr(str.length - 5) : str;\r\n\r\n            infoNode.getChildByName('onlineNum').getComponent(cc.Label).string = this.roomList[roomid].online;\r\n            let minbet = glGame.user.EnterRoomGoldTemp(this.gameInfoTest[this.roomList[roomid].bettype].Chips[0]),\r\n                maxbet = glGame.user.EnterRoomGoldTemp(this.gameInfoTest[this.roomList[roomid].bettype].MaxBet);\r\n            infoNode.getChildByName('chiplimit').getChildByName('lab_coin').getComponent(cc.Label).string = minbet + \"~\" + maxbet;\r\n\r\n\r\n            infoNode.getChildByName(\"gamestate\").getComponent(cc.Label).string = this.stateWord[this.roomList[roomid].process]\r\n            infoNode.process = this.roomList[roomid].process;\r\n            if (this.gameInfoTest[this.roomList[roomid].bettype].EntranceRestrictions <= glGame.user.get(\"coin\") && !glGame.user.isTourist()) {\r\n                infoNode.getChildByName(\"btn_enter\").getChildByName(\"enter\").active = true;\r\n                infoNode.getChildByName(\"btn_enter\").getChildByName(\"watch\").active = false;\r\n            } else {\r\n                infoNode.getChildByName(\"btn_enter\").getChildByName(\"enter\").active = false;\r\n                infoNode.getChildByName(\"btn_enter\").getChildByName(\"watch\").active = true;\r\n            }\r\n            let waitTime = Math.floor((this.roomList[roomid].curwaittime - (Date.now() - this.serverTimeOff)) / 1000);\r\n            if (waitTime < 0) {\r\n                waitTime = 0;\r\n            }\r\n            infoNode.waitTime = waitTime\r\n            infoNode.getChildByName(\"lab_time\").color = waitTime <= 3 && this.roomList[roomid].process == 2 ? this.gameState[0] : this.gameState[this.roomList[roomid].process];\r\n            infoNode.getChildByName(\"gamestate\").color = waitTime <= 3 && this.roomList[roomid].process == 2 ? this.gameState[0] : this.gameState[this.roomList[roomid].process];\r\n            infoNode.getChildByName('lab_time').getComponent(cc.Label).string = waitTime + \"s\"\r\n            this.showRecord(infoNode, this.roomRecord[this.roomList[roomid].roomid], this.roomList[roomid].roomid);\r\n        }\r\n        this.showClock();\r\n    },\r\n    //桌面数据的显示\r\n    getFloat(value) {\r\n        return (Number(value).div(100)).toString();\r\n    },\r\n    //显示倒计时\r\n    showClock() {\r\n        this.setTimeOut = setInterval(() => {\r\n            if (this.content.children) {\r\n                for (let i = 0; i < this.content.children.length; i++) {\r\n                    this.content.children[i].waitTime -= 1;\r\n                    if (this.content.children[i].waitTime <= 0) {\r\n                        this.content.children[i].waitTime = 0;\r\n                    }\r\n                    if (this.content.children[i].waitTime <= 3 && this.content.children[i].process == 2) {\r\n                        this.content.children[i].getChildByName(\"gamestate\").color = this.gameState[0];\r\n                        this.content.children[i].getChildByName(\"lab_time\").color = this.gameState[0];\r\n                    }\r\n                    this.content.children[i].getChildByName(\"lab_time\").getComponent(cc.Label).string = this.content.children[i].waitTime + \"s\";\r\n                }\r\n            }\r\n        }, 1000)\r\n    },\r\n    //显示总局数以及红 、蓝的出现局数\r\n    showRound(node, record) {\r\n        let long = 0,\r\n            hu = 0,\r\n            he = 0,\r\n            round = 0;\r\n        for (let i = 0; i < record.length; i++) {\r\n            if (record[i].result == 1) {\r\n                long += record[i].count\r\n                round += record[i].count\r\n            } else if (record[i].result == 2) {\r\n                hu += record[i].count\r\n                round += record[i].count\r\n            }\r\n            if (record[i].he) {\r\n                for (let k = 0; k < record[i].he.length; k++) {\r\n                    he += record[i].he[k].num;\r\n                    round += record[i].he[k].num;\r\n                }\r\n            }\r\n        }\r\n        node.getChildByName('jushu').getChildByName(\"count\").getComponent(cc.Label).string = round < 10 && round > 0 ? '0' + round : round;\r\n        node.getChildByName('hong').getChildByName(\"count\").getComponent(cc.Label).string = long < 10 && long > 0 ? '0' + long : long;\r\n        node.getChildByName('lan').getChildByName(\"count\").getComponent(cc.Label).string = hu < 10 && hu > 0 ? '0' + hu : hu;\r\n        node.getChildByName('lv').getChildByName(\"count\").getComponent(cc.Label).string = he < 10 && he > 0 ? '0' + he : he;\r\n    },\r\n    showRecord(node, record, roomid) {\r\n        if (!record) {\r\n            return\r\n        }\r\n        let index = 0;\r\n        let dotNode;\r\n        let row = 0,\r\n            col = 0;\r\n        node.getChildByName('node_dot').destroyAllChildren();\r\n        node.getChildByName('node_dot').removeAllChildren();\r\n        this.updateTrend(node, record);\r\n        let recordArr = [];\r\n        index = this.getIndex(record);\r\n        for (let i = index; i < record.length; i++) {\r\n            let isChangeRow = false;\r\n            let newCol = col;\r\n            for (let j = 0; j < record[i].count; j++) {\r\n                let labelColor = null;\r\n                dotNode = cc.instantiate(this.node_result);\r\n                if (record[i].result == 1) {\r\n                    labelColor = cc.color(176, 4, 4);\r\n                    dotNode.getComponent(cc.Sprite).spriteFrame = this.sprite_Atlas._spriteFrames['img_hongquan'];\r\n                } else if (record[i].result == 2) {\r\n                    labelColor = cc.color(30, 2, 3);\r\n                    dotNode.getComponent(cc.Sprite).spriteFrame = this.sprite_Atlas._spriteFrames['img_haquan'];\r\n                }\r\n                if (record[i].he) {\r\n                    for (let k = 0; k < record[i].he.length; k++) {\r\n                        if (record[i].he[k].index - 1 == j) {\r\n                            dotNode.children[0].active = true;\r\n                            dotNode.children[0].getComponent(cc.Label).string = record[i].he[k].num;\r\n                            dotNode.children[0].color = labelColor;\r\n                        }\r\n                    }\r\n                }\r\n                dotNode.parent = node.getChildByName('node_dot');\r\n                let newRow = row;\r\n                if(newRow > 5&&!isChangeRow){\r\n                    isChangeRow = true;\r\n                }\r\n                for (let k = 0; k < recordArr.length; k++) {\r\n                    if (newRow == recordArr[k][0] && newCol == recordArr[k][1]) {\r\n                        isChangeRow = true;\r\n                    }\r\n                }\r\n                if (isChangeRow) {\r\n                    newRow--;\r\n                    newCol++\r\n                }\r\n                dotNode.setPosition(cc.v2(-299 + newCol * 43, 89 - newRow * 36));\r\n                recordArr.push([newRow, newCol]);\r\n                if (this.isUpdateTrend[roomid]) {\r\n                    dotNode.active = true;\r\n                }\r\n                if (!isChangeRow) row++;\r\n            }\r\n            col++;\r\n            row = 0;\r\n        }\r\n        if (!this.isUpdateTrend[roomid]) {\r\n            glGame.panel.showEffectNode(this, node.getChildByName('node_dot'), 0.02, true, 0.1, () => { });\r\n            this.isUpdateTrend[roomid] = true;\r\n        }\r\n    },\r\n    //这是珠盘路的显示\r\n    updateTrend(node, record) {\r\n        node.getChildByName('trend').destroyAllChildren();\r\n        node.getChildByName('trend').removeAllChildren();\r\n        let Round = [];\r\n        for (let i = 0; i < record.length; i++) {\r\n            for (let j = 0; j < record[i].count; j++) {\r\n                Round.push(record[i].result)\r\n                if (record[i].he) {\r\n                    for (let k = 0; k < record[i].he.length; k++) {\r\n                        if (record[i].he[k].index - 1 == j) {\r\n                            for (let z = 0; z < record[i].he[k].num; z++) {\r\n                                Round.push(3);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n        let index = Round.length > 15 ? Round.length - 15 : 0;\r\n        for (let i = index; i < Round.length; i++) {\r\n            let dotNode = new cc.Node();\r\n            if (Round[i] == 1) {\r\n                dotNode.addComponent(cc.Sprite).spriteFrame = this.sprite_Atlas._spriteFrames['img_long'];\r\n            } else if (Round[i] == 2) {\r\n                dotNode.addComponent(cc.Sprite).spriteFrame = this.sprite_Atlas._spriteFrames['img_ha'];\r\n            } else if (Round[i] == 3) {\r\n                dotNode.addComponent(cc.Sprite).spriteFrame = this.sprite_Atlas._spriteFrames['img_he'];\r\n            }\r\n            dotNode.parent = node.getChildByName('trend');\r\n            dotNode.width = 46.5;\r\n            dotNode.height = 46.5;\r\n        }\r\n    },\r\n    getIndex(record) {\r\n        let index = 0;\r\n        if (record.length > 17) {\r\n            index = record.length - 17;\r\n        }\r\n        for (let j = index; j < record.length; j++) {\r\n            if (j - index + record[j].count >= 22) {\r\n                index += j - index + record[j].count - 22;\r\n            }\r\n        }\r\n        return index;\r\n    },\r\n\r\n    //清理倒计时\r\n    cleanTimer() {\r\n        if (this.setTimeOut != null) {\r\n            clearTimeout(this.setTimeOut);\r\n        }\r\n        this.setTimeOut = null;\r\n    },\r\n    set(key, value) {\r\n        this[key] = value;\r\n    },\r\n    OnDestroy() {\r\n        glGame.emitter.off(MESSAGE.UI.ROOM_ENTER_SHOW, this);\r\n        glGame.emitter.off(MESSAGE.UI.ROOM_ENTER_HIDE, this);\r\n        glGame.emitter.off(\"nodeRemove\", this);\r\n        glGame.emitter.off(\"updateUserData\", this);\r\n        this.cleanTimer();\r\n        this.unregisterEvent();\r\n    },\r\n    // update (dt) {},\r\n});\r\n"]}