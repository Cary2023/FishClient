{"version":3,"sources":["assets\\modules\\games\\nfish\\script\\prefab\\nfish_record.js"],"names":["glGame","baseclass","extend","properties","recorditem","cc","Node","recordview","norecord","tip","title","lab_page","Label","down_frame","pre_detail","Prefab","onLoad","node","scale","systemclass","convertInterface","x","y","panel","showRoomJuHua","pageIndex","pageSize","pageCount","gameID","scenetag","FISH2","gameLevel","room","getRoomType","gameRecord","isLoadingData","registerEvent","recordActionEnd","gameNet","send_msg","gameid","page_size","page","resetPanelData","bind","emitter","on","name","MESSAGE","UI","ACTION_END","unRegisterEvent","off","route","msg","destroyAllChildren","current_page","total_page","string","list","closeRoomJuHua","count","length","i","instantiate","recordData","hand_number","profit","Number","gainFee","cutDownNum","bet_coin","coin","toFixed","roomStr","getChildByName","active","getComponent","number","parent","EventType","TOUCH_START","showBulletDetailHandler","showFishDetail2Handler","showEffectNode","evt","viewtype","showDetailHandler","currentTarget","record","undefined","JSON","parse","detailsNode","initDetView","recordDetails","onClick","remove","submit","showTip","value","num","isNaN","div","toString","Math","floor","OnDestroy"],"mappings":"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","sourceRoot":"/","sourcesContent":["//捕鱼：记录\r\nglGame.baseclass.extend({\r\n    properties: {\r\n        recorditem: cc.Node,\r\n        recordview: cc.Node,\r\n        norecord: cc.Node,\r\n        tip: cc.Node,\r\n        title: cc.Node,\r\n        lab_page: cc.Label,\r\n        down_frame: cc.Node,\r\n        pre_detail: cc.Prefab,\r\n    },\r\n    onLoad() {\r\n        this.node.scale = glGame.systemclass.convertInterface();\r\n        this.node.x = this.node.x * glGame.systemclass.convertInterface();\r\n        this.node.y = this.node.y * glGame.systemclass.convertInterface();\r\n        glGame.panel.showRoomJuHua();\r\n        this.pageIndex = 1;\r\n        this.pageSize = 7;\r\n        this.pageCount = 0;\r\n        this.gameID = glGame.scenetag.FISH2;\r\n        this.gameLevel = glGame.room.getRoomType(this.gameID);\r\n        this.gameRecord = null;\r\n        this.isLoadingData = false;\r\n        this.registerEvent();\r\n    },\r\n    recordActionEnd() {\r\n        glGame.gameNet.send_msg('http.ReqUserFishingHandRecords', { gameid: this.gameID, page_size: this.pageSize, page: this.pageIndex }, this.resetPanelData.bind(this));\r\n    },\r\n\r\n    registerEvent() {\r\n        glGame.emitter.on(`${this.node.name}${MESSAGE.UI.ACTION_END}`, this.recordActionEnd, this);\r\n    },\r\n    unRegisterEvent() {\r\n        glGame.emitter.off(`${this.node.name}${MESSAGE.UI.ACTION_END}`, this);\r\n    },\r\n    //接收牌局详情数据\r\n    resetPanelData(route, msg) {\r\n        if (this.recordview == null) return;\r\n        this.isLoadingData = false;\r\n        this.recordview.destroyAllChildren();\r\n        this.pageIndex = msg.current_page;\r\n        this.pageCount = msg.total_page;\r\n        this.lab_page.string = `第${msg.current_page}/${msg.total_page}页`;\r\n        this.gameRecord = msg.list;\r\n        glGame.panel.closeRoomJuHua();\r\n        let count = this.gameRecord ? this.gameRecord.length : 0;\r\n        for (let i = 0; i < count; i++) {\r\n            let panel = cc.instantiate(this.recorditem);\r\n            panel.name = `detail_${i}`;\r\n            let recordData = this.gameRecord[i];\r\n\r\n            let hand_number = recordData[\"hand_number\"];//牌局编号\r\n            let profit = Number(recordData[\"number\"]);//结算\r\n            let gainFee = Number(this.cutDownNum(recordData[\"gainFee\"]));//抽水\r\n            let bet_coin = this.cutDownNum(Number(recordData[\"bet_coin\"]));//炮弹金额\r\n            let coin = Number(Number(this.cutDownNum(profit)) + gainFee + Number(bet_coin)).toFixed(2);//捕获金额\r\n            let roomStr = this.gameLevel[recordData[\"bettype\"]];//房间\r\n\r\n            panel.getChildByName(\"img_tiao\").active = i % 2 != 0;\r\n            panel.getChildByName(\"lab_no\").getComponent(cc.Label).string = hand_number + \"\";\r\n            panel.getChildByName(\"lab_room\").getComponent(cc.Label).string = roomStr + \"\";\r\n            panel.getChildByName(\"lab_bullteCoin\").getComponent(cc.Label).string = bet_coin + \"\";\r\n            panel.getChildByName(\"lab_coin\").getComponent(cc.Label).string = coin + \"\";\r\n            let number = panel.getChildByName(profit > 0 ? \"lab_win\" : \"lab_lost\");\r\n            number.getComponent(cc.Label).string = profit > 0 ? `+${this.cutDownNum(profit)}` : this.cutDownNum(profit);\r\n            panel.getChildByName(\"lab_endTime\").getComponent(cc.Label).string = recordData[\"end_time\"];\r\n            number.active = true;\r\n            panel.active = false;\r\n            panel.parent = this.recordview;\r\n            panel.recordData = recordData;\r\n            panel.getChildByName(\"btn_zidananniu\").on(cc.Node.EventType.TOUCH_START, this.showBulletDetailHandler, this);\r\n            panel.getChildByName(\"btn_fishanniu\").on(cc.Node.EventType.TOUCH_START, this.showFishDetail2Handler, this);\r\n        }\r\n        glGame.panel.showEffectNode(this, this.recordview, 0.02, true);\r\n        this.norecord.active = count < 1;\r\n        this.down_frame.active = count > 0;\r\n    },\r\n    showBulletDetailHandler(evt) {\r\n        this.viewtype = 1;\r\n        this.showDetailHandler(evt);\r\n    },\r\n    showFishDetail2Handler(evt) {\r\n        this.viewtype = 2;\r\n        this.showDetailHandler(evt);\r\n    },\r\n    showDetailHandler(evt) {\r\n        let hand_number = evt.currentTarget.parent.getChildByName(\"lab_no\").getComponent(cc.Label).string;\r\n        glGame.gameNet.send_msg('http.ReqUserFishingInfoHandRecords', { gameid: this.gameID, hand_number: hand_number }, (route, msg) => {\r\n            if (msg.record == \"\" || msg.record == undefined) {\r\n                return;\r\n            }\r\n            let list = JSON.parse(msg.record);\r\n            let detailsNode = cc.instantiate(this.pre_detail);\r\n            detailsNode.getComponent(\"nfish_recordDetails\").initDetView(evt.currentTarget.parent.recordData, list, this.viewtype);\r\n            let recordDetails = this.node.getChildByName(\"recordDetails\");\r\n            recordDetails.active = true;\r\n            detailsNode.parent = recordDetails;\r\n        })\r\n    },\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"ui_BtnClose\": this.remove(); break;\r\n            case 'btn_last':\r\n                this.pageIndex--;\r\n                this.submit();\r\n                break;\r\n            case 'btn_next':\r\n                this.pageIndex++;\r\n                this.submit();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    },\r\n    submit() {\r\n        if (this.isLoadingData) return;\r\n        this.isLoadingData = true;\r\n        if (this.pageIndex < 1) {\r\n            glGame.panel.showTip('当前已经是第一页！');\r\n            this.pageIndex = 1;\r\n            this.isLoadingData = false;\r\n            return;\r\n        }\r\n        if (this.pageIndex > this.pageCount) {\r\n            glGame.panel.showTip('当前已经是最后一页！');\r\n            this.pageIndex = this.pageCount;\r\n            this.isLoadingData = false;\r\n            return;\r\n        }\r\n        glGame.panel.showRoomJuHua();\r\n        //获取用户的牌局记录\r\n        glGame.gameNet.send_msg('http.ReqUserFishingHandRecords', { gameid: this.gameID, page_size: this.pageSize, page: this.pageIndex }, this.resetPanelData.bind(this));\r\n    },\r\n    //截取小数点后两位\r\n    cutDownNum(value, num = 2) {\r\n        if (isNaN(value)) return;\r\n        if (~~value === value) {\r\n            return value.div(100).toString();\r\n        } else {\r\n            value = Number(value).div(100);\r\n            return (Math.floor(value * 100) / 100).toFixed(num);\r\n        }\r\n    },\r\n    OnDestroy() {\r\n        this.unRegisterEvent();\r\n        this.gameRecord = null;\r\n    },\r\n});"]}