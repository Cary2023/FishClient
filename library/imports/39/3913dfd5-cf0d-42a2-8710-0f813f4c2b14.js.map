{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\comprehensive.js"],"names":["groupId","BANNER_START","ON","OFF","CORNER_MARK","QP_BG_IMH","TY_BG_IMH","glGame","baseclass","extend","properties","btnWebGame","cc","Node","btnPlatform","btnPlatformBig","electronicNode","sportsNode","gamegroupView","gamegroup","gameInterface","dzPlatType","qpPlatType","platInterface","tipNode","videoInterface","videoNode","electronicInterface","prefab_banner","Prefab","prefab_room_field","atlas_qp_plat","SpriteAtlas","atlas_dz_plat","atlas_video_plat","atlas_ty_plat","atlas_corner_mark","big_qp_plat","SpriteFrame","big_ty_plat","onLoad","game_item_szie","width","isScroll","pageSize","pageIndex","pageCount","on","onGameInterfaceRigthCb","onPlatInterfaceRigthCb","emitter","onOrientationchange","onEnable","refreshGameList","scrollView","console","log","isGameNature","typeIndex","qpPlatIndex","start","isCategoryData","platIndex","dzPlatIndex","videoPlatIndex","firstTimeTag","banner","isiPhoneX","AdaptiveIphonex","getComponent","Widget","updateAlignment","AdaptiveInterface","iphonexWidth","children","toggleNode","x","node","offsetLeft","interval","leftInterval","gamelistcfg","reqGameGroup","getGamesList","runAction","sequence","delayTime","callFunc","interFaceMode","get","gameDisplayTypeList","gamegroupWidth","active","zIndex","left","billboardsData","user","reqBillboardsData","bannerWidth","panel","showChildPanel","parent","y","getChildByName","getGameGroupWidth","gameDisplayType","gameDisplayToken","token","sys","localStorage","getItem","msg","reqGamesList","gamesList","setItem","storage","setGamegroup","selfGameList","i","length","id","platform_node","m_toggle","Toggle","isChecked","check","emit","name","getPosArr","list","posX","posY","posArr","index","push","v2","onClick","switchInterface","switchRoom","openTripartiteGame","indexOf","labelPlatGame","displayMode","isEnableHotUpdate","nature","platList","type","roomInterface","initRoomList","setCategoryData","bigIconPlat","labelPlat","videoPlat","sportsPlat","electronicPlat","initList","onShowGame","content","game_list","game_panel","instantiate","position","winSize","height","initUI","gameListData","gameitemWidth","gameGroup","gameList","Object","values","forEach","item","ScrollView","stopAutoScroll","viewwidth","enabled","Math","ceil","destroyAllChildren","removeAllChildren","game_length","executionAni","_gamesList","childrenCount","label_panel","img_name","Sprite","spriteFrame","getSpriteFrame","tempX","plat_length","view","viewWidth","plat_gameList","tip_node","Label","string","plat_gameList_big","big_id","plat_panel_big","j","tag","cornerMark","video_gamesList","video_id","btn_start_video","str","split","ports_length","sports_gameList","logo","electronic_gamesList","electronic_id","room_gameGroup","initData","scrollTime","everyTime","distance","distanceTime","moveTo","OnDestroy","off"],"mappings":"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","sourceRoot":"/","sourcesContent":["// isEnableHotUpdate\r\n\r\nconst groupId = {\r\n    1: \"chessCard\",     //棋牌\r\n    2: \"fishing\",       //捕鱼\r\n    3: \"arcade\",        //电子\r\n    4: \"realPerson\",    //视讯\r\n    5: \"lottery\",       //彩票\r\n    6: \"sports\",        //体育\r\n    7: \"compete\",       //电竞\r\n    8: \"room\",          //房间\r\n    9: \"hot\",           //热门\r\n}\r\nconst BANNER_START = {\r\n    ON: 1,  //开启\r\n    OFF: 0  //关闭\r\n}\r\nconst CORNER_MARK = {\r\n    0: \"无\",\r\n    1: \"推荐\",\r\n    2: \"火爆\",\r\n    3: \"最新\",\r\n}\r\nconst QP_BG_IMH = [1, 12, 16, 29]\r\nconst TY_BG_IMH = [7, 21, 22, 25]\r\n\r\nglGame.baseclass.extend({\r\n    properties: {\r\n        btnWebGame: cc.Node,\r\n        btnPlatform: cc.Node,\r\n        btnPlatformBig: cc.Node,\r\n        electronicNode: cc.Node,\r\n        sportsNode: cc.Node,\r\n\r\n        // 分类列表\r\n        gamegroupView: cc.Node,\r\n        gamegroup: cc.Node,\r\n        // 游戏分类展示\r\n        gameInterface: cc.Node,\r\n        dzPlatType: cc.Node,\r\n        qpPlatType: cc.Node,\r\n        // 棋牌分类展示\r\n        platInterface: cc.Node,\r\n        tipNode: cc.Node,\r\n        // 视讯分类展示\r\n        videoInterface: cc.Node,\r\n        videoNode: cc.Node,\r\n        // 电竞分类展示\r\n        electronicInterface: cc.Node,\r\n\r\n        prefab_banner: cc.Prefab,       // 轮播图预制\r\n        prefab_room_field: cc.Prefab,   //房间场预制\r\n\r\n        atlas_qp_plat: cc.SpriteAtlas,\r\n        atlas_dz_plat: cc.SpriteAtlas,\r\n        atlas_video_plat: cc.SpriteAtlas,\r\n        atlas_ty_plat: cc.SpriteAtlas,\r\n        atlas_corner_mark: cc.SpriteAtlas,\r\n\r\n        big_qp_plat: [cc.SpriteFrame],\r\n        big_ty_plat: [cc.SpriteFrame],\r\n    },\r\n    onLoad() {\r\n        this.game_item_szie = this.btnWebGame.width + 15; //item大小 + 间隔   350\r\n        this.isScroll = false;\r\n        this.pageSize = 16;\r\n        this.pageIndex = 1;\r\n        this.pageCount = 0;\r\n        this.gameInterface.on(\"scroll-to-right\", this.onGameInterfaceRigthCb, this);\r\n        this.platInterface.on(\"scroll-to-right\", this.onPlatInterfaceRigthCb, this);\r\n        glGame.emitter.on(\"resize\", this.onOrientationchange, this);\r\n        // this.gameInterface.on(\"bounce-right\", this.onGameInterfaceRigthCb, this);\r\n        // this.platInterface.on(\"bounce-right\", this.onPlatInterfaceRigthCb, this);\r\n    },\r\n    onEnable() {\r\n        this.refreshGameList();\r\n    },\r\n    onGameInterfaceRigthCb(scrollView) {\r\n        if (this.pageIndex >= this.pageCount) {\r\n            console.log(\"comprehensive ===> 游戏已经加载完成\", this.pageIndex)\r\n        } else {\r\n            this.pageIndex++;\r\n            this.isGameNature(true);\r\n        }\r\n    },\r\n\r\n    onPlatInterfaceRigthCb(scrollView) {\r\n        if (this.typeIndex == \"_1\" && this.qpPlatIndex != null) {\r\n            if (this.pageIndex >= this.pageCount) {\r\n            } else {\r\n                this.pageIndex++;\r\n                this.isGameNature(true);\r\n            }\r\n        }\r\n    },\r\n\r\n    start() {\r\n        this.typeIndex = glGame.isCategoryData.typeIndex;\r\n        let platIndex = glGame.isCategoryData.platIndex;\r\n        this.qpPlatIndex = this.typeIndex == \"_1\" ? platIndex : null;\r\n        this.dzPlatIndex = this.typeIndex == \"_3\" ? platIndex : null;\r\n        this.videoPlatIndex = this.typeIndex == \"_4\" ? platIndex : null;\r\n\r\n        this.firstTimeTag = false;\r\n        this.banner = null;\r\n        if (isiPhoneX) this.AdaptiveIphonex();\r\n        this.gamegroupView.getComponent(cc.Widget).updateAlignment();\r\n        this.AdaptiveInterface();\r\n    },\r\n\r\n    // 适配iPhoneX手机\r\n    AdaptiveIphonex() {\r\n        this.iphonexWidth = 80;         //适配iphone的宽度偏移\r\n        this.gamegroupView.width += this.iphonexWidth;\r\n        for (let toggleNode of this.gamegroup.children) {\r\n            toggleNode.x = this.iphonexWidth / 2;\r\n        }\r\n    },\r\n\r\n    // 初始化界面\r\n    AdaptiveInterface() {\r\n        let width = this.node.width * 0.65 + 20;\r\n        this.offsetLeft = (this.node.width - width - this.gamegroupView.width) / 4;\r\n        this.interval = (this.node.width - width - this.gamegroupView.width) / 4;\r\n        this.leftInterval = 15;\r\n\r\n        // 向 php 获取到当前游戏配置数量后进行UI展现\r\n        glGame.gamelistcfg.reqGameGroup(() => {\r\n            this.refreshGameList();\r\n\r\n            // 初始化游戏数据\r\n            this.getGamesList();\r\n        })\r\n    },\r\n\r\n    onOrientationchange() {\r\n        this.node.runAction(cc.sequence(cc.delayTime(0.01), cc.callFunc(()=> {\r\n            this.refreshGameList();\r\n        })))\r\n    },\r\n\r\n    refreshGameList() {\r\n        this.interFaceMode = glGame.gamelistcfg.get(\"interFaceMode\");\r\n        this.gameDisplayTypeList = glGame.gamelistcfg.get(\"gameDisplayTypeList\");\r\n\r\n        if(this.interFaceMode == null || this.gameDisplayTypeList==null) {\r\n            return;\r\n        }\r\n\r\n        // 获取分类的宽度\r\n        let gamegroupWidth = 0;\r\n        if (this.interFaceMode == 1) {\r\n            this.gamegroupView.active = true;\r\n            this.gamegroupView.zIndex = 30;\r\n            gamegroupWidth = this.gamegroupView.width + this.gamegroupView.getComponent(cc.Widget).left;\r\n        } else {\r\n            this.interval = 14;\r\n            this.typeIndex = \"_0\";\r\n            this.gamegroupView.active = false;\r\n            gamegroupWidth = this.interval * 2;\r\n        }\r\n\r\n        // 获取banner的宽度\r\n        let billboardsData = glGame.user.reqBillboardsData;\r\n        let bannerWidth = 0;\r\n        // 校验方式为服务端如无数据则默认为开启\r\n        if (billboardsData.switch != BANNER_START.OFF) {\r\n            this.interval = 50;\r\n            // scrollview的监听相互影响，所以根据坐标属性放入父节点避免监听相互干扰\r\n            this.banner = glGame.panel.showChildPanel(this.prefab_banner, this.node.parent);\r\n            this.banner.x = -this.node.width / 2 + gamegroupWidth + this.leftInterval + this.banner.width / 2;\r\n            this.banner.y = -40;\r\n            bannerWidth = this.banner.width;\r\n        }\r\n\r\n        // 设置游戏列表的宽度\r\n        this.gameInterface.width = this.node.width - gamegroupWidth - bannerWidth - this.interval - this.leftInterval;\r\n        this.gameInterface.getComponent(cc.Widget).updateAlignment();\r\n        this.gameInterface.getChildByName(\"view\").getComponent(cc.Widget).updateAlignment();\r\n\r\n        // 设置平台列表的宽度\r\n        this.platInterface.width = this.node.width - gamegroupWidth - bannerWidth - this.interval - this.leftInterval;\r\n        this.platInterface.getComponent(cc.Widget).updateAlignment();\r\n        this.platInterface.getChildByName(\"view\").getComponent(cc.Widget).updateAlignment();\r\n\r\n        if(this.videoInterface.active) {\r\n            this.videoInterface.width = this.node.width - this.getGameGroupWidth();\r\n            this.videoInterface.getComponent(cc.Widget).updateAlignment();\r\n        }\r\n\r\n        if(this.electronicInterface) {\r\n            this.electronicInterface.width = this.node.width - this.getGameGroupWidth();\r\n            this.electronicInterface.getComponent(cc.Widget).updateAlignment();\r\n        }\r\n    },\r\n\r\n    // 获取游戏数据\r\n    getGamesList(){\r\n        let gameDisplayType = glGame.gamelistcfg.get(\"gameDisplayType\");\r\n        let gameDisplayToken = glGame.gamelistcfg.get(\"gameDisplayToken\");\r\n\r\n        // 获取对应的数据列表\r\n        let token = cc.sys.localStorage.getItem(\"gametoken\");\r\n        if (gameDisplayToken != token && gameDisplayType == 2) {\r\n            console.log(\"comprehensive ===> 从网络获取\");\r\n            let msg = { \"type\": gameDisplayType }\r\n            glGame.gamelistcfg.reqGamesList(msg, () => {\r\n                this.gamesList = glGame.gamelistcfg.get(\"gamesList\");\r\n                cc.sys.localStorage.setItem(\"gametoken\", gameDisplayToken);\r\n                glGame.storage.setItem(\"gamedata\", this.gamesList);\r\n                if (this.interFaceMode == 1) {\r\n                    console.log(\"comprehensive ===> 有分类展示\");\r\n                    this.setGamegroup();\r\n                } else {\r\n                    console.log(\"comprehensive ===> 无分类展示\");\r\n                    this.isGameNature();\r\n                }\r\n            })\r\n        } else {\r\n            console.log(\"comprehensive ===> 从本地获取\");\r\n            this.gamesList = glGame.storage.getItem(\"gamedata\");\r\n            glGame.gamelistcfg.selfGameList(this.gamesList);\r\n            if (this.interFaceMode == 1) {\r\n                console.log(\"comprehensive ===> 有分类展示\");\r\n                this.setGamegroup();\r\n            } else {\r\n                console.log(\"comprehensive ===> 无分类展示\");\r\n                this.isGameNature();\r\n            }\r\n        }\r\n    },\r\n\r\n    //设置游戏分类\r\n    setGamegroup() {\r\n        for (let i = 0; i < this.gameDisplayTypeList.length; i++) {\r\n            let id = this.gameDisplayTypeList[i].id;\r\n\r\n            let platform_node = this.gamegroup.getChildByName(groupId[id]);\r\n            platform_node.zIndex = i;\r\n            platform_node.typeIndex = `_${id}`;\r\n            \r\n            if (this.typeIndex == null) {\r\n                this.typeIndex = `_${id}`;\r\n                this.firstTimeTag = true;\r\n                let m_toggle = platform_node.getComponent(cc.Toggle);\r\n                if (m_toggle.isChecked) {\r\n                    this.isGameNature();\r\n                }\r\n                m_toggle.check();\r\n                glGame.emitter.emit(\"setplazabg\", { name: groupId[id], width: this.gamegroupView.width });//更换大厅背景图\r\n            } else {\r\n                if (this.typeIndex == `_${id}`) {\r\n                    console.log(\"comprehensive ===> 已经有分类\");\r\n                    let m_toggle = platform_node.getComponent(cc.Toggle);\r\n                    if (m_toggle.isChecked) {\r\n                        this.isGameNature();\r\n                    }\r\n                    m_toggle.check();\r\n                    glGame.emitter.emit(\"setplazabg\", { name: groupId[id], width: this.gamegroupView.width });//更换大厅背景图\r\n                }\r\n            }\r\n\r\n            platform_node.active = true;\r\n        }\r\n    },\r\n\r\n    //获得当前所有节点的位置\r\n    getPosArr(list) {\r\n        let posX = 120, posY = [100, -183], posArr = [];\r\n        for (let i = 0; i < list.length; i++) {\r\n            let index = i % 2;\r\n            posArr.push(cc.v2(index == 0 && i != 0 ? posX += 240 : posX, posY[index]));\r\n        }\r\n        console.log(\"comprehensive ===> 这是当前所需要的位置列表\", posArr)\r\n        return posArr;\r\n    },\r\n\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"hot\": case \"chessCard\": case \"arcade\":\r\n            case \"fishing\": case \"realPerson\": case \"sports\":\r\n            case \"lottery\": case \"compete\":\r\n                this.switchInterface(name, node);\r\n                break;\r\n            case \"room\":\r\n                this.switchRoom(name, node);\r\n                break;\r\n            case \"btn_back\":\r\n                this.qpPlatIndex = null;\r\n                this.isGameNature();\r\n                break;\r\n            case \"btn_start_video\":     //开始视讯游戏\r\n                this.openTripartiteGame(this.videoPlatIndex);\r\n                break;\r\n            default:\r\n                if (name) {\r\n                    if (name.indexOf(\"electronic\") !== -1 || name.indexOf(\"sports\") !== -1) {         //电竞/体育\r\n                        this.openTripartiteGame(node.id);\r\n                    } else {\r\n                        if (name.indexOf(\"arcade\") !== -1) {        // 电子点击事件\r\n                            this.isScroll = false;\r\n                            this.dzPlatIndex = node.id;\r\n                            this.labelPlatGame()\r\n                        } else if (name.indexOf(\"chessCard\") !== -1) {     // 棋牌点击事件\r\n                            this.qpPlatIndex = node.id;\r\n                            if (this.gamesList[this.typeIndex].displayMode == 1) {\r\n                                this.isGameNature();\r\n                            } else {\r\n                                this.isScroll = false;\r\n                                this.labelPlatGame()\r\n                            }\r\n                        } else if (name.indexOf(\"video\") !== -1) {         // 视讯\r\n                            this.videoPlatIndex = node.id;\r\n                            this.isGameNature();\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n    },\r\n\r\n    // 打开三方游戏\r\n    openTripartiteGame(id) {\r\n        console.log(\"comprehensive ===> 打开三方游戏\")\r\n        if (!isEnableHotUpdate) return;\r\n        let nature = this.gamesList[this.typeIndex].nature;\r\n        let gamesList = this.gamesList[this.typeIndex].platList;\r\n        // glGame.emitter.emit(MESSAGE.UI.WEBVIEW_ON, { gamesList: gamesList[id], nature: nature, type: 2 });\r\n        glGame.gamelistcfg.openTripartiteGame({ gamesList: gamesList[id], nature: nature, type: 2 });\r\n    },\r\n\r\n    // 分类切换\r\n    switchInterface(name, node) {\r\n        console.log(\"comprehensive ===> 分类切换\")\r\n        if (this.banner) this.banner.active = true;\r\n        if (this.roomInterface) this.roomInterface.active = false;\r\n        this.dzPlatType.active = false;\r\n        this.qpPlatType.active = false;\r\n        this.gameInterface.active = false;\r\n        this.platInterface.active = false;\r\n        this.videoInterface.active = false;\r\n        this.electronicInterface.active = false;\r\n        // 设置分页id\r\n        this.typeIndex = node.typeIndex\r\n        glGame.emitter.emit(\"setplazabg\", { name: name, width: this.gamegroupView.width });//更换大厅背景图\r\n        this.isGameNature();\r\n    },\r\n\r\n    // 打开房间场\r\n    switchRoom(name, node) {\r\n        console.log(\"comprehensive ===> 切换房间场显示\")\r\n        if (this.banner) this.banner.active = false;\r\n        this.dzPlatType.active = false;\r\n        this.qpPlatType.active = false;\r\n        this.gameInterface.active = false;\r\n        this.platInterface.active = false;\r\n        this.videoInterface.active = false;\r\n        this.electronicInterface.active = false;\r\n        // 设置分页id\r\n        this.typeIndex = node.typeIndex;\r\n        glGame.emitter.emit(\"setplazabg\", { name: name, width: this.gamegroupView.width });//更换大厅背景图\r\n        this.initRoomList();\r\n        this.setCategoryData();\r\n    },\r\n\r\n    isGameNature(isScroll = false) {\r\n        this.isScroll = isScroll;\r\n        if (!this.gamesList) return;\r\n        let nature = this.gamesList[this.typeIndex].nature;\r\n        switch (nature) {\r\n            case 1:\r\n                // 既有平台又有游戏\r\n                if (this.gamesList[this.typeIndex].displayMode == 1) {\r\n                    // 大图标展示\r\n                    this.bigIconPlat();\r\n                } else {\r\n                    // 标签展示游戏\r\n                    this.labelPlat();\r\n                }\r\n                break;\r\n            case 2:\r\n                // 只有平台\r\n                switch (this.typeIndex) {\r\n                    case \"_4\":\r\n                        // 视讯\r\n                        this.videoPlat();\r\n                        break;\r\n                    case \"_5\":\r\n                        // 彩票\r\n                        break;\r\n                    case \"_6\":\r\n                        // 体育\r\n                        this.sportsPlat();\r\n                        break;\r\n                    case \"_7\":\r\n                        // 电竞\r\n                        this.electronicPlat();\r\n                        break;\r\n                }\r\n                break;\r\n            case 3:\r\n                // 只有游戏\r\n                this.initList();\r\n                break;\r\n        }\r\n        this.setCategoryData();\r\n    },\r\n\r\n    // 展示游戏列表\r\n    onShowGame(content, game_list) {\r\n        for (let i = (this.pageIndex - 1) * this.pageSize; i < game_list.length; i++) {\r\n            if (i < this.pageIndex * this.pageSize) {\r\n                let game_panel = cc.instantiate(this.btnWebGame);\r\n                game_panel.parent = content;\r\n                game_panel.active = true;\r\n                game_panel.position = cc.v2(0, cc.winSize.height + game_panel.height);\r\n                game_panel.getComponent(\"gameitem_com\").initUI(game_list[i]);\r\n            }\r\n        }\r\n    },\r\n\r\n    //根据index生成相应游戏列表\r\n    initList(gameListData) {\r\n        let gameitemWidth = this.game_item_szie; //item大小 + 间隔   350\r\n\r\n        let gameGroup = this.gamesList[this.typeIndex].gameList;\r\n        if (gameListData) {\r\n            gameGroup = gameListData;\r\n        }\r\n\r\n        // 屏蔽web版网页游戏\r\n        let game_list = [];\r\n        Object.values(gameGroup).forEach(item => {\r\n            // if (!isEnableHotUpdate && item.id > 9999) return;\r\n            game_list.push(item)\r\n        })\r\n\r\n        let posArr = this.getPosArr(game_list);\r\n\r\n        this.gameInterface.active = true;\r\n        this.gameInterface.getComponent(cc.ScrollView).stopAutoScroll();\r\n        let content = this.gameInterface.getChildByName(\"view\").getChildByName(\"content\"),\r\n            viewwidth = this.gameInterface.getChildByName(\"view\").width;\r\n\r\n        if (!this.isScroll) {\r\n            this.pageIndex = 1;\r\n            this.gameInterface.getComponent(cc.ScrollView).enabled = false;\r\n            this.pageCount = Math.ceil(game_list.length / this.pageSize);\r\n            content.destroyAllChildren();\r\n            content.removeAllChildren();\r\n            content.x = 0;\r\n        }\r\n\r\n        let game_length = this.pageIndex * this.pageSize;\r\n        if (game_length >= game_list.length) {\r\n            game_length = game_list.length;\r\n        }\r\n\r\n        this.onShowGame(content, game_list);\r\n\r\n        //设置scrollview.width\r\n        let width = Math.ceil(game_length / 2) * gameitemWidth;\r\n        content.width = width < viewwidth ? viewwidth : width;\r\n\r\n        // 判断第一次不执行动画\r\n        if (this.firstTimeTag || this.isScroll) {\r\n            this.firstTimeTag = false;\r\n            for (let i = 0; i < game_length; i++) {\r\n                content.children[i].position = posArr[i];\r\n            }\r\n            this.gameInterface.getComponent(cc.ScrollView).enabled = true;\r\n        } else {\r\n            // 执行动画\r\n            this.executionAni(content, game_length, posArr, viewwidth);\r\n        }\r\n    },\r\n\r\n    // 标签展示\r\n    labelPlat() {\r\n        let _gamesList = this.gamesList[this.typeIndex].platList;\r\n        let content = null;\r\n\r\n        let platList = Object.values(_gamesList);\r\n        if (platList.length <= 0) return;\r\n\r\n        if (this.typeIndex == \"_3\") {\r\n            content = this.dzPlatType.getChildByName(\"view\").getChildByName(\"content\");\r\n            this.dzPlatType.active = true;\r\n        } else {\r\n            content = this.qpPlatType.getChildByName(\"view\").getChildByName(\"content\");\r\n            this.qpPlatType.active = true;\r\n        }\r\n\r\n        if (content && content.childrenCount == 0) {\r\n            for (let i = 0; i < platList.length; i++) {\r\n                let label_panel = cc.instantiate(this.btnPlatform);\r\n                label_panel.parent = content;\r\n                label_panel.name = `chessCard${platList[i].id}`;\r\n                label_panel.id = \"_\" + platList[i].id;\r\n                label_panel.y = 0;\r\n                if (this.dzPlatIndex == \"_\" + platList[i].id || this.qpPlatIndex == \"_\" + platList[i].id) {\r\n                    label_panel.getComponent(cc.Toggle).check();\r\n                }\r\n                label_panel.active = true;\r\n\r\n                let img_name = `img_qp_${platList[i].id}`;\r\n                if (this.typeIndex == \"_3\") {\r\n                    img_name = `img_dz_${platList[i].id}`;\r\n                    label_panel.name = `arcade${platList[i].id}`;\r\n                }\r\n                label_panel.getChildByName(\"img\").getComponent(cc.Sprite).spriteFrame = this.atlas_dz_plat.getSpriteFrame(img_name);\r\n            }\r\n\r\n            if (this.typeIndex == \"_3\") {\r\n                if (this.dzPlatIndex == null) {\r\n                    this.dzPlatIndex = \"_\" + platList[0].id;\r\n                    this.labelPlatGame()\r\n                }\r\n            } else {\r\n                if (this.qpPlatIndex == null) {\r\n                    this.qpPlatIndex = \"_\" + platList[0].id;\r\n                    this.labelPlatGame()\r\n                }\r\n            }\r\n        } else {\r\n            this.labelPlatGame()\r\n        }\r\n    },\r\n\r\n    // 展示小图标游戏列表\r\n    labelPlatGame () {\r\n        this.setCategoryData();\r\n        let _gamesList = this.gamesList[this.typeIndex].platList;\r\n        let platIndex = this.typeIndex == \"_3\" ? this.dzPlatIndex : this.qpPlatIndex;\r\n        this.initList(_gamesList[platIndex].gameList);\r\n    },\r\n\r\n    // 大图标展示\r\n    bigIconPlat() {\r\n        let gameListData = this.gamesList[this.typeIndex].platList;\r\n\r\n        this.platInterface.active = true;\r\n\r\n        let tempX = 65, //图标之间的间隔\r\n            gameitemWidth = 404;//item大小\r\n\r\n        let posArr = [], plat_length = 0;\r\n\r\n        this.platInterface.getComponent(cc.ScrollView).stopAutoScroll();\r\n        let view = this.platInterface.getChildByName(\"view\");\r\n        view.getComponent(cc.Widget).updateAlignment();\r\n\r\n        let content = view.getChildByName(\"content\"),\r\n            viewWidth = view.width;\r\n        this.gameInterface.getComponent(cc.ScrollView).stopAutoScroll();\r\n\r\n        if (this.qpPlatIndex != null) {\r\n            let id = gameListData[this.qpPlatIndex].id\r\n            // 屏蔽web版网页游戏\r\n            let plat_gameList = [];\r\n            Object.values(gameListData[this.qpPlatIndex].gameList).forEach(item => {\r\n                // if (!isEnableHotUpdate && item.id > 9999) return;\r\n                plat_gameList.push(item)\r\n            })\r\n\r\n            // 设置是不是分页加载\r\n            if (!this.isScroll) {\r\n                this.pageIndex = 1;\r\n                this.pageCount = Math.ceil(plat_gameList.length / this.pageSize);\r\n                content.destroyAllChildren();\r\n                content.removeAllChildren();\r\n                content.x = 0;\r\n            }\r\n\r\n            // 获取设置的位置\r\n            posArr = this.getPosArr(plat_gameList);\r\n\r\n            plat_length = this.pageIndex * this.pageSize;\r\n            if (plat_length >= plat_gameList.length) {\r\n                plat_length = plat_gameList.length;\r\n            }\r\n\r\n            this.onShowGame(content, plat_gameList);\r\n\r\n            let tip_node = this.platInterface.getChildByName(\"tip_node\")\r\n            tip_node.active = true;\r\n            tip_node.getChildByName(\"node\").getChildByName(\"logo\").getComponent(cc.Sprite).spriteFrame = this.atlas_qp_plat.getSpriteFrame(`img_game_list_${id}`);\r\n            tip_node.getChildByName(\"node\").getChildByName(\"tip\").getComponent(cc.Label).string = `总共${plat_gameList.length}款小游戏`;\r\n\r\n            //设置scrollview.width\r\n            gameitemWidth = this.game_item_szie; //item大小 + 间隔   350\r\n            let width = Math.ceil(plat_length / 2) * gameitemWidth;\r\n            content.width = width < viewWidth ? viewWidth : width;\r\n        } else {\r\n            this.platInterface.getChildByName(\"tip_node\").active = false;\r\n            content.destroyAllChildren();\r\n            content.removeAllChildren();\r\n            content.x = 0;\r\n            let plat_gameList_big = Object.values(gameListData);\r\n            plat_length = plat_gameList_big.length;\r\n\r\n            // 设置入口位置\r\n            posArr = [];\r\n            let posX = gameitemWidth / 2 + 20;\r\n            for (let i = 0; i < plat_length; i++) {\r\n                posArr.push(cc.v2(i != 0 ? posX += tempX + gameitemWidth : posX, 0));\r\n            }\r\n\r\n            //设置scrollview.width\r\n            let width = plat_length * (gameitemWidth + tempX) - tempX + 40;\r\n            content.width = width < viewWidth ? viewWidth : width;\r\n\r\n            // 初始化大图标展示\r\n            if (content.childrenCount == 0) {\r\n                for (let i = 0; i < plat_length; i++) {\r\n                    let big_id = plat_gameList_big[i].id;\r\n                    let plat_panel_big = cc.instantiate(this.btnPlatformBig);\r\n                    plat_panel_big.y = 0;\r\n                    plat_panel_big.parent = content;\r\n                    plat_panel_big.active = true;\r\n                    plat_panel_big.name = `chessCard${big_id}`;\r\n                    plat_panel_big.id = \"_\" + big_id;\r\n                    plat_panel_big.position = cc.v2(0, cc.winSize.height + plat_panel_big.height);\r\n                    for (let j = 0; j < QP_BG_IMH.length; j++) {\r\n                        if (QP_BG_IMH[j] == big_id) {\r\n                            plat_panel_big.getChildByName(\"bg\").getComponent(cc.Sprite).spriteFrame = this.big_qp_plat[j];\r\n                        }\r\n                    }\r\n                    plat_panel_big.getChildByName(\"logo\").getComponent(cc.Sprite).spriteFrame = this.atlas_qp_plat.getSpriteFrame(`img_logo_${big_id}`);\r\n                    plat_panel_big.getChildByName(\"title\").getComponent(cc.Sprite).spriteFrame = this.atlas_qp_plat.getSpriteFrame(`img_title_${big_id}`);\r\n\r\n                    if (plat_gameList_big[i].tag > 0) {    //设置角标\r\n                        let cornerMark = plat_panel_big.getChildByName(\"cornerMark\")\r\n                        cornerMark.getComponent(cc.Sprite).spriteFrame = this.atlas_corner_mark.getSpriteFrame(`img_corner_mark${plat_gameList_big[i].tag}`);\r\n                        cornerMark.getChildByName(\"txt\").getComponent(cc.Label).string = CORNER_MARK[plat_gameList_big[i].tag];\r\n                        cornerMark.active = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // 执行动作\r\n        if (this.firstTimeTag || this.isScroll) {\r\n            this.firstTimeTag = false;\r\n            for (let i = 0; i < plat_length; i++) {\r\n                content.children[i].position = posArr[i];\r\n            }\r\n        } else {\r\n            this.executionAni(content, plat_length, posArr, viewWidth);\r\n        }\r\n    },\r\n\r\n    // 视讯界面\r\n    videoPlat() {\r\n        this.videoInterface.width = this.node.width - this.getGameGroupWidth();\r\n        this.videoInterface.getComponent(cc.Widget).updateAlignment();\r\n        if (this.banner) this.banner.active = false;\r\n\r\n        let video_gamesList = this.gamesList[this.typeIndex].platList;\r\n        let platList = Object.values(video_gamesList);\r\n        if (platList.length <= 0) return;\r\n        this.videoInterface.active = true;\r\n\r\n        let content = this.videoNode.getChildByName(\"view\").getChildByName(\"content\");\r\n        if (content.childrenCount == 0) {\r\n            \r\n            for (let i = 0; i < platList.length; i++) {\r\n                let video_id = platList[i].id;\r\n                let label_panel = cc.instantiate(this.btnPlatform);\r\n                label_panel.y = 0;\r\n                label_panel.parent = content;\r\n                label_panel.active = true;\r\n                label_panel.name = `video${video_id}`;\r\n                label_panel.id = \"_\" + video_id;\r\n                label_panel.getChildByName(\"img\").getComponent(cc.Sprite).spriteFrame = this.atlas_video_plat.getSpriteFrame(`img_video_title${video_id}`);\r\n            }\r\n\r\n            if (this.videoPlatIndex == null) {\r\n                this.videoPlatIndex = \"_\" + platList[0].id;\r\n            }\r\n        }\r\n\r\n        let btn_start_video = this.videoInterface.getChildByName(\"btn_start_video\")\r\n        let str = this.videoPlatIndex.split(\"_\");\r\n        btn_start_video.getChildByName(\"img_video\").getComponent(cc.Sprite).spriteFrame = this.atlas_video_plat.getSpriteFrame(`img_video${str[str.length - 1]}`);\r\n    },\r\n\r\n    // 体育界面\r\n    sportsPlat() {\r\n        let gameListData = this.gamesList[this.typeIndex].platList;\r\n        this.platInterface.active = true;\r\n\r\n        let tempX = 65, //图标之间的间隔\r\n            gameitemWidth = 361;//item大小\r\n\r\n        let posArr = [], ports_length = 0;\r\n\r\n        this.platInterface.getChildByName(\"tip_node\").active = false;\r\n        this.platInterface.getComponent(cc.ScrollView).stopAutoScroll();\r\n        let view = this.platInterface.getChildByName(\"view\");\r\n        view.getComponent(cc.Widget).updateAlignment();\r\n\r\n        let content = view.getChildByName(\"content\"),\r\n            viewWidth = view.width;\r\n        content.destroyAllChildren();\r\n        content.removeAllChildren();\r\n        content.x = 0;\r\n\r\n        let sports_gameList = Object.values(gameListData);\r\n        ports_length = sports_gameList.length;\r\n\r\n        // 设置入口位置\r\n        posArr = [];\r\n        let posX = gameitemWidth / 2;\r\n        for (let i = 0; i < ports_length; i++) {\r\n            posArr.push(cc.v2(i != 0 ? posX += tempX + gameitemWidth : posX, 0));\r\n        }\r\n\r\n        //设置scrollview.width\r\n        let width = ports_length * (gameitemWidth + tempX) - tempX;\r\n        content.width = width < viewWidth ? viewWidth : width;\r\n\r\n        // 初始化大图标展示\r\n        if (content.childrenCount == 0) {\r\n            for (let i = 0; i < ports_length; i++) {\r\n                let big_id = sports_gameList[i].id;\r\n                let plat_panel_big = cc.instantiate(this.sportsNode);\r\n                plat_panel_big.y = 0;\r\n                plat_panel_big.parent = content;\r\n                plat_panel_big.active = true;\r\n                plat_panel_big.name = `sports${big_id}`;\r\n                plat_panel_big.id = \"_\" + big_id;\r\n                plat_panel_big.position = cc.v2(0, cc.winSize.height + plat_panel_big.height);\r\n                \r\n                for (let j = 0; j < TY_BG_IMH.length; j++) {\r\n                    if (TY_BG_IMH[j] == big_id) {\r\n                        plat_panel_big.getChildByName(\"img_rw\").getComponent(cc.Sprite).spriteFrame = this.big_ty_plat[j];\r\n                    }\r\n                }\r\n                let logo = plat_panel_big.getChildByName(\"logo_l\")\r\n                if (big_id == 22) logo = plat_panel_big.getChildByName(\"logo_r\")\r\n                logo.getComponent(cc.Sprite).spriteFrame = this.atlas_ty_plat.getSpriteFrame(`img_logo_${big_id}`);\r\n                logo.active = true;\r\n                \r\n                plat_panel_big.getChildByName(\"title\").getComponent(cc.Sprite).spriteFrame = this.atlas_ty_plat.getSpriteFrame(`img_title_${big_id}`);\r\n            }\r\n        }\r\n\r\n        // 执行动作\r\n        this.executionAni(content, ports_length, posArr, viewWidth);\r\n    },\r\n\r\n    // 电竞界面\r\n    electronicPlat() {\r\n        this.electronicInterface.width = this.node.width - this.getGameGroupWidth();\r\n        this.electronicInterface.getComponent(cc.Widget).updateAlignment();\r\n        if (this.banner) this.banner.active = false;\r\n\r\n        // this.electronicInterface.getComponent(cc.Widget).left = this.offsetLeft;\r\n        // this.electronicInterface.getComponent(cc.Widget).updateAlignment();\r\n\r\n        let electronic_gamesList = this.gamesList[this.typeIndex].platList;\r\n        let platList = Object.values(electronic_gamesList);\r\n        if (platList.length <= 0) return;\r\n        this.electronicInterface.active = true;\r\n\r\n        let content = this.electronicInterface.getChildByName(\"view\").getChildByName(\"content\");\r\n        if (content.childrenCount == 0) {\r\n            for (let i = 0; i < platList.length; i++) {\r\n                let electronic_id = platList[i].id;\r\n                let label_panel = cc.instantiate(this.electronicNode);\r\n                label_panel.parent = content;\r\n                label_panel.active = true;\r\n                label_panel.name = `electronic${electronic_id}`;\r\n                label_panel.id = \"_\" + electronic_id;\r\n            }\r\n\r\n            if (this.videoPlatIndex == null) {\r\n                this.videoPlatIndex = \"_\" + platList[0].id;\r\n            }\r\n        }\r\n    },\r\n\r\n    // 房间场界面布局\r\n    initRoomList() {\r\n        let room_gameGroup = this.gamesList[this.typeIndex];\r\n        this.roomInterface = this.node.getChildByName(\"room_field\")\r\n        if (!this.roomInterface) {\r\n            this.roomInterface = cc.instantiate(this.prefab_room_field);\r\n            this.roomInterface.parent = this.node;\r\n            this.roomInterface.position = cc.v2(cc.winSize.width / 2, 0);\r\n            this.roomInterface.zIndex = 10;\r\n        }\r\n        this.roomInterface.active = true;\r\n        this.roomInterface.getComponent(this.roomInterface.name).initData(room_gameGroup);\r\n\r\n        this.firstTimeTag = false;\r\n    },\r\n\r\n    // 执行动画\r\n    executionAni(content, length, posArr, viewWidth) {\r\n        let scrollTime = 0.25,   //图标移动时间\r\n            everyTime = 0.05,    //图标移动间隔时间\r\n            distance = 30,       //图标弹动距离\r\n            distanceTime = 0.1;  //图标弹动时间\r\n\r\n        // 执行动作\r\n        for (let i = 0; i < length; i++) {\r\n            let item = content.children[i];\r\n            if (item) {\r\n                item.position = cc.v2(posArr[i].x + viewWidth, posArr[i].y);\r\n                item.runAction(cc.sequence(\r\n                    cc.moveTo(scrollTime + everyTime * i, posArr[i].x - distance, posArr[i].y),\r\n                    cc.moveTo(distanceTime, posArr[i]),\r\n                    cc.callFunc(() => {\r\n                        if (i === length-1 && this.gameInterface.active) {\r\n                            console.log(\"大厅执行动画 = \", i);\r\n                            this.gameInterface.getComponent(cc.ScrollView).enabled = true;\r\n                        }\r\n                    }),\r\n                ))\r\n            }\r\n        }\r\n    },\r\n\r\n    // 获取gamegroupWidth\r\n    getGameGroupWidth() {\r\n        let gamegroupWidth = this.gamegroupView.width + this.gamegroupView.getComponent(cc.Widget).left;\r\n        return gamegroupWidth + this.offsetLeft + this.leftInterval;\r\n    },\r\n\r\n    // 设置现在在那个分类\r\n    setCategoryData() {\r\n        glGame.isCategoryData.typeIndex = this.typeIndex\r\n\r\n        switch (this.typeIndex) {\r\n            case \"_1\":\r\n                glGame.isCategoryData.platIndex = this.qpPlatIndex;\r\n                break;\r\n            case \"_3\":\r\n                glGame.isCategoryData.platIndex = this.dzPlatIndex;\r\n                break;\r\n            case \"_4\":\r\n                glGame.isCategoryData.platIndex = this.videoPlatIndex;\r\n                break;\r\n            default:\r\n                glGame.isCategoryData.platIndex = null;\r\n                break;\r\n        }\r\n    },\r\n\r\n    OnDestroy() {\r\n        glGame.emitter.off(\"resize\", this);\r\n    },\r\n});\r\n"]}