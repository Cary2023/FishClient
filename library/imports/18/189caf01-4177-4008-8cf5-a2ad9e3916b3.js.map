{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\userInfo\\userinfoaccount.js"],"names":["glGame","baseclass","extend","properties","accountContent","cc","Node","accountItem","typeContent","typeItem","typeScr","mask","type_lab","Label","noitem","lab_pageIndex","safebox_lab","coin_lab","infonode","onLoad","endTime","startTime","type","is_first","PageIndex","summary","registerEvent","initCoin","emitter","on","closeDown","unRegisterEvent","off","active","start","reqCapitalFlow","string","cutFloat","user","get","onClick","name","node","selectType_cb","mask_cb","lastPage_cb","nextPage_cb","indexOf","click_itemTime","click_typeItem","panel","showTip","pageCount","substring","Number","Alltype","initTypeUI","data","instantiate","getChildByName","getComponent","parent","key","initRecordUI","list","removeAllChildren","length","i","item","time","timeStamp","Date","rechargeTimeStamp","strTime","getFullYear","getMonth","getDate","tips","WEEKNAME","getDay","getHours","getMinutes","getSeconds","coin","settingTableLabelColor","showEffectNode","end","msg","page","pagesize","gameNet","send_msg","route","result","current_page","total_page","OnDestroy","value","value1","div","isNaN","toString","toFixed"],"mappings":"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","sourceRoot":"/","sourcesContent":["glGame.baseclass.extend({\r\n    properties: {\r\n        accountContent: cc.Node,\r\n        accountItem: cc.Node,\r\n\r\n        typeContent: cc.Node,\r\n        typeItem: cc.Node,\r\n        typeScr: cc.Node,\r\n\r\n        mask: cc.Node,\r\n        type_lab: cc.Label,\r\n        noitem: cc.Node,\r\n\r\n        lab_pageIndex: cc.Label,\r\n\r\n        safebox_lab: cc.Label,\r\n        coin_lab: cc.Label,\r\n        infonode: cc.Node,\r\n    },\r\n    onLoad() {\r\n        this.endTime = null;\r\n        this.startTime = null;\r\n        this.type = null;\r\n        this.is_first = true;\r\n        this.PageIndex = 1;\r\n        this.summary = {};\r\n        this.registerEvent();\r\n        this.initCoin();\r\n    },\r\n\r\n     // 注册界面监听事件\r\n     registerEvent() {\r\n        glGame.emitter.on(\"updateUserData\", this.initCoin, this);\r\n        glGame.emitter.on(\"userinfo_switchFace\", this.closeDown, this);\r\n    },\r\n    // 销毁界面监听事件\r\n    unRegisterEvent() {\r\n        glGame.emitter.off(\"updateUserData\", this);\r\n        glGame.emitter.off(\"userinfo_switchFace\",this);\r\n    },\r\n    closeDown(){\r\n        this.typeScr.active = false\r\n    },\r\n   \r\n    start() {\r\n        this.reqCapitalFlow(this.type, this.startTime, this.endTime, this.is_first);\r\n    },\r\n\r\n    initCoin() {\r\n        this.safebox_lab.string = this.cutFloat(glGame.user.get(\"bank_coin\"));\r\n        this.coin_lab.string = this.cutFloat(glGame.user.get(\"coin\"));\r\n    },\r\n\r\n\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"btn_selectType\": this.selectType_cb(); break;\r\n            case \"mask\": this.mask_cb(); break;\r\n            case \"btn_lastPage\": this.lastPage_cb(); break;\r\n            case \"btn_nextPage\": this.nextPage_cb(); break;\r\n            default:\r\n                if (name.indexOf(\"itemTime\") > -1) return this.click_itemTime(name);\r\n                if (name.indexOf(\"typeItem\") > -1) return this.click_typeItem(name);\r\n                break;\r\n        }\r\n    },\r\n\r\n    lastPage_cb() {\r\n        if (this.PageIndex == 1 || this.PageIndex == 0) return glGame.panel.showTip(\"已经是第一页了！\")\r\n        this.PageIndex--;\r\n        this.reqCapitalFlow();\r\n    },\r\n\r\n    nextPage_cb() {\r\n        if (this.PageIndex >= this.pageCount || this.PageIndex == 0) return glGame.panel.showTip(\"已经是最后一页了！\")\r\n        this.PageIndex++;\r\n        this.reqCapitalFlow();\r\n    },\r\n\r\n    click_typeItem(name) {\r\n        this.PageIndex = 1;\r\n        let string = name.substring(8);\r\n        this.type_lab.string = Number(string) == 0 ? \"全部\" : this.Alltype[Number(string)];\r\n        this.typeScr.active = this.mask.active = false;\r\n        this.type = Number(string) == 0 ? null : Number(string);      //全部游戏不传这个字段就OK\r\n        this.reqCapitalFlow(this.type);\r\n    },\r\n\r\n    initTypeUI(data) {\r\n        let typeItem = cc.instantiate(this.typeItem);\r\n        typeItem.name = `typeItem${0}`\r\n        typeItem.getChildByName(\"label\").getComponent(cc.Label).string = \"全部\"\r\n        typeItem.parent = this.typeContent;\r\n        typeItem.active = true;\r\n        for (let key in data) {\r\n            typeItem = cc.instantiate(this.typeItem);\r\n            typeItem.name = `typeItem${key}`\r\n            typeItem.getChildByName(\"label\").getComponent(cc.Label).string = data[key];\r\n            typeItem.parent = this.typeContent;\r\n            typeItem.active = true;\r\n        }\r\n\r\n        if(typeItem) {\r\n            typeItem.getChildByName(\"img_xialafengexian\").active = false;\r\n        }\r\n\r\n        //需求：需要直接展示所有的类型\r\n        // let length = Object.keys(data).length, height = typeItem.height;\r\n        // this.typeContent.parent.parent.height = height * (length + 1);\r\n        // this.typeContent.parent.height = height * (length + 1);\r\n    },\r\n\r\n    initRecordUI(list) {\r\n        this.accountContent.removeAllChildren();\r\n        if (list.length == 0) {\r\n            this.lab_pageIndex.string = '第0/0页';\r\n            this.noitem.active = true;\r\n            this.infonode.active = false;\r\n            return;\r\n        }\r\n\r\n        this.noitem.active = false;\r\n        this.infonode.active = true;\r\n        this.lab_pageIndex.string = `第${this.PageIndex}/${this.pageCount}页`;\r\n\r\n        for (let i = 0; i < list.length; i++) {\r\n            let item = cc.instantiate(this.accountItem);\r\n            item.parent = this.accountContent;\r\n            item.getChildByName(\"bg\").active = i % 2 == 0;\r\n\r\n            let time = item.getChildByName(\"time\");\r\n            let timeStamp = new Date(list[i].rechargeTimeStamp * 1000);\r\n            let strTime = `${timeStamp.getFullYear()}/${timeStamp.getMonth() + 1 >= 10 ? timeStamp.getMonth() + 1 : \"0\" + (timeStamp.getMonth() + 1)}/${timeStamp.getDate() >= 10 ? timeStamp.getDate() : '0' + timeStamp.getDate()}`\r\n            strTime += `（${glGame.tips.WEEKNAME[timeStamp.getDay()]}）`\r\n            strTime += `${timeStamp.getHours() >= 10 ?timeStamp.getHours(): \"0\" + timeStamp.getHours()}:`\r\n            strTime += `${timeStamp.getMinutes() >= 10 ?timeStamp.getMinutes(): \"0\" + timeStamp.getMinutes()}:`\r\n            strTime += `${timeStamp.getSeconds() >= 10 ?timeStamp.getSeconds(): \"0\" + timeStamp.getSeconds()}`\r\n            time.getComponent(cc.Label).string = strTime;\r\n            item.getChildByName(\"type\").getComponent(cc.Label).string = list[i].type;\r\n            item.getChildByName(\"coin\").getComponent(cc.Label).string = list[i].coin < 0 ? this.cutFloat(list[i].coin) : \"+\" + this.cutFloat(list[i].coin);\r\n            glGame.panel.settingTableLabelColor(item.getChildByName(\"coin\"));\r\n            item.active = false;\r\n        }\r\n\r\n        glGame.panel.showEffectNode(this,this.accountContent,0.02,true);\r\n    },\r\n    selectType_cb() {\r\n        this.typeScr.active = !this.typeScr.active;\r\n        if (this.typeScr.active) this.mask.active = true;\r\n    },\r\n    mask_cb() {\r\n        this.typeScr.active = this.mask.active = false;\r\n    },\r\n\r\n    reqCapitalFlow(type, start, end, is_first) {\r\n        let msg = {};\r\n        if (type || this.type) msg.type = type ? type : this.type;\r\n        if (start || this.startTime) msg.start = start ? start : this.startTime;\r\n        if (end || this.endTime) msg.end = end ? end : this.endTime;\r\n        if (is_first || this.is_first) msg.is_first = is_first ? is_first : this.is_first;\r\n        msg.page = this.PageIndex;\r\n        msg.pagesize = 6;\r\n        glGame.gameNet.send_msg('http.reqCapitalFlow', msg, (route, data) => {\r\n\r\n            let result = data.result;\r\n\r\n            if (result.current_page == 1) {\r\n                this.summary = result.summary;\r\n            }\r\n            this.pageCount = result.total_page;\r\n            if (is_first) {\r\n                this.is_first = null;\r\n                this.Alltype = result.summary.type;\r\n                if (this.Alltype) this.initTypeUI(this.Alltype);\r\n            }\r\n            this.initRecordUI(result.list);\r\n        })\r\n    },\r\n\r\n    OnDestroy() {\r\n        this.unRegisterEvent();\r\n    },\r\n\r\n    //浮点型运算取俩位\r\n    cutFloat(value) {\r\n        let value1 = Number(value).div(10);\r\n        value = Number(value).div(100);\r\n        if (isNaN(value)) return;\r\n        if (~~value === value) {\r\n            return value.toString();\r\n        } else if (~~value1 === value1) {\r\n            return value.toFixed(1);\r\n        } else {\r\n            return value.toFixed(2);\r\n        }\r\n    },\r\n});\r\n"]}