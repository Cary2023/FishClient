{"version":3,"sources":["assets\\modules\\public\\script\\shop\\shopFastPanel.js"],"names":["payType","glGame","baseclass","extend","properties","btn_pay","cc","Button","onLoad","emitter","on","payCreateOrder","interactable","onClick","name","node","btn_closeCb","btn_saveCb","btn_openCb","btn_paynormalCb","platform","copyToClip","ShopData","currentRotationAccount","bankName","accountName","bankBranches","console","error","initUI","data","rechargecoin","giveProportion","type","log","depositType","CurTypeNode","getChildByName","curType","active","qrcode","qrCode","qrCode111","user","get","resource_url","panel","showRemoteImage","getComponent","Label","string","bankerNode","length","overflow","Overflow","SHRINK","width","getFloat","config","rechargeMin","getSelfFunc","setString","onTextChanged","text","editbox","customEventData","reg","isChinese","test","showErrorTip","tips","SHOP","INVALIDCONTENT","onCardEditChanged","substring","cardTail","parseInt","isNaN","Math","abs","isSend","TOOBUSY","orderName","EditBox","orderNum","USERNAMENULL","CARDTAILNULL","ORDERTAILNULL","INVALIDCARDTAIL","INVALIDORDERTAIL","INVALIDUSERNAME","isCoinNum_matcher","msg","orderMoney","Number","companyAccountId","accountId","companyAccountName","companyAccountNo","companyAccountBankName","companyDepositName","trim","externalOrderSn","pageId","id","runAction","sequence","delayTime","callFunc","gameNet","send_msg","route","state","emit","destroy","value","div","toString","remove","sys","isNative","saveToLocal","jump","service_url_jump","url","openURL","OnDestroy","off"],"mappings":"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","sourceRoot":"/","sourcesContent":["const payType = {\r\n    1: \"bankcardpay\",\r\n    2: \"alipay\",\r\n    3: \"wechatpay\",\r\n}\r\nglGame.baseclass.extend({\r\n    properties: {\r\n        btn_pay: cc.Button,\r\n    },\r\n    onLoad() {\r\n        glGame.emitter.on(\"payCreateOrdererror\", this.payCreateOrder, this);\r\n    },\r\n    payCreateOrder() {\r\n        this.btn_pay.interactable = true;\r\n    },\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"btn_close\": this.btn_closeCb(); break;\r\n            case \"btn_save\": this.btn_saveCb(); break;\r\n            case \"btn_open\": this.btn_openCb(); break;\r\n            case \"btn_paynormal\": this.btn_paynormalCb(); break;\r\n            case \"banker\":\r\n            case \"copy_banker\": glGame.platform.copyToClip(this.ShopData.currentRotationAccount.bankName); break;\r\n            case \"bankerNumber\":\r\n            case \"copy_number\": glGame.platform.copyToClip(this.ShopData.currentRotationAccount.accountName); break;\r\n            case \"name\":\r\n            case \"copy_name\": glGame.platform.copyToClip(this.ShopData.currentRotationAccount.name); break;\r\n            case \"bankarea\":\r\n            case \"copy_bankarea\":\r\n                glGame.platform.copyToClip(this.ShopData.currentRotationAccount.bankBranches); break;\r\n            default: console.error(\"no find button name -> %s\", name);\r\n        }\r\n    },\r\n    initUI(data, rechargecoin, giveProportion, type) {\r\n        console.log(\"这是当前的数据\", data)\r\n        this.ShopData = data;\r\n        this.giveProportion = giveProportion;\r\n        this.rechargecoin = rechargecoin\r\n        this.depositType = type\r\n        this.CurTypeNode = this.node.getChildByName(payType[data.currentRotationAccount.type]);\r\n        this.curType = data.currentRotationAccount.type\r\n        this.CurTypeNode.active = true;\r\n        if (data.currentRotationAccount.type == 2 || data.currentRotationAccount.type == 3) {\r\n            this.qrcode = data.currentRotationAccount.qrCode\r\n            let qrCode111 = glGame.user.get('url').resource_url + data.currentRotationAccount.qrCode\r\n            glGame.panel.showRemoteImage(this.CurTypeNode.getChildByName(\"QRcode\"), qrCode111)\r\n\r\n            this.CurTypeNode.getChildByName(\"name\").getChildByName(\"acceptname\").getComponent(cc.Label).string = data.currentRotationAccount.name\r\n        }\r\n        if (data.currentRotationAccount.type == 1) {\r\n            let bankerNode = this.CurTypeNode.getChildByName(\"acceptName\");\r\n            bankerNode.getChildByName('banker').getComponent(cc.Label).string = data.currentRotationAccount.bankName;\r\n            bankerNode.getChildByName('bankerNumber').getComponent(cc.Label).string = data.currentRotationAccount.accountName;\r\n            if (data.currentRotationAccount.name.length > 10) {\r\n                bankerNode.getChildByName('name').getComponent(cc.Label).overflow = cc.Label.Overflow.SHRINK;\r\n                bankerNode.getChildByName('name').width = 250\r\n            }\r\n            console.log(\"这是当前的overflow\", bankerNode.getChildByName('name').getComponent(cc.Label))\r\n            bankerNode.getChildByName('name').getComponent(cc.Label).string = data.currentRotationAccount.name;\r\n        }\r\n        this.CurTypeNode.getChildByName(\"bg\").getChildByName(\"tip\").getChildByName(\"New Label\").getComponent(cc.Label).string = \r\n        `*温馨提示：单笔金额充值${this.getFloat(data.currentRotationAccount.config.rechargeMin)}元起`;\r\n        this.CurTypeNode.getChildByName(\"pay\").getChildByName(\"rechargecoin\").getSelfFunc().setString(`${rechargecoin}元`)\r\n    },\r\n    onTextChanged(text, editbox, customEventData) {\r\n        let reg = /[\\u4E00-\\u9FA5\\uF900-\\uFA2D]/;\r\n        let isChinese = reg.test(editbox.string);\r\n\r\n        console.log('是否为中文字符', isChinese);\r\n        if (isChinese) {\r\n            editbox.string = ''\r\n            editbox.node.getChildByName('TEXT_LABEL').getComponent(cc.Label).string = ''\r\n            glGame.panel.showErrorTip(glGame.tips.SHOP.INVALIDCONTENT);\r\n            return;\r\n        }\r\n    },\r\n\r\n    // 手机输入框改变\r\n    onCardEditChanged(text, editbox, customEventData) {\r\n        if(text.length > 5) {\r\n            text = text.substring(0, 5);\r\n        }\r\n        let cardTail = parseInt(text);\r\n        if(isNaN(cardTail)) {\r\n            cardTail = 0;\r\n        }\r\n        cardTail = Math.abs(cardTail);\r\n        editbox.string = cardTail;\r\n        editbox.node.getChildByName('TEXT_LABEL').getComponent(cc.Label).string = cardTail;\r\n    },\r\n\r\n    btn_paynormalCb() {\r\n        if(this.isSend)return glGame.panel.showErrorTip(glGame.tips.SHOP.TOOBUSY);\r\n        let orderName = this.CurTypeNode.getChildByName(\"pay\").getChildByName(\"rechargename\").getChildByName(\"EditBox\").getComponent(cc.EditBox).string\r\n        let orderNum = this.CurTypeNode.getChildByName(\"pay\").getChildByName(\"rechargeNumber\").getChildByName(\"EditBox\").getComponent(cc.EditBox).string\r\n        if (orderName == '') {\r\n            glGame.panel.showErrorTip(glGame.tips.SHOP.USERNAMENULL);\r\n            return\r\n        }\r\n        if (orderNum == \"\") {\r\n            glGame.panel.showErrorTip(this.curType == 1 ? glGame.tips.SHOP.CARDTAILNULL : glGame.tips.SHOP.ORDERTAILNULL);\r\n            return\r\n        }\r\n        if (orderNum.length != 5) {\r\n            glGame.panel.showErrorTip(this.curType == 1 ? glGame.tips.SHOP.INVALIDCARDTAIL : glGame.tips.SHOP.INVALIDORDERTAIL);\r\n            return;\r\n        }\r\n        if (orderName != '' && (this.type == 1 || this.type == 2)) {\r\n            let reg = /^[\\u4E00-\\u9FA5\\uf900-\\ufa2d·s]{2,20}$/\r\n            if (!reg.test(orderName)) {\r\n                glGame.panel.showErrorTip(glGame.tips.SHOP.INVALIDUSERNAME);\r\n                return\r\n            }\r\n        }\r\n        let reg = /^\\w{2,15}$/\r\n        let isCoinNum_matcher = reg.test(orderNum);\r\n        if (!isCoinNum_matcher) {\r\n            glGame.panel.showErrorTip(this.curType == 1 ? glGame.tips.SHOP.INVALIDCARDTAIL : glGame.tips.SHOP.INVALIDORDERTAIL);\r\n            return;\r\n        }\r\n        let msg = {};\r\n        msg.type = this.depositType;\r\n        msg.orderMoney = Number(this.rechargecoin) * 100;\r\n        msg.giveProportion = this.giveProportion;\r\n        msg.companyAccountId = this.ShopData.currentRotationAccount.accountId;\r\n        msg.companyAccountName = this.ShopData.currentRotationAccount.name;\r\n        msg.companyAccountNo = this.ShopData.currentRotationAccount.accountName;\r\n        if (this.ShopData.currentRotationAccount.bankName) {\r\n            msg.companyAccountBankName = this.ShopData.currentRotationAccount.bankName;\r\n        }\r\n        msg.companyDepositName = this.CurTypeNode.getChildByName(\"pay\").getChildByName(\"rechargename\").getChildByName(\"EditBox\").getComponent(cc.EditBox).string.trim();\r\n        msg.externalOrderSn = this.CurTypeNode.getChildByName(\"pay\").getChildByName(\"rechargeNumber\").getChildByName(\"EditBox\").getComponent(cc.EditBox).string;\r\n        msg.pageId = this.ShopData.id;\r\n        console.log(\"这是当前的提交信息\",msg)\r\n        this.isSend = true\r\n        this.node.runAction(cc.sequence(\r\n            cc.delayTime(5),\r\n            cc.callFunc(()=>{\r\n                this.isSend = false;\r\n            })\r\n        ))\r\n        glGame.gameNet.send_msg('http.ReqPayCreateOrder', msg, (route, data) => {\r\n            if (data.state) {\r\n                glGame.emitter.emit(\"showSuccessAnim\", true)\r\n            } else {\r\n                glGame.emitter.emit(\"showSuccessAnim\", false)\r\n            }\r\n            this.node.destroy();\r\n            console.log(\"这是创建订单的回包\", data);\r\n        })\r\n\r\n    },\r\n    getFloat(value) {\r\n        return (Number(value).div(100)).toString();\r\n    },\r\n\r\n    btn_closeCb() {\r\n        this.remove();\r\n    },\r\n    btn_saveCb() {\r\n        if (cc.sys.isNative) {\r\n            glGame.platform.saveToLocal(glGame.user.get(\"url\").resource_url + this.qrcode);\r\n        }\r\n    },\r\n    btn_openCb() {\r\n        let type = 1\r\n        if (this.ShopData.currentRotationAccount.type == 2) {\r\n            type = 5\r\n        } else if (this.ShopData.currentRotationAccount.type == 3) {\r\n            type = 2\r\n        }\r\n\r\n        let jump = glGame.user.get('url').service_url_jump\r\n        let url = jump + '?' + `jump_type=${type}`\r\n        cc.sys.openURL(url)\r\n    },\r\n    OnDestroy() {\r\n        glGame.emitter.off(\"payCreateOrdererror\", this);\r\n    }\r\n});"]}