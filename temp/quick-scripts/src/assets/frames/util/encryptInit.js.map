{"version":3,"sources":["assets\\frames\\util\\encryptInit.js"],"names":["JSEncrypt","require","Base64","Cryptor","ProxyData","init","proxy","prototype","_special","_img_list","g_instance","enkey","push","dekey","encrypt","decrypt","setPublicKey","decode","setPrivateKey","cryptor","getHttpList","http_list","_http_list","length","http","i","head","jsdecrypt","key","concat","body","String","hash","parseInt","Math","random","slice","jsencrypt","console","log","path","encode","JSON","stringify","route","getEncodeUrl","error","curkey","getDecodeUrl","getEncodeData","transmitKey","getDecodeData","encodeKey","data","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var JSEncrypt = require(\"jsencrypt\");\r\nvar Base64 = Base64 || require('base64').Base64;\r\nvar Cryptor = require('cryptor');\r\n\r\nlet ProxyData = function () {\r\n    this.init();\r\n},\r\n    proxy = ProxyData.prototype,\r\n    _special = \"\",\r\n    _img_list = {},\r\n    g_instance = null;\r\n\r\n\r\nproxy.init = function () {\r\n    let enkey = [];\r\n    enkey.push(\"LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUlHZU1BMEdDU3FHU0liM0RRRUJBUVVBQTRHTUFEQ0JpQUtCZ0hKQzBObGR0bGE1THZjWGpr\");\r\n    enkey.push(\"aW9vRFRWRklFRwpmTGtDL2d6d3UxNjNFWmtFd3NRMHkrcFFCT3FaL0xUNEdGVnZQb2xtbVhuSTMzd1FzQXNnTUpsZjEwMndjN1FaCmV0ckJJ\");\r\n    enkey.push(\"NHNpWFZVZnVvdEhjR0Q2NitUUExxNWpRQ0h0eDZQN3RTK2FjM0NlQTVvdzFoOWNsQmJ3REF3MWhaT0YKdmk2a2dmRDMvMzl0TEFhSEFnTUJB\");\r\n    enkey.push(\"QUU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQ\")\r\n    let dekey = [];\r\n    dekey.push(\"LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlDWFFJQkFBS0JnUURPeS9lVE9teXlMWXJKWWRROTVHcS9ySmZ6cExGTjcvU1RVSER2a01oZC9\");\r\n    dekey.push(\"VQ3o0eUhrCkVsRVF3Z1paemtkTkdFbW9FcG9QOFQzVEhqV1JKRzZxWFJKc21ab2xyU3RITkVxRE5FVGo0M3dQWHFvek5MTXgKL2JwZ2NrTTRZbGdzWEpSdj\");\r\n    dekey.push(\"hDSGJFSFF1SjdBejNOb1BpM1dCbEt4UXJRZ0pjSG51M2tPcWJ3TXovd0lEQVFBQgpBb0dCQUs0MUkxM3k1T2lBOXg3SS9Bd2JwVlhOSnNESVo5a1pJTGNOR\");\r\n    dekey.push(\"ithbzJESmRpeWsvV1NpUnlack5hSjQwCjZObm9jUHhXbDFTQXpLMVNFSnd4emN4VTFaUUZXOHFTQVVlRWlOWldSdzJScjd4bDgwV3hqcXBYclZjek1oRzkK\");\r\n    dekey.push(\"b1NwaWNUaXRKUmNXcDVSanUzdjROVlRHWjIxMWdPcXAxRjFHMGVJbmN3ZnhwVmN4QWtFQTYwek81TjVoUk51UApxRUI4aW1QUXVUdnB1d3FLODM4VUZ1QjV\");\r\n    dekey.push(\"XMENadjB5VlBLdGdnb3lyT1RGS2ticU4xdzNjelJyVTVvZkticXE1Ckc5bW4rUDdUU1FKQkFPRDlQSWR5OUtUOFpZOGkwOGlpY0VnRVQ4NHdNeFpod0x0bX\");\r\n    dekey.push(\"VzZ2I4ZjBNaGpnY3hyMTgKUVNqM3pCMWRUL09rYmdTT1YvRkNCd0dOdTJyUkxMdVRCUWNDUUdBdWZGL1hld0V2a3JCZTg4bUo5WmJTSTc5KwpGc0JqMEsxd\");\r\n    dekey.push(\"FFvNEhnUkZPVjY1K0N5d3lIZ2Q1MjVab0lIU295UG5hSHU3QTBRR2RyWjd4d0pTcWJXa0NRSEYxCklzWUhZWG1sMGkwNVdlVnVqUUswTWU1L2ZmUEdmZVBE\");\r\n    dekey.push(\"TFdQbU84VHBRUEloQ05QYlNoeTN3Vlg1alcwSE9YZlEKdEdaMGJvWUpERDhVbHVOTWc1Y0NRUURPMFdVekJhTitmNkxTbEdIcTB1Z3k4YWhaQjI5Q1Qwai8\");\r\n    dekey.push(\"2Tk9OaW1oMgprNW5UeElKVWQvR2R6OFBRU21BOGs5aGhUNjRBeGNCTWpXRGt0N2JENGtxbwotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQ==\");\r\n    this.encrypt = new JSEncrypt.JSEncrypt();\r\n    this.decrypt = new JSEncrypt.JSEncrypt();\r\n    this.encrypt.setPublicKey(Base64.decode(enkey[0] + enkey[1] + enkey[2] + enkey[3]));\r\n    this.decrypt.setPrivateKey(Base64.decode(dekey[0] + dekey[1] + dekey[2] + dekey[3] + dekey[4] + dekey[5] + dekey[6] + dekey[7] + dekey[8] + dekey[9]));\r\n    this.cryptor = null;\r\n}\r\n\r\n\r\n/**\r\n * 返回http列表给与服务端\r\n */\r\nproxy.getHttpList = function () {\r\n    let http_list = \"\";\r\n    if (this._http_list.length) {\r\n        let http = [];\r\n        for (let i = 0; i < this._http_list.length; i++) {\r\n            let head = this._http_list[i].head;\r\n            let cryptor = new Cryptor(this.jsdecrypt(head.key));\r\n            http = http.concat(cryptor.decode(Base64.decode(this._http_list[i].body)))\r\n        }\r\n        let key = String(Cryptor.hash(\"\" + parseInt(Math.random() * 100), 'md5')).slice(0, 6)\r\n        let enkey = this.jsencrypt(key);\r\n        console.log(http);\r\n        let cryptor = new Cryptor(key)\r\n        let path = Base64.encode(cryptor.encode(JSON.stringify(http)))\r\n        http_list = JSON.stringify({ head: { route: \"http.getDomain\", key: enkey }, body: path });\r\n    }\r\n    return http_list;\r\n}\r\n\r\nproxy.getEncodeUrl = function (body) {\r\n    if (!body || body == \"\") return console.error(\"body异常\");\r\n    let curkey = String(Cryptor.hash(\"\" + parseInt(Math.random() * 100), 'md5')).slice(0, 6);\r\n    let enkey = this.jsencrypt(curkey);\r\n    let cryptor = new Cryptor(curkey);\r\n    body = Base64.encode(cryptor.encode(JSON.stringify(body)));\r\n    return {\"data\":body,\"dataKey\":enkey};\r\n}\r\n\r\nproxy.getDecodeUrl = function (body, key) {\r\n    if (!body || !key || body == \"\" || key == \"\") return console.error(\"body 或 key 异常\");\r\n    console.log(\"reqUrl decode\", typeof this.jsdecrypt(key), this.jsdecrypt(key))\r\n    let cryptor = new Cryptor(this.jsdecrypt(key));\r\n    body = cryptor.decode(Base64.decode(body))\r\n    return body;\r\n}\r\n\r\nproxy.getEncodeData = function (body) {\r\n    if (!body || body == \"\") return console.error(\"body异常\");\r\n    let transmitKey = String(Cryptor.hash(\"\" + parseInt(Math.random() * 100), 'md5')).slice(2,8);\r\n    let enkey = String(Cryptor.hash(transmitKey, \"md5\")).slice(-6);\r\n    let cryptor = new Cryptor(enkey);\r\n    body = Base64.encode(cryptor.encode(JSON.stringify(body)));\r\n    return {\"data\":body,\"dataKey\":transmitKey};\r\n}\r\n\r\nproxy.getDecodeData = function (body, key) {\r\n    if (!body || !key || body == \"\" || key == \"\") return console.error(\"body 或 key 异常\");\r\n    let encodeKey = String(Cryptor.hash(key, \"md5\")).slice(-6);\r\n    let cryptor = new Cryptor(encodeKey);\r\n    body = cryptor.decode(Base64.decode(body));\r\n    return body;\r\n}\r\n\r\n\r\n/**\r\n * rsa 加密\r\n * @param {any} data\r\n */\r\nproxy.jsencrypt = function (data) {\r\n    return this.encrypt.encrypt(data);\r\n}\r\n\r\n/**\r\n * rsa 解密\r\n * @param {Sting} data\r\n */\r\nproxy.jsdecrypt = function (data) {\r\n    return this.decrypt.decrypt(data);\r\n}\r\n\r\nmodule.exports = function () {\r\n    if (!g_instance) g_instance = new ProxyData();\r\n    return g_instance;\r\n};"]}