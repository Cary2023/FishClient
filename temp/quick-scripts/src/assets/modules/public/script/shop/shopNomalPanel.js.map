{"version":3,"sources":["assets\\modules\\public\\script\\shop\\shopNomalPanel.js"],"names":["SHOPTYPE","BANK","ALIPAY","WECHAT","glGame","baseclass","extend","properties","RowItem","cc","Node","Rowcontent","RechargeItem","Rechargecontent","RowselectScroll","ScrollView","Lab_coin","edit_coin","EditBox","inputshield","shopFastPanel","Prefab","type_pic","SpriteFrame","spritePic","Sprite","des_recharge","RichText","bankInfo","lab_describe","Label","towLine","edit_mask","onLoad","persent","isFree","nowTime","Date","now","cacheData","ReqPayType","pageId","typeId","pageID","gameNet","send_msg","route","msg","Curpageinfo","result","setType","setContent","initUI","data","giveProportion","payPageList","id","min","currentRotationAccount","config","rechargeMin","max","rechargeMax","i","length","instantiate","parent","active","getChildByName","getComponent","string","name","height","pay","BANKCARDPAY","CLOUDPAY","spriteFrame","WECHATPAY","JINGDONGPAY","QQPAY","FASTPAY","type","destroyAllChildren","removeAllChildren","setDescribe","describe","user","GoldTemp","Number","getSelfFunc","setPlaceholder","onEndedCall","setLabCoin","bind","quickMode","getFloat","y","tempNum","Math","floor","div","node","runAction","sequence","delayTime","callFunc","overflow","verticalAlign","setBankInfo","accountName","bankName","onClick","childrenCount","children","RechargeItemCB","pageinfo_CB","next_CB","left_CB","btn_submissionCB","emitter","emit","platform","copyToClip","tips","SHOP","COPYBANKCARD","COPYUSERNAME","COPYBANKNAME","console","error","page","setString","pos","getContentPosition","startPos","x","offset","v2","count","index","scrollToRight","setContentPosition","scrollToLeft","panel","showErrorTip","COINNULL2","COINNULL","regA","regB","isCoinNum_matcherA","test","isCoinNum_matcherB","SELECTCOIN","parseFloat","str","LIMIT","format","MINLIMIT","currentType","rechargeKey","get","recharge_key","accountId","myID","chooseMoney","payJump","pay_jump","trilateralIden","trilateralIdent","sign","md5","url","sys","openURL","showChildPanel","script","compareMoney","getData","setScale","rechargeReward","toString","total","add","value","strReward","stringVipFix","strTotal","substr","numTo","OnDestroy","off"],"mappings":"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","sourceRoot":"/","sourcesContent":["const SHOPTYPE = { BANK: 1, ALIPAY: 2, WECHAT: 3 }//公司入款的支付类型\r\nglGame.baseclass.extend({\r\n\tproperties: {\r\n\t\tRowItem: cc.Node,\r\n\t\tRowcontent: cc.Node,\r\n\t\tRechargeItem: cc.Node,\r\n\t\tRechargecontent: cc.Node,\r\n\t\tRowselectScroll: cc.ScrollView,\r\n\t\tLab_coin: cc.Node,\r\n\t\tedit_coin: cc.EditBox,\r\n\t\tinputshield: cc.Node,//限制是否可以输入充值金额\r\n\t\tshopFastPanel: cc.Prefab,\r\n\t\ttype_pic: [cc.SpriteFrame],\r\n\t\tspritePic: cc.Sprite,\r\n\t\tdes_recharge: cc.RichText,\r\n\t\tbankInfo: cc.Node,\r\n\t\tlab_describe: cc.Label,\r\n\t\ttowLine: cc.Node,\r\n\t\tedit_mask: cc.Node,\r\n\t},\r\n\tonLoad() {\r\n\t\tthis.persent = 0;\r\n\t\tthis.isFree = 0;//是否允许任意金额 0 不允许 1允许\r\n\t\tthis.nowTime = Date.now()\r\n\t\tthis.cacheData = {};\r\n\t\t// this.touchEvent()\r\n\t},\r\n\tReqPayType(pageId) {\r\n\t\tlet typeId = this.typeId;\r\n\t\tthis.pageID = pageId\r\n\t\tglGame.gameNet.send_msg('http.ReqPayPage', { pageId: pageId, typeId: typeId }, (route, msg) => {\r\n\t\t\tthis.Curpageinfo = msg.result\r\n\t\t\tthis.setType(this.typeId)\r\n\t\t\tthis.setContent(msg.result);\r\n\t\t})\r\n\t},\r\n\tinitUI(data) {\r\n\t\tthis.nowTime = Date.now()\r\n\t\tthis.giveProportion = data.giveProportion;\r\n\t\tthis.payPageList = data.payPageList;\r\n\t\tthis.typeId = data.id;\r\n\t\tlet min = this.payPageList[0].currentRotationAccount.config.rechargeMin;\r\n\t\tlet max = this.payPageList[0].currentRotationAccount.config.rechargeMax;\r\n\t\tif (min < 0) min = 0;\r\n\t\tfor (let i = 0; i < data.payPageList.length; i++) {\r\n\t\t\tlet RowItem = cc.instantiate(this.RowItem);\r\n\t\t\tRowItem.parent = this.Rowcontent;\r\n\t\t\tRowItem.active = true;\r\n\t\t\tRowItem.getChildByName(\"Background\").getChildByName(\"Label\").getComponent(cc.RichText).string = data.payPageList[i].name;\r\n\t\t\tRowItem.height = RowItem.getChildByName(\"Background\").getChildByName(\"Label\").height + 26;//外框要比里面的字体高26；\r\n\t\t\tRowItem.getChildByName(\"checkmark\").getChildByName(\"Label\").getComponent(cc.RichText).string = data.payPageList[i].name;\r\n\t\t\tRowItem.getChildByName(\"Background\").name = `${i}`\r\n\t\t}\r\n\t\t// this.btn_nextlistchecked.active = this.Rowcontent.childrenCount > 3;   \r\n\t\t// this.btn_leftchecked.active = this.Rowcontent.childrenCount > 3;   \r\n\t\tthis.Curpageinfo = this.payPageList[0]\r\n\t\tthis.setType(this.typeId)\r\n\t\tthis.setContent(this.Curpageinfo)\r\n\t},\r\n\tsetType(id) {\r\n\t\tif (id == glGame.pay.BANKCARDPAY || id == glGame.pay.CLOUDPAY) {\r\n\t\t\tthis.spritePic.spriteFrame = this.type_pic[0]\r\n\t\t} else if (id == glGame.pay.ALIPAY) {\r\n\t\t\tthis.spritePic.spriteFrame = this.type_pic[1]\r\n\t\t} else if (id == glGame.pay.WECHATPAY) {\r\n\t\t\tthis.spritePic.spriteFrame = this.type_pic[2]\r\n\t\t} else if (id == glGame.pay.JINGDONGPAY) {\r\n\t\t\tthis.spritePic.spriteFrame = this.type_pic[3]\r\n\t\t} else if (id == glGame.pay.QQPAY) {\r\n\t\t\tthis.spritePic.spriteFrame = this.type_pic[4]\r\n\t\t} else if (id == glGame.pay.FASTPAY) {\r\n\t\t\tthis.spritePic.spriteFrame = this.type_pic[this.Curpageinfo.currentRotationAccount.type - 1]\r\n\t\t}\r\n\t},\r\n\tsetContent(data) {\r\n\t\tthis.Rechargecontent.destroyAllChildren();\r\n\r\n\t\tthis.Rechargecontent.removeAllChildren();\r\n\t\tif (!data) return;\r\n\t\t//if (data.currentRotationAccount.type == SHOPTYPE.BANK)this.setBankInfo(data.currentRotationAccount); \r\n\t\t//else this.setDescribe(data.describe);\r\n\t\tthis.setDescribe(data.describe);\r\n\t\tlet min = glGame.user.GoldTemp(data.currentRotationAccount.config.rechargeMin);\r\n\t\tlet max = glGame.user.GoldTemp(data.currentRotationAccount.config.rechargeMax);\r\n\t\tif (min < 0) min = 0;\r\n\t\t// this.Lab_coin.getSelfFunc().setPlaceholder(data.currentRotationAccount.config.rechargeMax == -1 ? `请输入金额(${min}~无上限)` : `请输入金额(${min}~${max})`)\r\n\t\tif (data.currentRotationAccount.config.rechargeMax == -1 && Number(min) == 0) {\r\n\t\t\tthis.Lab_coin.getSelfFunc().setPlaceholder(\"\");\r\n\t\t} else if (data.currentRotationAccount.config.rechargeMax == -1) {\r\n\t\t\tthis.Lab_coin.getSelfFunc().setPlaceholder(`请输入金额(${min}~无上限)`);\r\n\t\t} else {\r\n\t\t\tthis.Lab_coin.getSelfFunc().setPlaceholder(`请输入金额(${min}~${max})`);\r\n\t\t}\r\n\t\tthis.Lab_coin.getSelfFunc().onEndedCall(this.setLabCoin.bind(this));\r\n\t\tthis.inputshield.active = true;\r\n\t\tif (data.currentRotationAccount.config) {\r\n\t\t\tlet quickMode = data.currentRotationAccount.config.quickMode;\r\n\t\t\tthis.isFree = data.currentRotationAccount.config.isFree;\r\n\t\t\tthis.inputshield.active = data.currentRotationAccount.config.isFree == 0\r\n\t\t\tif (data.currentRotationAccount.config.isFree == 1) {//是否允许任意金额 0 不允许 1允许\r\n\t\t\t\tthis.edit_mask.active = false;\r\n\t\t\t}else{\r\n\t\t\t\tthis.edit_mask.active = true;\r\n\t\t\t\tthis.Lab_coin.getSelfFunc().setPlaceholder(`请选择充值金额`);\r\n\t\t\t}\r\n\t\t\tthis.towLine.active = quickMode.length > 0;\r\n\t\t\tfor (let i = 0; i < quickMode.length; i++) {\r\n\t\t\t\tlet RechargeItem = cc.instantiate(this.RechargeItem);\r\n\t\t\t\tRechargeItem.parent = this.Rechargecontent;\r\n\t\t\t\tRechargeItem.active = true;\r\n\t\t\t\tRechargeItem.name = `${i}`;\r\n\t\t\t\tRechargeItem.getChildByName(\"red_bg\").active = this.giveProportion != 0\r\n\t\t\t\tRechargeItem.getChildByName(\"number\").getComponent(cc.Label).string = this.getFloat(quickMode[i]);\r\n\t\t\t\tif (this.giveProportion != 0) {\r\n\t\t\t\t\tRechargeItem.getChildByName(\"number\").y += 10;\r\n\t\t\t\t\tRechargeItem.getChildByName(\"discount\").active = true;\r\n\t\t\t\t\tlet tempNum = quickMode[i] * this.giveProportion;\r\n\t\t\t\t\tRechargeItem.getChildByName(\"discount\").getComponent(cc.Label).string = `赠送${Math.floor(Number(tempNum.div(100 * 10000)) * 100) / 100}金币`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t},\r\n\tsetDescribe(data) {\r\n\t\tthis.lab_describe.node.active = true;\r\n\t\tthis.bankInfo.active = false;\r\n\t\tthis.lab_describe.string = data;\r\n\t\tthis.node.runAction(cc.sequence(\r\n\t\t\tcc.delayTime(0.01),\r\n\t\t\tcc.callFunc(() => {\r\n\t\t\t\t//this.lab_describe.node.position = cc.v2(-209,326)\r\n\t\t\t\tif (this.lab_describe.node.height > 149.96) {\r\n\t\t\t\t\tthis.lab_describe.overflow = 1;\r\n\t\t\t\t\t//this.lab_describe.node.height = 120\r\n\t\t\t\t\tthis.lab_describe.verticalAlign = 0\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t))\r\n\t},\r\n\t//设置描述或者银行卡信息\r\n\tsetBankInfo(data) {\r\n\t\tthis.bankInfo.active = true;\r\n\t\tthis.lab_describe.node.active = false;\r\n\t\tthis.bankInfo.getChildByName(\"lab_bankNum\").getComponent(cc.Label).string = data.accountName;\r\n\t\tthis.bankInfo.getChildByName(\"lab_userName\").getComponent(cc.Label).string = data.name;\r\n\t\tthis.bankInfo.getChildByName(\"lab_bankName\").getComponent(cc.Label).string = data.bankName;\r\n\r\n\t},\r\n\tonClick(name, node) {\r\n\t\tfor (let i = 0; i < this.Rechargecontent.childrenCount; i++) {\r\n\t\t\tif (name == this.Rechargecontent.children[i].name) {\r\n\t\t\t\treturn this.RechargeItemCB(name);\r\n\t\t\t}\r\n\t\t}\r\n\t\tswitch (name) {\r\n\t\t\tcase \"RowItem\": this.pageinfo_CB(node); break;\r\n\t\t\tcase \"btn_nextlistchecked\": this.next_CB(); break;\r\n\t\t\tcase \"btn_leftchecked\": this.left_CB(); break;\r\n\t\t\tcase \"btn_submission\": this.btn_submissionCB(); break;\r\n\t\t\tcase \"btn_record\": glGame.emitter.emit(\"showrechargeRecord\"); break;\r\n\t\t\tcase \"btn_copyBankNum\":glGame.platform.copyToClip(this.bankInfo.getChildByName(\"lab_bankNum\").getComponent(cc.Label).string, glGame.tips.SHOP.COPYBANKCARD);break;\r\n\t\t\tcase \"btn_copyUserName\":glGame.platform.copyToClip(this.bankInfo.getChildByName(\"lab_userName\").getComponent(cc.Label).string, glGame.tips.SHOP.COPYUSERNAME);break;\r\n\t\t\tcase \"btn_copyBankName\":glGame.platform.copyToClip(this.bankInfo.getChildByName(\"lab_bankName\").getComponent(cc.Label).string, glGame.tips.SHOP.COPYBANKNAME);break;\r\n\t\t\tdefault: console.error(\"no find button name -> %s\", name);\r\n\t\t}\r\n\t},\r\n\tpageinfo_CB(node) {\r\n\t\tthis.page = node.children[0].name\r\n\t\tthis.ReqPayType(this.payPageList[this.page].id)\r\n\t\tthis.nowTime = Date.now();\r\n\t\tthis.Lab_coin.getSelfFunc().setString(\"\")\r\n\t\tthis.des_recharge.string = \"\";\r\n\t},\r\n\tnext_CB() {\r\n\t\tlet pos = this.RowselectScroll.getContentPosition();\r\n\t\tthis.startPos = pos.x;\r\n\t\tlet offset = cc.v2((this.startPos - 3 * 250), pos.y);\r\n\t\tlet count = this.Rowcontent.childrenCount;\r\n\t\tlet index = count - 3\r\n\t\tif ((index * 250 + offset.x) <= -370) {\r\n\t\t\tthis.RowselectScroll.scrollToRight(0.01)\r\n\t\t} else {\r\n\t\t\tthis.RowselectScroll.setContentPosition(offset);\r\n\t\t}\r\n\t},\r\n\tleft_CB() {\r\n\t\tlet pos = this.RowselectScroll.getContentPosition();\r\n\t\tthis.startPos = pos.x;\r\n\t\tlet offset = cc.v2((this.startPos + 3 * 250), pos.y);\r\n\t\tlet count = this.Rowcontent.childrenCount;\r\n\t\tif ((offset.x + 250) >= -370) {\r\n\t\t\tthis.RowselectScroll.scrollToLeft(0.01)\r\n\t\t} else {\r\n\t\t\tthis.RowselectScroll.setContentPosition(offset);\r\n\t\t}\r\n\t},\r\n\tbtn_submissionCB() {\r\n\t\tif (this.edit_coin.string == \"\" || this.edit_coin.string == 0) {\r\n\t\t\tif(this.isFree == 0){\r\n\t\t\t\tglGame.panel.showErrorTip(glGame.tips.SHOP.COINNULL2);\r\n\t\t\t}else{\r\n\t\t\t\tglGame.panel.showErrorTip(glGame.tips.SHOP.COINNULL);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet regA = /^[0-9]+\\.[0-9]{0,2}$/;//验证规则\r\n\t\tlet regB = /^[1-9][0-9]{0,9}$/gim;\r\n\t\tlet isCoinNum_matcherA = regA.test(Number(this.edit_coin.string));\r\n\t\tlet isCoinNum_matcherB = regB.test(Number(this.edit_coin.string));\r\n\t\tif (isCoinNum_matcherA || isCoinNum_matcherB) {\r\n\t\t} else {\r\n\t\t\tglGame.panel.showErrorTip(glGame.tips.SHOP.SELECTCOIN);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.Curpageinfo.currentRotationAccount.config.rechargeMax != -1) {\r\n\t\t\tif (parseFloat(this.edit_coin.string) * 100 > this.Curpageinfo.currentRotationAccount.config.rechargeMax\r\n\t\t\t\t|| parseFloat(this.edit_coin.string) * 100 < this.Curpageinfo.currentRotationAccount.config.rechargeMin) {\r\n\t\t\t\tlet min = this.Curpageinfo.currentRotationAccount.config.rechargeMin;\r\n\t\t\t\tlet max = this.Curpageinfo.currentRotationAccount.config.rechargeMax\r\n\t\t\t\tlet str = glGame.tips.SHOP.LIMIT.format(`${glGame.user.GoldTemp(min)}`, `${glGame.user.GoldTemp(max)}`)\r\n\t\t\t\tglGame.panel.showErrorTip(str)\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (parseFloat(this.edit_coin.string) * 100 < this.Curpageinfo.currentRotationAccount.config.rechargeMin) {\r\n\t\t\t\tlet min = this.Curpageinfo.currentRotationAccount.config.rechargeMin;\r\n\t\t\t\t//let max = this.Curpageinfo.currentRotationAccount.config.rechargeMax\r\n\t\t\t\tlet str = glGame.tips.SHOP.MINLIMIT.format(`${glGame.user.GoldTemp(min)}`);\r\n\t\t\t\tglGame.panel.showErrorTip(str)\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.Curpageinfo.currentType) {\r\n\t\t\tlet rechargeKey = glGame.user.get('url').recharge_key;\r\n\t\t\tlet accountId = this.Curpageinfo.currentRotationAccount.accountId\r\n\t\t\tlet myID = glGame.user.get('logicID');\r\n\t\t\tlet chooseMoney = parseFloat(this.edit_coin.string) * 100;\r\n\t\t\tlet payJump = glGame.user.get('url').pay_jump;\r\n\t\t\tlet trilateralIden = this.Curpageinfo.currentRotationAccount.trilateralIdent, id = this.Curpageinfo.id, nowTime = this.nowTime\r\n\t\t\tlet str = `userId=${myID}&money=${chooseMoney}&trilateralIdent=${trilateralIden}&id=${id}&currentType=${this.Curpageinfo.currentType}&time=${nowTime}&accountId=${accountId}&typeId=${this.typeId}&pageId=${this.Curpageinfo.id}`;\r\n\t\t\tlet sign = md5(str + rechargeKey)\r\n\t\t\tstr = str + `&sign=${sign}`;\r\n\t\t\tlet url = payJump + '?' + str;\r\n\t\t\tcc.sys.openURL(url)\r\n\t\t} else {\r\n\t\t\tlet shopFastPanel = glGame.panel.showChildPanel(this.shopFastPanel, this.node.parent.parent);\r\n\t\t\tlet script = shopFastPanel.getComponent(\"shopFastPanel\");\r\n\t\t\tscript.initUI(this.Curpageinfo, parseFloat(this.edit_coin.string), this.giveProportion, this.typeId);\r\n\t\t}\r\n\t},\r\n\tcompareMoney() {\r\n\t\tlet chooseMoney = parseFloat(this.edit_coin.string)\r\n\t\tfor (let i = 0; i < this.Rechargecontent.childrenCount; i++) {\r\n\t\t\tlet name = Number(this.Rechargecontent.children[i].name)\r\n\t\t\tif (chooseMoney == this.getData(name)) {\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\tRechargeItemCB(name) {\r\n\t\tfor (let i = 0; i < this.Rechargecontent.childrenCount; i++) {\r\n\t\t\tif (name == this.Rechargecontent.children[i].name) {\r\n\t\t\t\tthis.Rechargecontent.children[i].setScale(1.2)\r\n\t\t\t\tthis.Lab_coin.getSelfFunc().setString(this.getData(name));\r\n\t\t\t\tif (this.giveProportion != 0) {\r\n\t\t\t\t\tthis.des_recharge.node.active = true;\r\n\t\t\t\t\tlet rechargeReward = Number(Number(this.edit_coin.string) * Number(this.giveProportion)).div(10000).toString(),\r\n\t\t\t\t\t\ttotal = Number(Number(this.edit_coin.string) * Number(this.giveProportion)).div(10000).add(Number(this.edit_coin.string)).toString();\r\n\t\t\t\t\tthis.des_recharge.string = `本次充值额外赠送<color=#f4c404>${rechargeReward}金币</c>，总共可获得<color=#f4c404>${total}金币。</c>`\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.des_recharge.node.active = false;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.Rechargecontent.children[i].setScale(1)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t},\r\n\tgetData(index) {\r\n\t\tlet quickMode = this.Curpageinfo.currentRotationAccount.config.quickMode;\r\n\t\treturn this.getFloat(quickMode[index]);\r\n\t},\r\n\tgetFloat(value) {\r\n\t\treturn (Number(value).div(100)).toString();\r\n\t},\r\n\r\n\tsetLabCoin() {\r\n\t\tif (Number(this.edit_coin.string) > 0) {\r\n\t\t\tthis.des_recharge.node.active = this.giveProportion != 0;\r\n\t\t\tlet rechargeReward = Number(Number(this.edit_coin.string) * Number(this.giveProportion)).div(10000).toString(),\r\n\t\t\t\ttotal = Number(Number(this.edit_coin.string) * Number(this.giveProportion)).div(10000).add(Number(this.edit_coin.string)).toString();\r\n\t\t\tlet strReward = glGame.user.stringVipFix(rechargeReward, 2),\r\n\t\t\t\tstrTotal = glGame.user.stringVipFix(total, 2);\r\n\t\t\tthis.des_recharge.string = `<color=#abcaff>本次充值额外赠送</c><color=#f68e1e>${strReward ? strReward : 0}金币</c>，<color=#abcaff>总共可获得</c><color=#f68e1e>${strTotal ? strTotal : 0}金币。</c>`\r\n\r\n\t\t\tif (this.edit_coin.string.substr(0, 1) === '0')\r\n\t\t\t\tthis.Lab_coin.getSelfFunc().setString(Number(this.edit_coin.string).toString());\r\n\t\t} else {\r\n\t\t\t//this.Lab_coin.getSelfFunc().setString(\"0\");\r\n\t\t\tthis.des_recharge.node.active = false;\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < this.Rechargecontent.childrenCount; i++) {\r\n\t\t\tlet numTo = this.Rechargecontent.children[i].getChildByName(\"number\").getComponent(cc.Label).string;\r\n\t\t\tif (this.edit_coin.string === numTo) {\r\n\t\t\t\tthis.Rechargecontent.children[i].setScale(1.2);\r\n\t\t\t} else {\r\n\t\t\t\tthis.Rechargecontent.children[i].setScale(1);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t// //筹码滑动条触摸事件监听\r\n\t// touchEvent() {\r\n\t//   this._startPos = null;\r\n\t//   this._movePos = null;\r\n\t//   this.Rowcontent.on('touchstart', (event) => {\r\n\t//     console.log('eeeeee',event)\r\n\t//       this._startPos = event.getLocation();\r\n\t//   });\r\n\t//   this.Rowcontent.on('touchmove', (event) => {\r\n\t//       this._movePos = event.getLocation();\r\n\t//       let _offX = this._movePos.x - this._startPos.x;\r\n\t//       this.Rowcontent.x -= _offX;\r\n\t//       this._startPos = this._movePos;\r\n\t//       //位置限制\r\n\t//       let _width = (this.Rowcontent.children.length - 1) * 5 - 245;\r\n\t//       // if (this.Rowcontent.x < -_width) {\r\n\t//       //     this.Rowcontent.x = -_width;\r\n\t//       // } else if (this.Rowcontent.x > _width) {\r\n\t//       //     this.Rowcontent.x = _width;\r\n\t//       // }\r\n\t//   }); \r\n\t// },\r\n\tOnDestroy() {\r\n\t\tthis.Rowcontent.off('touchstar')\r\n\t}\r\n});\r\n"]}