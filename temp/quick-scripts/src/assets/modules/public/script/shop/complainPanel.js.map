{"version":3,"sources":["assets\\modules\\public\\script\\shop\\complainPanel.js"],"names":["glGame","baseclass","extend","properties","labReward","cc","Label","onLoad","node","active","reqComplaintConfig","gameNet","send_msg","route","data","Type","type","string","cutFloat","reward","openUrl","url","console","log","onClick","name","remove","copy_open","num","getFloat","Number","div","toString","value","isNaN","toFixed","platform","openURL","OnDestroy","start"],"mappings":";;;;;;AACAA,MAAM,CAACC,SAAP,CAAiBC,MAAjB,CAAwB;AAEpBC,EAAAA,UAAU,EAAE;AACRC,IAAAA,SAAS,EAAEC,EAAE,CAACC,KADN,CAER;;AAFQ,GAFQ;AAOpB;AAEAC,EAAAA,MAToB,oBASX;AACL,SAAKC,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACA,SAAKC,kBAAL;AACH,GAZmB;AAcpBA,EAAAA,kBAdoB,gCAcC;AAAA;;AACjBV,IAAAA,MAAM,CAACW,OAAP,CAAeC,QAAf,CAAwB,0BAAxB,EAAoD,IAApD,EAA0D,UAACC,KAAD,EAAQC,IAAR,EAAiB;AACvE,MAAA,KAAI,CAACC,IAAL,GAAYD,IAAI,CAACE,IAAjB,CADuE,CAEvE;;AACA,MAAA,KAAI,CAACZ,SAAL,CAAea,MAAf,GAAwB,KAAI,CAACC,QAAL,CAAcJ,IAAI,CAACK,MAAnB,IAA2B,GAAnD;AACA,MAAA,KAAI,CAACC,OAAL,GAAeN,IAAI,CAACO,GAApB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoB,KAAI,CAACH,OAAzB;AACA,MAAA,KAAI,CAACZ,IAAL,CAAUC,MAAV,GAAmB,IAAnB;AACH,KAPD;AAQH,GAvBmB;AAyBpBe,EAAAA,OAzBoB,mBAyBZC,IAzBY,EAyBNjB,IAzBM,EAyBA;AAChB,YAAQiB,IAAR;AACI,WAAK,OAAL;AACIH,QAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACA,aAAKG,MAAL;AACA;;AACJ,WAAK,WAAL;AACI,aAAKC,SAAL;AACA;AAPR;AASH,GAnCmB;AAqCpBT,EAAAA,QArCoB,oBAqCXU,GArCW,EAqCN;AACV,WAAQ,KAAKC,QAAL,CAAcC,MAAM,CAACF,GAAD,CAAN,CAAYG,GAAZ,CAAgB,GAAhB,CAAd,CAAD,CAAsCC,QAAtC,EAAP;AACH,GAvCmB;AAyCpBH,EAAAA,QAzCoB,oBAyCXI,KAzCW,EAyCK;AAAA,QAATL,GAAS,uEAAH,CAAG;AACrBK,IAAAA,KAAK,GAAGH,MAAM,CAACG,KAAD,CAAd;AACA,QAAIC,KAAK,CAACD,KAAD,CAAT,EAAkB;;AAClB,QAAI,CAAC,CAACA,KAAF,KAAYA,KAAhB,EAAuB;AACnB,aAAOA,KAAK,CAACD,QAAN,EAAP;AACH,KAFD,MAEO;AACH,aAAOC,KAAK,CAACE,OAAN,CAAcP,GAAd,CAAP;AACH;AACJ,GAjDmB;AAmDpBD,EAAAA,SAnDoB,uBAmDR;AACRL,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyB,KAAKH,OAA9B;;AACA,QAAI,KAAKL,IAAL,IAAa,IAAjB,EAAuB;AACnBO,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyB,KAAKH,OAA9B,EADmB,CAEnB;;AACApB,MAAAA,MAAM,CAACoC,QAAP,CAAgBC,OAAhB,CAAwB,KAAKjB,OAA7B;AACH,KAJD,MAIO;AACHpB,MAAAA,MAAM,CAACoC,QAAP,CAAgBC,OAAhB,CAAwB,WAAxB;AACH;AACJ,GA5DmB;AA8DpBC,EAAAA,SA9DoB,uBA8DR,CAAG,CA9DK;AAgEpBC,EAAAA,KAhEoB,mBAgEZ,CAEP,CAlEmB,CAoEpB;;AApEoB,CAAxB","sourceRoot":"/","sourcesContent":["\r\nglGame.baseclass.extend({\r\n\r\n    properties: {\r\n        labReward: cc.Label,\r\n        //buttonLab: cc.Label,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        this.node.active = false;\r\n        this.reqComplaintConfig();\r\n    },\r\n\r\n    reqComplaintConfig() {\r\n        glGame.gameNet.send_msg(\"http.reqComplaintContact\", null, (route, data) => {\r\n            this.Type = data.type;\r\n            ///this.buttonLab.string = data.type == \"qq\" ? \"复制并打开QQ\" : \"复制并打开微信\";\r\n            this.labReward.string = this.cutFloat(data.reward)+\"元\"\r\n            this.openUrl = data.url;\r\n            console.log(\"链接地址\", this.openUrl)\r\n            this.node.active = true;\r\n        })\r\n    },\r\n\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"close\":\r\n                console.log(\"close-------\")\r\n                this.remove();\r\n                break;\r\n            case \"copy_open\":\r\n                this.copy_open();\r\n                break;\r\n        }\r\n    },\r\n\r\n    cutFloat(num) {\r\n        return (this.getFloat(Number(num).div(100))).toString();\r\n    },\r\n\r\n    getFloat(value, num = 2) {\r\n        value = Number(value);\r\n        if (isNaN(value)) return;\r\n        if (~~value === value) {\r\n            return value.toString();\r\n        } else {\r\n            return value.toFixed(num);\r\n        }\r\n    },\r\n\r\n    copy_open() {\r\n        console.log(\"copy_open\", this.openUrl)\r\n        if (this.Type == \"qq\") {\r\n            console.log(\"copy_open\", this.openUrl)\r\n            //cc.sys.openURL(this.openUrl)\r\n            glGame.platform.openURL(this.openUrl)\r\n        } else {\r\n            glGame.platform.openURL(\"weixin://\")\r\n        }\r\n    },\r\n\r\n    OnDestroy() { },\r\n\r\n    start() {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}