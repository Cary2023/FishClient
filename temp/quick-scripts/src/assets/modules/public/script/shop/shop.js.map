{"version":3,"sources":["assets\\modules\\public\\script\\shop\\shop.js"],"names":["glGame","baseclass","extend","properties","audio","type","cc","AudioClip","shopNomalPanel","Prefab","shopFastPanel","shopAgencyPanel","shoprecord","content","Node","selecttoggle","spineAnim","audio_recharge","onLoad","currBtn","publicList","pay","AGENCYPAY","EXCLUSIVE","FASTPAY","ALIPAY","WECHATPAY","BANKCARDPAY","CLOUDPAY","JINGDONGPAY","QQPAY","PrefabList","RecordData","closeCurEffect","playSoundEffect","emitter","on","showUI","showSuccessAnim","node","name","MESSAGE","UI","ACTION_END","shopActionEnd","saveCodeToLocalShop","btn_recordCB","panel","showEffectPariticle","msg","active","skeleton","getChildByName","getComponent","sp","Skeleton","setAnimation","setCompleteListener","trackEntry","loopCount","animation","gameNet","send_msg","route","PayTypeList","result","data","complaint","setOrder","iFirst","btnList","i","length","object","instantiate","id","parent","x","click_Type","setSiblingIndex","recommend","giveProportion","Label","string","Number","div","showEffectNode","getFloat","value","toString","onClick","click_close","btn_fanhuishouyeCB","btn_zaichongyiciCB","console","error","ReqPayType","typeId","showChildPanel","script","initUI","remove","destroyAllChildren","removeAllChildren","index","getIndex","payid","OnDestroy","off"],"mappings":"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","sourceRoot":"/","sourcesContent":["glGame.baseclass.extend({\r\n    properties: {\r\n        audio: {\r\n            type: cc.AudioClip,\r\n            default: null\r\n        },\r\n        shopNomalPanel: cc.Prefab,\r\n        shopFastPanel: cc.Prefab,\r\n        shopAgencyPanel: cc.Prefab,\r\n        shoprecord: cc.Prefab,\r\n        content: cc.Node,\r\n        selecttoggle: cc.Node,\r\n        spineAnim: cc.Node,\r\n        audio_recharge: {\r\n            type: cc.AudioClip,\r\n            default: null\r\n        },\r\n    },\r\n    onLoad() {\r\n        this.currBtn = null;\r\n        this.publicList = {}\r\n        this.publicList[glGame.pay.AGENCYPAY] = \"agencypay\";         // 1 '代理充值',\r\n        this.publicList[glGame.pay.EXCLUSIVE] = \"exclusivepay\";      // 2 '专享闪付',\r\n        this.publicList[glGame.pay.FASTPAY] = \"fastpay\";             // 3 '公司入款',\r\n        this.publicList[glGame.pay.ALIPAY] = \"alipay\";               // 4 '支付宝充值',\r\n        this.publicList[glGame.pay.WECHATPAY] = \"wechatpay\";         // 5 '微信充值',\r\n        this.publicList[glGame.pay.BANKCARDPAY] = \"bankcardpay\";     // 6 '银行卡充值',\r\n        this.publicList[glGame.pay.CLOUDPAY] = \"cloudpay\";           // 7 '云闪付充值',\r\n        this.publicList[glGame.pay.JINGDONGPAY] = \"jingdongpay\";      // 8 '京东支付',\r\n        this.publicList[glGame.pay.QQPAY] = \"qqpay\";                 // 9 'QQ支付',\r\n\r\n        this.PrefabList = {\r\n            \"agencypay\": this.shopAgencyPanel,\r\n            \"alipay\": this.shopNomalPanel,\r\n            \"wechatpay\": this.shopNomalPanel,\r\n            \"bankcardpay\": this.shopNomalPanel,\r\n            \"fastpay\": this.shopNomalPanel,\r\n            \"cloudpay\": this.shopNomalPanel,\r\n            \"jingdongpay\": this.shopNomalPanel,\r\n            \"qqpay\": this.shopNomalPanel,\r\n        }\r\n        this.RecordData = {};\r\n        glGame.audio.closeCurEffect();\r\n        glGame.audio.playSoundEffect(this.audio, true);\r\n        glGame.emitter.on(\"showShopUI\", this.showUI, this)\r\n        glGame.emitter.on(\"showSuccessAnim\", this.showSuccessAnim, this);\r\n        glGame.emitter.on(`${this.node.name}${MESSAGE.UI.ACTION_END}`, this.shopActionEnd, this);\r\n        glGame.emitter.on(\"saveCodeToLocalShop\", this.saveCodeToLocalShop, this);\r\n        glGame.emitter.on(\"showrechargeRecord\", this.btn_recordCB, this);\r\n        glGame.panel.showEffectPariticle(this.node);\r\n    },\r\n    showUI() {\r\n\r\n    },\r\n    showSuccessAnim(msg) {\r\n        this.spineAnim.active = true;\r\n        glGame.audio.playSoundEffect(this.audio_recharge);\r\n        let skeleton = this.spineAnim.getChildByName(\"skeleton\").getComponent(sp.Skeleton)\r\n        skeleton.setAnimation(0, \"appears\", false);\r\n        skeleton.setCompleteListener((trackEntry, loopCount) => {\r\n            let name = trackEntry.animation ? trackEntry.animation.name : '';\r\n            if (name === 'appears' || name === 'looping') {\r\n                skeleton.setAnimation(0, \"looping\", true);\r\n            }\r\n        });\r\n    },\r\n\r\n    shopActionEnd() {\r\n        glGame.gameNet.send_msg('http.ReqPayClassList', {}, (route, msg) => {\r\n            this.PayTypeList = msg.result.data;\r\n            this.complaint = msg.result.complaint;\r\n            this.setOrder();\r\n        })\r\n    },\r\n    saveCodeToLocalShop() {\r\n\r\n    },\r\n    setOrder() {\r\n        let iFirst = true;\r\n        let btnList = this.node.getChildByName(\"btnList\");\r\n        for (let i = 0; i < this.PayTypeList.length; i++) {\r\n            let object = cc.instantiate(btnList.getChildByName(this.publicList[this.PayTypeList[i].id]));\r\n            if (!object) continue;\r\n            object.parent = this.selecttoggle;\r\n            object.x = 0;\r\n            object.active = false;\r\n            if(iFirst){\r\n                this.currBtn = object;\r\n                this.currBtn.getChildByName(\"checkmark\").active = true;\r\n                this.click_Type(this.publicList[this.PayTypeList[i].id]);\r\n            }\r\n            iFirst = false;\r\n            object.setSiblingIndex(i);\r\n            object.getChildByName(\"recommend\").active = this.PayTypeList[i].recommend != 0\r\n            object.getChildByName(\"freestaff\").active = this.PayTypeList[i].giveProportion != 0\r\n            object.getChildByName(\"freestaff\").getChildByName(\"num\").getComponent(cc.Label).string = Number(this.PayTypeList[i].giveProportion).div(100) + \"%\";\r\n        }\r\n        glGame.panel.showEffectNode(this,this.selecttoggle,0.02,true);\r\n\r\n    },\r\n    getFloat(value) {\r\n        return (Number(value).div(100)).toString();\r\n    },\r\n\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"close_eff\": this.click_close(); break;\r\n            case \"wechatpay\": \r\n            case \"alipay\": \r\n            case \"fastpay\":\r\n            case \"exclusivepay\":\r\n            case \"agencypay\":\r\n            case \"bankcardpay\":\r\n            case \"cloudpay\":\r\n            case \"jingdongpay\":\r\n            case \"qqpay\":\r\n                this.currBtn.getChildByName(\"checkmark\").active = false;\r\n                this.currBtn = node;\r\n                this.currBtn.getChildByName(\"checkmark\").active = true;\r\n                this.click_Type(name);\r\n                break;\r\n            case \"btn_fanhuishouye\": this.btn_fanhuishouyeCB(); break;\r\n            case \"btn_zaichongyici\": this.btn_zaichongyiciCB(); break;\r\n            case \"btn_record\": this.btn_recordCB(); break;\r\n            case \"btn_closeAni\": this.spineAnim.active = false; break;\r\n            default: console.error(\"no find button name -> %s\", name);\r\n        }\r\n    },\r\n    ReqPayType(typeId, name) {\r\n        let Prefab = this.PrefabList[name]\r\n        if (this.RecordData[typeId]) {\r\n            let panel = glGame.panel.showChildPanel(Prefab, this.content);\r\n            let script = panel.getComponent(Prefab.name);\r\n            script.initUI(this.RecordData[typeId].result)\r\n            return\r\n        }\r\n        glGame.gameNet.send_msg('http.ReqPayClass', { typeId: typeId }, (route, msg) => {\r\n            let panel = glGame.panel.showChildPanel(Prefab, this.content);\r\n            let script = panel.getComponent(Prefab.name);\r\n            if (typeId == 1) {\r\n                msg.result.complaint = this.complaint;\r\n            }\r\n            script.initUI(msg.result)\r\n            this.RecordData[typeId] = msg;\r\n        })\r\n    },\r\n    btn_recordCB() {\r\n        glGame.panel.showChildPanel(this.shoprecord, this.node);\r\n    },\r\n    btn_fanhuishouyeCB() {\r\n        this.remove()\r\n    },\r\n    btn_zaichongyiciCB() {\r\n        this.spineAnim.active = false\r\n        this.spineAnim.getChildByName(\"img_czcg\").active = false;\r\n        this.spineAnim.getChildByName(\"img_rycp\").active = false;\r\n    },\r\n    click_close() {\r\n        this.remove()\r\n    },\r\n    click_Type(name) {\r\n        this.content.destroyAllChildren();\r\n        this.content.removeAllChildren();\r\n        let index = this.getIndex(name)\r\n        let id = this.PayTypeList[index].id;\r\n        this.ReqPayType(id, name)\r\n    },\r\n    getIndex(name) {\r\n        let payid = 0;\r\n        for (let id in this.publicList) {\r\n            if (this.publicList[id] == name) {\r\n                payid = id;\r\n                break;\r\n            }\r\n        }\r\n        for (let index in this.PayTypeList) {\r\n            if (this.PayTypeList[index].id == payid) {\r\n                return index;\r\n            }\r\n        }\r\n    },\r\n    OnDestroy() {\r\n        glGame.emitter.off(\"showShopUI\", this);\r\n        glGame.emitter.off(\"showSuccessAnim\", this);\r\n        glGame.emitter.off(`${this.node.name}${MESSAGE.UI.ACTION_END}`, this);\r\n        glGame.emitter.off(\"saveCodeToLocalShop\", this);\r\n        glGame.emitter.off(\"showrechargeRecord\", this);\r\n    }\r\n});\r\n"]}