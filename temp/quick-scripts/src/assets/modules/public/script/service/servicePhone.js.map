{"version":3,"sources":["assets\\modules\\public\\script\\service\\servicePhone.js"],"names":["glGame","baseclass","extend","properties","node_bg","cc","Node","phoneItem","phoneParent","onLoad","CustomServerPhone","registerEvent","user","ReqCustomServerPhone","refPayData","emitter","on","updateCustomServerPhone","unRegisterEvent","off","onClick","name","node","callPhoneNum","sys","os","OS_ANDROID","openURL","phone","OS_IOS","dialCode","customData","data","panel","showRemoteImage","imgUrl","phoneNumber","getComponent","Label","string","console","log","start","OnDestroy"],"mappings":";;;;;;AACAA,MAAM,CAACC,SAAP,CAAiBC,MAAjB,CAAwB;AAEpBC,EAAAA,UAAU,EAAE;AACRC,IAAAA,OAAO,EAAEC,EAAE,CAACC,IADJ;AAERC,IAAAA,SAAS,EAAEF,EAAE,CAACC,IAFN;AAGRE,IAAAA,WAAW,EAAEH,EAAE,CAACC;AAHR,GAFQ;AAQpBG,EAAAA,MARoB,oBAQX;AACL,SAAKC,iBAAL,GAAyB,IAAzB;AACA,SAAKC,aAAL;AACAX,IAAAA,MAAM,CAACY,IAAP,CAAYC,oBAAZ;AACH,GAZmB;AAcpBC,EAAAA,UAdoB,wBAcP,CACZ,CAfmB;AAmBpBH,EAAAA,aAnBoB,2BAmBJ;AACZX,IAAAA,MAAM,CAACe,OAAP,CAAeC,EAAf,CAAkB,yBAAlB,EAA6C,KAAKC,uBAAlD,EAA2E,IAA3E;AACH,GArBmB;AAsBpBC,EAAAA,eAtBoB,6BAsBF;AACdlB,IAAAA,MAAM,CAACe,OAAP,CAAeI,GAAf,CAAmB,yBAAnB,EAA8C,IAA9C;AACH,GAxBmB;AAyBpBC,EAAAA,OAzBoB,mBAyBZC,IAzBY,EAyBNC,IAzBM,EAyBA;AAChB,YAAQD,IAAR;AACI,WAAK,aAAL;AAAoB,aAAKE,YAAL;AAAqB;AAD7C;AAGH,GA7BmB;AA8BpBA,EAAAA,YA9BoB,0BA8BL;AACX,QAAI,CAAC,KAAKb,iBAAV,EAA6B;;AAC7B,QAAIL,EAAE,CAACmB,GAAH,CAAOC,EAAP,KAAcpB,EAAE,CAACmB,GAAH,CAAOE,UAAzB,EAAqC;AACjCrB,MAAAA,EAAE,CAACmB,GAAH,CAAOG,OAAP,iBAAwB,KAAKjB,iBAAL,CAAuBkB,KAA/C;AACH,KAFD,MAEO,IAAIvB,EAAE,CAACmB,GAAH,CAAOC,EAAP,KAAcpB,EAAE,CAACmB,GAAH,CAAOK,MAAzB,EAAiC;AACpCxB,MAAAA,EAAE,CAACmB,GAAH,CAAOG,OAAP,iBAAwB,KAAKjB,iBAAL,CAAuBoB,QAAvB,GAAkC,KAAKpB,iBAAL,CAAuBkB,KAAjF;AACH,KAFM,MAEA;AACHvB,MAAAA,EAAE,CAACmB,GAAH,CAAOG,OAAP,iBAAwB,KAAKjB,iBAAL,CAAuBkB,KAA/C;AACH;AAEJ,GAxCmB;AAyCpBG,EAAAA,UAzCoB,wBAyCP,CACZ,CA1CmB;AA4CpBd,EAAAA,uBA5CoB,mCA4CIe,IA5CJ,EA4CU;AAC1B,SAAKtB,iBAAL,GAAyBsB,IAAzB;AACAhC,IAAAA,MAAM,CAACiC,KAAP,CAAaC,eAAb,CAA6B,KAAK9B,OAAlC,EAA2C,KAAKM,iBAAL,CAAuByB,MAAlE,EAF0B,CAG1B;;AACA,QAAIC,WAAW,GAAG,KAAK1B,iBAAL,CAAuBkB,KAAzC;AACA,SAAKpB,WAAL,CAAiB6B,YAAjB,CAA8BhC,EAAE,CAACiC,KAAjC,EAAwCC,MAAxC,GAAiDH,WAAjD;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwB,KAAK/B,iBAA7B;AACH,GAnDmB;AAsDpBgC,EAAAA,KAtDoB,mBAsDZ,CAEP,CAxDmB;AA0DpBC,EAAAA,SA1DoB,uBA0DR;AACR,SAAKzB,eAAL;AACH,GA5DmB,CA6DpB;;AA7DoB,CAAxB","sourceRoot":"/","sourcesContent":["\r\nglGame.baseclass.extend({\r\n\r\n    properties: {\r\n        node_bg: cc.Node,\r\n        phoneItem: cc.Node,\r\n        phoneParent: cc.Node,\r\n    },\r\n\r\n    onLoad() {\r\n        this.CustomServerPhone = null;\r\n        this.registerEvent();\r\n        glGame.user.ReqCustomServerPhone();\r\n    },\r\n\r\n    refPayData() {\r\n    },\r\n\r\n\r\n\r\n    registerEvent() {\r\n        glGame.emitter.on(\"updateCustomServerPhone\", this.updateCustomServerPhone, this);\r\n    },\r\n    unRegisterEvent() {\r\n        glGame.emitter.off(\"updateCustomServerPhone\", this);\r\n    },\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"btn_nowCall\": this.callPhoneNum(); break;\r\n        }\r\n    },\r\n    callPhoneNum() {\r\n        if (!this.CustomServerPhone) return;\r\n        if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n            cc.sys.openURL(`tel://${this.CustomServerPhone.phone}`)\r\n        } else if (cc.sys.os === cc.sys.OS_IOS) {\r\n            cc.sys.openURL(`tel://${this.CustomServerPhone.dialCode + this.CustomServerPhone.phone}`)\r\n        } else {\r\n            cc.sys.openURL(`tel://${this.CustomServerPhone.phone}`)\r\n        }\r\n\r\n    },\r\n    customData() {\r\n    },\r\n\r\n    updateCustomServerPhone(data) {\r\n        this.CustomServerPhone = data;\r\n        glGame.panel.showRemoteImage(this.node_bg, this.CustomServerPhone.imgUrl)\r\n        // this.node_bg.position = cc.v2(0,0); \r\n        let phoneNumber = this.CustomServerPhone.phone;\r\n        this.phoneParent.getComponent(cc.Label).string = phoneNumber;\r\n        console.log(\"这是获取客服电话\", this.CustomServerPhone)\r\n    },\r\n\r\n\r\n    start() {\r\n\r\n    },\r\n\r\n    OnDestroy() {\r\n        this.unRegisterEvent();\r\n    },\r\n    // update (dt) {},\r\n});\r\n"]}