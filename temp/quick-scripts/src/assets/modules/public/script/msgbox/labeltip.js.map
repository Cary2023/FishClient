{"version":3,"sources":["assets\\modules\\public\\script\\msgbox\\labeltip.js"],"names":["ACTTYPE","STILL","FLUTTER","glGame","baseclass","extend","properties","content","cc","Label","bg_node","Node","onLoad","node","scale","systemclass","convertInterface","onClick","name","remove","showTip","showtype","_time","time","string","color","Color","getChildByName","active","runAction","sequence","delayTime","removeSelf","y","height","console","log","opacity","fadeTo","spawn","moveBy","changeBgWidth","scheduleOnce","setWidth","bind","width","showErrorTip","next","_forceUpdateRenderData","callFunc","OnDestroy"],"mappings":";;;;;;AAAA,IAAMA,OAAO,GAAG;AAAEC,EAAAA,KAAK,EAAE,CAAT;AAAYC,EAAAA,OAAO,EAAE;AAArB,CAAhB,EAAyC;;AACzCC,MAAM,CAACC,SAAP,CAAiBC,MAAjB,CAAwB;AACpBC,EAAAA,UAAU,EAAE;AACRC,IAAAA,OAAO,EAAEC,EAAE,CAACC,KADJ;AAERC,IAAAA,OAAO,EAAEF,EAAE,CAACG;AAFJ,GADQ;AAKpBC,EAAAA,MALoB,oBAKX;AACL,SAAKC,IAAL,CAAUC,KAAV,GAAkBX,MAAM,CAACY,WAAP,CAAmBC,gBAAnB,EAAlB;AACH,GAPmB;AAUpBC,EAAAA,OAVoB,mBAUZC,IAVY,EAUNL,IAVM,EAUA;AAChB,YAAQK,IAAR;AACI,WAAK,MAAL;AAAa,aAAKC,MAAL;AAAe;;AAC5B;AACI;AAHR;AAKH,GAhBmB;AAkBpBC,EAAAA,OAlBoB,mBAkBZb,OAlBY,EAkBHc,QAlBG,EAkBOC,KAlBP,EAkBc;AAC9B,QAAIC,IAAI,GAAGD,KAAX;AACA,SAAKf,OAAL,CAAaiB,MAAb,GAAsBjB,OAAtB;AACA,SAAKA,OAAL,CAAaM,IAAb,CAAkBY,KAAlB,GAA0B,IAAIjB,EAAE,CAACkB,KAAP,CAAa,IAAb,EAAmB,IAAnB,EAAyB,IAAzB,CAA1B;AACA,SAAKb,IAAL,CAAUc,cAAV,CAAyB,KAAzB,EAAgCC,MAAhC,GAAyC,IAAzC;;AACA,QAAIP,QAAQ,IAAIrB,OAAO,CAACC,KAAxB,EAA+B;AAC3B,WAAKY,IAAL,CAAUgB,SAAV,CAAoBrB,EAAE,CAACsB,QAAH,CAAYtB,EAAE,CAACuB,SAAH,CAAaR,IAAb,CAAZ,EAAgCf,EAAE,CAACwB,UAAH,EAAhC,CAApB;AACH,KAFD,MAEO;AACH,WAAKzB,OAAL,CAAaM,IAAb,CAAkBoB,CAAlB,GAAsB,KAAKvB,OAAL,CAAauB,CAAb,GAAiB,KAAKpB,IAAL,CAAUqB,MAAV,GAAiB,CAAxD;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB,KAAKvB,IAAL,CAAUqB,MAAjC;AACA,WAAKrB,IAAL,CAAUc,cAAV,CAAyB,MAAzB,EAAiCC,MAAjC,GAA0C,KAA1C;AACA,WAAKf,IAAL,CAAUwB,OAAV,GAAoB,CAApB;AACA,WAAKxB,IAAL,CAAUgB,SAAV,CAAoBrB,EAAE,CAACsB,QAAH,CAAYtB,EAAE,CAAC8B,MAAH,CAAU,GAAV,EAAe,GAAf,CAAZ,EAAgC9B,EAAE,CAACuB,SAAH,CAAaR,IAAb,CAAhC,EAAoDf,EAAE,CAAC+B,KAAH,CAAS/B,EAAE,CAACgC,MAAH,CAAU,GAAV,EAAe,CAAf,EAAkB,EAAlB,CAAT,EAAgChC,EAAE,CAAC8B,MAAH,CAAU,GAAV,EAAe,CAAf,CAAhC,CAApD,EAAwG9B,EAAE,CAACwB,UAAH,EAAxG,CAApB;AACH,KAb6B,CAc9B;AACA;;AAGH,GApCmB;AAsCpBS,EAAAA,aAtCoB,2BAsCJ;AACZ,SAAKC,YAAL,CAAkB,KAAKC,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAlB,EAA4C,CAA5C;AACH,GAxCmB;AA0CpBD,EAAAA,QA1CoB,sBA0CT;AACP,QAAI,KAAKjC,OAAL,CAAamC,KAAb,GAAqB,KAAKtC,OAAL,CAAaM,IAAb,CAAkBgC,KAAlB,GAA0B,GAAnD,EACI,KAAKnC,OAAL,CAAamC,KAAb,GAAqB,KAAKtC,OAAL,CAAaM,IAAb,CAAkBgC,KAAlB,GAA0B,GAA/C;AACP,GA7CmB;AA+CpBC,EAAAA,YA/CoB,wBA+CPvC,OA/CO,EA+CEwC,IA/CF,EA+CQ;AACxB,SAAKxC,OAAL,CAAaiB,MAAb,GAAsBjB,OAAtB;;AACA,SAAKA,OAAL,CAAayC,sBAAb;;AACA,SAAKL,QAAL;AACA,SAAKpC,OAAL,CAAaM,IAAb,CAAkBY,KAAlB,GAA0B,IAAIjB,EAAE,CAACkB,KAAP,CAAa,IAAb,EAAmB,IAAnB,EAAyB,IAAzB,CAA1B;AACA,SAAKb,IAAL,CAAUc,cAAV,CAAyB,KAAzB,EAAgCC,MAAhC,GAAyC,IAAzC;AACA,SAAKf,IAAL,CAAUgB,SAAV,CAAoBrB,EAAE,CAACsB,QAAH,CAAYtB,EAAE,CAACuB,SAAH,CAAa,CAAb,CAAZ,EAA6BvB,EAAE,CAACyC,QAAH,CAAY,YAAM;AAAE,UAAIF,IAAJ,EAAUA,IAAI;AAAK,KAAvC,CAA7B,EAAuEvC,EAAE,CAACwB,UAAH,EAAvE,CAApB;AACH,GAtDmB;AAwDpBkB,EAAAA,SAxDoB,uBAwDR,CAEX;AA1DmB,CAAxB","sourceRoot":"/","sourcesContent":["const ACTTYPE = { STILL: 1, FLUTTER: 2 } //1飘动2静止\r\nglGame.baseclass.extend({\r\n    properties: {\r\n        content: cc.Label,\r\n        bg_node: cc.Node,\r\n    },\r\n    onLoad() {\r\n        this.node.scale = glGame.systemclass.convertInterface();\r\n    },\r\n\r\n\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"mask\": this.remove(); break;\r\n            default:\r\n                break;\r\n        }\r\n    },\r\n\r\n    showTip(content, showtype, _time) {\r\n        let time = _time;\r\n        this.content.string = content;\r\n        this.content.node.color = new cc.Color(0xdd, 0xf5, 0xff);\r\n        this.node.getChildByName(\"tip\").active = true;\r\n        if (showtype == ACTTYPE.STILL) {\r\n            this.node.runAction(cc.sequence(cc.delayTime(time), cc.removeSelf()));\r\n        } else {\r\n            this.content.node.y = this.bg_node.y = this.node.height/4;\r\n            console.log(\"这是当前的高度\", this.node.height)\r\n            this.node.getChildByName(\"mask\").active = false;\r\n            this.node.opacity = 0;\r\n            this.node.runAction(cc.sequence(cc.fadeTo(0.2, 255),cc.delayTime(time), cc.spawn(cc.moveBy(0.2, 0, 80), cc.fadeTo(0.2, 0)), cc.removeSelf()));\r\n        }\r\n        // this.content._forceUpdateRenderData();\r\n        // this.setWidth();\r\n\r\n\r\n    },\r\n\r\n    changeBgWidth() {\r\n        this.scheduleOnce(this.setWidth.bind(this), 0);\r\n    },\r\n\r\n    setWidth() {\r\n        if (this.bg_node.width < this.content.node.width + 320)\r\n            this.bg_node.width = this.content.node.width + 320;\r\n    },\r\n\r\n    showErrorTip(content, next) {\r\n        this.content.string = content;\r\n        this.content._forceUpdateRenderData();\r\n        this.setWidth();\r\n        this.content.node.color = new cc.Color(0xf4, 0x4d, 0x4d);\r\n        this.node.getChildByName(\"tip\").active = true;\r\n        this.node.runAction(cc.sequence(cc.delayTime(1), cc.callFunc(() => { if (next) next(); }), cc.removeSelf()));\r\n    },\r\n\r\n    OnDestroy() {\r\n\r\n    },\r\n});\r\n"]}