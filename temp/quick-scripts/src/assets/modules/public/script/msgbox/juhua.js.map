{"version":3,"sources":["assets\\modules\\public\\script\\msgbox\\juhua.js"],"names":["glGame","baseclass","extend","properties","node_juhua","cc","Node","onLoad","CountTime","beginTime","Date","getTime","node","zIndex","runAction","repeatForever","rotateBy","children","active","sequence","delayTime","callFunc","time_max","scheduleOnce","timeSchedule","bind","setdisplay","hidepic","stopAllActions","unschedule","panel","showErrorTip","reStartGame","OnDestroy","set"],"mappings":";;;;;;AAAAA,MAAM,CAACC,SAAP,CAAiBC,MAAjB,CAAwB;AACpBC,EAAAA,UAAU,EAAE;AACRC,IAAAA,UAAU,EAAEC,EAAE,CAACC;AADP,GADQ;AAIpBC,EAAAA,MAJoB,oBAIX;AACL,SAAKC,SAAL;AACH,GANmB;AAOpBA,EAAAA,SAPoB,uBAOR;AAAA;;AACR,SAAKC,SAAL,GAAkB,IAAIC,IAAJ,EAAD,CAAaC,OAAb,EAAjB;AACA,SAAKC,IAAL,CAAUC,MAAV,GAAmB,IAAnB;AACA,SAAKT,UAAL,CAAgBU,SAAhB,CAA0BT,EAAE,CAACU,aAAH,CAAiBV,EAAE,CAACW,QAAH,CAAY,GAAZ,EAAiB,GAAjB,CAAjB,CAA1B;AAEA,SAAKJ,IAAL,CAAUK,QAAV,CAAmB,CAAnB,EAAsBC,MAAtB,GAA+B,KAA/B;AACA,SAAKN,IAAL,CAAUK,QAAV,CAAmB,CAAnB,EAAsBC,MAAtB,GAA+B,KAA/B,CANQ,CAQR;;AACA,SAAKN,IAAL,CAAUE,SAAV,CAAoBT,EAAE,CAACc,QAAH,CAChBd,EAAE,CAACe,SAAH,CAAa,CAAb,CADgB,EAEhBf,EAAE,CAACgB,QAAH,CAAY,YAAM;AACd,MAAA,KAAI,CAACT,IAAL,CAAUK,QAAV,CAAmB,CAAnB,EAAsBC,MAAtB,GAA+B,IAA/B;AACA,MAAA,KAAI,CAACN,IAAL,CAAUK,QAAV,CAAmB,CAAnB,EAAsBC,MAAtB,GAA+B,IAA/B;AACH,KAHD,CAFgB,CAApB;AAOA,SAAKI,QAAL,GAAgB,EAAhB;AACA,SAAKC,YAAL,CAAkB,KAAKC,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAAlB,EAAgD,KAAKH,QAArD;AACH,GAzBmB;AA0BpBI,EAAAA,UA1BoB,wBA0BR;AACR,SAAKd,IAAL,CAAUK,QAAV,CAAmB,CAAnB,EAAsBC,MAAtB,GAA+B,IAA/B;AACA,SAAKN,IAAL,CAAUK,QAAV,CAAmB,CAAnB,EAAsBC,MAAtB,GAA+B,IAA/B;AACH,GA7BmB;AA8BpB;AACAS,EAAAA,OA/BoB,qBA+BV;AACN,SAAKf,IAAL,CAAUgB,cAAV;AACA,SAAKhB,IAAL,CAAUK,QAAV,CAAmB,CAAnB,EAAsBC,MAAtB,GAA+B,KAA/B;AACA,SAAKN,IAAL,CAAUK,QAAV,CAAmB,CAAnB,EAAsBC,MAAtB,GAA+B,KAA/B;AACA,SAAKW,UAAL,CAAgB,KAAKL,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAAhB;AACH,GApCmB;AAqCpBD,EAAAA,YArCoB,0BAqCL;AACX,QAAI,KAAKZ,IAAL,IAAa,IAAb,IAAqB,KAAKA,IAAL,CAAUE,SAAV,IAAuB,IAAhD,EAAsD;AACtDd,IAAAA,MAAM,CAAC8B,KAAP,CAAaC,YAAb,CAA0B,eAA1B;AACA,SAAKnB,IAAL,CAAUE,SAAV,CAAoBT,EAAE,CAACc,QAAH,CAChBd,EAAE,CAACe,SAAH,CAAa,CAAb,CADgB,EAEhBf,EAAE,CAACgB,QAAH,CAAY,YAAM;AACd;AACA;AACA;AACAW,MAAAA,WAAW;AACd,KALD,CAFgB,CAApB;AASH,GAjDmB;AAkDpBC,EAAAA,SAlDoB,uBAkDR;AACR,SAAKJ,UAAL,CAAgB,KAAKL,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAAhB;AACH,GApDmB;AAqDpBS,EAAAA,GArDoB,iBAqDd,CAAG;AArDW,CAAxB","sourceRoot":"/","sourcesContent":["glGame.baseclass.extend({\r\n    properties: {\r\n        node_juhua: cc.Node,\r\n    },\r\n    onLoad() {\r\n        this.CountTime();\r\n    },\r\n    CountTime() {\r\n        this.beginTime = (new Date()).getTime();\r\n        this.node.zIndex = 1000;\r\n        this.node_juhua.runAction(cc.repeatForever(cc.rotateBy(1.5, 360)))\r\n\r\n        this.node.children[0].active = false;\r\n        this.node.children[1].active = false;\r\n\r\n        //菊花必须在网络访问后 一定时间后才开启\r\n        this.node.runAction(cc.sequence(\r\n            cc.delayTime(2),\r\n            cc.callFunc(() => {\r\n                this.node.children[0].active = true;\r\n                this.node.children[1].active = true;\r\n            })\r\n        ))\r\n        this.time_max = 40;\r\n        this.scheduleOnce(this.timeSchedule.bind(this), this.time_max);\r\n    },\r\n    setdisplay(){\r\n        this.node.children[0].active = true;\r\n        this.node.children[1].active = true;\r\n    },\r\n    //默认关闭所有的菊花事件\r\n    hidepic() {\r\n        this.node.stopAllActions();\r\n        this.node.children[0].active = false;\r\n        this.node.children[1].active = false;\r\n        this.unschedule(this.timeSchedule.bind(this));\r\n    },\r\n    timeSchedule() {\r\n        if (this.node == null || this.node.runAction == null) return\r\n        glGame.panel.showErrorTip(\"网络断开连接，请重新登录！\");\r\n        this.node.runAction(cc.sequence(\r\n            cc.delayTime(1),\r\n            cc.callFunc(() => {\r\n                //清除登录缓存\r\n                // glGame.storage.removeItemByKey(\"loginCache\");\r\n                // 重启游戏\r\n                reStartGame();\r\n            })\r\n        ))\r\n    },\r\n    OnDestroy() {\r\n        this.unschedule(this.timeSchedule.bind(this));\r\n    },\r\n    set() { },\r\n});"]}