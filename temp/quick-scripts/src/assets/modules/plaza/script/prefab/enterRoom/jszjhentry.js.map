{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\enterRoom\\jszjhentry.js"],"names":["glGame","baseclass","extend","properties","goldCount","cc","Label","selectNode","Node","gameRule","Prefab","gameRecord","BGM","type","AudioClip","onLoad","gameid","node","zIndex","emitter","on","MESSAGE","UI","ROOM_ENTER_SHOW","RootNodeShow","ROOM_ENTER_HIDE","RootNodeHide","click_back","updateuserInfo","registerEvent","reqEnterArea","playEnterAnimation","i","entryNode","getChildByName","opacity","originPos","position","x","moveTo","fadeIn","easing","easeBackOut","runAction","spawn","active","unregisterEvent","onGameConfig","off","msg","gameConfig","refreshUI","gameID","scenetag","JSZJH","readyroom","getComponent","string","getFloat","BaseChips","EntranceRestrictions","onClick","name","click_help","click_record","click_addgold","click_userinfo","enterGame","console","error","level","room","reqMyGameState","then","panel","showMsgBox","user","isTourist","showRegisteredGift","suspicious","game","is_game","showDialog","showService","get","log","showShop","showJuHua","sequence","delayTime","callFunc","closeJuHua","setGoldRoomInfo","checkGold","coin","minCion","parseInt","i18n","t","showPanelByName","value","Number","div","toString","showUserInfo","showRemoteImage","Playerhead","cutFloat","setGameId","updateBgInfo","reqExitArea","remove","game_rule","showPanel","game_record","set","key","OnDestroy"],"mappings":";;;;;;AAAAA,MAAM,CAACC,SAAP,CAAiBC,MAAjB,CAAwB;AAEpBC,EAAAA,UAAU,EAAE;AACRC,IAAAA,SAAS,EAAEC,EAAE,CAACC,KADN;AAERC,IAAAA,UAAU,EAAEF,EAAE,CAACG,IAFP;AAGRC,IAAAA,QAAQ,EAAEJ,EAAE,CAACK,MAHL;AAIRC,IAAAA,UAAU,EAAEN,EAAE,CAACK,MAJP;AAKRE,IAAAA,GAAG,EAAE;AACDC,MAAAA,IAAI,EAAER,EAAE,CAACS,SADR;AAED,iBAAS;AAFR;AALG,GAFQ;AAapBC,EAAAA,MAboB,oBAaX;AACL,SAAKC,MAAL,GAAc,CAAd;AACA,SAAKC,IAAL,CAAUC,MAAV,GAAmB,EAAnB;AACAlB,IAAAA,MAAM,CAACmB,OAAP,CAAeC,EAAf,CAAkBC,OAAO,CAACC,EAAR,CAAWC,eAA7B,EAA8C,KAAKC,YAAnD,EAAiE,IAAjE;AACAxB,IAAAA,MAAM,CAACmB,OAAP,CAAeC,EAAf,CAAkBC,OAAO,CAACC,EAAR,CAAWG,eAA7B,EAA8C,KAAKC,YAAnD,EAAiE,IAAjE;AACA1B,IAAAA,MAAM,CAACmB,OAAP,CAAeC,EAAf,CAAkB,YAAlB,EAAgC,KAAKO,UAArC,EAAiD,IAAjD;AACA3B,IAAAA,MAAM,CAACmB,OAAP,CAAeC,EAAf,CAAkB,gBAAlB,EAAoC,KAAKQ,cAAzC,EAAyD,IAAzD;AACA,SAAKC,aAAL;AACA,SAAKC,YAAL;AACA,SAAKF,cAAL;AACA,SAAKG,kBAAL;AACH,GAxBmB;AA0BpB;AACAA,EAAAA,kBA3BoB,gCA2BC;AACjB,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI,CAArB,EAAwBA,CAAC,EAAzB,EAA6B;AACzB,UAAIC,SAAS,GAAG,KAAK1B,UAAL,CAAgB2B,cAAhB,gBAAuCF,CAAvC,EAAhB;AACAC,MAAAA,SAAS,CAACE,OAAV,GAAoB,CAApB;AACA,UAAIC,SAAS,GAAGH,SAAS,CAACI,QAA1B;;AACA,UAAIL,CAAC,GAAG,CAAJ,IAAS,CAAb,EAAgB;AACZC,QAAAA,SAAS,CAACK,CAAV,IAAe,GAAf;AACH,OAFD,MAEO;AACHL,QAAAA,SAAS,CAACK,CAAV,IAAe,GAAf;AACH;;AAED,UAAIC,MAAM,GAAGlC,EAAE,CAACkC,MAAH,CAAU,GAAV,EAAeH,SAAf,CAAb;AACA,UAAII,MAAM,GAAGnC,EAAE,CAACmC,MAAH,CAAU,GAAV,CAAb;AACAD,MAAAA,MAAM,CAACE,MAAP,CAAcpC,EAAE,CAACqC,WAAH,EAAd;AACAT,MAAAA,SAAS,CAACU,SAAV,CAAoBtC,EAAE,CAACuC,KAAH,CAASL,MAAT,EAAiBC,MAAjB,CAApB;AACH;AACJ,GA3CmB;AA6CpBhB,EAAAA,YA7CoB,0BA6CL;AACX,SAAKP,IAAL,CAAU4B,MAAV,GAAmB,IAAnB;AACA,SAAKhB,aAAL;AACA,SAAKC,YAAL;AACH,GAjDmB;AAmDpBJ,EAAAA,YAnDoB,0BAmDL;AACX,SAAKT,IAAL,CAAU4B,MAAV,GAAmB,KAAnB;AACA,SAAKC,eAAL;AACH,GAtDmB;AAwDpB;AACAjB,EAAAA,aAzDoB,2BAyDJ;AACZ7B,IAAAA,MAAM,CAACmB,OAAP,CAAeC,EAAf,CAAkB,cAAlB,EAAkC,KAAK2B,YAAvC,EAAqD,IAArD;AACH,GA3DmB;AA6DpB;AACAD,EAAAA,eA9DoB,6BA8DF;AACd9C,IAAAA,MAAM,CAACmB,OAAP,CAAe6B,GAAf,CAAmB,cAAnB,EAAmC,IAAnC;AACH,GAhEmB;AAkEpBD,EAAAA,YAlEoB,wBAkEPE,GAlEO,EAkEF;AACd,SAAKC,UAAL,GAAkBD,GAAlB;AACA,SAAKE,SAAL;AACH,GArEmB;AAuEpBrB,EAAAA,YAvEoB,0BAuEL;AACX,SAAKsB,MAAL,GAAcpD,MAAM,CAACqD,QAAP,CAAgBC,KAA9B;AACAtD,IAAAA,MAAM,CAACuD,SAAP,CAAiBzB,YAAjB,CAA8B9B,MAAM,CAACqD,QAAP,CAAgBC,KAA9C;AACH,GA1EmB;AA4EpBH,EAAAA,SA5EoB,uBA4ER;AACR,SAAKlC,IAAL,CAAU4B,MAAV,GAAmB,IAAnB;AACA,QAAIK,UAAU,GAAG,KAAKA,UAAtB;;AAEA,SAAK,IAAIlB,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI,CAArB,EAAwBA,CAAC,EAAzB,EAA6B;AACzB,UAAIC,SAAS,GAAG,KAAK1B,UAAL,CAAgB2B,cAAhB,gBAAuCF,CAAC,GAAG,CAA3C,EAAhB;AACAC,MAAAA,SAAS,CAACC,cAAV,CAAyB,WAAzB,EAAsCsB,YAAtC,CAAmDnD,EAAE,CAACC,KAAtD,EAA6DmD,MAA7D,+BAA4E,KAAKC,QAAL,CAAcR,UAAU,CAAClB,CAAD,CAAV,CAAc2B,SAA5B,CAA5E;AACA1B,MAAAA,SAAS,CAACC,cAAV,CAAyB,YAAzB,EAAuCsB,YAAvC,CAAoDnD,EAAE,CAACC,KAAvD,EAA8DmD,MAA9D,+BAA6E,KAAKC,QAAL,CAAcR,UAAU,CAAClB,CAAD,CAAV,CAAc4B,oBAA5B,CAA7E;AACH;AACJ,GArFmB;AAuFpBC,EAAAA,OAvFoB,mBAuFZC,IAvFY,EAuFN7C,IAvFM,EAuFA;AAChB,YAAQ6C,IAAR;AACI,WAAK,UAAL;AAAiB,aAAKnC,UAAL;AAAmB;;AACpC,WAAK,UAAL;AAAiB,aAAKoC,UAAL;AAAmB;;AACpC,WAAK,YAAL;AAAmB,aAAKC,YAAL;AAAqB;;AACxC,WAAK,YAAL;AAAmB,aAAKC,aAAL;AAAsB;;AACzC,WAAK,QAAL;AAAe,aAAKC,cAAL;AAAuB;;AACtC,WAAK,cAAL;AAAqB,aAAKD,aAAL;AAAsB;;AAC3C,WAAK,QAAL;AAAe,aAAKE,SAAL,CAAe,EAAf;AAAoB;;AACnC,WAAK,QAAL;AAAe,aAAKA,SAAL,CAAe,CAAf;AAAmB;;AAClC,WAAK,QAAL;AAAe,aAAKA,SAAL,CAAe,CAAf;AAAmB;;AAClC,WAAK,QAAL;AAAe,aAAKA,SAAL,CAAe,CAAf;AAAmB;;AAClC;AAASC,QAAAA,OAAO,CAACC,KAAR,CAAc,2BAAd,EAA2CP,IAA3C;AAXb;AAaH,GArGmB;;AAuGpB;;;;AAIAK,EAAAA,SA3GoB,qBA2GVG,KA3GU,EA2GH;AAAA;;AACbtE,IAAAA,MAAM,CAACuE,IAAP,CAAYC,cAAZ,CAA2B,KAAKpB,MAAhC,EAAwCkB,KAAxC,EAA+CG,IAA/C,CAAoD,YAAM;AACtD,UAAIrB,MAAM,GAAG,KAAI,CAACA,MAAlB;;AACA,UAAI,KAAI,CAACF,UAAL,CAAgBoB,KAAhB,KAA0B,IAA9B,EAAoC;AAChCtE,QAAAA,MAAM,CAAC0E,KAAP,CAAaC,UAAb,CAAwB,IAAxB,EAA8B,kBAA9B;AACA;AACH;;AAED,UAAI3E,MAAM,CAAC4E,IAAP,CAAYC,SAAZ,EAAJ,EAA6B;AACzB,YAAIP,KAAK,IAAI,EAAb,EAAiB;AACbtE,UAAAA,MAAM,CAAC0E,KAAP,CAAaI,kBAAb,CAAgC,IAAhC;AACA;AACH;AACJ;;AAED,UAAK9E,MAAM,CAAC4E,IAAP,CAAYG,UAAZ,IAA0B,CAA1B,IAA+B/E,MAAM,CAAC4E,IAAP,CAAYI,IAAZ,IAAoB,CAApD,IAA0DhF,MAAM,CAAC4E,IAAP,CAAYK,OAAZ,IAAuB,CAArF,EAAwF;AACpFjF,QAAAA,MAAM,CAAC0E,KAAP,CAAaQ,UAAb,CAAwB,EAAxB,EAA4B,+BAA5B,EAA6D,YAAM;AAAElF,UAAAA,MAAM,CAAC0E,KAAP,CAAaS,WAAb;AAA4B,SAAjG,EAAmG,YAAM,CAAG,CAA5G,EAA8G,MAA9G,EAAsH,MAAtH;AACA;AACH;;AAED,UAAI,KAAI,CAACjC,UAAL,CAAgBoB,KAAhB,EAAuBV,oBAAvB,GAA8C5D,MAAM,CAAC4E,IAAP,CAAYQ,GAAZ,CAAgB,MAAhB,CAAlD,EAA2E;AACvEhB,QAAAA,OAAO,CAACiB,GAAR,CAAY,WAAZ,EAAyB,KAAI,CAACnC,UAA9B;AACA,YAAIO,MAAM,0HAAuD,KAAI,CAACC,QAAL,CAAc,KAAI,CAACR,UAAL,CAAgBoB,KAAhB,EAAuBV,oBAArC,CAAvD,8HAAV;AACA5D,QAAAA,MAAM,CAAC0E,KAAP,CAAaQ,UAAb,CAAwB,EAAxB,EAA4BzB,MAA5B,EAAoC,YAAM;AAAEzD,UAAAA,MAAM,CAAC0E,KAAP,CAAaY,QAAb,CAAsB,GAAtB;AAA4B,SAAxE,EAA0E,YAAM,CAAG,CAAnF,EAAqF,IAArF,EAA2F,IAA3F;AACA;AACH;;AAEDtF,MAAAA,MAAM,CAAC0E,KAAP,CAAaa,SAAb;;AACA,MAAA,KAAI,CAACtE,IAAL,CAAU0B,SAAV,CAAoBtC,EAAE,CAACmF,QAAH,CAChBnF,EAAE,CAACoF,SAAH,CAAa,EAAb,CADgB,EAEhBpF,EAAE,CAACqF,QAAH,CAAY,YAAM;AACd1F,QAAAA,MAAM,CAAC0E,KAAP,CAAaiB,UAAb;AACH,OAFD,CAFgB,CAApB;;AAOA3F,MAAAA,MAAM,CAACuE,IAAP,CAAYqB,eAAZ,CAA4BxC,MAA5B,EAAoCkB,KAApC;AACH,KAnCD;AAoCH,GAhJmB;;AAkJpB;;;;AAIAuB,EAAAA,SAtJoB,qBAsJVC,IAtJU,EAsJJC,OAtJI,EAsJK;AACrB,QAAIC,QAAQ,CAACF,IAAD,CAAR,GAAiBE,QAAQ,CAACD,OAAD,CAA7B,EAAwC;AACpC/F,MAAAA,MAAM,CAAC0E,KAAP,CAAaQ,UAAb,CAAwBlF,MAAM,CAACiG,IAAP,CAAYC,CAAZ,CAAc,qBAAd,CAAxB,EAA8DlG,MAAM,CAACiG,IAAP,CAAYC,CAAZ,CAAc,uBAAd,CAA9D,EAAsG,YAAM;AACxGlG,QAAAA,MAAM,CAAC0E,KAAP,CAAayB,eAAb,CAA6B,MAA7B;AACH,OAFD,EAEG,IAFH;AAGA,aAAO,KAAP;AACH;;AACD,WAAO,IAAP;AACH,GA9JmB;AAgKpBzC,EAAAA,QAhKoB,oBAgKX0C,KAhKW,EAgKJ;AACZ,WAAQC,MAAM,CAACD,KAAD,CAAN,CAAcE,GAAd,CAAkB,GAAlB,CAAD,CAAyBC,QAAzB,EAAP;AACH,GAlKmB;AAoKpBC,EAAAA,YApKoB,0BAoKL;AACXxG,IAAAA,MAAM,CAAC0E,KAAP,CAAa+B,eAAb,CAA6B,KAAKC,UAAlC,EAA8C1G,MAAM,CAAC4E,IAAP,CAAYQ,GAAZ,CAAgB,SAAhB,CAA9C;AACH,GAtKmB;AAwKpBxD,EAAAA,cAxKoB,4BAwKH;AACb,QAAIkE,IAAI,GAAG9F,MAAM,CAAC4E,IAAP,CAAYQ,GAAZ,CAAgB,MAAhB,CAAX;AACA,SAAKhF,SAAL,CAAeqD,MAAf,GAAwBzD,MAAM,CAAC4E,IAAP,CAAY+B,QAAZ,CAAqBb,IAArB,CAAxB;AACH,GA3KmB;AA6KpBc,EAAAA,SA7KoB,qBA6KV5F,MA7KU,EA6KF;AACd,SAAKA,MAAL,GAAcA,MAAd;AACH,GA/KmB;AAiLpB6F,EAAAA,YAjLoB,0BAiLL,CACd,CAlLmB;AAoLpB3C,EAAAA,cApLoB,4BAoLH;AACblE,IAAAA,MAAM,CAAC0E,KAAP,CAAayB,eAAb,CAA6B,UAA7B;AACH,GAtLmB;AAwLpBlC,EAAAA,aAxLoB,2BAwLJ;AACZjE,IAAAA,MAAM,CAAC0E,KAAP,CAAaY,QAAb,CAAsB,EAAtB;AACH,GA1LmB;AA4LpB3D,EAAAA,UA5LoB,wBA4LP;AACT3B,IAAAA,MAAM,CAACuD,SAAP,CAAiBuD,WAAjB;AACA,SAAKC,MAAL;AACH,GA/LmB;AAiMpBhD,EAAAA,UAjMoB,wBAiMP;AACT,QAAIiD,SAAS,GAAGhH,MAAM,CAAC0E,KAAP,CAAauC,SAAb,CAAuB,KAAKxG,QAA5B,CAAhB;AACAuG,IAAAA,SAAS,CAAC9F,MAAV,GAAmB,EAAnB;AACH,GApMmB;AAsMpB8C,EAAAA,YAtMoB,0BAsML;AACX,QAAIkD,WAAW,GAAGlH,MAAM,CAAC0E,KAAP,CAAauC,SAAb,CAAuB,KAAKtG,UAA5B,CAAlB;AACAuG,IAAAA,WAAW,CAAChG,MAAZ,GAAqB,EAArB;AACH,GAzMmB;AA2MpBiG,EAAAA,GA3MoB,eA2MhBC,GA3MgB,EA2MXhB,KA3MW,EA2MJ;AACZ,SAAKgB,GAAL,IAAYhB,KAAZ;AACH,GA7MmB;AA+MpBhB,EAAAA,GA/MoB,eA+MhBgC,GA/MgB,EA+MX;AACL,WAAO,KAAKA,GAAL,CAAP;AACH,GAjNmB;AAmNpBC,EAAAA,SAnNoB,uBAmNR;AACRrH,IAAAA,MAAM,CAACmB,OAAP,CAAe6B,GAAf,CAAmB3B,OAAO,CAACC,EAAR,CAAWC,eAA9B,EAA+C,IAA/C;AACAvB,IAAAA,MAAM,CAACmB,OAAP,CAAe6B,GAAf,CAAmB3B,OAAO,CAACC,EAAR,CAAWG,eAA9B,EAA+C,IAA/C;AACAzB,IAAAA,MAAM,CAACmB,OAAP,CAAe6B,GAAf,CAAmB,YAAnB,EAAiC,IAAjC;AACAhD,IAAAA,MAAM,CAACmB,OAAP,CAAe6B,GAAf,CAAmB,gBAAnB,EAAqC,IAArC;AACA,SAAKF,eAAL;AACH;AAzNmB,CAAxB","sourceRoot":"/","sourcesContent":["glGame.baseclass.extend({\r\n\r\n    properties: {\r\n        goldCount: cc.Label,\r\n        selectNode: cc.Node,\r\n        gameRule: cc.Prefab,\r\n        gameRecord: cc.Prefab,\r\n        BGM: {\r\n            type: cc.AudioClip,\r\n            default: null,\r\n        },\r\n    },\r\n\r\n    onLoad() {\r\n        this.gameid = 0;\r\n        this.node.zIndex = 20;\r\n        glGame.emitter.on(MESSAGE.UI.ROOM_ENTER_SHOW, this.RootNodeShow, this);\r\n        glGame.emitter.on(MESSAGE.UI.ROOM_ENTER_HIDE, this.RootNodeHide, this);\r\n        glGame.emitter.on(\"nodeRemove\", this.click_back, this);\r\n        glGame.emitter.on(\"updateUserData\", this.updateuserInfo, this);\r\n        this.registerEvent();\r\n        this.reqEnterArea();\r\n        this.updateuserInfo();\r\n        this.playEnterAnimation();\r\n    },\r\n\r\n    // 播放入场动画\r\n    playEnterAnimation() {\r\n        for (let i = 1; i <= 4; i++) {\r\n            let entryNode = this.selectNode.getChildByName(`entry${i}`);\r\n            entryNode.opacity = 0;\r\n            let originPos = entryNode.position;\r\n            if (i % 2 == 1) {\r\n                entryNode.x -= 300;\r\n            } else {\r\n                entryNode.x += 300;\r\n            }\r\n\r\n            let moveTo = cc.moveTo(0.3, originPos);\r\n            let fadeIn = cc.fadeIn(0.1);\r\n            moveTo.easing(cc.easeBackOut());\r\n            entryNode.runAction(cc.spawn(moveTo, fadeIn));\r\n        }\r\n    },\r\n\r\n    RootNodeShow() {\r\n        this.node.active = true;\r\n        this.registerEvent();\r\n        this.reqEnterArea();\r\n    },\r\n\r\n    RootNodeHide() {\r\n        this.node.active = false;\r\n        this.unregisterEvent();\r\n    },\r\n\r\n    //事件监听\r\n    registerEvent() {\r\n        glGame.emitter.on(\"onGameConfig\", this.onGameConfig, this);\r\n    },\r\n\r\n    //事件销毁\r\n    unregisterEvent() {\r\n        glGame.emitter.off(\"onGameConfig\", this);\r\n    },\r\n\r\n    onGameConfig(msg) {\r\n        this.gameConfig = msg;\r\n        this.refreshUI();\r\n    },\r\n\r\n    reqEnterArea() {\r\n        this.gameID = glGame.scenetag.JSZJH;\r\n        glGame.readyroom.reqEnterArea(glGame.scenetag.JSZJH);\r\n    },\r\n\r\n    refreshUI() {\r\n        this.node.active = true;\r\n        let gameConfig = this.gameConfig;\r\n\r\n        for (let i = 1; i <= 3; i++) {\r\n            let entryNode = this.selectNode.getChildByName(`entry${i + 1}`);\r\n            entryNode.getChildByName(\"dizhu_num\").getComponent(cc.Label).string = `底注：${this.getFloat(gameConfig[i].BaseChips)}`;\r\n            entryNode.getChildByName(\"zhunru_num\").getComponent(cc.Label).string = `准入：${this.getFloat(gameConfig[i].EntranceRestrictions)}`;\r\n        }\r\n    },\r\n\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"btn_back\": this.click_back(); break;\r\n            case \"btn_help\": this.click_help(); break;\r\n            case \"btn_record\": this.click_record(); break;\r\n            case \"mycoinInfo\": this.click_addgold(); break;\r\n            case \"headbg\": this.click_userinfo(); break;\r\n            case \"btn_chongzhi\": this.click_addgold(); break;\r\n            case \"entry1\": this.enterGame(99); break;\r\n            case \"entry2\": this.enterGame(1); break;\r\n            case \"entry3\": this.enterGame(2); break;\r\n            case \"entry4\": this.enterGame(3); break;\r\n            default: console.error(\"no find button name -> %s\", name);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * 进入金币场房间\r\n     * @param level 场次类型 1:普通房 2:贵宾房 3:富豪房 4:至尊房\r\n     */\r\n    enterGame(level) {\r\n        glGame.room.reqMyGameState(this.gameID, level).then(() => {\r\n            let gameID = this.gameID;\r\n            if (this.gameConfig[level] == null) {\r\n                glGame.panel.showMsgBox('提示', '该房间尚未开放，请尝试其他房间。');\r\n                return;\r\n            }\r\n\r\n            if (glGame.user.isTourist()) {\r\n                if (level != 99) {\r\n                    glGame.panel.showRegisteredGift(true);\r\n                    return;\r\n                }\r\n            }\r\n\r\n            if ((glGame.user.suspicious == 1 && glGame.user.game == 2) || glGame.user.is_game == 2) {\r\n                glGame.panel.showDialog(\"\", \"您的账号数据异常，暂时禁止进入游戏，如有疑问，请联系客服！\", () => { glGame.panel.showService() }, () => { }, \"我知道了\", \"联系客服\")\r\n                return;\r\n            }\r\n\r\n            if (this.gameConfig[level].EntranceRestrictions > glGame.user.get(\"coin\")) {\r\n                console.log(\"这是当前的房间限制\", this.gameConfig)\r\n                let string = ` <color=#99C7FF>您的金币不足，该房间需要</c> <color=#ff0000> ${this.getFloat(this.gameConfig[level].EntranceRestrictions)}  </c><color=#99C7FF>金币才可下注，是否马上前往充值？</c>`\r\n                glGame.panel.showDialog(\"\", string, () => { glGame.panel.showShop(100) }, () => { }, \"取消\", \"充值\");\r\n                return\r\n            }\r\n\r\n            glGame.panel.showJuHua();\r\n            this.node.runAction(cc.sequence(\r\n                cc.delayTime(15),\r\n                cc.callFunc(() => {\r\n                    glGame.panel.closeJuHua();\r\n                })\r\n            ))\r\n\r\n            glGame.room.setGoldRoomInfo(gameID, level);\r\n        })\r\n    },\r\n\r\n    /**\r\n     * 检查玩家金币是否足够\r\n     * @returns {boolean}\r\n     */\r\n    checkGold(coin, minCion) {\r\n        if (parseInt(coin) < parseInt(minCion)) {\r\n            glGame.panel.showDialog(glGame.i18n.t(\"USER.GOLDLACK.TITLE\"), glGame.i18n.t(\"USER.GOLDLACK.CONTENT\"), () => {\r\n                glGame.panel.showPanelByName(\"shop\");\r\n            }, null);\r\n            return false;\r\n        }\r\n        return true;\r\n    },\r\n\r\n    getFloat(value) {\r\n        return (Number(value).div(100)).toString();\r\n    },\r\n\r\n    showUserInfo() {\r\n        glGame.panel.showRemoteImage(this.Playerhead, glGame.user.get(\"headURL\"));\r\n    },\r\n\r\n    updateuserInfo() {\r\n        let coin = glGame.user.get(\"coin\")\r\n        this.goldCount.string = glGame.user.cutFloat(coin);\r\n    },\r\n\r\n    setGameId(gameid) {\r\n        this.gameid = gameid;\r\n    },\r\n\r\n    updateBgInfo() {\r\n    },\r\n\r\n    click_userinfo() {\r\n        glGame.panel.showPanelByName(\"userinfo\");\r\n    },\r\n\r\n    click_addgold() {\r\n        glGame.panel.showShop(30);\r\n    },\r\n\r\n    click_back() {\r\n        glGame.readyroom.reqExitArea();\r\n        this.remove();\r\n    },\r\n\r\n    click_help() {\r\n        let game_rule = glGame.panel.showPanel(this.gameRule);\r\n        game_rule.zIndex = 30;\r\n    },\r\n\r\n    click_record() {\r\n        let game_record = glGame.panel.showPanel(this.gameRecord);\r\n        game_record.zIndex = 30;\r\n    },\r\n\r\n    set(key, value) {\r\n        this[key] = value;\r\n    },\r\n\r\n    get(key) {\r\n        return this[key];\r\n    },\r\n\r\n    OnDestroy() {\r\n        glGame.emitter.off(MESSAGE.UI.ROOM_ENTER_SHOW, this);\r\n        glGame.emitter.off(MESSAGE.UI.ROOM_ENTER_HIDE, this);\r\n        glGame.emitter.off(\"nodeRemove\", this);\r\n        glGame.emitter.off(\"updateUserData\", this);\r\n        this.unregisterEvent();\r\n    }\r\n});\r\n"]}