{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\up.js"],"names":["RotateTime","ScaleTime","glGame","baseclass","extend","properties","tourist","cc","Node","formalPlayer","web_label","Label","head_bg","lab_userCoin","lab_userName","lab_userVip","userhead","btn_recharge","btn_more","moreButton","Prefab","fullscreen","logo_pos","node_logo","onLoad","countdown","webUrl","registerEvent","showUserInfo","userurldata","reqRedDot","panel","showChildPanel","node","getChildByName","active","x","setFullScreenState","OnDestroy","unRegisterEvent","emitter","on","showPump","showSignin","click_upgradeacc","off","user","get","official_url","substr","string","width","anchorX","data","count","i","dialSwitch","userPumpRecord","gameRecord","ReqRebateRecord","isOpenSign","signinbtn","sign_state","cutFloat","num","getFloat","Number","div","value","isNaN","toString","Math","floor","toFixed","isTourist","GoldTemp","showHeadImage","console","log","onClick","name","click_head","click_addgold","showRegister","click_notice","click_setting","click_welfare","click_officialweb","click_service","click_more","click_fullscreen","isDevelop","getComponent","devVersion","scheduleOnce","funUp","unschedule","schedule","runAction","sequence","rotateBy","gameNet","send_msg","route","msg","showTip","error","showPanel","isFullScreen","screen","exitFullScreen","requestFullScreen","showService","platform","copyToClip","showRegisteredGift","showPanelByName","showSuspicious","showShop","showRegistration","sys","isBrowser","_supportsFullScreen","abs","window","document","body","scrollWidth","height","scrollHeight"],"mappings":"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","sourceRoot":"/","sourcesContent":["const RotateTime = 0.1\r\nconst ScaleTime = 0.2\r\n\r\nglGame.baseclass.extend({\r\n    properties: {\r\n        tourist: cc.Node,    //游客信息显示\r\n        formalPlayer: cc.Node, //正式会员信息显示\r\n\r\n        web_label: cc.Label,\r\n\r\n        //玩家信息\r\n        head_bg: cc.Node,//玩家头像以及红点父节点\r\n        lab_userCoin: cc.Label,//玩家金币\r\n        lab_userName: cc.Label,//玩家名字\r\n        lab_userVip: cc.Label,//玩家vip等级\r\n        userhead: cc.Node,\r\n\r\n        //按钮\r\n        btn_recharge:cc.Node,\r\n\r\n        //btn_rank: cc.Node,\r\n        // btn_signin: cc.Node,\r\n        btn_more: cc.Node,\r\n\r\n        moreButton: cc.Prefab,\r\n        fullscreen: cc.Node,\r\n        //logo\r\n        logo_pos: cc.Node,\r\n        node_logo: cc.Prefab,\r\n    },\r\n\r\n    onLoad() {\r\n        this.countdown = 0;\r\n        this.webUrl = \"\";\r\n        this.registerEvent();\r\n        this.showUserInfo();\r\n        this.userurldata();\r\n        this.reqRedDot();\r\n        glGame.panel.showChildPanel(this.node_logo, this.logo_pos);\r\n        this.node.getChildByName(\"lab_bg\").active = false;\r\n        this.node.getChildByName(\"lab_devDesc\").active = false;\r\n        this.node.getChildByName(\"lab_devVersion\").active = false;\r\n        // this.btn_recharge.active = isEnableHotUpdate;\r\n        if (!this.btn_recharge.active) {\r\n            this.lab_userCoin.node.x = 0\r\n        }\r\n\r\n        // this.interval = setInterval(()=> {\r\n        //     this.setFullScreenState();\r\n        // }, 500);\r\n\r\n        this.setFullScreenState();\r\n    },\r\n    OnDestroy() {\r\n        this.unRegisterEvent();\r\n    },\r\n    // 注册界面监听事件\r\n    registerEvent() {\r\n        glGame.emitter.on(\"updateReqRebateRecord\", this.showPump, this);\r\n        glGame.emitter.on('updateSigninActive', this.showSignin, this);\r\n        glGame.emitter.on(\"updateUserData\", this.showUserInfo, this);\r\n        glGame.emitter.on(\"showBindPhone\", this.click_upgradeacc, this);\r\n        glGame.emitter.on(\"ReqRedDot\", this.reqRedDot, this);\r\n        glGame.emitter.on(\"userurldata\", this.userurldata, this);\r\n\r\n    },\r\n    // 销毁界面监听事件\r\n    unRegisterEvent() {\r\n        glGame.emitter.off(\"updateReqRebateRecord\", this);\r\n        glGame.emitter.off('updateSigninActive', this);\r\n        glGame.emitter.off(\"updateUserData\", this);\r\n        glGame.emitter.off(\"showBindPhone\", this);\r\n        glGame.emitter.off(\"ReqRedDot\", this);\r\n        glGame.emitter.off(\"userurldata\", this);\r\n    },\r\n    //url的显示数据\r\n    userurldata() {\r\n        if (!glGame.user.get(\"url\")) return;\r\n        let webUrl = this.webUrl = glGame.user.get(\"url\").official_url\r\n        if (webUrl[0] == 'h' && webUrl[1] == 't' && webUrl[2] == 't' && webUrl[3] == 'p' && webUrl[4] == ':') {\r\n            webUrl = webUrl.substr(7);\r\n        }\r\n        if (webUrl[0] == 'h' && webUrl[1] == 't' && webUrl[2] == 't' && webUrl[3] == 'p' && webUrl[4] == 's') {\r\n            webUrl = webUrl.substr(8);\r\n        }\r\n        \r\n        webUrl = `${webUrl}`;\r\n\r\n        this.web_label.string = webUrl ? webUrl : \"\";\r\n        //this.web_label._updateRenderData(true)\r\n        if (this.web_label.node.width > 150) {\r\n            this.web_label.node.anchorX = 0;\r\n            this.web_label.node.x = -80;\r\n        }\r\n    },\r\n    reqRedDot(data) {\r\n        if (!data) data = glGame.user.get('redDotData');\r\n        let count = 0;\r\n        for (let i in data) { count++ };\r\n        if (count == 0) return;\r\n        //this.btn_lucky.getChildByName(\"redMark\").active = data['dialRed'] == 1;\r\n        // this.btn_signin.getChildByName(\"redMark\").active = data['signinReq'] == 1;\r\n        this.head_bg.getChildByName(\"redMark\").active = data['vipReq'] == 1;\r\n        if ((data['dialRed'] == 1&&glGame.user.dialSwitch == 1) || data['payingReq'] == 1 || data['signinReq'] == 1) {\r\n            this.btn_more.getChildByName(\"redMark\").active = true;\r\n        } else {\r\n            this.btn_more.getChildByName(\"redMark\").active = false;\r\n        }\r\n    },\r\n    showPump() {\r\n        let userPumpRecord = glGame.user.get(\"userPumpRecord\");\r\n        let gameRecord = userPumpRecord;\r\n        if (!gameRecord) {\r\n            return glGame.user.ReqRebateRecord();\r\n        }\r\n    },\r\n    showSignin() {\r\n        let isOpenSign = glGame.user.get(\"isOpenSign\");\r\n        this.signinbtn.active = isOpenSign.sign_state == 1;\r\n    },\r\n    cutFloat(num) {\r\n        return (this.getFloat(Number(num).div(100)));\r\n    },\r\n    //浮点型运算取俩位\r\n    getFloat(value, num = 2) {\r\n        value = Number(value);\r\n        if (isNaN(value)) return;\r\n        if (~~value === value) {\r\n            return value.toString();\r\n        } else {\r\n            return (Math.floor(value * 100) / 100).toFixed(num);\r\n        }\r\n    },\r\n    // updateUserData 事件回调函数, 刷新玩家信息UI\r\n    showUserInfo() {\r\n        if (glGame.user.isTourist()) { //是否为游客\r\n            this.tourist.active = true;\r\n            this.formalPlayer.active = false;\r\n        } else {\r\n            this.tourist.active = false;\r\n            this.formalPlayer.active = true;\r\n            this.lab_userCoin.string = glGame.user.GoldTemp(glGame.user.get(\"coin\"));\r\n            this.lab_userName.string = glGame.user.get(\"nickname\");\r\n            glGame.panel.showHeadImage(this.userhead, glGame.user.get(\"headURL\"));\r\n            console.log(\"头像加载问题\", this.head_bg.getChildByName(\"userHead\"), glGame.user.get(\"headURL\"))\r\n            this.lab_userVip.string = glGame.user.get(\"vip_name\")\r\n        }\r\n    },\r\n    // 重写父类按钮点击事件\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"btn_head_bg\":\r\n            case \"userInfo\":\r\n                this.click_head(); break;\r\n            case \"gold\": this.click_addgold(); break;\r\n            case \"upgradeacc\":\r\n            case \"btn_zhuce\":\r\n                this.click_upgradeacc();\r\n                break;\r\n            case \"btn_denglu\":\r\n                glGame.panel.showRegister();\r\n                break;\r\n            case \"btn_dengluzhuce\": glGame.panel.showRegister(); break;\r\n            case \"notice\": this.click_notice(); break;\r\n            case \"setting\": this.click_setting(); break;\r\n            case \"welfare\": this.click_welfare(); break;\r\n            case \"btn_setting\": this.click_setting(); break;\r\n            case \"btn_fuzhi\": this.click_officialweb(); break;\r\n            case \"btn_service\": this.click_service(); break;\r\n            case \"btn_more\": this.click_more(); break;\r\n            case \"btn_fullscreen\": this.click_fullscreen(); break;\r\n            case \"btn_devVersion\":\r\n                if (glGame.isDevelop) {\r\n                    this.node.getChildByName(\"lab_bg\").active = true;\r\n                    this.node.getChildByName(\"lab_devDesc\").active = true;\r\n                    this.node.getChildByName(\"lab_devVersion\").active = true;\r\n                    this.node.getChildByName(\"lab_devVersion\").getComponent(cc.Label).string = glGame.devVersion + \"\";\r\n                    this.scheduleOnce(() => {\r\n                        this.node.getChildByName(\"lab_devDesc\").active = false;\r\n                        this.node.getChildByName(\"lab_devVersion\").active = false;\r\n                        this.node.getChildByName(\"lab_bg\").active = false;\r\n                    }, 30);\r\n                }\r\n                break;\r\n            case \"btn_recharge\":\r\n                if (this.countdown == 0) {\r\n                    this.countdown = 20;\r\n                    let funUp = function () {\r\n                        this.countdown--;\r\n                        if (this.countdown == 0) this.unschedule(funUp);\r\n                    }\r\n                    this.schedule(funUp, 1);\r\n                    node.runAction(cc.sequence(cc.rotateBy(1, 1080), cc.rotateBy(0, 0)));\r\n                    glGame.gameNet.send_msg(\"http.reqBack\", {}, (route, msg) => { });\r\n                } else {\r\n                    console.log(\"现在定时器到时间是：countdown=\", this.countdown);\r\n                    glGame.panel.showTip(`操作过于频繁，请稍后再试`);\r\n                }\r\n                break;\r\n            default: console.error(\"no find button name -> %s\", name);\r\n        }\r\n    },\r\n    click_more() {\r\n        glGame.panel.showPanel(this.moreButton)\r\n    },\r\n    click_fullscreen() {\r\n        if(this.isFullScreen()) {\r\n            cc.screen.exitFullScreen();\r\n        } else {\r\n            cc.screen.requestFullScreen(null, ()=> {\r\n                this.setFullScreenState();\r\n            }, ()=> {\r\n                this.setFullScreenState();\r\n            });\r\n        }\r\n    },\r\n    click_service() {\r\n        glGame.panel.showService();\r\n    },\r\n    click_officialweb() {\r\n        glGame.platform.copyToClip(this.webUrl, \"官网复制成功\");\r\n    },\r\n    click_head() {\r\n        if (glGame.user.isTourist()) {\r\n            glGame.panel.showRegisteredGift(true);\r\n            return;\r\n        }\r\n        glGame.panel.showPanelByName(\"userinfo\");\r\n    },\r\n    click_addgold() {\r\n        if (glGame.user.isTourist()) {\r\n            glGame.panel.showRegisteredGift(true);\r\n            return;\r\n        }\r\n        if (glGame.panel.showSuspicious(\"recharge\")) {\r\n            return;\r\n        }\r\n        glGame.panel.showShop();\r\n    },\r\n    click_upgradeacc() {\r\n        glGame.panel.showRegistration();\r\n    },\r\n    click_notice() {\r\n        glGame.panel.showPanelByName(\"notice\");\r\n    },\r\n    // click_setting() {\r\n    //     glGame.panel.showSetting(false);\r\n    // },\r\n\r\n    click_welfare() {\r\n        if (glGame.user.isTourist()) {\r\n            glGame.panel.showRegisteredGift(true);\r\n            return;\r\n        }\r\n        glGame.panel.showPanelByName(\"announcement\");\r\n    },\r\n    click_setting() {\r\n        glGame.panel.showPanelByName(\"settings\");\r\n    },\r\n    setFullScreenState() {\r\n        if(!cc.sys.isBrowser || !cc.screen._supportsFullScreen) {\r\n            this.fullscreen.active = false;\r\n            return;\r\n        }\r\n\r\n        this.fullscreen.getChildByName(\"img_fullscreen\").active = !this.isFullScreen();\r\n        this.fullscreen.getChildByName(\"img_window\").active = this.isFullScreen();\r\n    },\r\n\r\n    isFullScreen() {\r\n        if(!cc.sys.isBrowser) {\r\n            return false;\r\n        }\r\n\r\n        if(Math.abs(window.screen.width - document.body.scrollWidth) <= 2 && \r\n            Math.abs(window.screen.height - document.body.scrollHeight) <= 2) {\r\n                return true;\r\n            }\r\n\r\n        return false;\r\n    }\r\n});\r\n"]}