{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\enterRoom\\dzpkentry.js"],"names":["glGame","baseclass","extend","properties","goldCount","cc","Label","level","type","Node","rulePrefab","Prefab","recordPrefab","buttonList","scrollView","ScrollView","BGM","AudioClip","onLoad","gameid","node","zIndex","emitter","on","MESSAGE","UI","ROOM_ENTER_SHOW","RootNodeShow","ROOM_ENTER_HIDE","RootNodeHide","click_back","updateuserInfo","registerEvent","reqEnterArea","old_width","width","getComponent","Widget","updateAlignment","new_width","console","log","spacing_x","start","startMove","content","getChildByName","opacity","enabled","Layout","posList","index","i","length","item","push","v2","position","x","y","Math","random","stopAllActions","t","runAction","sequence","delayTime","moveTo","callFunc","game_logo","go2","back2","scrollLeftCb","scrollRigthCb","goldOnlineNum","onGameConfig","unregisterEvent","off","active","gameID","scenetag","DZPK","readyroom","onClick","name","click_help","click_record","click_addgold","click_userinfo","enterGame","executionScrollTo","error","scrollToLeft","scrollToRight","room","reqMyGameState","then","gameConfig","panel","showMsgBox","user","isTourist","showRegisteredGift","suspicious","game","is_game","showDialog","showService","EntranceRestrictions","get","string","getFloat","showShop","showJuHua","closeJuHua","setGoldRoomInfo","value","Number","div","checkGold","coin","minCion","parseInt","i18n","showPanelByName","msg","initUI","configure","count","cutFloat","SmallBaseChips","BaseChips","toString","showUserInfo","showRemoteImage","Playerhead","GoldTemp","setGameId","updateBgInfo","reqExitArea","remove","showPanel","set","key","OnDestroy"],"mappings":"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","sourceRoot":"/","sourcesContent":["//德州扑克 入口\r\nglGame.baseclass.extend({\r\n    properties: {\r\n        goldCount: cc.Label,\r\n        level: {\r\n            type: cc.Node,\r\n            default: []\r\n        },\r\n        rulePrefab : cc.Prefab,\r\n        recordPrefab : cc.Prefab,\r\n        buttonList : [cc.Node],\r\n        scrollView: cc.ScrollView,\r\n        BGM: {                              //背景声音\r\n            type:cc.AudioClip,\r\n            default:null,\r\n        },\r\n    },\r\n    onLoad() {\r\n        this.gameid = 0;\r\n        this.node.zIndex = 20;\r\n        glGame.emitter.on(MESSAGE.UI.ROOM_ENTER_SHOW, this.RootNodeShow, this);\r\n        glGame.emitter.on(MESSAGE.UI.ROOM_ENTER_HIDE, this.RootNodeHide, this);\r\n        glGame.emitter.on(\"nodeRemove\", this.click_back, this);\r\n        glGame.emitter.on(\"updateUserData\", this.updateuserInfo, this);\r\n        this.updateuserInfo();\r\n        this.registerEvent();\r\n        this.reqEnterArea();\r\n\r\n        let old_width = this.scrollView.node.width;\r\n        this.scrollView.getComponent(cc.Widget).updateAlignment();\r\n        let new_width = this.scrollView.node.width;\r\n        console.log(\"old_width=\", old_width, \",new_width=\", new_width)\r\n        this.spacing_x =  new_width / old_width;\r\n    },\r\n    start(){\r\n        this.startMove();\r\n    },\r\n    //动画\r\n    startMove() {\r\n        let content = this.scrollView.node.getChildByName(\"view\").getChildByName(\"content\");\r\n        content.width = content.width * this.spacing_x;\r\n        content.getComponent(cc.Widget).updateAlignment();\r\n        content.opacity = 255;\r\n        content.getComponent(cc.Widget).enabled = false;\r\n        content.getComponent(cc.Layout).enabled = false;\r\n\r\n        let posList = [];\r\n        let index = 0;\r\n        for (let i=0;i<this.buttonList.length;i++){\r\n            let item = this.buttonList[i];\r\n            item.getComponent(cc.Widget).updateAlignment();\r\n            posList.push(cc.v2(item.position.x,item.position.y));\r\n        }\r\n\r\n        for (let i=0;i<posList.length;i++){\r\n            let item = this.buttonList[i];\r\n            item.x += posList[posList.length-1].x + (Math.random() * 30);\r\n            item.stopAllActions();\r\n            let t = 0.1*i;\r\n            item.runAction(cc.sequence(cc.delayTime(t),cc.moveTo(0.2,cc.v2(posList[i].x - 40, posList[i].y)), cc.callFunc(()=>{\r\n                item.stopAllActions();\r\n                item.runAction(cc.sequence(cc.moveTo(0.1, posList[i]),cc.callFunc(()=>{\r\n                    index++;\r\n                    if(index == 4){\r\n                        content.getComponent(cc.Widget).enabled = true;\r\n                    }\r\n                })));\r\n            })));\r\n        }\r\n        let game_logo = this.node.getChildByName(\"Bg\").getChildByName(\"game_logomask\").getChildByName(\"game_logo\");\r\n        game_logo.x = this.node.getChildByName(\"point2\").x;\r\n        game_logo.y = this.node.getChildByName(\"point2\").y;\r\n        game_logo.opacity = 255;\r\n        let go2 = cc.moveTo(0.2,this.node.getChildByName(\"point3\").position);\r\n        let back2 = cc.moveTo(0.1,this.node.getChildByName(\"point4\").position);\r\n        game_logo.runAction(cc.sequence(go2,back2));\r\n    },\r\n     //事件监听\r\n     registerEvent() {\r\n        // 监听scrollView的滚动事件\r\n        this.scrollView.node.on(\"scroll-to-left\", this.scrollLeftCb, this);\r\n        this.scrollView.node.on(\"scroll-to-right\", this.scrollRigthCb, this);\r\n\r\n        glGame.emitter.on(\"goldOnlineNum\", this.goldOnlineNum, this);\r\n        glGame.emitter.on(\"onGameConfig\", this.onGameConfig, this);\r\n    },\r\n    //事件销毁\r\n    unregisterEvent() {\r\n        glGame.emitter.off(\"goldOnlineNum\", this);\r\n        glGame.emitter.off(\"onGameConfig\", this);\r\n    },\r\n    scrollLeftCb(scrollView){\r\n        // cc.log(\"**********************************触摸到Left，反弹函数\");\r\n        this.node.getChildByName(\"jiantou_l\").active = false;\r\n        this.node.getChildByName(\"jiantou_r\").active = false;\r\n        this.node.getChildByName(\"jiantou_r\").active = true;\r\n    },\r\n    scrollRigthCb(scrollView) {\r\n        // 回调的参数是 ScrollView 组件\r\n        // do whatever you want with scrollview\r\n        // cc.log(\"**********************************触摸到Rigth，反弹函数\");\r\n        this.node.getChildByName(\"jiantou_l\").active = false;\r\n        this.node.getChildByName(\"jiantou_r\").active = false;\r\n        this.node.getChildByName(\"jiantou_l\").active = true;\r\n     },\r\n    reqEnterArea() {\r\n        this.gameID = glGame.scenetag.DZPK;\r\n        glGame.readyroom.reqEnterArea(glGame.scenetag.DZPK);\r\n    },\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"btn_back\": this.click_back(); break;\r\n            case \"btn_help\": this.click_help(); break;\r\n            case \"btn_record\": this.click_record(); break;\r\n            case \"mycoinInfo\": this.click_addgold(); break;\r\n            case \"headbg\": this.click_userinfo(); break;\r\n            case \"btn_chongzhi\": this.click_addgold(); break;\r\n            case \"primary\": this.enterGame(99); break;\r\n            case \"intermediate\": this.enterGame(1); break;\r\n            case \"senior\": this.enterGame(2); break;\r\n            case \"tuhao\": this.enterGame(3); break;\r\n            case \"supremacy\": this.enterGame(4); break;\r\n            case \"volvo\": this.enterGame(5); break;\r\n            case \"jiantou_l\":\r\n            case \"jiantou_r\":\r\n                console.log(\"点击了按钮\");\r\n                this.executionScrollTo(name);\r\n                break;\r\n            default: console.error(\"no find button name -> %s\", name);\r\n        }\r\n    },\r\n    executionScrollTo(name) {\r\n        this.node.getChildByName(\"jiantou_l\").active = false;\r\n        this.node.getChildByName(\"jiantou_r\").active = false;\r\n\r\n        if (name == \"jiantou_l\") {\r\n            this.node.getChildByName(\"jiantou_r\").active = true;\r\n            this.scrollView.scrollToLeft(0.1);\r\n        } else {\r\n            this.node.getChildByName(\"jiantou_l\").active = true;\r\n            this.scrollView.scrollToRight(0.1);\r\n        }\r\n    },\r\n    enterGame(level) {\r\n        glGame.room.reqMyGameState(this.gameID, level).then(() => {\r\n            let gameID = this.gameID;\r\n            if (this.gameConfig[level] == null) {\r\n                glGame.panel.showMsgBox('提示', '该房间尚未开放，请尝试其他房间。');\r\n                return;\r\n            }\r\n            if (glGame.user.isTourist()) {\r\n                if (level != 99) {\r\n                    glGame.panel.showRegisteredGift(true)\r\n                    return;\r\n                }\r\n            }\r\n            if((glGame.user.suspicious == 1 &&glGame.user.game == 2 ) || glGame.user.is_game == 2 ){\r\n                glGame.panel.showDialog(\"\", \"您的账号数据异常，暂时禁止进入游戏，如有疑问，请联系客服！\", () => { glGame.panel.showService() }, () => {}, \"我知道了\", \"联系客服\")\r\n                return;\r\n            }\r\n            if (this.gameConfig[level].EntranceRestrictions > glGame.user.get(\"coin\")) {\r\n                console.log(\"这是当前的房间限制\", this.gameConfig)\r\n                let string = ` <color=#99C7FF>您的金币不足，该房间需要</c> <color=#ff0000> ${this.getFloat(this.gameConfig[level].EntranceRestrictions)}  </c><color=#99C7FF>金币才可下注，是否马上前往充值？</c>`\r\n                glGame.panel.showDialog(\"\", string, () => { glGame.panel.showShop(100) }, () => { }, \"取消\", \"充值\");\r\n                return\r\n            }\r\n            glGame.panel.showJuHua();\r\n            this.node.runAction(cc.sequence(\r\n                cc.delayTime(15),\r\n                cc.callFunc(() => {\r\n                    glGame.panel.closeJuHua();\r\n                })\r\n            ))\r\n            // TODO\r\n            // reqGoldRoomVerify为旧的进入房间方法，需要先请求验证，再进入房间\r\n            // setGoldRoomInfo 新的进入房间方法，无需验证，设置游戏类型以及房间信息后，直接进入房间\r\n            // if (glGame.enterRoomVerification) {\r\n            //     glGame.room.reqGoldRoomVerify(gameID, level);\r\n            // } else {\r\n            //     glGame.room.setGoldRoomInfo(gameID, level);\r\n            // }\r\n            glGame.room.setGoldRoomInfo(gameID, level);\r\n        })\r\n    },\r\n    getFloat(value){\r\n        return Number(value).div(100);\r\n    },\r\n    /**\r\n     * 检查玩家金币是否足够\r\n     * @returns {boolean}\r\n     */\r\n    checkGold(coin, minCion) {\r\n        console.log(\"金币检测\", coin, minCion);\r\n        if (parseInt(coin) < parseInt(minCion)) {\r\n            glGame.panel.showDialog(glGame.i18n.t(\"USER.GOLDLACK.TITLE\"), glGame.i18n.t(\"USER.GOLDLACK.CONTENT\"), () => {\r\n                glGame.panel.showPanelByName(\"shop\");\r\n            }, null);\r\n            return false;\r\n        }\r\n        return true;\r\n    },\r\n    goldOnlineNum(){\r\n\r\n    },\r\n    onGameConfig(msg) {\r\n        this.gameConfig = msg;\r\n        this.initUI();\r\n    },\r\n    initUI() {\r\n        this.node.active = true;\r\n        let configure = this.gameConfig;\r\n        let count = this.level.length;\r\n        for (let i = 1; i < 4; i++) {\r\n            this.level[i].getChildByName(\"dizhulaout\").getChildByName('dizhu_numbig').getComponent(cc.Label).string = `${this.cutFloat(configure[i].SmallBaseChips)}/${this.cutFloat(configure[i].BaseChips)}`\r\n            this.level[i].getChildByName(\"zhunrulayout\").getChildByName(\"zhunru_num\").getComponent(cc.Label).string = this.cutFloat(configure[i].EntranceRestrictions);\r\n\r\n        }\r\n    },\r\n    RootNodeShow(){\r\n        this.node.active = true;\r\n        this.registerEvent();\r\n        this.reqEnterArea();\r\n    },\r\n    RootNodeHide(){\r\n        this.node.active = false;\r\n        this.unregisterEvent();\r\n    },\r\n    cutFloat(value) {\r\n        return (Number(value).div(100)).toString();\r\n    },\r\n    showUserInfo() {\r\n        glGame.panel.showRemoteImage(this.Playerhead, glGame.user.get(\"headURL\"));\r\n    },\r\n    updateuserInfo() {\r\n        let coin = glGame.user.get(\"coin\")\r\n        this.goldCount.string = glGame.user.GoldTemp(coin);\r\n    },\r\n    setGameId(gameid) {\r\n        this.gameid = gameid;\r\n    },\r\n    updateBgInfo() {\r\n       \r\n    },\r\n    click_userinfo() {\r\n        glGame.panel.showPanelByName(\"userinfo\");\r\n    },\r\n    click_addgold() {\r\n        glGame.panel.showShop(30);\r\n    },\r\n    click_back() {\r\n        glGame.readyroom.reqExitArea();\r\n        this.remove();\r\n    },\r\n    click_help() {\r\n        glGame.panel.showPanel(this.rulePrefab).zIndex = 30;\r\n    },\r\n    click_record() {\r\n        glGame.panel.showPanel(this.recordPrefab).zIndex = 30;\r\n    },\r\n\r\n    set(key, value) {\r\n        this[key] = value;\r\n    },\r\n    get(key) {\r\n        return this[key];\r\n    },\r\n    OnDestroy() {\r\n        glGame.emitter.off(MESSAGE.UI.ROOM_ENTER_SHOW,this);\r\n        glGame.emitter.off(MESSAGE.UI.ROOM_ENTER_HIDE,this);\r\n        glGame.emitter.off(\"nodeRemove\", this);\r\n        glGame.emitter.off(\"updateUserData\",this);\r\n        this.unregisterEvent();\r\n    },\r\n});"]}