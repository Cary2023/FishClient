{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\enterRoom\\paijiuentry.js"],"names":["glGame","baseclass","extend","properties","goldCount","cc","Label","level","type","Node","pre_record","Prefab","pre_help","BGM","AudioClip","dizhulaoutList","zhunrulayoutList","onLoad","gameid","node","zIndex","emitter","on","MESSAGE","UI","ROOM_ENTER_SHOW","RootNodeShow","ROOM_ENTER_HIDE","RootNodeHide","click_back","updateuserInfo","registerEvent","reqEnterArea","active","resetView","unregisterEvent","goldOnlineNum","onGameConfig","off","msg","gameConfig","initUI","gameID","scenetag","PAIJIU","readyroom","onClick","name","click_help","click_record","click_addgold","click_userinfo","enterGame","console","error","room","reqMyGameState","then","panel","showMsgBox","user","isTourist","showRegisteredGift","suspicious","game","is_game","showDialog","showService","EntranceRestrictions","get","log","string","getFloat","showShop","showJuHua","runAction","sequence","delayTime","callFunc","closeJuHua","setGoldRoomInfo","checkGold","coin","minCion","parseInt","i18n","t","showPanelByName","configure","count","length","i","getChildByName","getComponent","cutFloat","BaseChips","animation","push","sp","Skeleton","setCompleteListener","trackEntry","loopCount","timeScale","setAnimation","value","Number","div","toString","showUserInfo","showRemoteImage","Playerhead","setGameId","updateBgInfo","reqExitArea","remove","showPanel","set","key","OnDestroy"],"mappings":"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","sourceRoot":"/","sourcesContent":["glGame.baseclass.extend({\r\n\r\n    properties: {\r\n        goldCount: cc.Label,\r\n        level: {\r\n            type: cc.Node,\r\n            default: []\r\n        },\r\n        pre_record: cc.Prefab,\r\n        pre_help: cc.Prefab,\r\n        BGM: {                              //背景声音\r\n            type:cc.AudioClip,\r\n            default:null,\r\n        },\r\n        dizhulaoutList:[cc.Node],\r\n        zhunrulayoutList:[cc.Node],\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        this.gameid = 0;\r\n        this.node.zIndex = 20;\r\n        glGame.emitter.on(MESSAGE.UI.ROOM_ENTER_SHOW, this.RootNodeShow, this);\r\n        glGame.emitter.on(MESSAGE.UI.ROOM_ENTER_HIDE, this.RootNodeHide, this);\r\n        glGame.emitter.on(\"nodeRemove\", this.click_back, this);\r\n        glGame.emitter.on(\"updateUserData\", this.updateuserInfo, this);\r\n        this.updateuserInfo();\r\n        this.registerEvent();\r\n        this.reqEnterArea();\r\n    },\r\n    RootNodeShow() {\r\n        this.node.active = true;\r\n        this.registerEvent();\r\n        this.reqEnterArea();\r\n    },\r\n    RootNodeHide() {\r\n        this.node.active = false;\r\n        this.resetView();\r\n        this.unregisterEvent();\r\n    },\r\n    //事件监听\r\n    registerEvent() {\r\n        glGame.emitter.on(\"goldOnlineNum\", this.goldOnlineNum, this);\r\n        glGame.emitter.on(\"onGameConfig\", this.onGameConfig, this);\r\n    },\r\n    //事件销毁\r\n    unregisterEvent() {\r\n        glGame.emitter.off(\"goldOnlineNum\", this);\r\n        glGame.emitter.off(\"onGameConfig\", this);\r\n    },\r\n    onGameConfig(msg) {\r\n        this.gameConfig = msg;\r\n        this.initUI();\r\n    },\r\n    goldOnlineNum() {\r\n\r\n    },\r\n    reqEnterArea() {\r\n        this.gameID = glGame.scenetag.PAIJIU;\r\n        glGame.readyroom.reqEnterArea(glGame.scenetag.PAIJIU);\r\n    },\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"btn_back\": this.click_back(); break;\r\n            case \"btn_help\": this.click_help(); break;\r\n            case \"btn_record\": this.click_record(); break;\r\n            case \"mycoinInfo\": this.click_addgold(); break;\r\n            case \"headbg\": this.click_userinfo(); break;\r\n            case \"btn_chongzhi\": this.click_addgold(); break;\r\n            case \"primary\": this.enterGame(99); break;\r\n            case \"intermediate\": this.enterGame(1); break;\r\n            case \"senior\": this.enterGame(2); break;\r\n            case \"tuhao\": this.enterGame(3); break;\r\n            case \"supremacy\": this.enterGame(4); break;\r\n            case \"volvo\": this.enterGame(5); break;\r\n            default: console.error(\"no find button name -> %s\", name);\r\n        }\r\n    },\r\n    /**\r\n    * 进入金币场房间\r\n    * @param level 场次类型 1:初级场 2:中级场 3:高级场 4:土豪场 5:至尊场\r\n    */\r\n    enterGame(level) {\r\n        glGame.room.reqMyGameState(this.gameID, level).then(() => {\r\n            let gameID = this.gameID;\r\n            if (this.gameConfig[level] == null) {\r\n                glGame.panel.showMsgBox('提示', '该房间尚未开放，请尝试其他房间。');\r\n                return;\r\n            }\r\n            if (glGame.user.isTourist()) {\r\n                if (level != 99) {\r\n                    glGame.panel.showRegisteredGift(true)\r\n                    return;\r\n                }\r\n            }\r\n            if ((glGame.user.suspicious == 1 && glGame.user.game == 2) || glGame.user.is_game == 2) {\r\n                glGame.panel.showDialog(\"\", \"您的账号数据异常，暂时禁止进入游戏，如有疑问，请联系客服！\", () => { glGame.panel.showService() }, () => { }, \"我知道了\", \"联系客服\")\r\n                return;\r\n            }\r\n            if (this.gameConfig[level].EntranceRestrictions > glGame.user.get(\"coin\")) {\r\n                console.log(\"这是当前的房间限制\", this.gameConfig)\r\n                let string = `<color=#99C7FF>您的金币不足，该房间需要</c> <color=#ff0000> ${this.getFloat(this.gameConfig[level].EntranceRestrictions)}  </c><color=#99C7FF>金币才可下注，是否马上前往充值？</c>`\r\n                glGame.panel.showDialog(\"\", string, () => { glGame.panel.showShop(100) }, () => { }, \"取消\", \"充值\");\r\n                return\r\n            }\r\n            glGame.panel.showJuHua();\r\n            this.node.runAction(cc.sequence(\r\n                cc.delayTime(15),\r\n                cc.callFunc(() => {\r\n                    glGame.panel.closeJuHua();\r\n                })\r\n            ))\r\n            // TODO\r\n            // reqGoldRoomVerify为旧的进入房间方法，需要先请求验证，再进入房间\r\n            // setGoldRoomInfo 新的进入房间方法，无需验证，设置游戏类型以及房间信息后，直接进入房间\r\n            // if (glGame.enterRoomVerification) {\r\n            //     glGame.room.reqGoldRoomVerify(gameID, level);\r\n            // } else {\r\n            //     glGame.room.setGoldRoomInfo(gameID, level);\r\n            // }\r\n            glGame.room.setGoldRoomInfo(gameID, level);\r\n        })\r\n    },\r\n    /**\r\n    * 检查玩家金币是否足够\r\n    * @returns {boolean}\r\n    */\r\n    checkGold(coin, minCion) {\r\n        console.log(\"金币检测\", coin, minCion);\r\n        if (parseInt(coin) < parseInt(minCion)) {\r\n            glGame.panel.showDialog(glGame.i18n.t(\"USER.GOLDLACK.TITLE\"), glGame.i18n.t(\"USER.GOLDLACK.CONTENT\"), () => {\r\n                glGame.panel.showPanelByName(\"shop\");\r\n            }, null);\r\n            return false;\r\n        }\r\n        return true;\r\n    },\r\n    initUI() {\r\n        this.resetView();\r\n        this.node.active = true;\r\n        let configure = this.gameConfig;\r\n        let count = this.level.length;\r\n        for (let i = 1; i < count; i++) {\r\n            this.dizhulaoutList[i-1].getChildByName(\"dizhu_num\").getComponent(cc.Label).string = this.cutFloat(configure[i].BaseChips);\r\n            this.zhunrulayoutList[i-1].getChildByName(\"zhunru_num\").getComponent(cc.Label).string = this.cutFloat(configure[i].EntranceRestrictions);\r\n        }\r\n      \r\n        let animation = [];\r\n        for (let i = 0; i < 4; i++) {\r\n            animation.push(\r\n                cc.delayTime(0.05 * i),\r\n                cc.callFunc(() => {\r\n                    this.level[i].active = true;\r\n                    this.level[i].runAction(cc.sequence(\r\n                        cc.callFunc(() => {\r\n                            this.level[i].getChildByName(\"spine\").getComponent(sp.Skeleton).setCompleteListener((trackEntry, loopCount) => {\r\n                                let name = trackEntry.animation ? trackEntry.animation.name : \"\";\r\n                                if (name == \"idle1\") {\r\n                                    this.level[i].getChildByName(\"spine\").getComponent(sp.Skeleton).timeScale = 1;\r\n                                    this.level[i].getChildByName(\"spine\").getComponent(sp.Skeleton).setAnimation(0, \"idle2\", true);\r\n                                }\r\n                            })\r\n                            this.level[i].getChildByName(\"spine\").getComponent(sp.Skeleton).timeScale = 1.3;\r\n                            this.level[i].getChildByName(\"spine\").getComponent(sp.Skeleton).setAnimation(0, \"idle1\", false)\r\n                        }),\r\n                        cc.delayTime(0.4),\r\n                        cc.callFunc(() => {\r\n                            // if(this.level[i].getChildByName(\"zhunrulayout\"))this.level[i].getChildByName(\"zhunrulayout\").active = true;\r\n                            // if(this.level[i].getChildByName(\"dizhulaout\"))this.level[i].getChildByName(\"dizhulaout\").active = true;\r\n                        })\r\n                    ))\r\n                })\r\n            )\r\n        }\r\n        this.node.runAction(cc.sequence(animation))\r\n    },\r\n    resetView(){\r\n        for (let i = 0; i < 4; i++) {\r\n            this.level[i].active = false;\r\n        }\r\n    },\r\n    cutFloat(value) {\r\n        return (Number(value).div(100)).toString();\r\n    },\r\n    showUserInfo() {\r\n        glGame.panel.showRemoteImage(this.Playerhead, glGame.user.get(\"headURL\"));\r\n    },\r\n    updateuserInfo() {\r\n        let coin = glGame.user.get(\"coin\")\r\n        this.goldCount.string = glGame.user.cutFloat(coin);\r\n        // this.goldCount.string = glGame.user.GoldTemp(coin);\r\n    },\r\n\r\n    setGameId(gameid) {\r\n        this.gameid = gameid;\r\n    },\r\n\r\n    updateBgInfo() {\r\n\r\n    },\r\n    click_userinfo() {\r\n        glGame.panel.showPanelByName(\"userinfo\");\r\n    },\r\n    click_addgold() {\r\n        glGame.panel.showShop(30);\r\n    },\r\n    click_back() {\r\n        glGame.readyroom.reqExitArea();\r\n        this.remove();\r\n    },\r\n    click_help() {\r\n        glGame.panel.showPanel(this.pre_help).zIndex = 30;\r\n    },\r\n    click_record() {\r\n        glGame.panel.showPanel(this.pre_record).zIndex = 30;\r\n    },\r\n\r\n    set(key, value) {\r\n        this[key] = value;\r\n    },\r\n    get(key) {\r\n        return this[key];\r\n    },\r\n    getFloat(value) {\r\n        return (Number(value).div(100)).toString();\r\n    },\r\n    OnDestroy() {\r\n        glGame.emitter.off(MESSAGE.UI.ROOM_ENTER_SHOW, this);\r\n        glGame.emitter.off(MESSAGE.UI.ROOM_ENTER_HIDE, this);\r\n        glGame.emitter.off(\"nodeRemove\", this);\r\n        glGame.emitter.off(\"updateUserData\", this);\r\n        this.unregisterEvent();\r\n    },\r\n    // update (dt) {},\r\n});\r\n"]}