{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\userInfo\\userinfoVipRight.js"],"names":["glGame","baseclass","extend","properties","content","cc","Node","item","onClick","name","node","remove","showVipRight","vipList","type","grid","getChildByName","active","refreshList","destroyAllChildren","i","length","cloneItem","instantiate","parent","vipInfo","getComponent","Label","string","vipName","recharge","betting","bonusUpgrade","bonusWeek","bonusMonth","temp","Number","balance","toFixed","toString","cutFloat","returnRatio","panel","showEffectNode","value","Math","floor","parseFloat"],"mappings":"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","sourceRoot":"/","sourcesContent":["\r\n/**\r\n * 玩家个人信息界面\r\n */\r\nglGame.baseclass.extend({\r\n    properties: {\r\n        content: cc.Node,\r\n        item: cc.Node,\r\n    },\r\n\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"close\":\r\n                this.remove()\r\n                break;\r\n        }\r\n    },\r\n\r\n    // 显示vip权益\r\n    showVipRight(vipList, type) {\r\n        let grid = this.node.getChildByName(\"grid\");\r\n        if(type == 1) {\r\n            grid.getChildByName(\"img_title_ljcz\").active = true;\r\n        } else {\r\n            grid.getChildByName(\"img_title_ljdml\").active = true;\r\n        }\r\n        this.refreshList(vipList, type);\r\n    },\r\n\r\n    // 刷新列表\r\n    refreshList(vipList, type) {\r\n        this.content.destroyAllChildren();\r\n        for(let i = 0; i < vipList.length; i++) {\r\n            let cloneItem = cc.instantiate(this.item);\r\n            cloneItem.getChildByName(\"bg\").active = i % 2 == 0;\r\n            cloneItem.active = false;\r\n            cloneItem.parent = this.content;\r\n\r\n            let vipInfo = vipList[i];\r\n            cloneItem.getChildByName(\"vip\").getComponent(cc.Label).string = `VIP${vipInfo.vipName}`;                              // vip等级\r\n            cloneItem.getChildByName(\"all_charge\").getComponent(cc.Label).string = type==1 ? vipInfo.recharge/100 : vipInfo.betting/100; // 累计充值/ 打码量\r\n            cloneItem.getChildByName(\"promo_award\").getComponent(cc.Label).string = vipInfo.bonusUpgrade/100;                           // 晋级彩金\r\n            cloneItem.getChildByName(\"week_award\").getComponent(cc.Label).string = vipInfo.bonusWeek/100;                           // 周礼金\r\n            cloneItem.getChildByName(\"month_award\").getComponent(cc.Label).string = vipInfo.bonusMonth/100;                         // 月礼金\r\n            let temp = (Number(vipInfo.balance) / 100 * 365).toFixed(2).toString();\r\n            cloneItem.getChildByName(\"yuebao\").getComponent(cc.Label).string = `${temp}%`;                                        // 余额宝年化收益率\r\n            cloneItem.getChildByName(\"return_ratio\").getComponent(cc.Label).string = `${this.cutFloat(vipInfo.returnRatio)}%`;    // 游戏返水利率\r\n\r\n            if(i == vipList.length -1) {\r\n                cloneItem.getChildByName(\"frame_horizontal\").active = false;\r\n            }\r\n        }\r\n\r\n        glGame.panel.showEffectNode(this,this.content,0.02,true);\r\n    },\r\n\r\n    //截取小数点后2位\r\n    cutFloat(value) {\r\n        if (typeof value !== 'string' && typeof value !== 'number') return;\r\n        return (Math.floor(parseFloat(value)) / 100).toFixed(2);\r\n    },\r\n});\r\n"]}