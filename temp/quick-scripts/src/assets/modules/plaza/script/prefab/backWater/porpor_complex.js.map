{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\backWater\\porpor_complex.js"],"names":["GAME_VARIETY_TAB","tabs_official","tabs_qipai","tabs_jieji","tabs_buyu","tabs_shixun","tabs_tiyu","tabs_caipiao","tabs_dianjing","glGame","baseclass","extend","properties","typeNodeList","cc","Node","vip_page","vip_pageup","vip_rightnext","vip_level","Label","bet_page","bet_pageup","bet_pagenext","bet_scope","ratecontent","rateitem","onLoad","registerEvent","vipLevel","gradeId","vipMax","pageIndex","betNumMax","config","gameOrPlatMap","type","initTopToggle","switchPlatform","emitter","on","rebateConfigList","unRegisterEvent","off","OnDestroy","ReqRebateConfigList","user","accountId","userID","gameTypeList","gamelistcfg","get","tabName","id","getChildByName","active","isGameOpen","vipId","data","i","length","groupId","setConfig","initpageView","initMidUI","chengeBtnState","Object","keys","modeType","gameporpor","gameKeys","string","name","cutFloat","removeAllChildren","gamekeys","itemCount","item","index","Number","instantiate","parent","childrenindex","gameitem","getComponent","gamedata","div","toFixed","panel","showEffectNode","onClick","node","vipleft_cb","vipright_cb","betleft_cb","betright_cb","indexOf","selectClick","x","typeList","count","getFloat","value","toString"],"mappings":"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","sourceRoot":"/","sourcesContent":["/**\r\n * 返水比例\r\n */\r\n\r\n// key 为控件名称， value 为与服务端约定好的数组名称\r\nconst GAME_VARIETY_TAB = {\r\n    tabs_official: -1,          //官方平台\r\n    tabs_qipai: 1,              //棋牌\r\n    tabs_jieji: 3,              //街机\r\n    tabs_buyu: 2,               //捕鱼\r\n    tabs_shixun: 4,             //视讯\r\n    tabs_tiyu: 6,               //体育\r\n    tabs_caipiao: 5,            //彩票\r\n    tabs_dianjing: 7,           //电竞\r\n}\r\n\r\nglGame.baseclass.extend({\r\n    properties: {\r\n        typeNodeList: cc.Node,\r\n        //\r\n        vip_page: cc.Node,\r\n        vip_pageup: cc.Node,\r\n        vip_rightnext: cc.Node,\r\n        vip_level: cc.Label,\r\n\r\n        bet_page: cc.Node,\r\n        bet_pageup: cc.Node,\r\n        bet_pagenext: cc.Node,\r\n        bet_scope: cc.Label,\r\n\r\n        ratecontent: cc.Node,\r\n        rateitem: cc.Node,\r\n    },\r\n\r\n    onLoad() {\r\n        this.registerEvent();\r\n        \r\n        this.vipLevel = -1;\r\n        this.gradeId = 0;      // vip等级id或会员层级id\r\n        this.vipMax = 0;\r\n        this.pageIndex = 0;\r\n        this.betNumMax = 0;\r\n        this.config = null;\r\n        this.gameOrPlatMap = null;\r\n        this.type = -1;\r\n\r\n        this.initTopToggle();\r\n        this.switchPlatform(-1);\r\n    },\r\n    \r\n    registerEvent() {\r\n        glGame.emitter.on(\"rebateConfigList\", this.rebateConfigList, this);\r\n    },\r\n\r\n    unRegisterEvent() {\r\n        glGame.emitter.off(\"rebateConfigList\", this);\r\n    },\r\n\r\n    OnDestroy() {\r\n        this.unRegisterEvent();\r\n    },\r\n\r\n    switchPlatform(type) {\r\n        this.type = type;\r\n        this.ReqRebateConfigList(type);\r\n    },\r\n\r\n    ReqRebateConfigList(type) {\r\n        glGame.user.ReqRebateConfigList({\r\n            accountId: glGame.user.userID,\r\n            type: type,\r\n        });\r\n    },\r\n\r\n    initTopToggle() {\r\n        // 获取配表里面的数据牌区分是否开启分类\r\n        let gameTypeList = glGame.gamelistcfg.get(\"gameDisplayTypeList\");\r\n        if(!gameTypeList) {\r\n            return;\r\n        }\r\n\r\n        for(let tabName in GAME_VARIETY_TAB) {\r\n            let id = GAME_VARIETY_TAB[tabName];\r\n            this.typeNodeList.getChildByName(tabName).active = this.isGameOpen(gameTypeList, id);\r\n        }\r\n\r\n        this.typeNodeList.getChildByName(\"tabs_official\").active = true;\r\n    },\r\n\r\n    rebateConfigList() {\r\n        this.rebateConfigList = glGame.user.get(\"rebateConfigList\");\r\n        this.gameOrPlatMap = this.rebateConfigList.gameOrPlatMap;\r\n        this.gradeId = this.rebateConfigList.gradeId;\r\n        let vipId = this.rebateConfigList.vipId;\r\n        let data = this.rebateConfigList.data;\r\n        if(this.vipLevel == -1) {\r\n            for(let i = 0; i < data.length; i++) {\r\n                if(data[i].groupId == vipId) {\r\n                    this.vipLevel = i;\r\n                    break;\r\n                }\r\n            }    \r\n        }\r\n        \r\n        this.setConfig();\r\n        this.initpageView();\r\n        this.initMidUI();\r\n        this.chengeBtnState();\r\n    },\r\n\r\n    initpageView() {\r\n        if (Object.keys(this.config) == 0) {\r\n            this.vip_page.active = false;\r\n            this.bet_page.active = false;\r\n            return;\r\n        } else {\r\n            this.vip_page.active = this.rebateConfigList.modeType == \"vip\";\r\n            this.bet_page.active = true;\r\n        }\r\n\r\n        let keys = Object.keys(this.config)                 //子游戏ID数组\r\n        let gameporpor = this.config[keys[0]];              //子游戏的数据\r\n        let gameKeys = Object.keys(gameporpor);             //区间的keys\r\n\r\n        if (this.vip_page.active) this.vip_level.string = this.rebateConfigList.data[this.vipLevel].name;\r\n\r\n        if (this.pageIndex == gameKeys.length - 1) {\r\n            this.bet_scope.string = `${this.cutFloat(gameKeys[this.pageIndex])}以上`\r\n        } else {\r\n            this.bet_scope.string = `${this.cutFloat(gameKeys[this.pageIndex])}~${this.cutFloat(gameKeys[this.pageIndex + 1])}`\r\n        }\r\n    },\r\n\r\n    initMidUI() {\r\n        let config = this.config;\r\n        this.ratecontent.removeAllChildren();\r\n        let gamekeys = Object.keys(config)\r\n        let itemCount = 0;\r\n        let item;               //一个item包含3个子游戏\r\n        let index = 0;\r\n        for (let i = 0; i < gamekeys.length; i++) {\r\n            if(!this.gameOrPlatMap[Number(gamekeys[i])]) {\r\n                continue;\r\n            }\r\n\r\n            if (index % 3 == 0) {\r\n                item = cc.instantiate(this.rateitem);\r\n                item.parent = this.ratecontent;\r\n                item.active = false;\r\n                item.getChildByName(\"bg\").active = itemCount % 2 == 0\r\n                itemCount += 1;\r\n            }\r\n\r\n            let childrenindex = (index % 3) + 1;    //节点里面有bg\r\n            let gameitem = item.getChildByName(`gamename${childrenindex}`)\r\n            gameitem.active = true;\r\n            gameitem.getComponent(cc.Label).string = this.gameOrPlatMap[Number(gamekeys[i])]; //游戏名\r\n\r\n            let gamedata = config[gamekeys[i]];\r\n            let keys = Object.keys(gamedata);\r\n            gameitem.getChildByName(\"porpor_lab\").getComponent(cc.Label).string = `${Number(gamedata[keys[this.pageIndex]]).div(100).toFixed(2)}%`;\r\n            index++;\r\n        }\r\n        glGame.panel.showEffectNode(this,this.ratecontent,0.02,true);\r\n        \r\n    },\r\n\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"vip_left\": this.vipleft_cb(); break;\r\n            case \"vip_right\": this.vipright_cb(); break;\r\n            case \"bet_left\": this.betleft_cb(); break;\r\n            case \"bet_right\": this.betright_cb(); break;\r\n            default:\r\n                if (name.indexOf(\"tabs_\") > -1) this.selectClick(name);\r\n                break;\r\n        }\r\n    },\r\n\r\n    selectClick(name) {\r\n        this.pageIndex = 0;\r\n        this.switchPlatform(GAME_VARIETY_TAB[name]);\r\n    },\r\n\r\n    betleft_cb() {\r\n        if (this.pageIndex == 0) return;\r\n        this.pageIndex--;\r\n        this.initpageView();\r\n        this.initMidUI();\r\n        this.chengeBtnState();\r\n    },\r\n\r\n    betright_cb() {\r\n        if (this.pageIndex == this.betNumMax - 1) return;\r\n        this.pageIndex++;\r\n        this.initpageView();\r\n        this.initMidUI();\r\n        this.chengeBtnState();\r\n    },\r\n\r\n    vipleft_cb() {\r\n        if (this.vipLevel <= 0) return;\r\n        this.vipLevel--;\r\n        this.pageIndex = 0;\r\n        this.setConfig();\r\n        this.initpageView();\r\n        this.initMidUI();\r\n        this.chengeBtnState();\r\n    },\r\n\r\n    vipright_cb() {\r\n        if (this.vipLevel == this.vipMax) return;\r\n        this.vipLevel++;\r\n        this.pageIndex = 0;\r\n        this.setConfig();\r\n        this.initpageView();\r\n        this.initMidUI();\r\n        this.chengeBtnState();\r\n    },\r\n\r\n    chengeBtnState() {\r\n        this.vip_pageup.active = this.vipLevel != 0;\r\n        this.vip_rightnext.active = this.vipLevel != this.vipMax - 1;\r\n        this.bet_pageup.active = this.pageIndex != 0;\r\n        this.bet_pagenext.active = this.pageIndex != this.betNumMax - 1;\r\n    },\r\n\r\n    setConfig() {\r\n        this.bet_page.active = true;\r\n        if (this.rebateConfigList.modeType == \"vip\") {\r\n            this.vipMax = Object.keys(this.rebateConfigList.data).length;\r\n            this.config = this.rebateConfigList.data[this.vipLevel].config;\r\n            let keys = Object.keys(this.config);                         //子游戏ID数组\r\n            let gameporpor = this.config[keys[0]];                      //子游戏的数据\r\n            let gameKeys = Object.keys(gameporpor);                     //区间的keys\r\n            this.betNumMax = gameKeys.length;\r\n            this.vip_page.active = true;\r\n            this.bet_page.x = 224;\r\n        } else {\r\n            this.config = this.rebateConfigList.data.config;\r\n            let keys = Object.keys(this.config)                         //子游戏ID数组\r\n            let gameporpor = this.config[keys[0]];                      //子游戏的数据\r\n            let gameKeys = Object.keys(gameporpor);                     //区间的keys\r\n            this.betNumMax = gameKeys.length;\r\n            this.vip_page.active = false;\r\n            this.bet_page.x = 0;\r\n        }\r\n    },\r\n\r\n    // 游戏是否开启\r\n    isGameOpen(typeList, id) {\r\n        let count = typeList.length;\r\n        for(let i = 0; i < count; i++) {\r\n            if(typeList[i].id == id) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    getFloat(value) {\r\n        return (Number(value).div(100)).toFixed(4);\r\n    },\r\n    //浮点型运算取俩位\r\n    cutFloat(value) {\r\n        return Number(value).div(100).toString();\r\n    },\r\n\r\n});\r\n"]}