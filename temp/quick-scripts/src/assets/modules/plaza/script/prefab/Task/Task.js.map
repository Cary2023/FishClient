{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\Task\\Task.js"],"names":["taskcfg","require","ON_TYPE","DAYTASK","WEEKTASK","ACHIEVERE","MAKEMONEY","SELECTINDEX","TaskType","dailyType","activeType","glGame","baseclass","extend","properties","awardTips","cc","Prefab","interFace","Node","selectType","UsualItem","boxList","arrIcon","SpriteFrame","onLoad","in_type","record","registerEvent","ImageCode","panel","showEffectPariticle","node","emitter","on","name","MESSAGE","UI","ACTION_END","ReqMissionConfig","unRegisterEvent","off","onClick","ReqMissionList","switchFace","remove","getReward","goReward","Reward","popularize","announce","goTask","gobackWater","goyubao","goplaza","boxReward","console","log","gameNet","send_msg","route","data","initSelect","result","i","childrenCount","children","active","getComponent","Toggle","check","type","cycleType","initFaceInfo","initTask","activeList","isgetReward","ReqMissionAllReward","initWindowInfo","refreshAllReward","oldReward","getChildByName","Label","string","Number","missionCoin","div","user","reqGetCoin","reqGetDiamond","selectResult","key","content","missionList","length","instantiate","parent","title","getDescribe","coinreward","dimandreward","activereward","rewardCoin","getFloat","rewardDiamond","get","rewardActive","progress","progressTarget","state","tips","TASK","STATE_COMPLETE","STATE_GETREWARD","y","Sprite","spriteFrame","icon","showEffectNode","totalReward","rewardInfo","unReceiveReward","activeValue","boxNode","boxItem","iconId","refreshbox","refreshProress","activity","x","width","mask","startX","endX","range","jumpGame","gameid","gamelistcfg","onEnterGame","value","toString","showPanelByName","Index","missionType","gameId","showShop","rewardType","rewardId","id","coin","interFaceData","index","getIndex","score","randDiamond","showChildPanel","randCoin","min","max","randIntegral","showMsg","AWARD_TITTLE","allReward","awardlist","push","awardtype","COIN","integral","SCORE","VITALITY","diamond","DIAMOND","showAwardBox","AWARD_TIPS","activeNum","TaskList","BoxList","playflash","flash","sp","Skeleton","setAnimation","setCompleteListener","trackEntry","loopCount","animation","btn_getReward","isReward","Button","interactable","isTourist","redDotData","missionReq","emit","OnDestroy"],"mappings":"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","sourceRoot":"/","sourcesContent":["let taskcfg = require('taskcfg');\r\nconst ON_TYPE = {\r\n    DAYTASK: 0, // 每日任务\r\n    WEEKTASK: 1,//每周任务\r\n    ACHIEVERE: 2,//成就奖励\r\n    MAKEMONEY: 3 //我要赚钱\r\n}\r\nconst SELECTINDEX = {\r\n    \"isDaily\": 1,\r\n    \"isWeekly\": 2,\r\n    \"isAchievement\": 0\r\n}\r\nconst TaskType = {\r\n    dailyType: 1,\r\n    activeType: 2\r\n}\r\nglGame.baseclass.extend({\r\n    properties: {\r\n        awardTips: cc.Prefab,\r\n        interFace: cc.Node,\r\n        selectType: cc.Node,\r\n        UsualItem: cc.Node,\r\n        boxList: cc.Node,\r\n        arrIcon: [cc.SpriteFrame],\r\n    },\r\n    onLoad() {\r\n        this.in_type = 0; // 当前所在的界面类型\r\n        this.record = {};//将请求过的数据存入\r\n        this.registerEvent();\r\n        this.ImageCode = {\r\n            101: this.arrIcon[0],\r\n            102: this.arrIcon[1],\r\n            103: this.arrIcon[2],\r\n            104: this.arrIcon[3],\r\n            105: this.arrIcon[4],\r\n            106: this.arrIcon[5],\r\n            107: this.arrIcon[6],\r\n            108: this.arrIcon[7],\r\n            109: this.arrIcon[8],\r\n            201: this.arrIcon[9],\r\n            202: this.arrIcon[10],\r\n            203: this.arrIcon[11],\r\n            204: this.arrIcon[12],\r\n            205: this.arrIcon[13],\r\n        }\r\n        glGame.panel.showEffectPariticle(this.node);\r\n    },\r\n\r\n    // 注册界面监听事件\r\n    registerEvent() {\r\n        glGame.emitter.on(`${this.node.name}${MESSAGE.UI.ACTION_END}`, this.ReqMissionConfig, this);\r\n    },\r\n    // 销毁界面监听事件\r\n    unRegisterEvent() {\r\n        glGame.emitter.off(`${this.node.name}${MESSAGE.UI.ACTION_END}`, this);\r\n    },\r\n\r\n\r\n\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"isDaily\":\r\n            case \"isWeekly\":\r\n            case \"isAchievement\":\r\n                this.ReqMissionList(name); break;\r\n            case \"makeMonkey\":\r\n                this.switchFace(name)\r\n                break;\r\n            case \"close\": this.remove(); break;\r\n            case \"btn_getReward\": this.getReward(); break;\r\n\r\n\r\n            case \"btn_goReward\": this.goReward(node); break;\r\n            case \"btn_Reward\": this.Reward(node); break;\r\n            case \"btn_gopopularize\": this.popularize(); break;\r\n            case \"btn_goannounce\": this.announce(); break;\r\n            case \"btn_goTask\": this.goTask(); break;\r\n            case \"btn_gobackWater\": this.gobackWater(); break;\r\n            case \"btn_goyubao\": this.goyubao(); break;\r\n            case \"btn_goplaza\": this.goplaza(); break;\r\n\r\n            case \"icon_box_1\": case \"icon_box_2\": case \"icon_box_3\":\r\n            case \"icon_box_4\": case \"icon_box_5\":\r\n                this.boxReward(name, node)\r\n                break\r\n            default: console.log(\" btn name: \", name); break;\r\n        }\r\n    },\r\n    //请求标题的显示\r\n    ReqMissionConfig() {\r\n        glGame.gameNet.send_msg('http.ReqMissionConfig', null, (route, data) => {\r\n            this.initSelect(data.result);\r\n            for (let i = 0; i < this.selectType.childrenCount; i++) {\r\n                if (this.selectType.children[i].active) {\r\n                    this.selectType.children[i].getComponent(cc.Toggle).check();\r\n                    if (i == 0) this.onClick(\"isDaily\");\r\n                    break;\r\n                }\r\n            }\r\n        });\r\n    },\r\n    //1任务 2 活跃\r\n    //state 1:进行中 2 可领取 3已完成\r\n    ReqMissionList(name) {\r\n        if (this.record[name]) return this.switchFace(name);\r\n        let type = SELECTINDEX[name];\r\n        glGame.gameNet.send_msg('http.ReqMissionList', { cycleType: type }, (route, data) => {\r\n            this.record[name] = data.result;\r\n            this.switchFace(name);\r\n            this.initFaceInfo(data.result);\r\n            this.initTask(data.result.activeList)\r\n            this.isgetReward();\r\n        });\r\n    },\r\n    //一次性领取全部的奖励\r\n    ReqMissionAllReward(cycleType) {\r\n        glGame.gameNet.send_msg('http.ReqMissionAllReward', { cycleType: cycleType }, (route, data) => {\r\n            this.initWindowInfo(data.result);\r\n            this.refreshAllReward();\r\n            let oldReward = this.interFace.children[this.in_type].getChildByName(\"totalReward\").getChildByName(\"oldReward\").getComponent(cc.Label);\r\n            oldReward.string = Number(oldReward.string) - Number(data.result.missionCoin).div(100);\r\n            glGame.user.reqGetCoin();\r\n            glGame.user.reqGetDiamond();\r\n            this.isgetReward();\r\n        });\r\n    },\r\n    //初始化点击选项\r\n    initSelect(selectResult) {\r\n        for (let key in selectResult) {\r\n            if (this.selectType.getChildByName(`${key}`)) {\r\n                this.selectType.getChildByName(`${key}`).active = selectResult[key];\r\n            }\r\n            for (let i = 0; i < this.selectType.childrenCount; i++) {\r\n                if (this.selectType.children[i].getChildByName(`${key}`)) {\r\n                    this.selectType.children[i].getChildByName(`${key}`).active = selectResult[key];\r\n                }\r\n            }\r\n        }\r\n        if (this.selectType.getChildByName(`makeMonkey`)) this.selectType.getChildByName(`makeMonkey`).active = true;\r\n    },\r\n    //界面转换\r\n    switchFace(name) {\r\n        for (let i = 0; i < this.interFace.childrenCount; i++) {\r\n            if (this.interFace.children[i].name == name) {\r\n                this.interFace.children[i].active = true;\r\n                this.in_type = i;\r\n            } else {\r\n                this.interFace.children[i].active = false;\r\n            }\r\n        }\r\n    },\r\n    //界面信息初始化\r\n    initFaceInfo(data) {\r\n        let content = this.interFace.children[this.in_type].getChildByName(\"TaskList\").getChildByName(\"view\").getChildByName(\"content\");\r\n        let missionList = data.missionList;\r\n        for (let i = 0; i < missionList.length; i++) {\r\n            let UsualItem = cc.instantiate(this.UsualItem);\r\n            UsualItem.parent = content;\r\n            UsualItem.active = false;\r\n            UsualItem.getChildByName(\"Title\").getComponent(cc.Label).string = missionList[i].title;\r\n            UsualItem.getChildByName(\"describe\").getComponent(cc.Label).string = taskcfg.getDescribe(missionList[i]);\r\n            //UsualItem.getChildByName(\"coinreward\").getComponent(cc.Label).string = this.getFloat(missionList[i].rewardCoin);\r\n            UsualItem.name = `${i}`\r\n\r\n\r\n            let coinreward = UsualItem.getChildByName(\"layout\").getChildByName(\"coinreward\");\r\n            let dimandreward = UsualItem.getChildByName(\"layout\").getChildByName(\"dimandreward\");\r\n            let activereward = UsualItem.getChildByName(\"activereward\");\r\n            // coinreward.active = missionList[i].rewardCoin;\r\n            // dimandreward.active = missionList[i].rewardDiamond || glGame.user.get(\"roomSwitch\") == 1;\r\n            // activereward.active = missionList[i].rewardActive;\r\n            if(missionList[i].rewardCoin>0){\r\n                coinreward.active = true;\r\n                coinreward.getComponent(cc.Label).string = this.getFloat(missionList[i].rewardCoin);\r\n            }else {coinreward.active = false;}\r\n            if(missionList[i].rewardDiamond>0&&glGame.user.get(\"roomSwitch\") == 1){\r\n                dimandreward.active = true;\r\n                dimandreward.getComponent(cc.Label).string = this.getFloat(missionList[i].rewardDiamond);\r\n            }else {dimandreward.active = false;}\r\n            if(missionList[i].rewardActive>0){\r\n                activereward.active = true\r\n                activereward.getChildByName(\"lab_reward\").getComponent(cc.Label).string = missionList[i].rewardActive\r\n            }else {activereward.active = false;}\r\n            //成就奖励的项目没有活跃度奖励而且icon没有底框\r\n            if (this.in_type == ON_TYPE.ACHIEVERE) {\r\n                UsualItem.getChildByName(\"activereward\").active = false;\r\n            } else {\r\n                activereward.getChildByName(\"lab_reward\").getComponent(cc.Label).string = missionList[i].rewardActive;\r\n            }\r\n\r\n            //根据当前进度与目标进度匹配显示内容\r\n            if (Number(missionList[i].progress) >= Number(missionList[i].progressTarget) && missionList[i].state != 3) {\r\n                UsualItem.getChildByName(\"schdule_des\").getComponent(cc.Label).string = glGame.tips.TASK.STATE_COMPLETE;\r\n            } else if (missionList[i].state == 3) {\r\n                UsualItem.getChildByName(\"schdule_des\").getComponent(cc.Label).string = glGame.tips.TASK.STATE_GETREWARD;\r\n                UsualItem.getChildByName(\"schdule_des\").y = 4;\r\n            } else {\r\n                UsualItem.getChildByName(\"schdule_des\").getComponent(cc.Label).string = `${missionList[i].progress}/${missionList[i].progressTarget}`;\r\n            }\r\n            UsualItem.getChildByName(\"icon\").getComponent(cc.Sprite).spriteFrame = this.ImageCode[missionList[i].icon];\r\n            UsualItem.getChildByName(\"btn_goReward\").active = missionList[i].state == 1;\r\n            UsualItem.getChildByName(\"btn_Reward\").active = missionList[i].state == 2\r\n        }\r\n\r\n        glGame.panel.showEffectNode(this,content,0.02,true);\r\n\r\n        let totalReward = this.interFace.children[this.in_type].getChildByName(\"totalReward\");\r\n        totalReward.getChildByName(\"dayTotalReward\").getComponent(cc.Label).string = this.getFloat(data.rewardInfo.totalReward);\r\n        totalReward.getChildByName(\"oldReward\").getComponent(cc.Label).string = this.getFloat(data.rewardInfo.unReceiveReward);\r\n\r\n        if (this.in_type == ON_TYPE.DAYTASK || this.in_type == ON_TYPE.WEEKTASK) {\r\n            let activeValue = this.interFace.children[this.in_type].getChildByName(\"activeNum\").getChildByName(\"Number\");\r\n            activeValue.getComponent(cc.Label).string = data.activeValue;\r\n        }\r\n\r\n    },\r\n    //对宝箱进行排序\r\n    initTask(boxList) {\r\n        if (this.in_type > 1) return\r\n        if (boxList.length == 0) this.interFace.children[this.in_type].getChildByName(\"taskProgress\").active = false;\r\n        let boxNode = this.interFace.children[this.in_type].getChildByName(\"taskProgress\").getChildByName(\"allReward\");\r\n        for (let i = 0; i < boxList.length; i++) {\r\n            let boxItem = cc.instantiate(this.boxList.getChildByName(`icon_box_${boxList[i].iconId}`));\r\n            boxItem.parent = boxNode;\r\n            boxItem.name = `icon_box_${i + 1}`\r\n            boxItem.active = true;\r\n            // let box = boxNode.getChildByName(`icon_box_${boxList[i].iconId}`);\r\n            // box.active = true;\r\n            // box.setSiblingIndex(i);\r\n        }\r\n        /*boxNode.runAction(cc.sequence(\r\n            cc.delayTime(0.1),\r\n            cc.callFunc(()=>{\r\n                this.refreshbox();\r\n                this.refreshProress();\r\n            })\r\n        ))\r\n        */\r\n\r\n        this.refreshbox();\r\n        this.refreshProress();\r\n    },\r\n    refreshbox() {\r\n        let boxNode = this.interFace.children[this.in_type].getChildByName(\"taskProgress\").getChildByName(\"allReward\");\r\n        let activeValue = Number(this.record[this.interFace.children[this.in_type].name].activeValue);\r\n        let boxList = this.record[this.interFace.children[this.in_type].name].activeList;\r\n        for (let i = 0; i < boxList.length; i++) {\r\n            boxNode.children[i].getChildByName(\"achieveNum\").getComponent(cc.Label).string = boxList[i].activity;\r\n            console.log(\"这是当前的宝箱活跃度\", boxList[i].activity, boxNode.children[i].getChildByName(\"achieveNum\").getComponent(cc.Label).string)\r\n            if (boxList[i].activity <= activeValue) {\r\n                if (boxList[i].state == 3) {\r\n                    boxNode.children[i].getChildByName(\"closing\").active = false;\r\n                    boxNode.children[i].getChildByName(\"opening\").active = true;\r\n                } else {\r\n                    boxNode.children[i].getChildByName(\"light\").active = true;\r\n                    boxNode.children[i].getChildByName(\"manypill\").active = true;\r\n                }\r\n            }\r\n\r\n            boxNode.children[i].x = (i + 1) / boxList.length * boxNode.width;\r\n        }\r\n    },\r\n\r\n    //刷新进度条信息\r\n    refreshProress() {\r\n        let boxList = this.record[this.interFace.children[this.in_type].name].activeList;\r\n\r\n        let activeValue = Number(this.record[this.interFace.children[this.in_type].name].activeValue);\r\n        let boxNode = this.interFace.children[this.in_type].getChildByName(\"taskProgress\").getChildByName(\"allReward\");\r\n        let mask = this.interFace.children[this.in_type].getChildByName(\"taskProgress\").getChildByName(\"mask\");\r\n        for(let i=0;i<boxList.length;i++){\r\n            if(activeValue <= boxList[i].activity) {\r\n                if(i == 0) {\r\n                    mask.width = boxNode.children[i].x * activeValue / boxList[i].activity;\r\n                } else {\r\n                    let startX = boxNode.children[i-1].x;\r\n                    let endX = boxNode.children[i].x;\r\n                    let range = boxList[i].activity - boxList[i-1].activity;\r\n                    mask.width = startX + (activeValue - boxList[i-1].activity) / range * (endX - startX);\r\n                }\r\n                return\r\n            }\r\n        }\r\n        mask.width = mask.getChildByName(\"bar\").width;\r\n    },\r\n    //跳转游戏\r\n    jumpGame(gameid) {\r\n        console.log(\"====》这是跳转的游戏的gameid\", gameid);\r\n        // glGame.emitter.emit(\"roomEntrance\", gameid);\r\n        if (gameid == 0) {\r\n            this.remove();\r\n        } else {\r\n            glGame.gamelistcfg.onEnterGame(gameid, true);\r\n        }\r\n        \r\n    },\r\n    //桌面数据的显示\r\n    getFloat(value) {\r\n        return (Number(value).div(100)).toString();\r\n    },\r\n    popularize() {\r\n        this.remove(false);\r\n        glGame.panel.showPanelByName(\"popularize\");\r\n    },\r\n    //去完成\r\n    goReward(node) {\r\n        this.remove(false);\r\n        let Index = node.parent.name;\r\n        let missionList = this.record[this.interFace.children[this.in_type].name].missionList;\r\n        if (missionList[Index].missionType >= 5) {\r\n            this.jumpGame(missionList[Index].gameId)\r\n        } else if (missionList[Index].missionType == 2) {\r\n            glGame.panel.showPanelByName(\"popularize\");\r\n        } else if (missionList[Index].missionType == 3 || missionList[Index].missionType == 4) {\r\n            glGame.panel.showShop();\r\n        }\r\n    },\r\n    //领取任务奖励\r\n    Reward(node) {\r\n        let Index = node.parent.name;\r\n        let cycleType = SELECTINDEX[this.interFace.children[this.in_type].name];\r\n        let rewardType = TaskType.dailyType;\r\n        let rewardId = this.record[this.interFace.children[this.in_type].name].missionList[Index].id;\r\n        console.log(\"这是当前领取任务奖励参数\", cycleType, rewardType, rewardId)\r\n        glGame.gameNet.send_msg('http.ReqMissionReward', { cycleType: cycleType, rewardType: rewardType, rewardId: rewardId }, (route, data) => {\r\n            this.initWindowInfo(data.result)\r\n            node.active = false;\r\n            node.parent.getChildByName(\"schdule_des\").getComponent(cc.Label).string = glGame.tips.TASK.STATE_GETREWARD;\r\n            node.parent.getChildByName(\"schdule_des\").y = 4;\r\n            node.parent.getChildByName(\"btn_Reward\").active = false;\r\n            this.record[this.interFace.children[this.in_type].name].missionList[Index].state = 3;\r\n            let oldReward = this.interFace.children[this.in_type].getChildByName(\"totalReward\").getChildByName(\"oldReward\").getComponent(cc.Label);\r\n            oldReward.string = Number(oldReward.string) - Number(data.result.coin).div(100);\r\n            glGame.user.reqGetCoin();\r\n            glGame.user.reqGetDiamond();\r\n            this.isgetReward();\r\n        });\r\n    },\r\n    //宝箱领取奖励\r\n    boxReward(name, node) {\r\n        //if (!node.getChildByName(\"light\").active) return;\r\n        let interFaceData = this.record[this.interFace.children[this.in_type].name]\r\n        let index = this.getIndex(name);\r\n        let activeValue = interFaceData.activeValue;\r\n        let coin = null, score = null,randDiamond = null;\r\n        if (Number(interFaceData.activeList[index].activity) > activeValue) {\r\n            let awardTips = glGame.panel.showChildPanel(this.awardTips, this.node)\r\n\r\n            if (interFaceData.activeList[index].randCoin.length != 0) {\r\n                coin = `${this.getFloat(interFaceData.activeList[index].randCoin.min)}~${this.getFloat(interFaceData.activeList[index].randCoin.max)}`\r\n            }\r\n            console.log(\"这是当前数组\", interFaceData.activeList[index].randIntegral, interFaceData.activeList[index].randIntegral.length)\r\n            if (interFaceData.activeList[index].randIntegral.length != 0) {\r\n                score = `${this.getFloat(interFaceData.activeList[index].randIntegral.min)}~${this.getFloat(interFaceData.activeList[index].randIntegral.max)}`\r\n            }\r\n            if (interFaceData.activeList[index].randDiamond.length != 0) {\r\n                randDiamond = `${this.getFloat(interFaceData.activeList[index].randDiamond.min)}~${this.getFloat(interFaceData.activeList[index].randDiamond.max)}`\r\n            }\r\n            awardTips.getComponent(\"awardTips\").showMsg(glGame.tips.TASK.AWARD_TITTLE, coin, score,randDiamond)\r\n            return\r\n        }\r\n        let cycleType = SELECTINDEX[this.interFace.children[this.in_type].name];\r\n        let rewardType = TaskType.activeType;\r\n        let rewardId = interFaceData.activeList[index].id;\r\n        glGame.gameNet.send_msg('http.ReqMissionReward', { cycleType: cycleType, rewardType: rewardType, rewardId: rewardId }, (route, data) => {\r\n            this.initWindowInfo(data.result);\r\n            node.getChildByName(\"light\").active = false;\r\n            node.getChildByName(\"manypill\").active = false;\r\n            node.getChildByName(\"closing\").active = false;\r\n            node.getChildByName(\"opening\").active = true;\r\n            interFaceData.activeList[index].state = 3;\r\n            glGame.user.reqGetCoin();\r\n            glGame.user.reqGetDiamond();\r\n            this.isgetReward();\r\n        });\r\n    },\r\n    //获取当前宝箱的索引\r\n    getIndex(name) {\r\n        let allReward = this.interFace.children[this.in_type].getChildByName(\"taskProgress\").getChildByName(\"allReward\");\r\n        for (let i = 0; i < allReward.childrenCount; i++) {\r\n            if (allReward.children[i].name == name) {\r\n                console.log(\"allReward.children[i].name\", allReward.children[i].name, i, name)\r\n                return i;\r\n            }\r\n        }\r\n    },\r\n    //初始化弹窗回包信息\r\n    initWindowInfo(data) {\r\n        let awardlist = [];\r\n        data.coin != null &&data.coin>0? awardlist.push({ type: glGame.awardtype.COIN, value: this.getFloat(data.coin) }) : null;\r\n        data.integral != null&&data.integral>0 ? awardlist.push({ type: glGame.awardtype.SCORE, value: this.getFloat(data.integral) }) : null;\r\n        data.active != null &&data.active>0? awardlist.push({ type: glGame.awardtype.VITALITY, value: data.active }) : null;\r\n        data.diamond != null &&data.diamond>0? awardlist.push({ type: glGame.awardtype.DIAMOND, value: this.getFloat(data.diamond) }) : null;\r\n        console.log(\"这是当前奖励的数组\", awardlist, glGame.user.get(\"roomSwitch\"));\r\n        glGame.panel.showAwardBox(glGame.tips.TASK.AWARD_TIPS, awardlist);\r\n        if (data.active && data.active != 0) {\r\n            // this.playflash();\r\n            let activeNum = this.interFace.children[this.in_type].getChildByName(\"activeNum\").getChildByName(\"Number\").getComponent(cc.Label);\r\n            this.record[this.interFace.children[this.in_type].name].activeValue = Number(this.record[this.interFace.children[this.in_type].name].activeValue) + Number(data.active);\r\n            activeNum.string = this.record[this.interFace.children[this.in_type].name].activeValue;\r\n            this.refreshProress();\r\n            this.refreshbox();\r\n        }\r\n    },\r\n    refreshAllReward() {\r\n        let TaskList = this.interFace.children[this.in_type].getChildByName(\"TaskList\").getChildByName(\"view\").getChildByName(\"content\");\r\n\r\n        for (let i = 0; i < TaskList.childrenCount; i++) {\r\n            if (TaskList.children[i].getChildByName(\"btn_Reward\").active) {\r\n                TaskList.children[i].getChildByName(\"btn_Reward\").active = false;\r\n                TaskList.children[i].getChildByName(\"schdule_des\").getComponent(cc.Label).string = glGame.tips.TASK.STATE_GETREWARD;\r\n                TaskList.children[i].getChildByName(\"schdule_des\").y = 4;\r\n            }\r\n        }\r\n        if (this.in_type != ON_TYPE.ACHIEVERE) {\r\n            let BoxList = this.interFace.children[this.in_type].getChildByName(\"taskProgress\").getChildByName(\"allReward\");\r\n            for (let i = 0; i < BoxList.childrenCount; i++) {\r\n                if (BoxList.children[i].getChildByName(\"light\").active) {\r\n                    BoxList.children[i].getChildByName(\"light\").active = false;\r\n                    BoxList.children[i].getChildByName(\"manypill\").active = false;\r\n                    BoxList.children[i].getChildByName(\"closing\").active = false;\r\n                    BoxList.children[i].getChildByName(\"opening\").active = true;\r\n                }\r\n            }\r\n        }\r\n        let activeList = this.record[this.interFace.children[this.in_type].name].activeList;\r\n        for (let i = 0; i < activeList.length; i++) {\r\n            activeList[i].state = 3;\r\n        }\r\n        let missionList = this.record[this.interFace.children[this.in_type].name].missionList;\r\n        for (let i = 0; i < missionList.length; i++) {\r\n            missionList[i].state = 3;\r\n        }\r\n\r\n    },\r\n    playflash() {\r\n        let flash = this.interFace.children[this.in_type].getChildByName(\"flash\");\r\n        flash.active = true;\r\n        flash.getComponent(sp.Skeleton).setAnimation(0, \"huoyuedu\", false);\r\n        flash.getComponent(sp.Skeleton).setCompleteListener((trackEntry, loopCount) => {\r\n            let name = trackEntry.animation ? trackEntry.animation.name : \"\";\r\n            if (name == 'huoyuedu') {\r\n                flash.active = false;\r\n            }\r\n        })\r\n    },\r\n    //是否有可领取的奖励\r\n    isgetReward() {\r\n        let TaskList = this.interFace.children[this.in_type].getChildByName(\"TaskList\").getChildByName(\"view\").getChildByName(\"content\");\r\n\r\n        let btn_getReward = this.interFace.children[this.in_type].getChildByName(\"totalReward\").getChildByName(\"btn_getReward\");\r\n        let interFaceData = this.record[this.interFace.children[this.in_type].name]\r\n        let isReward = false;\r\n        // for (let i = 0; i < TaskList.childrenCount; i++) {\r\n        //     if (TaskList.children[i].getChildByName(\"btn_Reward\").active) {\r\n        //         isReward = true;\r\n        //         break;\r\n        //     }\r\n        // }\r\n        let missionList = interFaceData.missionList;\r\n        for (let i = 0; i < missionList.length; i++) {\r\n            if (Number(missionList[i].progress) >= Number(missionList[i].progressTarget) && missionList[i].state != 3) {\r\n                isReward = true;\r\n                break;\r\n            }\r\n        }\r\n        if (this.in_type != ON_TYPE.ACHIEVERE) {\r\n            // let BoxList = this.interFace.children[this.in_type].getChildByName(\"taskProgress\").getChildByName(\"allReward\");\r\n            // for (let i = 0; i < BoxList.childrenCount; i++) {\r\n            //     if (BoxList.children[i].getChildByName(\"light\").active) {\r\n            //         isReward = true;\r\n            //         break;\r\n            //     }\r\n            // }\r\n            let activeList = interFaceData.activeList\r\n            for (let i = 0; i < activeList.length; i++) {\r\n                if (activeList[i].activity <= interFaceData.activeValue && activeList[i].state != 3) {\r\n                    isReward = true;\r\n                    console.log(\"红点隐藏\", activeList[i].activity, interFaceData.activeValue, activeList[i].state, activeList)\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        console.log(\"当前一键领取以及红点\", isReward)\r\n        btn_getReward.getComponent(cc.Button).interactable = isReward;\r\n        this.selectType.children[this.in_type].children[2].active = isReward;\r\n\r\n        for (let i = 0; i < this.selectType.childrenCount; i++) {\r\n            if (this.selectType.children[i].children[2] && this.selectType.children[i].children[2].active) {\r\n                return\r\n            }\r\n        }\r\n\r\n        if (!glGame.user.isTourist()) {\r\n            glGame.user.redDotData.missionReq = 2;\r\n            glGame.emitter.emit(\"ReqRedDot\");\r\n            console.log(\"关闭大厅任务红点\")\r\n        }\r\n    },\r\n    //一键领取所有奖励\r\n    getReward() {\r\n        let cycleType = SELECTINDEX[this.interFace.children[this.in_type].name];\r\n        console.log(\"这是当前的点击类型\", cycleType)\r\n        this.ReqMissionAllReward(cycleType);\r\n    },\r\n    announce() {\r\n        this.remove(false);\r\n        glGame.panel.showPanelByName(\"announcement\");\r\n    },\r\n    goTask() {\r\n        for(let i = 0; i <= ON_TYPE.ACHIEVERE; i++) {\r\n            if(this.selectType.children[i].active) {\r\n                this.selectType.children[i].getComponent(cc.Toggle).check();\r\n                break;\r\n            }\r\n        }\r\n        \r\n    },\r\n    gobackWater() {\r\n        this.remove(false);\r\n        glGame.panel.showPanelByName('backWater');\r\n    },\r\n    goyubao() {\r\n        this.remove(false);\r\n        glGame.panel.showPanelByName('yubao');\r\n    },\r\n    goplaza() {\r\n        this.remove();\r\n    },\r\n    OnDestroy() {\r\n        this.unRegisterEvent();\r\n    },\r\n});\r\n"]}