{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\withdrawal\\withdrawal.js"],"names":["EXTRACT_TYPE","NONE","ALIPAY","BANK","glGame","baseclass","extend","properties","extractBank","cc","Node","extractAlipay","lab_cashCoin","Label","lab_extractRule","lab_ask","RichText","selectCash","bankCash","Toggle","alipayCash","edbNumBank","EditBox","editbox","edbNumNode","cashRecord","cashItem","integer","decimal","onLoad","index","registerEvent","ActionEndData","reqDrawCoin","ReqCashBroadcastList","emitter","on","node","name","MESSAGE","UI","ACTION_END","updateUserData","withdrawSuccess","onTextChanged","unRegisterEvent","off","string","vau","Number","isNaN","edbStr","indexOf","length","substr","Math","abs","toString","gameNet","send_msg","pageSize","route","data","defData","list","rollingData","serverTimeoff","serverTime","Date","now","initCashRecord","totalAmount","getcurTime","cur_waitTime","countDown","floor","amount","coin","max","getFloat","panel","showPanelByName","then","prefab","getComponent","playSucceed","recordIndex","Count","i","instantiate","parent","active","timeStamp","updateTime","strTime","getMonth","getDate","getHours","getMinutes","getChildByName","logicId","cashAmount","showEffectNode","myCoinshow","nowNumber","cishu","time","Number1","div","Number2","Number3","sub","dty","cb","action","szNum","delayTime","callFunc","add","setintegerLabel","push","stopAllActions","runAction","sequence","value","spriteFrameList","childrenCount","numString","len","Sprite","spriteFrame","charAt","update","dt","cutTime","played","addItem","console","log","getSeconds","boolreqData","children","destroy","removeFromParent","unit","type","fee","start","withdraw_deposit_start","end","withdraw_deposit_end","isNoUpperLimit","mode","cashPwdMode","unsatisfiedCoin","showMode","setExtractRule","initViewData","reqWithdrawConfig","phoneCode","phone","checkType","phone_check","drawPwdState","cash_password","user","reqWithdraw","showSetDrawPassword","checkPhone","showSetPhoneCode","showPassword","showPhoneCode","script","setTips","set","initView","get","initData","content1","str","content2","bank","alipay","isChecked","bank_card","replace","substring","getSelfFunc","setString","X","Z","parseInt","Y","endValue","min","setPlaceholder","onClick","remove","click_alipayCash","click_bankCash","click_waterRule","click_extractMgr","click_extractRecord","click_bindbank","click_bindalipay","sureExtract","extractRecord","reqextractAlipay","showErrorTip","tips","EXCHANGE","LOCK","EMPTY_INPUT","OUT_OF_RANGE","test","NONUMBER","EXCLITTLE","num","MUST_INTEGER","format","userCoin","MINGOLD","drawtype","showTip","OUT_OF_LIMIT","accountStr","tipstr","BIND_ZFB","BIND_BANK","MONEY_NOT_ENOUGH","OnDestroy"],"mappings":";;;;;;AAAA,IAAMA,YAAY,GAAG;AAAE;AACnBC,EAAAA,IAAI,EAAE,CADW;AAEjBC,EAAAA,MAAM,EAAE,CAFS;AAGjBC,EAAAA,IAAI,EAAE;AAHW,CAArB;AAKAC,MAAM,CAACC,SAAP,CAAiBC,MAAjB,CAAwB;AAEpBC,EAAAA,UAAU,EAAE;AACRC,IAAAA,WAAW,EAAEC,EAAE,CAACC,IADR;AACa;AACrBC,IAAAA,aAAa,EAAEF,EAAE,CAACC,IAFV;AAEe;AACvBE,IAAAA,YAAY,EAAEH,EAAE,CAACI,KAHT;AAGgB;AACxBC,IAAAA,eAAe,EAAEL,EAAE,CAACI,KAJZ;AAIkB;AAC1BE,IAAAA,OAAO,EAAEN,EAAE,CAACO,QALJ;AAORC,IAAAA,UAAU,EAAER,EAAE,CAACC,IAPP;AAQRQ,IAAAA,QAAQ,EAAET,EAAE,CAACU,MARL;AASRC,IAAAA,UAAU,EAAEX,EAAE,CAACU,MATP;AAURE,IAAAA,UAAU,EAAEZ,EAAE,CAACa,OAVP;AAWRC,IAAAA,OAAO,EAAEd,EAAE,CAACa,OAXJ;AAYRE,IAAAA,UAAU,EAAEf,EAAE,CAACC,IAZP;AAcRe,IAAAA,UAAU,EAAEhB,EAAE,CAACC,IAdP;AAeRgB,IAAAA,QAAQ,EAAEjB,EAAE,CAACC,IAfL;AAgBRiB,IAAAA,OAAO,EAAElB,EAAE,CAACC,IAhBJ;AAiBRkB,IAAAA,OAAO,EAAEnB,EAAE,CAACI;AAjBJ,GAFQ;AAsBpB;AAEAgB,EAAAA,MAxBoB,oBAwBX;AACL,SAAKC,KAAL,GAAa,CAAb;AACA,SAAKC,aAAL;AACH,GA3BmB;AA8BpBC,EAAAA,aA9BoB,2BA8BJ;AACZ,SAAKC,WAAL;AACA,SAAKC,oBAAL;AACH,GAjCmB;AAmCpB;AACAH,EAAAA,aApCoB,2BAoCJ;AACZ3B,IAAAA,MAAM,CAAC+B,OAAP,CAAeC,EAAf,WAAqB,KAAKC,IAAL,CAAUC,IAA/B,SAAsCC,OAAO,CAACC,EAAR,CAAWC,UAAjD,GAA+D,KAAKT,aAApE,EAAmF,IAAnF;AACA5B,IAAAA,MAAM,CAAC+B,OAAP,CAAeC,EAAf,CAAkB,gBAAlB,EAAoC,KAAKM,cAAzC,EAAyD,IAAzD;AACAtC,IAAAA,MAAM,CAAC+B,OAAP,CAAeC,EAAf,CAAkB,iBAAlB,EAAqC,KAAKO,eAA1C,EAA2D,IAA3D;AACA,SAAKpB,OAAL,CAAac,IAAb,CAAkBD,EAAlB,CAAqB,cAArB,EAAqC,KAAKQ,aAA1C,EAAyD,IAAzD;AACH,GAzCmB;AA0CpB;AACAC,EAAAA,eA3CoB,6BA2CF;AACdzC,IAAAA,MAAM,CAAC+B,OAAP,CAAeW,GAAf,WAAsB,KAAKT,IAAL,CAAUC,IAAhC,SAAuCC,OAAO,CAACC,EAAR,CAAWC,UAAlD,GAAgE,IAAhE;AACArC,IAAAA,MAAM,CAAC+B,OAAP,CAAeW,GAAf,CAAmB,gBAAnB,EAAqC,IAArC;AACA1C,IAAAA,MAAM,CAAC+B,OAAP,CAAeW,GAAf,CAAmB,iBAAnB,EAAsC,IAAtC;AACH,GA/CmB;AAgDpBF,EAAAA,aAhDoB,yBAgDNrB,OAhDM,EAgDG;AACnB,QAAIA,OAAO,CAACwB,MAAR,IAAkB,EAAtB,EAA0B;AACtB;AACH;;AAED,QAAIC,GAAG,GAAGC,MAAM,CAAC1B,OAAO,CAACwB,MAAT,CAAhB;;AACA,QAAIG,KAAK,CAACF,GAAD,CAAT,EAAgB;AACZzB,MAAAA,OAAO,CAACwB,MAAR,GAAiB,EAAjB;AACA;AACH;;AAED,QAAII,MAAM,GAAG5B,OAAO,CAACwB,MAArB;;AACA,QAAII,MAAM,CAACC,OAAP,CAAe,GAAf,KAAuB,CAAC,CAAxB,IAA6BD,MAAM,CAACE,MAAP,GAAgBF,MAAM,CAACC,OAAP,CAAe,GAAf,CAAhB,GAAsC,CAAvE,EAA0E;AACtED,MAAAA,MAAM,GAAGA,MAAM,CAACG,MAAP,CAAc,CAAd,EAAiBH,MAAM,CAACC,OAAP,CAAe,GAAf,IAAsB,CAAvC,CAAT;AACH;;AAEDJ,IAAAA,GAAG,GAAGC,MAAM,CAACE,MAAD,CAAZ;AACA5B,IAAAA,OAAO,CAACwB,MAAR,GAAiBQ,IAAI,CAACC,GAAL,CAASR,GAAT,EAAcS,QAAd,EAAjB;AACH,GAlEmB;AAoEpBvB,EAAAA,oBApEoB,kCAoEG;AAAA;;AACnB9B,IAAAA,MAAM,CAACsD,OAAP,CAAeC,QAAf,CAAwB,2BAAxB,EAAqD;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAArD,EAAuE,UAACC,KAAD,EAAQC,IAAR,EAAiB;AACpF,MAAA,KAAI,CAACC,OAAL,GAAeD,IAAI,CAACE,IAAL,CAAUD,OAAzB;AACA,MAAA,KAAI,CAACE,WAAL,GAAmBH,IAAI,CAACE,IAAL,CAAUC,WAA7B;AACA,MAAA,KAAI,CAACC,aAAL,GAAqBJ,IAAI,CAACK,UAAL,GAAkB,IAAlB,GAAyBC,IAAI,CAACC,GAAL,EAA9C;;AACA,MAAA,KAAI,CAACC,cAAL;;AACA,MAAA,KAAI,CAACC,WAAL,GAAmBT,IAAI,CAACS,WAAxB,CALoF,CAMpF;AACH,KAPD;AAQH,GA7EmB;AA+EpBC,EAAAA,UA/EoB,sBA+ETC,YA/ES,EA+EK;AACrB,QAAIC,SAAS,GAAGnB,IAAI,CAACoB,KAAL,CAAW,CAACF,YAAY,IAAIL,IAAI,CAACC,GAAL,KAAa,KAAKH,aAAtB,CAAb,IAAqD,IAAhE,CAAhB;AACA,WAAOQ,SAAP;AACH,GAlFmB;AAoFpB/B,EAAAA,eApFoB,2BAoFJiC,MApFI,EAoFI;AACpB,SAAKC,IAAL,IAAaD,MAAb;AACA,SAAKC,IAAL,GAAYtB,IAAI,CAACuB,GAAL,CAAS,CAAT,EAAY,KAAKD,IAAjB,CAAZ;AACA,SAAKjE,YAAL,CAAkBmC,MAAlB,GAA2B,KAAKgC,QAAL,CAAc,KAAKF,IAAnB,CAA3B;AAEAzE,IAAAA,MAAM,CAAC4E,KAAP,CAAaC,eAAb,CAA6B,aAA7B,EAA4CC,IAA5C,CAAiD,UAAAC,MAAM,EAAI;AACvDA,MAAAA,MAAM,CAACC,YAAP,CAAoB,aAApB,EAAmCC,WAAnC;AACH,KAFD;AAIH,GA7FmB;AA8FpBf,EAAAA,cA9FoB,4BA8FH;AACb,SAAKgB,WAAL,GAAmB,CAAnB;AACA,QAAIC,KAAK,GAAG,KAAKxB,OAAL,CAAaV,MAAb,GAAsB,CAAtB,GAA0B,CAA1B,GAA8B,KAAKU,OAAL,CAAaV,MAAvD;;AACA,SAAK,IAAImC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAApB,EAA2BC,CAAC,EAA5B,EAAgC;AAC5B,UAAI9D,QAAQ,GAAGjB,EAAE,CAACgF,WAAH,CAAe,KAAK/D,QAApB,CAAf;AACAA,MAAAA,QAAQ,CAACgE,MAAT,GAAkB,KAAKjE,UAAvB;AACAC,MAAAA,QAAQ,CAACiE,MAAT,GAAkB,KAAlB;AACA,UAAIC,SAAS,GAAG,IAAIxB,IAAJ,CAAS,KAAKL,OAAL,CAAayB,CAAb,EAAgBK,UAAhB,GAA6B,IAAtC,CAAhB;AACA,UAAIC,OAAO,aAAMF,SAAS,CAACG,QAAV,KAAuB,CAAvB,IAA4B,EAA5B,GAAiCH,SAAS,CAACG,QAAV,KAAuB,CAAxD,GAA4D,OAAOH,SAAS,CAACG,QAAV,KAAuB,CAA9B,CAAlE,MAAX;AACAD,MAAAA,OAAO,cAAOF,SAAS,CAACI,OAAV,MAAuB,EAAvB,GAA4BJ,SAAS,CAACI,OAAV,EAA5B,GAAkD,MAAMJ,SAAS,CAACI,OAAV,EAA/D,CAAP;AACAF,MAAAA,OAAO,eAAQF,SAAS,CAACK,QAAV,MAAwB,EAAxB,GAA6BL,SAAS,CAACK,QAAV,EAA7B,GAAoD,MAAML,SAAS,CAACK,QAAV,EAAlE,MAAP;AACAH,MAAAA,OAAO,cAAOF,SAAS,CAACM,UAAV,MAA0B,EAA1B,GAA+BN,SAAS,CAACM,UAAV,EAA/B,GAAwD,MAAMN,SAAS,CAACM,UAAV,EAArE,CAAP;AACAxE,MAAAA,QAAQ,CAACyE,cAAT,CAAwB,QAAxB,EAAkCf,YAAlC,CAA+C3E,EAAE,CAACO,QAAlD,EAA4D+B,MAA5D,aACO+C,OADP,2CACqC,KAAK/B,OAAL,CAAayB,CAAb,EAAgBY,OADrD,iEAC+F,KAAKrB,QAAL,CAAc,KAAKhB,OAAL,CAAayB,CAAb,EAAgBa,UAA9B,CAD/F;AAGH;;AACDjG,IAAAA,MAAM,CAAC4E,KAAP,CAAasB,cAAb,CAA4B,IAA5B,EAAkC,KAAK7E,UAAvC,EAAmD,IAAnD,EAAyD,IAAzD;AACH,GA/GmB;AAgHpB;AACA8E,EAAAA,UAjHoB,sBAiHTC,SAjHS,EAiHE;AAAA;;AAClB,SAAKC,KAAL,GAAa,EAAb,CADkB,CACE;;AACpB,SAAKC,IAAL,GAAY,CAAZ,CAFkB,CAEE;;AACpB,QAAIC,OAAO,GAAG1D,MAAM,CAAC,KAAKsB,WAAN,CAAN,CAAyBqC,GAAzB,CAA6B,GAA7B,CAAd;AACA,QAAIC,OAAO,GAAG5D,MAAM,CAACuD,SAAD,CAAN,CAAkBI,GAAlB,CAAsB,GAAtB,CAAd;AACA,QAAIE,OAAO,GAAGH,OAAO,CAACI,GAAR,CAAYF,OAAZ,CAAd;AACA,QAAIG,GAAJ;AAAA,QAASC,EAAT;AAAA,QAAaC,MAAM,GAAG,EAAtB;AACA,QAAIC,KAAJ;;AACA,SAAK,IAAI3B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKiB,KAAzB,EAAgCjB,CAAC,EAAjC,EAAqC;AACjCwB,MAAAA,GAAG,GAAGvG,EAAE,CAAC2G,SAAH,CAAa,KAAKV,IAAL,GAAY,KAAKD,KAA9B,CAAN;AACAQ,MAAAA,EAAE,GAAGxG,EAAE,CAAC4G,QAAH,CAAY,YAAM;AACnB,YAAIR,OAAO,GAAGF,OAAd,EAAuB;AACnBE,UAAAA,OAAO,GAAGtD,IAAI,CAACoB,KAAL,CAAY1B,MAAM,CAAC4D,OAAD,CAAN,CAAgBS,GAAhB,CAAoBR,OAAO,CAACF,GAAR,CAAY,MAAI,CAACH,KAAjB,CAApB,CAAZ,CAAV;;AACA,UAAA,MAAI,CAACc,eAAL,CAAqBV,OAArB;AACH,SAHD,MAGO;AACHF,UAAAA,OAAO,GAAGpD,IAAI,CAACoB,KAAL,CAAY1B,MAAM,CAAC0D,OAAD,CAAN,CAAgBI,GAAhB,CAAoBD,OAAO,CAACF,GAAR,CAAY,MAAI,CAACH,KAAjB,CAApB,CAAZ,CAAV;AACAU,UAAAA,KAAK,GAAGR,OAAO,GAAG,EAAlB;;AACA,UAAA,MAAI,CAACY,eAAL,CAAqBZ,OAArB;AACH;AACJ,OATI,CAAL;AAUAO,MAAAA,MAAM,CAACM,IAAP,CAAYR,GAAZ,EAAiBC,EAAjB;AACH;;AACD,SAAKtF,OAAL,CAAa8F,cAAb;AACA,SAAK9F,OAAL,CAAa+F,SAAb,CAAuBjH,EAAE,CAACkH,QAAH,CAAYT,MAAZ,CAAvB;AACH,GAzImB;AA0IpB;AACAK,EAAAA,eA3IoB,2BA2IJK,KA3II,EA2IG;AACnB,QAAI,CAAC,KAAKC,eAAV,EAA2B;AACvB,WAAKA,eAAL,GAAuB,EAAvB;;AACA,WAAK,IAAIrC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK7D,OAAL,CAAawE,cAAb,CAA4B,UAA5B,EAAwC2B,aAA5D,EAA2EtC,CAAC,EAA5E,EAAgF;AAC5E,aAAKqC,eAAL,CAAqBL,IAArB,CAA0B/G,EAAE,CAACgF,WAAH,CAAe,KAAK9D,OAAL,CAAawE,cAAb,CAA4B,UAA5B,EAAwCA,cAAxC,CAAuD,YAAYX,CAAnE,CAAf,CAA1B;AACA,aAAK7D,OAAL,CAAawE,cAAb,CAA4B,UAA5B,EAAwCA,cAAxC,CAAuD,YAAYX,CAAnE,EAAsEG,MAAtE,GAA+E,KAA/E;AACH;AACJ;;AACD,SAAK,IAAIH,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAG,KAAK7D,OAAL,CAAawE,cAAb,CAA4B,UAA5B,EAAwC2B,aAA5D,EAA2EtC,EAAC,EAA5E,EAAgF;AAC5E,WAAK7D,OAAL,CAAawE,cAAb,CAA4B,UAA5B,EAAwCA,cAAxC,CAAuD,YAAYX,EAAnE,EAAsEG,MAAtE,GAA+E,KAA/E;AACH;;AACD,QAAIoC,SAAS,GAAGH,KAAK,GAAG,EAAxB;AACA,QAAII,GAAG,GAAGD,SAAS,CAAC1E,MAAV,GAAmB,CAAnB,GAAuB,CAAvB,GAA2B0E,SAAS,CAAC1E,MAA/C;;AACA,SAAK,IAAImC,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGwC,GAApB,EAAyBxC,GAAC,EAA1B,EAA8B;AAC1B,WAAK7D,OAAL,CAAawE,cAAb,CAA4B,UAA5B,EAAwCA,cAAxC,CAAuD,aAAa,IAAIX,GAAjB,CAAvD,EAA4EJ,YAA5E,CAAyF3E,EAAE,CAACwH,MAA5F,EAAoGC,WAApG,GAAkHzH,EAAE,CAACgF,WAAH,CAAe,KAAKoC,eAAL,CAAqB5E,MAAM,CAAC8E,SAAS,CAACI,MAAV,CAAiB3C,GAAjB,CAAD,CAA3B,CAAf,EAAkEJ,YAAlE,CAA+E3E,EAAE,CAACwH,MAAlF,EAA0FC,WAA5M;AACA,WAAKvG,OAAL,CAAawE,cAAb,CAA4B,UAA5B,EAAwCA,cAAxC,CAAuD,aAAa,IAAIX,GAAjB,CAAvD,EAA4EG,MAA5E,GAAqF,IAArF;AACH;AACJ,GA5JmB;AA6JpByC,EAAAA,MA7JoB,kBA6JbC,EA7Ja,EA6JT;AAAA;;AACP,QAAI,CAAC,KAAKpE,WAAV,EAAuB;;AACvB,SAAK,IAAIuB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKvB,WAAL,CAAiBZ,MAArC,EAA6CmC,CAAC,EAA9C,EAAkD;AAC9C,UAAI8C,OAAO,GAAG,KAAK9D,UAAL,CAAgB,KAAKP,WAAL,CAAiBuB,CAAjB,EAAoBK,UAApB,GAAiC,IAAjD,CAAd;;AACA,UAAIyC,OAAO,IAAI,CAAX,IAAgB,CAAC,KAAKrE,WAAL,CAAiBuB,CAAjB,EAAoB+C,MAAzC,EAAiD;AAC7C,aAAKtE,WAAL,CAAiBuB,CAAjB,EAAoB+C,MAApB,GAA6B,IAA7B;AACA,aAAKC,OAAL,CAAa,KAAKvE,WAAL,CAAiBuB,CAAjB,CAAb;AACA,YAAIgB,SAAS,GAAG,KAAKjC,WAArB;AACA,aAAKA,WAAL,IAAoB,KAAKN,WAAL,CAAiBuB,CAAjB,EAAoBa,UAAxC;AACAoC,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBlC,SAAxB,EAAmC,KAAKjC,WAAxC,EAAqD,KAAKA,WAAL,GAAmBiC,SAAxE,EAAmF,KAAKvC,WAAL,CAAiBuB,CAAjB,EAAoBa,UAAvG;AACA,aAAKE,UAAL,CAAgBC,SAAhB;AACA;AACH;AACJ;;AAED,QAAI9B,SAAS,GAAG,IAAIN,IAAJ,CAASA,IAAI,CAACC,GAAL,KAAa,KAAKH,aAA3B,EAA0CyE,UAA1C,EAAhB;;AACA,QAAIjE,SAAS,IAAI,CAAb,IAAkB,CAAC,KAAKkE,WAA5B,EAAyC;AACrC,WAAKA,WAAL,GAAmB,IAAnB;AACAxI,MAAAA,MAAM,CAACsD,OAAP,CAAeC,QAAf,CAAwB,2BAAxB,EAAqD,EAArD,EAAyD,UAACE,KAAD,EAAQC,IAAR,EAAiB;AACtE,QAAA,MAAI,CAACC,OAAL,GAAeD,IAAI,CAACE,IAAL,CAAUD,OAAzB;AACA,QAAA,MAAI,CAACE,WAAL,GAAmBH,IAAI,CAACE,IAAL,CAAUC,WAA7B;AACA,QAAA,MAAI,CAACC,aAAL,GAAqBJ,IAAI,CAACK,UAAL,GAAkB,IAAlB,GAAyBC,IAAI,CAACC,GAAL,EAA9C;AACA,YAAIE,WAAW,GAAGT,IAAI,CAACS,WAAvB;;AACA,QAAA,MAAI,CAACgC,UAAL,CAAgBhC,WAAhB;;AACA,QAAA,MAAI,CAACA,WAAL,GAAmBA,WAAnB;AACH,OAPD;AAQH,KAVD,MAUO,IAAIG,SAAS,GAAG,CAAZ,IAAiB,KAAKkE,WAA1B,EAAuC;AAC1C,WAAKA,WAAL,GAAmB,KAAnB;AACH;AACJ,GA1LmB;AA2LpB;AACAJ,EAAAA,OA5LoB,mBA4LZ1E,IA5LY,EA4LN;AACV,QAAI,CAACA,IAAL,EAAW;;AACX,QAAI,KAAKrC,UAAL,CAAgBqG,aAAhB,IAAiC,CAArC,EAAwC;AACpC,WAAKrG,UAAL,CAAgBoH,QAAhB,CAAyB,CAAzB,EAA4BC,OAA5B;AACA,WAAKrH,UAAL,CAAgBoH,QAAhB,CAAyB,CAAzB,EAA4BE,gBAA5B;AACH;;AACD,QAAIrH,QAAQ,GAAGjB,EAAE,CAACgF,WAAH,CAAe,KAAK/D,QAApB,CAAf;AACAA,IAAAA,QAAQ,CAACgE,MAAT,GAAkB,KAAKjE,UAAvB;AACAC,IAAAA,QAAQ,CAACiE,MAAT,GAAkB,KAAlB;AACA,QAAIC,SAAS,GAAG,IAAIxB,IAAJ,CAASN,IAAI,CAAC+B,UAAL,GAAkB,IAA3B,CAAhB;AACA,QAAIC,OAAO,aAAMF,SAAS,CAACG,QAAV,KAAuB,CAAvB,IAA4B,EAA5B,GAAiCH,SAAS,CAACG,QAAV,KAAuB,CAAxD,GAA4D,OAAOH,SAAS,CAACG,QAAV,KAAuB,CAA9B,CAAlE,MAAX;AACAD,IAAAA,OAAO,cAAOF,SAAS,CAACI,OAAV,MAAuB,EAAvB,GAA4BJ,SAAS,CAACI,OAAV,EAA5B,GAAkD,MAAMJ,SAAS,CAACI,OAAV,EAA/D,CAAP;AACAF,IAAAA,OAAO,eAAQF,SAAS,CAACK,QAAV,MAAwB,EAAxB,GAA6BL,SAAS,CAACK,QAAV,EAA7B,GAAoD,MAAML,SAAS,CAACK,QAAV,EAAlE,MAAP;AACAH,IAAAA,OAAO,cAAOF,SAAS,CAACM,UAAV,MAA0B,EAA1B,GAA+BN,SAAS,CAACM,UAAV,EAA/B,GAAwD,MAAMN,SAAS,CAACM,UAAV,EAArE,CAAP;AACA,QAAIE,OAAO,GAAGtC,IAAI,CAACsC,OAAnB;AAAA,QAA4BC,UAAU,GAAGvC,IAAI,CAACuC,UAA9C;AACA3E,IAAAA,QAAQ,CAACyE,cAAT,CAAwB,QAAxB,EAAkCf,YAAlC,CAA+C3E,EAAE,CAACO,QAAlD,EAA4D+B,MAA5D,aACO+C,OADP,2CACqCM,OADrC,iEAC+E,KAAKrB,QAAL,CAAcsB,UAAd,CAD/E;AAIAjG,IAAAA,MAAM,CAAC4E,KAAP,CAAasB,cAAb,CAA4B,IAA5B,EAAkC,KAAK7E,UAAvC,EAAmD,IAAnD,EAAyD,IAAzD;AACH,GAhNmB;AAiNpBQ,EAAAA,WAjNoB,yBAiNN;AAAA;;AACV7B,IAAAA,MAAM,CAACsD,OAAP,CAAeC,QAAf,CAAwB,sBAAxB,EAAgD,IAAhD,EAAsD,UAACE,KAAD,EAAQC,IAAR,EAAiB;AACnE,MAAA,MAAI,CAACkF,IAAL,GAAYlF,IAAI,CAACkF,IAAjB,CADmE,CAC5C;;AACvB,MAAA,MAAI,CAACC,IAAL,GAAYnF,IAAI,CAACmF,IAAjB,CAFmE,CAE5C;;AACvB,MAAA,MAAI,CAACC,GAAL,GAAWpF,IAAI,CAACoF,GAAhB,CAHmE,CAG9C;;AACrB,MAAA,MAAI,CAACC,KAAL,GAAarF,IAAI,CAACsF,sBAAlB,CAJmE,CAI1B;;AACzC,MAAA,MAAI,CAACC,GAAL,GAAWvF,IAAI,CAACwF,oBAAhB,CALmE,CAK9B;;AACrC,MAAA,MAAI,CAACC,cAAL,GAAsBzF,IAAI,CAACyF,cAA3B,CANmE,CAMzB;;AAC1C,MAAA,MAAI,CAAC1E,IAAL,GAAYf,IAAI,CAACe,IAAjB,CAPmE,CAO7C;;AACtB,MAAA,MAAI,CAAC2E,IAAL,GAAY1F,IAAI,CAAC0F,IAAjB,CARmE,CAQ7C;;AACtB,MAAA,MAAI,CAACC,WAAL,GAAmB3F,IAAI,CAAC2F,WAAxB,CATmE,CAS/B;;AACpC,MAAA,MAAI,CAACC,eAAL,GAAuB5F,IAAI,CAAC4F,eAA5B,CAVmE,CAUvB;;AAC5C,MAAA,MAAI,CAACC,QAAL;;AACA,MAAA,MAAI,CAACC,cAAL;;AACA,MAAA,MAAI,CAACC,YAAL;AACH,KAdD;AAeH,GAjOmB;AAkOpBC,EAAAA,iBAlOoB,+BAkOA;AAAA;;AAChB1J,IAAAA,MAAM,CAACsD,OAAP,CAAeC,QAAf,CAAwB,wBAAxB,EAAkD,IAAlD,EAAwD,UAACE,KAAD,EAAQC,IAAR,EAAiB;AACrE,MAAA,MAAI,CAACiG,SAAL,GAAiBjG,IAAI,CAACkG,KAAtB;AACA,MAAA,MAAI,CAACC,SAAL,GAAiBnG,IAAI,CAACoG,WAAtB;AACA,MAAA,MAAI,CAACC,YAAL,GAAoBrG,IAAI,CAACsG,aAAzB;;AAEA,UAAI,MAAI,CAACH,SAAL,IAAkB,CAAtB,EAAyB;AACrB7J,QAAAA,MAAM,CAACiK,IAAP,CAAYC,WAAZ,CAAwBrH,MAAM,CAAC,MAAI,CAAC5B,UAAL,CAAgB0B,MAAjB,CAA9B,EAAwD,MAAI,CAACjB,KAA7D;AACH,OAFD,MAEO,IAAI,MAAI,CAACmI,SAAL,IAAkB,CAAlB,IAAuB,MAAI,CAACE,YAAL,IAAqB,CAAhD,EAAmD;AACtD,QAAA,MAAI,CAACI,mBAAL;AACH,OAFM,MAEA,IAAI,MAAI,CAACN,SAAL,IAAkB,CAAlB,IAAuB,CAAC,MAAI,CAACO,UAAL,CAAgB,MAAI,CAACT,SAArB,CAA5B,EAA6D;AAChE,QAAA,MAAI,CAACU,gBAAL;AACH,OAFM,MAEA,IAAI,MAAI,CAACR,SAAL,IAAkB,CAAlB,IAAuB,MAAI,CAACE,YAAL,IAAqB,CAAhD,EAAmD;AACtD,QAAA,MAAI,CAACO,YAAL;AACH,OAFM,MAEA,IAAI,MAAI,CAACT,SAAL,IAAkB,CAAlB,IAAuB,MAAI,CAACO,UAAL,CAAgB,MAAI,CAACT,SAArB,CAA3B,EAA4D;AAC/D,QAAA,MAAI,CAACY,aAAL;AACH;AACJ,KAhBD;AAiBH,GApPmB;AAsPpBH,EAAAA,UAtPoB,sBAsPTR,KAtPS,EAsPF;AACd,QAAI,OAAOA,KAAP,IAAgB,OAAhB,IAA2BA,KAAK,IAAI,EAAxC,EAA4C,OAAO,KAAP,CAA5C,KACK,IAAI,OAAOA,KAAP,IAAgB,QAAhB,IAA4BA,KAAK,IAAI,CAAzC,EAA4C,OAAO,KAAP,CAA5C,KACA,IAAIA,KAAK,IAAI,IAAb,EAAmB,OAAO,KAAP;AACxB,WAAO,IAAP;AACH,GA3PmB;AA6PpBO,EAAAA,mBA7PoB,iCA6PE;AAAA;;AAClBnK,IAAAA,MAAM,CAAC4E,KAAP,CAAaC,eAAb,CAA6B,gBAA7B,EAA+CC,IAA/C,CAAoD,UAAAC,MAAM,EAAI;AAC1D,UAAIyF,MAAM,GAAGzF,MAAM,CAACC,YAAP,CAAoB,gBAApB,CAAb;AACAwF,MAAAA,MAAM,CAACC,OAAP,CAAe,MAAI,CAACpB,WAApB;AACAmB,MAAAA,MAAM,CAACE,GAAP,CAAW,MAAX,EAAmB,MAAI,CAAChJ,KAAxB;AACA8I,MAAAA,MAAM,CAACE,GAAP,CAAW,MAAX,EAAmB,MAAI,CAACzJ,UAAL,CAAgB0B,MAAnC;AACH,KALD;AAOH,GArQmB;AAsQpB0H,EAAAA,gBAtQoB,8BAsQD;AACfrK,IAAAA,MAAM,CAAC4E,KAAP,CAAaC,eAAb,CAA6B,WAA7B,EADe,CACkC;AACpD,GAxQmB;AAyQpByF,EAAAA,YAzQoB,0BAyQL;AAAA;;AACXtK,IAAAA,MAAM,CAAC4E,KAAP,CAAaC,eAAb,CAA6B,aAA7B,EAA4CC,IAA5C,CAAiD,UAAAC,MAAM,EAAI;AACvDA,MAAAA,MAAM,CAACC,YAAP,CAAoB,aAApB,EAAmC2F,QAAnC,CAA4C,MAAI,CAACjJ,KAAjD,EAAwD,MAAI,CAACT,UAAL,CAAgB0B,MAAxE,EAAgF,MAAI,CAAC0G,WAArF;AACH,KAFD;AAIH,GA9QmB;AA+QpBkB,EAAAA,aA/QoB,2BA+QJ;AAAA;;AACZ,QAAIX,KAAK,GAAG5J,MAAM,CAACiK,IAAP,CAAYW,GAAZ,CAAgB,OAAhB,EAAyBvH,QAAzB,EAAZ;;AACA,QAAI,CAACuG,KAAD,IAAUA,KAAK,IAAI,EAAnB,IAAyBA,KAAK,IAAI,GAAtC,EAA2C;AACvC5J,MAAAA,MAAM,CAAC4E,KAAP,CAAaC,eAAb,CAA6B,WAA7B,EADuC,CACU;;AACjD;AACH;;AAED7E,IAAAA,MAAM,CAAC4E,KAAP,CAAaC,eAAb,CAA6B,iBAA7B,EAAgDC,IAAhD,CAAqD,UAAAC,MAAM,EAAI;AAC3D,UAAIyF,MAAM,GAAGzF,MAAM,CAACC,YAAP,CAAoB,iBAApB,CAAb;AACAwF,MAAAA,MAAM,CAACK,QAAP,CAAgB7K,MAAM,CAACiK,IAAP,CAAYW,GAAZ,CAAgB,OAAhB,CAAhB,EAA0C,MAAI,CAAC3J,UAAL,CAAgB0B,MAA1D;AACA6H,MAAAA,MAAM,CAACE,GAAP,CAAW,MAAX,EAAmB,MAAI,CAAChJ,KAAxB;AACH,KAJD;AAKH,GA3RmB;AA4RpB;AACA8H,EAAAA,cA7RoB,4BA6RH;AACb,SAAK9I,eAAL,CAAqBiC,MAArB,GAA8B,EAA9B,CADa,CAEb;;AACA,QAAImI,QAAQ,GAAG,KAAKlC,IAAL,IAAa,CAAb,GAAiB,MAAjB,+BAAgC,KAAKjE,QAAL,CAAc,KAAKiE,IAAnB,CAAhC,gDAAf,CAHa,CAIb;;AACA,QAAImC,GAAJ;AACAA,IAAAA,GAAG,GAAG,KAAKlC,IAAL,IAAa,CAAb,aAAoB,KAAKlE,QAAL,CAAc,KAAKmE,GAAnB,CAApB,cAAmD,KAAKnE,QAAL,CAAc,KAAKmE,GAAnB,CAAnD,MAAN;AACA,QAAIkC,QAAQ,GAAG,EAAf;;AACA,QAAI,KAAKlC,GAAL,IAAY,CAAhB,EAAmB;AACfkC,MAAAA,QAAQ,GAAG,KAAKpC,IAAL,IAAa,CAAb,GAAiB,EAAjB,+BAA4B,KAAKjE,QAAL,CAAc,KAAKiE,IAAnB,CAA5B,uBAAX;AACH,KAFD,MAEO;AACH,UAAI,KAAKC,IAAL,IAAa,CAAjB,EAAoB;AAChBmC,QAAAA,QAAQ,GAAG,KAAKpC,IAAL,IAAa,CAAb,yBAAsBmC,GAAtB,sDAAuC,KAAKpG,QAAL,CAAc,KAAKiE,IAAnB,CAAvC,kDAAyEmC,GAAzE,uBAAX;AACH,OAFD,MAEO;AACHC,QAAAA,QAAQ,GAAG,KAAKpC,IAAL,IAAa,CAAb,yBAAsBmC,GAAtB,4DAAwC,KAAKpG,QAAL,CAAc,KAAKiE,IAAnB,CAAxC,kDAA0EmC,GAA1E,6BAAX;AACH;AACJ;;AACD,SAAKrK,eAAL,CAAqBiC,MAArB,GAA8B,KAAKkG,IAAL,IAAa,CAAb,GAAiBiC,QAAjB,GAA4BE,QAA1D;;AACA,QAAI,KAAK1B,eAAL,IAAwB,CAA5B,EAA+B;AAC3B,WAAK3I,OAAL,CAAagC,MAAb;AACH,KAFD,MAEO;AACH,WAAKhC,OAAL,CAAagC,MAAb,uEAA+D,KAAKgC,QAAL,CAAc,KAAK2E,eAAnB,CAA/D;AACH;AAEJ,GArTmB;AAsTpB;AACAC,EAAAA,QAvToB,sBAuTT;AACP,SAAKzI,QAAL,CAAcmB,IAAd,CAAmBsD,MAAnB,GAA4B,KAAK6D,IAAL,CAAU6B,IAAV,IAAkB,CAA9C;AACA,SAAKjK,UAAL,CAAgBiB,IAAhB,CAAqBsD,MAArB,GAA8B,KAAK6D,IAAL,CAAU8B,MAAV,IAAoB,CAAlD;;AACA,QAAI,KAAK9B,IAAL,CAAU6B,IAAV,IAAkB,CAAlB,IAAuB,KAAK7B,IAAL,CAAU8B,MAAV,IAAoB,CAA/C,EAAkD;AAC9C,WAAKxJ,KAAL,GAAa9B,YAAY,CAACE,MAA1B;AACA,WAAKkB,UAAL,CAAgBmK,SAAhB,GAA4B,IAA5B;AACH,KAHD,MAGO,IAAI,KAAK/B,IAAL,CAAU6B,IAAV,IAAkB,CAAlB,IAAuB,KAAK7B,IAAL,CAAU8B,MAAV,IAAoB,CAA/C,EAAkD;AACrD,WAAKrK,UAAL,CAAgB0E,MAAhB,GAAyB,KAAzB;AACA,WAAK7D,KAAL,GAAa9B,YAAY,CAACC,IAA1B;AACH,KAHM,MAGA;AACH,WAAK6B,KAAL,GAAa9B,YAAY,CAACG,IAA1B;AACA,WAAKe,QAAL,CAAcqK,SAAd,GAA0B,IAA1B;AACH;AACJ,GApUmB;AAqUpB7I,EAAAA,cArUoB,4BAqUH;AACb,SAAKlC,WAAL,CAAiB2F,cAAjB,CAAgC,YAAhC,EAA8CR,MAA9C,GAAuD,KAAvD;AACA,SAAKnF,WAAL,CAAiB2F,cAAjB,CAAgC,UAAhC,EAA4CR,MAA5C,GAAqD,KAArD;AACA,SAAKhF,aAAL,CAAmBwF,cAAnB,CAAkC,WAAlC,EAA+CR,MAA/C,GAAwD,KAAxD;AACA,SAAKhF,aAAL,CAAmBwF,cAAnB,CAAkC,YAAlC,EAAgDR,MAAhD,GAAyD,KAAzD;AACA,SAAKkE,YAAL;AACApB,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACH,GA5UmB;AA6UpB;AACAmB,EAAAA,YA9UoB,0BA8UL;AACX,QAAI2B,SAAS,GAAGpL,MAAM,CAACiK,IAAP,CAAYW,GAAZ,CAAgB,aAAhB,CAAhB;AAAA,QACIM,MAAM,GAAGlL,MAAM,CAACiK,IAAP,CAAYW,GAAZ,CAAgB,WAAhB,CADb;;AAEA,QAAIQ,SAAS,IAAIA,SAAS,IAAI,EAA9B,EAAkC;AAC9B,WAAKhL,WAAL,CAAiB2F,cAAjB,CAAgC,YAAhC,EAA8CR,MAA9C,GAAuD,IAAvD;AACA,WAAKnF,WAAL,CAAiB2F,cAAjB,CAAgC,UAAhC,EAA4CR,MAA5C,GAAqD,KAArD;AACA,WAAKnF,WAAL,CAAiB2F,cAAjB,CAAgC,YAAhC,EAA8Cf,YAA9C,CAA2D3E,EAAE,CAACI,KAA9D,EAAqEkC,MAArE,GAA8EyI,SAAS,CAACC,OAAV,CAAkBD,SAAS,CAACE,SAAV,CAAoB,CAApB,EAAuB,EAAvB,CAAlB,EAA8C,WAA9C,CAA9E;AACH,KAJD,MAIO;AACH,WAAKlL,WAAL,CAAiB2F,cAAjB,CAAgC,UAAhC,EAA4CR,MAA5C,GAAqD,IAArD;AACA,WAAKnF,WAAL,CAAiB2F,cAAjB,CAAgC,YAAhC,EAA8CR,MAA9C,GAAuD,KAAvD;AACH;;AACD,QAAI2F,MAAM,IAAIA,MAAM,IAAI,EAAxB,EAA4B;AACxB,WAAK3K,aAAL,CAAmBwF,cAAnB,CAAkC,WAAlC,EAA+CR,MAA/C,GAAwD,IAAxD;AACA,WAAKhF,aAAL,CAAmBwF,cAAnB,CAAkC,YAAlC,EAAgDR,MAAhD,GAAyD,KAAzD;AACA,WAAKhF,aAAL,CAAmBwF,cAAnB,CAAkC,WAAlC,EAA+Cf,YAA/C,CAA4D3E,EAAE,CAACI,KAA/D,EAAsEkC,MAAtE,GAA+EuI,MAAM,CAACG,OAAP,CAAeH,MAAM,CAACI,SAAP,CAAiB,CAAjB,EAAoB,CAApB,CAAf,EAAuC,MAAvC,CAA/E;AAA8H;AACjI,KAJD,MAIO;AACH,WAAK/K,aAAL,CAAmBwF,cAAnB,CAAkC,YAAlC,EAAgDR,MAAhD,GAAyD,IAAzD;AACA,WAAKhF,aAAL,CAAmBwF,cAAnB,CAAkC,WAAlC,EAA+CR,MAA/C,GAAwD,KAAxD;AACH;;AACD,QAAI,KAAK7D,KAAL,IAAc9B,YAAY,CAACE,MAA/B,EAAuC,KAAKS,aAAL,CAAmBgF,MAAnB,GAA4B,IAA5B,CAAvC,KACK,IAAI,KAAK7D,KAAL,IAAc9B,YAAY,CAACG,IAA/B,EAAqC,KAAKK,WAAL,CAAiBmF,MAAjB,GAA0B,IAA1B;AAE1C,SAAKnE,UAAL,CAAgBmK,WAAhB,GAA8BC,SAA9B,CAAwC,EAAxC;AAEA,QAAIC,CAAC,GAAGtI,IAAI,CAACuB,GAAL,CAAU,KAAKqE,KAAN,CAAavC,GAAb,CAAiB,GAAjB,CAAT,EAAgC3D,MAAM,CAAC,KAAK+F,IAAN,CAAN,CAAkBpC,GAAlB,CAAsB,GAAtB,CAAhC,CAAR;AACA,QAAIkF,CAAC,GAAGC,QAAQ,CAAC9I,MAAM,CAAC,KAAK4B,IAAN,CAAN,CAAkB+B,GAAlB,CAAsB,GAAtB,IAA6B3D,MAAM,CAAC,KAAK+F,IAAN,CAAN,CAAkBpC,GAAlB,CAAsB,GAAtB,CAA9B,CAAR,GAAoE3D,MAAM,CAAC,KAAK+F,IAAN,CAAN,CAAkBpC,GAAlB,CAAsB,GAAtB,CAA5E;AACA,QAAIoF,CAAC,GAAG,IAAR;;AACA,QAAIF,CAAJ,EAAO;AACH,UAAI,KAAKvC,cAAL,IAAuB,CAA3B,EAA8B;AAC1B,YAAI0C,QAAQ,GAAGF,QAAQ,CAAC9I,MAAM,CAAC,KAAKoG,GAAN,CAAN,CAAiBzC,GAAjB,CAAqB,GAArB,IAA4B3D,MAAM,CAAC,KAAK+F,IAAN,CAAN,CAAkBpC,GAAlB,CAAsB,GAAtB,CAA7B,CAAR,GAAmE3D,MAAM,CAAC,KAAK+F,IAAN,CAAN,CAAkBpC,GAAlB,CAAsB,GAAtB,CAAlF;AACAoF,QAAAA,CAAC,GAAGzI,IAAI,CAAC2I,GAAL,CAASD,QAAT,EAAmBH,CAAnB,CAAJ;AACH,OAHD,MAGO;AACHE,QAAAA,CAAC,GAAGF,CAAJ;AACH;AACJ,KAPD,MAOO;AACHE,MAAAA,CAAC,GAAG/I,MAAM,CAAC,KAAK4B,IAAN,CAAN,CAAkB+B,GAAlB,CAAsB,GAAtB,CAAJ;AACH,KApCU,CAsCX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;AACA,QAAIiF,CAAC,GAAGG,CAAR,EAAW;AACP,WAAKxK,UAAL,CAAgBmK,WAAhB,GAA8BQ,cAA9B,CAA6C,cAA7C;AACH,KAFD,MAEO;AACH,UAAI,KAAKtH,IAAL,IAAa,CAAjB,EAAoB;AAChB,aAAKrD,UAAL,CAAgBmK,WAAhB,GAA8BQ,cAA9B,CAA6C,cAA7C;AACH,OAFD,MAEO;AACH,aAAK3K,UAAL,CAAgBmK,WAAhB,GAA8BQ,cAA9B,WAAgDN,CAAhD,cAAqDG,CAArD;AACH;AACJ;;AAED,SAAKpL,YAAL,CAAkBmC,MAAlB,GAA2B,KAAKgC,QAAL,CAAc,KAAKF,IAAnB,CAA3B;AACH,GA7YmB;AA8YpBuH,EAAAA,OA9YoB,mBA8YZ9J,IA9YY,EA8YND,IA9YM,EA8YA;AAChB,YAAQC,IAAR;AACI,WAAK,WAAL;AAAkB,aAAK+J,MAAL;AAAe;;AACjC,WAAK,YAAL;AAAmB,aAAKC,gBAAL;AAAyB;;AAC5C,WAAK,UAAL;AAAiB,aAAKC,cAAL;AAAuB;;AACxC,WAAK,eAAL;AAAsB,aAAKC,eAAL;AAAwB;;AAC9C,WAAK,gBAAL;AAAuB,aAAKC,gBAAL;AAAyB;;AAChD,WAAK,mBAAL;AAA0B,aAAKC,mBAAL;AAA4B;;AACtD,WAAK,cAAL;AAAqB,aAAKC,cAAL;AAAuB;;AAC5C,WAAK,gBAAL;AAAuB,aAAKC,gBAAL;AAAyB;;AAChD,WAAK,UAAL;AAAiB,aAAKC,WAAL;AAAoB;;AACrC,WAAK,mBAAL;AAA0B,aAAKC,aAAL;AAAsB;AAVpD;AAaH,GA5ZmB;AA6ZpB;AACAA,EAAAA,aA9ZoB,2BA8ZJ,CAEf,CAhamB;AAiapB;AACAC,EAAAA,gBAlaoB,8BAkaD;AACf,QAAInI,MAAM,GAAG,KAAKjE,aAAL,CAAmBwF,cAAnB,CAAkC,YAAlC,EAAgDA,cAAhD,CAA+D,SAA/D,EAA0Ef,YAA1E,CAAuF3E,EAAE,CAACa,OAA1F,EAAmGyB,MAAhH;AACA3C,IAAAA,MAAM,CAAC4E,KAAP,CAAaC,eAAb,CAA6B,aAA7B,EAA4CC,IAA5C,CAAiD,UAAAC,MAAM,EAAI;AACvDA,MAAAA,MAAM,CAACC,YAAP,CAAoB,aAApB,EAAmC0F,GAAnC,CAAuC,QAAvC,EAAiDlG,MAAjD;AACH,KAFD;AAGH,GAvamB;AAwapB;AACAiI,EAAAA,WAzaoB,yBAyaN;AACVpE,IAAAA,OAAO,CAACC,GAAR,CAAY,qCAAZ;;AACA,QAAI,KAAK7D,IAAL,IAAa,CAAb,IAAkBzE,MAAM,CAACiK,IAAP,CAAYW,GAAZ,CAAgB,MAAhB,KAA2B,CAAjD,EAAoD;AAAwB;AACxE,aAAO5K,MAAM,CAAC4E,KAAP,CAAagI,YAAb,CAA0B5M,MAAM,CAAC6M,IAAP,CAAYC,QAAZ,CAAqBC,IAA/C,CAAP;AACH;;AACD,QAAIhK,MAAM,GAAG,KAAK9B,UAAL,CAAgB0B,MAA7B,CALU,CAMV;AACA;AACA;;AAEA,QAAII,MAAM,CAACE,MAAP,IAAiB,CAArB,EAAwB;AACpB,aAAOjD,MAAM,CAAC4E,KAAP,CAAagI,YAAb,CAA0B5M,MAAM,CAAC6M,IAAP,CAAYC,QAAZ,CAAqBE,WAA/C,CAAP;AACH;;AAED,QAAInK,MAAM,CAACE,MAAD,CAAN,GAAiB,KAAK4B,QAAL,CAAc9B,MAAM,CAAC,KAAKkG,KAAN,CAApB,CAArB,EAAwD;AACpDV,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBzF,MAAM,CAACE,MAAD,CAA/B,EAAyCF,MAAM,CAAC,KAAKkG,KAAN,CAA/C;AACA,aAAO/I,MAAM,CAAC4E,KAAP,CAAagI,YAAb,CAA0B5M,MAAM,CAAC6M,IAAP,CAAYC,QAAZ,CAAqBG,YAA/C,CAAP;AACH;;AACD,QAAI,KAAK9D,cAAL,IAAuB,CAAvB,IAA4BtG,MAAM,CAACE,MAAD,CAAN,GAAiB,KAAK4B,QAAL,CAAc9B,MAAM,CAAC,KAAKoG,GAAN,CAApB,CAAjD,EAAkF;AAC9EZ,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBzF,MAAM,CAACE,MAAD,CAA/B,EAAyCF,MAAM,CAAC,KAAKoG,GAAN,CAA/C;AACA,aAAOjJ,MAAM,CAAC4E,KAAP,CAAagI,YAAb,CAA0B5M,MAAM,CAAC6M,IAAP,CAAYC,QAAZ,CAAqBG,YAA/C,CAAP;AACH;;AACD5E,IAAAA,OAAO,CAACC,GAAR,CAAY,sCAAZ;;AACA,QAAI,CAAC,oBAAoB4E,IAApB,CAAyB,KAAKjM,UAAL,CAAgB0B,MAAzC,CAAL,EAAuD;AACnD,aAAO3C,MAAM,CAAC4E,KAAP,CAAagI,YAAb,CAA0B5M,MAAM,CAAC6M,IAAP,CAAYC,QAAZ,CAAqBK,QAA/C,CAAP;AACH;;AACD9E,IAAAA,OAAO,CAACC,GAAR,CAAY,sCAAZ,EAAoD,KAAKrH,UAAL,CAAgB0B,MAApE;AACA,QAAI6B,MAAM,GAAG3B,MAAM,CAAC,KAAK5B,UAAL,CAAgB0B,MAAjB,CAAnB;;AACA,QAAI,CAAC6B,MAAD,IAAWA,MAAM,GAAG,CAAxB,EAA2B;AACvB,aAAOxE,MAAM,CAAC4E,KAAP,CAAagI,YAAb,CAA0B5M,MAAM,CAAC6M,IAAP,CAAYC,QAAZ,CAAqBM,SAA/C,CAAP;AACH;;AACD/E,IAAAA,OAAO,CAACC,GAAR,CAAY,sCAAZ;AACA,QAAI+E,GAAG,GAAG7I,MAAM,GAAG,KAAKG,QAAL,CAAc,KAAKiE,IAAnB,CAAnB,CAhCU,CAgCkC;;AAC5C,QAAIyE,GAAG,CAAChK,QAAJ,GAAeL,OAAf,CAAuB,GAAvB,IAA8B,CAAC,CAAnC,EAAsC;AAClC,aAAOhD,MAAM,CAAC4E,KAAP,CAAagI,YAAb,CAA0B5M,MAAM,CAAC6M,IAAP,CAAYC,QAAZ,CAAqBQ,YAArB,CAAkCC,MAAlC,CAAyC,KAAK5I,QAAL,CAAc,KAAKiE,IAAnB,CAAzC,CAA1B,CAAP;AACH;;AACDP,IAAAA,OAAO,CAACC,GAAR,CAAY,sCAAZ;AACA,QAAIkF,QAAQ,GAAG,KAAK/I,IAApB;;AACA,QAAI+I,QAAQ,GAAGhJ,MAAX,GAAoB,KAAKG,QAAL,CAAc,KAAKiE,IAAnB,CAAxB,EAAkD;AAC9C,aAAO5I,MAAM,CAAC4E,KAAP,CAAagI,YAAb,CAA0B5M,MAAM,CAAC6M,IAAP,CAAYC,QAAZ,CAAqBW,OAArB,CAA6BF,MAA7B,CAAoC,KAAK5I,QAAL,CAAc,KAAKiE,IAAnB,CAApC,CAA1B,CAAP;AACH;;AACDP,IAAAA,OAAO,CAACC,GAAR,CAAY,sCAAZ;AACA,QAAIO,IAAI,GAAG,KAAK6E,QAAhB;;AAEA,QAAI,KAAKvE,cAAL,IAAuB,CAA3B,EAA8B;AAC1B,UAAIF,GAAG,GAAG,KAAKxE,IAAL,IAAa,KAAKwE,GAAlB,GAAwBpG,MAAM,CAAC,KAAK4B,IAAN,CAAN,CAAkBkC,GAAlB,CAAsB,KAAKlC,IAAL,GAAY,KAAKmE,IAAvC,CAAxB,GAAuE,KAAKK,GAAtF;AACA,UAAIzE,MAAM,GAAG,KAAKG,QAAL,CAAcsE,GAAd,CAAb,EAAiC,OAAOjJ,MAAM,CAAC4E,KAAP,CAAa+I,OAAb,CAAqB3N,MAAM,CAAC6M,IAAP,CAAYC,QAAZ,CAAqBc,YAA1C,CAAP;AACpC,KA/CS,CAiDV;;;AACA,QAAIC,UAAU,GAAG,KAAKnM,KAAL,IAAc,CAAd,GAAkB1B,MAAM,CAACiK,IAAP,CAAYW,GAAZ,CAAgB,WAAhB,CAAlB,GAAiD5K,MAAM,CAACiK,IAAP,CAAYW,GAAZ,CAAgB,aAAhB,CAAlE;AACAvC,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBuF,UAAtB;;AACA,QAAI,CAACA,UAAL,EAAiB;AACb,UAAIC,MAAM,GAAG,KAAKpM,KAAL,IAAc,CAAd,GAAkB1B,MAAM,CAAC6M,IAAP,CAAYC,QAAZ,CAAqBiB,QAAvC,GAAkD/N,MAAM,CAAC6M,IAAP,CAAYC,QAAZ,CAAqBkB,SAApF;AACA,aAAOhO,MAAM,CAAC4E,KAAP,CAAagI,YAAb,CAA0BkB,MAA1B,CAAP;AACH;;AACD,QAAItJ,MAAM,GAAGxE,MAAM,CAACiK,IAAP,CAAYW,GAAZ,CAAgB,MAAhB,CAAb,EAAsC,OAAO5K,MAAM,CAAC4E,KAAP,CAAa+I,OAAb,CAAqB3N,MAAM,CAAC6M,IAAP,CAAYC,QAAZ,CAAqBmB,gBAA1C,CAAP;AAGtC,SAAKvE,iBAAL;AACH,GAremB;AAuepB;AACA/E,EAAAA,QAxeoB,oBAweX6C,KAxeW,EAweJ;AACZ,WAAQ3E,MAAM,CAAC2E,KAAD,CAAN,CAAchB,GAAd,CAAkB,GAAlB,CAAD,CAAyBnD,QAAzB,EAAP;AACH,GA1emB;AA2epB;AACA6I,EAAAA,gBA5eoB,8BA4eD;AACf,SAAKxK,KAAL,GAAa9B,YAAY,CAACE,MAA1B;AACA,SAAKS,aAAL,CAAmBgF,MAAnB,GAA4B,IAA5B;AACA,SAAKnF,WAAL,CAAiBmF,MAAjB,GAA0B,KAA1B;AACH,GAhfmB;AAifpB;AACA4G,EAAAA,cAlfoB,4BAkfH;AACb,SAAKzK,KAAL,GAAa9B,YAAY,CAACG,IAA1B;AACA,SAAKQ,aAAL,CAAmBgF,MAAnB,GAA4B,KAA5B;AACA,SAAKnF,WAAL,CAAiBmF,MAAjB,GAA0B,IAA1B;AACH,GAtfmB;AAufpB;AACA8G,EAAAA,gBAxfoB,8BAwfD;AACfrM,IAAAA,MAAM,CAAC4E,KAAP,CAAaC,eAAb,CAA6B,YAA7B,EAA2CC,IAA3C,CAAgD,UAAAC,MAAM,EAAI;AACtDA,MAAAA,MAAM,CAACC,YAAP,CAAoB,YAApB,EAAkCyE,YAAlC,CAA+C,CAA/C;AACH,KAFD;AAIH,GA7fmB;AA8fpB;AACA2C,EAAAA,eA/foB,6BA+fF;AACdpM,IAAAA,MAAM,CAAC4E,KAAP,CAAaC,eAAb,CAA6B,eAA7B;AACH,GAjgBmB;AAkgBpB;AACAyH,EAAAA,mBAngBoB,iCAmgBE;AAClBtM,IAAAA,MAAM,CAAC4E,KAAP,CAAaC,eAAb,CAA6B,gBAA7B;AACH,GArgBmB;AAsgBpB;AACA0H,EAAAA,cAvgBoB,4BAugBH;AACbvM,IAAAA,MAAM,CAAC4E,KAAP,CAAaC,eAAb,CAA6B,YAA7B,EAA2CC,IAA3C,CAAgD,UAAAC,MAAM,EAAI;AACtDA,MAAAA,MAAM,CAACC,YAAP,CAAoB,YAApB,EAAkCyE,YAAlC,CAA+C,CAA/C;AACH,KAFD;AAGH,GA3gBmB;AA4gBpB;AACA+C,EAAAA,gBA7gBoB,8BA6gBD;AACfxM,IAAAA,MAAM,CAAC4E,KAAP,CAAaC,eAAb,CAA6B,YAA7B,EAA2CC,IAA3C,CAAgD,UAAAC,MAAM,EAAI;AACtDA,MAAAA,MAAM,CAACC,YAAP,CAAoB,YAApB,EAAkCyE,YAAlC,CAA+C,CAA/C;AACH,KAFD;AAGH,GAjhBmB;AAkhBpByE,EAAAA,SAlhBoB,uBAkhBR;AACR,SAAKzL,eAAL;AACH,GAphBmB,CAqhBpB;;AArhBoB,CAAxB","sourceRoot":"/","sourcesContent":["const EXTRACT_TYPE = { //当前提现类型\r\n    NONE: 0,\r\n    ALIPAY: 1,\r\n    BANK: 2\r\n}\r\nglGame.baseclass.extend({\r\n\r\n    properties: {\r\n        extractBank: cc.Node,//银行卡取现\r\n        extractAlipay: cc.Node,//支付宝取现\r\n        lab_cashCoin: cc.Label, //可提现金额\r\n        lab_extractRule: cc.Label,//提现手续以及规则\r\n        lab_ask: cc.RichText,\r\n\r\n        selectCash: cc.Node,\r\n        bankCash: cc.Toggle,\r\n        alipayCash: cc.Toggle,\r\n        edbNumBank: cc.EditBox,\r\n        editbox: cc.EditBox,\r\n        edbNumNode: cc.Node,\r\n\r\n        cashRecord: cc.Node,\r\n        cashItem: cc.Node,\r\n        integer: cc.Node,\r\n        decimal: cc.Label\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        this.index = 1\r\n        this.registerEvent();\r\n    },\r\n\r\n\r\n    ActionEndData() {\r\n        this.reqDrawCoin();\r\n        this.ReqCashBroadcastList();\r\n    },\r\n\r\n    // 注册界面监听事件\r\n    registerEvent() {\r\n        glGame.emitter.on(`${this.node.name}${MESSAGE.UI.ACTION_END}`, this.ActionEndData, this);\r\n        glGame.emitter.on(\"updateUserData\", this.updateUserData, this);\r\n        glGame.emitter.on(\"withdrawSuccess\", this.withdrawSuccess, this);\r\n        this.editbox.node.on(\"text-changed\", this.onTextChanged, this);\r\n    },\r\n    // 销毁界面监听事件\r\n    unRegisterEvent() {\r\n        glGame.emitter.off(`${this.node.name}${MESSAGE.UI.ACTION_END}`, this);\r\n        glGame.emitter.off(\"updateUserData\", this);\r\n        glGame.emitter.off(\"withdrawSuccess\", this);\r\n    },\r\n    onTextChanged(editbox) {\r\n        if (editbox.string == \"\") {\r\n            return;\r\n        }\r\n\r\n        let vau = Number(editbox.string);\r\n        if (isNaN(vau)) {\r\n            editbox.string = \"\";\r\n            return;\r\n        }\r\n\r\n        let edbStr = editbox.string;\r\n        if (edbStr.indexOf(\".\") != -1 && edbStr.length - edbStr.indexOf(\".\") > 2) {\r\n            edbStr = edbStr.substr(0, edbStr.indexOf(\".\") + 3);\r\n        }\r\n\r\n        vau = Number(edbStr);\r\n        editbox.string = Math.abs(vau).toString();\r\n    },\r\n\r\n    ReqCashBroadcastList() {\r\n        glGame.gameNet.send_msg(\"http.ReqCashBroadcastList\", { pageSize: 30 }, (route, data) => {\r\n            this.defData = data.list.defData;\r\n            this.rollingData = data.list.rollingData;\r\n            this.serverTimeoff = data.serverTime * 1000 - Date.now();\r\n            this.initCashRecord();\r\n            this.totalAmount = data.totalAmount;\r\n            //this.setintegerLabel(Number(Math.floor(Number(this.totalAmount).div(100))));\r\n        })\r\n    },\r\n\r\n    getcurTime(cur_waitTime) {\r\n        let countDown = Math.floor((cur_waitTime - (Date.now() + this.serverTimeoff)) / 1000);\r\n        return countDown;\r\n    },\r\n\r\n    withdrawSuccess(amount) {\r\n        this.coin -= amount;\r\n        this.coin = Math.max(0, this.coin);\r\n        this.lab_cashCoin.string = this.getFloat(this.coin);\r\n\r\n        glGame.panel.showPanelByName(\"exchangeWin\").then(prefab => {\r\n            prefab.getComponent(\"exchangeWin\").playSucceed();\r\n        });\r\n\r\n    },\r\n    initCashRecord() {\r\n        this.recordIndex = 0;\r\n        let Count = this.defData.length > 6 ? 6 : this.defData.length;\r\n        for (let i = 0; i < Count; i++) {\r\n            let cashItem = cc.instantiate(this.cashItem);\r\n            cashItem.parent = this.cashRecord;\r\n            cashItem.active = false;\r\n            let timeStamp = new Date(this.defData[i].updateTime * 1000);\r\n            let strTime = `${timeStamp.getMonth() + 1 >= 10 ? timeStamp.getMonth() + 1 : \"0\" + (timeStamp.getMonth() + 1)}/`\r\n            strTime += `${timeStamp.getDate() >= 10 ? timeStamp.getDate() : '0' + timeStamp.getDate()}`\r\n            strTime += ` ${timeStamp.getHours() >= 10 ? timeStamp.getHours() : \"0\" + timeStamp.getHours()}:`\r\n            strTime += `${timeStamp.getMinutes() >= 10 ? timeStamp.getMinutes() : \"0\" + timeStamp.getMinutes()}`\r\n            cashItem.getChildByName(\"notice\").getComponent(cc.RichText).string =\r\n                `${strTime} - 恭贺<color=#7de2ff>${this.defData[i].logicId}</c><size=26>成功提现<color=#f4c404>${this.getFloat(this.defData[i].cashAmount)}</c>元。</size>`\r\n\r\n        }\r\n        glGame.panel.showEffectNode(this, this.cashRecord, 0.02, true);\r\n    },\r\n    //数字跳动\r\n    myCoinshow(nowNumber) {\r\n        this.cishu = 50;    //变化的次数\r\n        this.time = 2;      //变化的时间\r\n        let Number1 = Number(this.totalAmount).div(100);\r\n        let Number2 = Number(nowNumber).div(100);\r\n        let Number3 = Number1.sub(Number2);\r\n        let dty, cb, action = [];\r\n        let szNum;\r\n        for (let i = 0; i < this.cishu; i++) {\r\n            dty = cc.delayTime(this.time / this.cishu);\r\n            cb = cc.callFunc(() => {\r\n                if (Number2 < Number1) {\r\n                    Number2 = Math.floor((Number(Number2).add(Number3.div(this.cishu))));\r\n                    this.setintegerLabel(Number2);\r\n                } else {\r\n                    Number1 = Math.floor((Number(Number1).sub(Number3.div(this.cishu))));\r\n                    szNum = Number1 + \"\";\r\n                    this.setintegerLabel(Number1);\r\n                }\r\n            })\r\n            action.push(dty, cb);\r\n        }\r\n        this.integer.stopAllActions();\r\n        this.integer.runAction(cc.sequence(action));\r\n    },\r\n    //设置提现榜数值\r\n    setintegerLabel(value) {\r\n        if (!this.spriteFrameList) {\r\n            this.spriteFrameList = [];\r\n            for (let i = 0; i < this.integer.getChildByName(\"numLabel\").childrenCount; i++) {\r\n                this.spriteFrameList.push(cc.instantiate(this.integer.getChildByName(\"numLabel\").getChildByName(\"img_num\" + i)));\r\n                this.integer.getChildByName(\"numLabel\").getChildByName(\"img_num\" + i).active = false;\r\n            }\r\n        }\r\n        for (let i = 0; i < this.integer.getChildByName(\"numLabel\").childrenCount; i++) {\r\n            this.integer.getChildByName(\"numLabel\").getChildByName(\"img_num\" + i).active = false;\r\n        }\r\n        let numString = value + \"\";\r\n        let len = numString.length > 9 ? 9 : numString.length;\r\n        for (let i = 0; i < len; i++) {\r\n            this.integer.getChildByName(\"numLabel\").getChildByName(\"img_num\" + (9 - i)).getComponent(cc.Sprite).spriteFrame = cc.instantiate(this.spriteFrameList[Number(numString.charAt(i))]).getComponent(cc.Sprite).spriteFrame;\r\n            this.integer.getChildByName(\"numLabel\").getChildByName(\"img_num\" + (9 - i)).active = true;\r\n        }\r\n    },\r\n    update(dt) {\r\n        if (!this.rollingData) return\r\n        for (let i = 0; i < this.rollingData.length; i++) {\r\n            let cutTime = this.getcurTime(this.rollingData[i].updateTime * 1000);\r\n            if (cutTime <= 0 && !this.rollingData[i].played) {\r\n                this.rollingData[i].played = true;\r\n                this.addItem(this.rollingData[i]);\r\n                let nowNumber = this.totalAmount;\r\n                this.totalAmount += this.rollingData[i].cashAmount\r\n                console.log(\"这是开始变化之前\", nowNumber, this.totalAmount, this.totalAmount - nowNumber, this.rollingData[i].cashAmount);\r\n                this.myCoinshow(nowNumber);\r\n                break;\r\n            }\r\n        }\r\n\r\n        let countDown = new Date(Date.now() + this.serverTimeoff).getSeconds();\r\n        if (countDown <= 0 && !this.boolreqData) {\r\n            this.boolreqData = true;\r\n            glGame.gameNet.send_msg(\"http.ReqCashBroadcastList\", {}, (route, data) => {\r\n                this.defData = data.list.defData;\r\n                this.rollingData = data.list.rollingData;\r\n                this.serverTimeoff = data.serverTime * 1000 - Date.now();\r\n                let totalAmount = data.totalAmount;\r\n                this.myCoinshow(totalAmount);\r\n                this.totalAmount = totalAmount\r\n            })\r\n        } else if (countDown > 0 && this.boolreqData) {\r\n            this.boolreqData = false;\r\n        }\r\n    },\r\n    //刷新记录\r\n    addItem(data) {\r\n        if (!data) return\r\n        if (this.cashRecord.childrenCount >= 6) {\r\n            this.cashRecord.children[0].destroy();\r\n            this.cashRecord.children[0].removeFromParent();\r\n        }\r\n        let cashItem = cc.instantiate(this.cashItem);\r\n        cashItem.parent = this.cashRecord;\r\n        cashItem.active = false;\r\n        let timeStamp = new Date(data.updateTime * 1000);\r\n        let strTime = `${timeStamp.getMonth() + 1 >= 10 ? timeStamp.getMonth() + 1 : \"0\" + (timeStamp.getMonth() + 1)}/`\r\n        strTime += `${timeStamp.getDate() >= 10 ? timeStamp.getDate() : '0' + timeStamp.getDate()}`\r\n        strTime += ` ${timeStamp.getHours() >= 10 ? timeStamp.getHours() : \"0\" + timeStamp.getHours()}:`\r\n        strTime += `${timeStamp.getMinutes() >= 10 ? timeStamp.getMinutes() : \"0\" + timeStamp.getMinutes()}`\r\n        let logicId = data.logicId, cashAmount = data.cashAmount;\r\n        cashItem.getChildByName(\"notice\").getComponent(cc.RichText).string =\r\n            `${strTime} - 恭贺<color=#7de2ff>${logicId}</c><size=26>成功提现<color=#f4c404>${this.getFloat(cashAmount)}元。</c></size>`\r\n\r\n\r\n        glGame.panel.showEffectNode(this, this.cashRecord, 0.02, true);\r\n    },\r\n    reqDrawCoin() {\r\n        glGame.gameNet.send_msg(\"http.ReqWithdrawCoin\", null, (route, data) => {\r\n            this.unit = data.unit; // 取现倍数\r\n            this.type = data.type  // 1. 固定手续费 2 按比例收费\r\n            this.fee = data.fee  //手续费金额或比例\r\n            this.start = data.withdraw_deposit_start // 单次提现限额区间设定初\r\n            this.end = data.withdraw_deposit_end //线上支付限额区间设定末\r\n            this.isNoUpperLimit = data.isNoUpperLimit // 是否为无上限 1代表无上限，0代表有上限值\r\n            this.coin = data.coin //可提现金额\r\n            this.mode = data.mode // bank  alipay   是否允许支付宝或者银行提现\r\n            this.cashPwdMode = data.cashPwdMode //取现密码找回配置，1为通过手机验证码 2 联系客服\r\n            this.unsatisfiedCoin = data.unsatisfiedCoin;//还有多少金币满足打码量要求\r\n            this.showMode();\r\n            this.setExtractRule();\r\n            this.initViewData();\r\n        })\r\n    },\r\n    reqWithdrawConfig() {\r\n        glGame.gameNet.send_msg(\"http.reqWithdrawConfig\", null, (route, data) => {\r\n            this.phoneCode = data.phone;\r\n            this.checkType = data.phone_check;\r\n            this.drawPwdState = data.cash_password;\r\n\r\n            if (this.checkType == 0) {\r\n                glGame.user.reqWithdraw(Number(this.edbNumBank.string), this.index);\r\n            } else if (this.checkType == 2 && this.drawPwdState == 0) {\r\n                this.showSetDrawPassword();\r\n            } else if (this.checkType == 1 && !this.checkPhone(this.phoneCode)) {\r\n                this.showSetPhoneCode();\r\n            } else if (this.checkType == 2 && this.drawPwdState != 0) {\r\n                this.showPassword();\r\n            } else if (this.checkType == 1 && this.checkPhone(this.phoneCode)) {\r\n                this.showPhoneCode();\r\n            }\r\n        })\r\n    },\r\n\r\n    checkPhone(phone) {\r\n        if (typeof phone == \"sting\" && phone == \"\") return false;\r\n        else if (typeof phone == \"number\" && phone == 0) return false;\r\n        else if (phone == null) return false;\r\n        return true;\r\n    },\r\n\r\n    showSetDrawPassword() {\r\n        glGame.panel.showPanelByName(\"setExtractpass\").then(prefab => {\r\n            let script = prefab.getComponent(\"setExtractpass\");\r\n            script.setTips(this.cashPwdMode);\r\n            script.set(\"type\", this.index);\r\n            script.set(\"coin\", this.edbNumBank.string);\r\n        });\r\n\r\n    },\r\n    showSetPhoneCode() {\r\n        glGame.panel.showPanelByName(\"bindPhone\");       //绑定\r\n    },\r\n    showPassword() {\r\n        glGame.panel.showPanelByName(\"extractpass\").then(prefab => {\r\n            prefab.getComponent(\"extractpass\").initView(this.index, this.edbNumBank.string, this.cashPwdMode);\r\n        });\r\n\r\n    },\r\n    showPhoneCode() {\r\n        let phone = glGame.user.get(\"phone\").toString();\r\n        if (!phone || phone == \"\" || phone == \"0\") {\r\n            glGame.panel.showPanelByName(\"bindPhone\");       //绑定\r\n            return;\r\n        }\r\n\r\n        glGame.panel.showPanelByName(\"extractVerifica\").then(prefab => {\r\n            let script = prefab.getComponent(\"extractVerifica\");\r\n            script.initData(glGame.user.get(\"phone\"), this.edbNumBank.string)\r\n            script.set(\"type\", this.index)\r\n        });\r\n    },\r\n    //设置手续费提示\r\n    setExtractRule() {\r\n        this.lab_extractRule.string = \"\";\r\n        //免手续费\r\n        let content1 = this.unit <= 1 ? \"免手续费\" : `只支持${this.getFloat(this.unit)}的倍数,免手续费`;\r\n        //收手续费\r\n        let str;\r\n        str = this.type == 1 ? `${this.getFloat(this.fee)}` : `${this.getFloat(this.fee)}%`\r\n        let content2 = ''\r\n        if (this.fee == 0) {\r\n            content2 = this.unit <= 1 ? \"\" : `只支持${this.getFloat(this.unit)}的倍数`;\r\n        } else {\r\n            if (this.type == 2) {\r\n                content2 = this.unit <= 1 ? `收取${str}手续费` : `只支持${this.getFloat(this.unit)}的倍数,且收取${str}手续费`;\r\n            } else {\r\n                content2 = this.unit <= 1 ? `收取${str}元手续费` : `只支持${this.getFloat(this.unit)}的倍数,且收取${str}元手续费`;\r\n            }\r\n        }\r\n        this.lab_extractRule.string = this.type == 3 ? content1 : content2;\r\n        if (this.unsatisfiedCoin == 0) {\r\n            this.lab_ask.string = `<color=#48d4a8>您身上所有金币都已满足打码量要求，无提现限制</c>`\r\n        } else {\r\n            this.lab_ask.string = `<color=#cee0fe>当前还有</c><color=#f44d4d>${this.getFloat(this.unsatisfiedCoin)}</c><color=#cee0fe>金币未满足打码量要求</c>`\r\n        }\r\n\r\n    },\r\n    //提现渠道初始化\r\n    showMode() {\r\n        this.bankCash.node.active = this.mode.bank == 1;\r\n        this.alipayCash.node.active = this.mode.alipay == 1;\r\n        if (this.mode.bank != 1 && this.mode.alipay == 1) {\r\n            this.index = EXTRACT_TYPE.ALIPAY;\r\n            this.alipayCash.isChecked = true;\r\n        } else if (this.mode.bank != 1 && this.mode.alipay != 1) {\r\n            this.selectCash.active = false;\r\n            this.index = EXTRACT_TYPE.NONE\r\n        } else {\r\n            this.index = EXTRACT_TYPE.BANK;\r\n            this.bankCash.isChecked = true;\r\n        }\r\n    },\r\n    updateUserData() {\r\n        this.extractBank.getChildByName(\"bankNumber\").active = false;\r\n        this.extractBank.getChildByName(\"bindbank\").active = false;\r\n        this.extractAlipay.getChildByName(\"aliNumber\").active = false;\r\n        this.extractAlipay.getChildByName(\"bindAlipay\").active = false;\r\n        this.initViewData();\r\n        console.log(\"刷新主页面信息\")\r\n    },\r\n    //初始化页面的数据\r\n    initViewData() {\r\n        let bank_card = glGame.user.get(\"bankCardNum\"),\r\n            alipay = glGame.user.get(\"alipayAcc\");\r\n        if (bank_card && bank_card != \"\") {\r\n            this.extractBank.getChildByName(\"bankNumber\").active = true\r\n            this.extractBank.getChildByName(\"bindbank\").active = false;\r\n            this.extractBank.getChildByName(\"bankNumber\").getComponent(cc.Label).string = bank_card.replace(bank_card.substring(4, 13), \"*********\");\r\n        } else {\r\n            this.extractBank.getChildByName(\"bindbank\").active = true\r\n            this.extractBank.getChildByName(\"bankNumber\").active = false\r\n        }\r\n        if (alipay && alipay != \"\") {\r\n            this.extractAlipay.getChildByName(\"aliNumber\").active = true;\r\n            this.extractAlipay.getChildByName(\"bindAlipay\").active = false;\r\n            this.extractAlipay.getChildByName(\"aliNumber\").getComponent(cc.Label).string = alipay.replace(alipay.substring(3, 7), \"****\");;\r\n        } else {\r\n            this.extractAlipay.getChildByName(\"bindAlipay\").active = true;\r\n            this.extractAlipay.getChildByName(\"aliNumber\").active = false\r\n        }\r\n        if (this.index == EXTRACT_TYPE.ALIPAY) this.extractAlipay.active = true;\r\n        else if (this.index == EXTRACT_TYPE.BANK) this.extractBank.active = true;\r\n\r\n        this.edbNumNode.getSelfFunc().setString(\"\");\r\n\r\n        let X = Math.max((this.start).div(100), Number(this.unit).div(100));\r\n        let Z = parseInt(Number(this.coin).div(100) / Number(this.unit).div(100)) * Number(this.unit).div(100)\r\n        let Y = null;\r\n        if (Z) {\r\n            if (this.isNoUpperLimit == 0) {\r\n                let endValue = parseInt(Number(this.end).div(100) / Number(this.unit).div(100)) * Number(this.unit).div(100)\r\n                Y = Math.min(endValue, Z);\r\n            } else {\r\n                Y = Z;\r\n            }\r\n        } else {\r\n            Y = Number(this.coin).div(100)\r\n        }\r\n\r\n        // if (this.coin >= this.unit) {\r\n        //     if (this.coin == 0) {\r\n        //         this.edbNumNode.getSelfFunc().setPlaceholder(\"当前无法提现\");\r\n        //     } else {\r\n        //         // let start = this.unit > this.start ? this.unit : this.start;\r\n        //         // // let end = this.coin <= this.end ? Number(this.coin).sub(this.coin % this.unit) : Number(this.end).sub(this.end % this.unit);\r\n        //         // let end = this.end;\r\n        //         // this.edbNumNode.getSelfFunc().setPlaceholder(`${this.getFloat(start)}~${this.getFloat(end)}`);\r\n\r\n        //         this.edbNumNode.getSelfFunc().setPlaceholder(`${X}~${Y}`);\r\n        //     }\r\n        // } else {\r\n        //     this.edbNumNode.getSelfFunc().setPlaceholder(\"当前无法提现\");\r\n        // }\r\n        if (X > Y) {\r\n            this.edbNumNode.getSelfFunc().setPlaceholder(\"可提现金额不足，无法提现\");\r\n        } else {\r\n            if (this.coin == 0) {\r\n                this.edbNumNode.getSelfFunc().setPlaceholder(\"可提现金额不足，无法提现\");\r\n            } else {\r\n                this.edbNumNode.getSelfFunc().setPlaceholder(`${X}~${Y}`);\r\n            }\r\n        }\r\n\r\n        this.lab_cashCoin.string = this.getFloat(this.coin);\r\n    },\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"btn_close\": this.remove(); break;\r\n            case \"alipayCash\": this.click_alipayCash(); break;\r\n            case \"bankCash\": this.click_bankCash(); break;\r\n            case \"btn_waterRule\": this.click_waterRule(); break;\r\n            case \"btn_extractMgr\": this.click_extractMgr(); break;\r\n            case \"btn_extractRecord\": this.click_extractRecord(); break;\r\n            case \"btn_bindbank\": this.click_bindbank(); break;\r\n            case \"btn_bindalipay\": this.click_bindalipay(); break;\r\n            case \"btn_sure\": this.sureExtract(); break;\r\n            case \"btn_extractRecord\": this.extractRecord(); break;\r\n\r\n        }\r\n    },\r\n    //取现记录\r\n    extractRecord() {\r\n\r\n    },\r\n    //支付宝提现\r\n    reqextractAlipay() {\r\n        let amount = this.extractAlipay.getChildByName(\"extractNum\").getChildByName(\"EditBox\").getComponent(cc.EditBox).string;\r\n        glGame.panel.showPanelByName(\"extractpass\").then(prefab => {\r\n            prefab.getComponent(\"extractpass\").set(\"amount\", amount);\r\n        });\r\n    },\r\n    //确认提现\r\n    sureExtract() {\r\n        console.log(\"confirmDraw confirmDraw confirmDraw\")\r\n        if (this.coin == 0 && glGame.user.get(\"coin\") != 0) {                       //判断是否开启稽核，目前先这么判断\r\n            return glGame.panel.showErrorTip(glGame.tips.EXCHANGE.LOCK);\r\n        }\r\n        let edbStr = this.edbNumBank.string;\r\n        // if (edbStr.indexOf(\".\") > 0 && edbStr.length - edbStr.indexOf(\".\") > 2) {\r\n        //     this.edbNumNode.getSelfFunc().setString(edbStr.substr(0, edbStr.indexOf(\".\")+3));\r\n        // }\r\n\r\n        if (edbStr.length == 0) {\r\n            return glGame.panel.showErrorTip(glGame.tips.EXCHANGE.EMPTY_INPUT);\r\n        }\r\n\r\n        if (Number(edbStr) < this.getFloat(Number(this.start))) {\r\n            console.log('输入金额与最低金额', Number(edbStr), Number(this.start))\r\n            return glGame.panel.showErrorTip(glGame.tips.EXCHANGE.OUT_OF_RANGE);\r\n        }\r\n        if (this.isNoUpperLimit == 0 && Number(edbStr) > this.getFloat(Number(this.end))) {\r\n            console.log('输入金额与最大金额', Number(edbStr), Number(this.end))\r\n            return glGame.panel.showErrorTip(glGame.tips.EXCHANGE.OUT_OF_RANGE);\r\n        }\r\n        console.log(\"confirmDraw confirmDraw confirmDraw1\")\r\n        if (!/^\\d+(\\.\\d{0,2})?$/.test(this.edbNumBank.string)) {\r\n            return glGame.panel.showErrorTip(glGame.tips.EXCHANGE.NONUMBER);\r\n        }\r\n        console.log(\"confirmDraw confirmDraw confirmDraw2\", this.edbNumBank.string)\r\n        let amount = Number(this.edbNumBank.string);\r\n        if (!amount || amount < 0) {\r\n            return glGame.panel.showErrorTip(glGame.tips.EXCHANGE.EXCLITTLE);\r\n        }\r\n        console.log(\"confirmDraw confirmDraw confirmDraw3\")\r\n        let num = amount / this.getFloat(this.unit);// 判断领取倍数\r\n        if (num.toString().indexOf(\".\") > -1) {\r\n            return glGame.panel.showErrorTip(glGame.tips.EXCHANGE.MUST_INTEGER.format(this.getFloat(this.unit)));\r\n        }\r\n        console.log(\"confirmDraw confirmDraw confirmDraw4\")\r\n        let userCoin = this.coin;\r\n        if (userCoin - amount < this.getFloat(this.unit)) {\r\n            return glGame.panel.showErrorTip(glGame.tips.EXCHANGE.MINGOLD.format(this.getFloat(this.unit)));\r\n        }\r\n        console.log(\"confirmDraw confirmDraw confirmDraw5\")\r\n        let type = this.drawtype;\r\n\r\n        if (this.isNoUpperLimit == 0) {\r\n            let end = this.coin <= this.end ? Number(this.coin).sub(this.coin % this.unit) : this.end;\r\n            if (amount > this.getFloat(end)) return glGame.panel.showTip(glGame.tips.EXCHANGE.OUT_OF_LIMIT);\r\n        }\r\n\r\n        //if (isShowNext) return;\r\n        let accountStr = this.index == 1 ? glGame.user.get(\"alipayAcc\") : glGame.user.get(\"bankCardNum\");\r\n        console.log(\"账号账号账号\", accountStr);\r\n        if (!accountStr) {\r\n            let tipstr = this.index == 1 ? glGame.tips.EXCHANGE.BIND_ZFB : glGame.tips.EXCHANGE.BIND_BANK;\r\n            return glGame.panel.showErrorTip(tipstr);\r\n        }\r\n        if (amount > glGame.user.get(\"coin\")) return glGame.panel.showTip(glGame.tips.EXCHANGE.MONEY_NOT_ENOUGH);\r\n\r\n\r\n        this.reqWithdrawConfig();\r\n    },\r\n\r\n    //桌面数据的显示\r\n    getFloat(value) {\r\n        return (Number(value).div(100)).toString();\r\n    },\r\n    //提现在支付宝\r\n    click_alipayCash() {\r\n        this.index = EXTRACT_TYPE.ALIPAY;\r\n        this.extractAlipay.active = true;\r\n        this.extractBank.active = false;\r\n    },\r\n    //提现到银行\r\n    click_bankCash() {\r\n        this.index = EXTRACT_TYPE.BANK;\r\n        this.extractAlipay.active = false;\r\n        this.extractBank.active = true;\r\n    },\r\n    //提现管理\r\n    click_extractMgr() {\r\n        glGame.panel.showPanelByName(\"extractMgr\").then(prefab => {\r\n            prefab.getComponent(\"extractMgr\").initViewData(2);\r\n        });\r\n\r\n    },\r\n    //打码量要求\r\n    click_waterRule() {\r\n        glGame.panel.showPanelByName(\"backWaterRule\");\r\n    },\r\n    //提现记录\r\n    click_extractRecord() {\r\n        glGame.panel.showPanelByName(\"exchangerecord\");\r\n    },\r\n    //绑定银行卡\r\n    click_bindbank() {\r\n        glGame.panel.showPanelByName(\"extractMgr\").then(prefab => {\r\n            prefab.getComponent(\"extractMgr\").initViewData(2);\r\n        });\r\n    },\r\n    //绑定支付宝\r\n    click_bindalipay() {\r\n        glGame.panel.showPanelByName(\"extractMgr\").then(prefab => {\r\n            prefab.getComponent(\"extractMgr\").initViewData(1);\r\n        });\r\n    },\r\n    OnDestroy() {\r\n        this.unRegisterEvent();\r\n    },\r\n    // update (dt) {},\r\n});\r\n"]}