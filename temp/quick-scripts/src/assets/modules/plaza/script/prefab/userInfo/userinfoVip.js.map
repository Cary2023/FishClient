{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\userInfo\\userinfoVip.js"],"names":["AWARD_TYPE","UP","WEEK","MONTH","glGame","baseclass","extend","properties","lab_viplevel1","cc","Label","lab_viplevel2","node_nextVipLayout","Node","node_nextVipMaxLevel","node_vipTip","node_vipMaxTip","lab_vipExpTip","lab_vipExpTypeTip","lab_vipLevelTip","progress","Sprite","imgGetStates","SpriteFrame","pageView","PageView","content","item","levelInfo","curVip","normalMaterial","Material","grayMaterial","onLoad","vipList","userinfo","upgradeType","showData","showInfoLevel","vipCount","registerEvent","ReqVipInfo","node","on","onPageScrollEnd","start","emitter","unRegisterEvent","off","OnDestroy","initUI","initLevelInfoUI","setLevelInfo","initAwardInfo","getChildByName","active","data","level","ismaxLevel","nextlevel","i","length","id","vipId","vipName","string","exp","progressWidth","Number","recharge","rechargeSum","width","cutFloat","betting","bettingSum","vipInfo","frame","leftBtn","rightBtn","getComponent","undefined","nCount","curLv","childrenCount","pageNode","instantiate","name","addPage","scrollToPage","startIndex","children","showPageInfo","leftInfo","isCanGet","rightInfo","unclaimed","bonusUpgrade","unclaimedWeek","bonusWeekDiff","unclaimedMonth","bonusMonthDiff","award","upAward","weekAward","bonusWeek","monthAward","bonusMonth","otherAward","blanceAward","temp","balance","toFixed","toString","ratioAward","returnRatio","setUpAwardState","setWeekAwardState","tips","VIPAWARD","WEEKTIPS","weekIsReceive","MONTHTIPS","monthIsReceive","nodeObj","Button","interactable","btnGet","setButtonMaterial","spriteFrame","awardcoin","color","Color","title_gray","explain","LVGETCONDITION","format","describle","userUnclaimed","bonus","setPanelState","CANNOTGETTIPS","bEnable","RenderComponent","setMaterial","onClick","caijin_cb","week_cb","month_cb","detail_cb","left_cb","right_cb","ratio_cb","blance_cb","btnGet_cb","parent","curPage","getCurrentPageIndex","stopAutoScroll","ReqVipReward","panel","showPanelByName","then","showWeekGift","showMonthGift","showVipRight","gameNet","send_msg","route","result","sort","a","b","k","userInfo","emit","type","vipid","msg","user","ReqRedDot","reqGetCoin","strTitle","UPAWARD","WEEKAWARD","MONTHAWARD","showAwardBox","awardtype","COIN","value","coin","Math","floor","parseFloat"],"mappings":"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","sourceRoot":"/","sourcesContent":["\r\nconst AWARD_TYPE = {\r\n    UP: 1,\r\n    WEEK: 2,\r\n    MONTH: 3\r\n}\r\n\r\nglGame.baseclass.extend({\r\n    properties: {\r\n        lab_viplevel1: cc.Label,        //左边图标的等级 显示当前VIP等级\r\n        lab_viplevel2: cc.Label,        //右边图标的等级 显示下一个VIP等级\r\n\r\n        node_nextVipLayout: cc.Node,        //next viplevel\r\n        node_nextVipMaxLevel: cc.Node,\r\n\r\n        node_vipTip: cc.Node,\r\n        node_vipMaxTip: cc.Node,\r\n        lab_vipExpTip: cc.Label,        //升级提示\r\n        lab_vipExpTypeTip: cc.Label,    //升级提示\r\n        lab_vipLevelTip: cc.Label,      //升级提示\r\n\r\n        progress: cc.Sprite,            //进度条\r\n\r\n        //说明界面\r\n        imgGetStates: [cc.SpriteFrame],\r\n        pageView: cc.PageView,\r\n        content: cc.Node,\r\n        item: cc.Node,\r\n        levelInfo: cc.Node,\r\n        curVip: cc.Label,\r\n        normalMaterial: cc.Material,\r\n        grayMaterial: cc.Material,\r\n    },\r\n    onLoad() {\r\n        this.vipList = null;        // vip信息列表\r\n        this.userinfo = null;\r\n        this.upgradeType = 0;\r\n        this.showData = null;       \r\n        this.showInfoLevel = null;  // 当前vip等级\r\n        this.vipCount = 0;\r\n        this.registerEvent();\r\n        this.ReqVipInfo();\r\n\r\n        this.pageView.node.on(\"scroll-ended\", this.onPageScrollEnd, this);\r\n    },\r\n    start() {\r\n\r\n    },\r\n    registerEvent() {\r\n        glGame.emitter.on(\"notifyReqVipInfo\", this.ReqVipInfo, this);\r\n    },\r\n    unRegisterEvent() {\r\n        glGame.emitter.off(\"notifyReqVipInfo\", this);\r\n    },\r\n    OnDestroy() {\r\n        this.unRegisterEvent();\r\n    },\r\n\r\n    initUI() {\r\n        this.initLevelInfoUI();\r\n        this.setLevelInfo();\r\n        this.initAwardInfo();\r\n    },\r\n\r\n    initLevelInfoUI() {\r\n        this.levelInfo.getChildByName(\"img_viptubiaonext\").active = true;\r\n        let data = this.userinfo;\r\n        let level, ismaxLevel = false, nextlevel;\r\n        for (let i = 0; i < this.vipList.length; i++) {\r\n            if (this.vipList[i].id == data.vipId) {\r\n                level = this.vipList[i].vipName;\r\n                ismaxLevel = i == this.vipList.length - 1;\r\n                nextlevel = i == this.vipList.length - 1 ? \"\" : this.vipList[i + 1].vipName;\r\n                break;\r\n            }\r\n        }\r\n        this.lab_viplevel1.string = \"VIP \" + level;\r\n        this.lab_viplevel2.string = \"VIP \" + nextlevel;\r\n        let exp = 0;\r\n        let progressWidth = 718;\r\n        if (Number(this.upgradeType) == 1) {\r\n            exp = (data.recharge - data.rechargeSum) >= 0 ? (data.recharge - data.rechargeSum) : 0;\r\n            this.progress.node.width = data.rechargeSum / data.recharge == 0 ? 0.001 * progressWidth : data.rechargeSum / data.recharge * progressWidth;\r\n            this.lab_vipExpTypeTip.string = \"充值金额\";\r\n            this.lab_vipExpTip.string = this.cutFloat(exp);\r\n            this.lab_vipLevelTip.string = nextlevel;\r\n        } else {\r\n            exp = (data.betting - data.bettingSum) >= 0 ? (data.betting - data.bettingSum) : 0;\r\n            this.progress.node.width = data.bettingSum / data.betting == 0 ? 0.001 * progressWidth : data.bettingSum / data.betting * progressWidth; \r\n            this.lab_vipExpTypeTip.string = \"打码量\";\r\n            this.lab_vipExpTip.string = this.cutFloat(exp);\r\n            this.lab_vipLevelTip.string = nextlevel;\r\n        }\r\n\r\n        this.node_vipTip.active = !ismaxLevel;\r\n        this.node_vipMaxTip.active = !!ismaxLevel;\r\n\r\n        this.node_nextVipLayout.active = !ismaxLevel;\r\n        this.node_nextVipMaxLevel.active = !!ismaxLevel;\r\n\r\n        if (ismaxLevel) this.progress.node.width = progressWidth;\r\n    },\r\n\r\n    // 设置vip等级信息\r\n    setLevelInfo() {\r\n        let vipInfo = this.vipList[this.showInfoLevel];\r\n        let level = vipInfo.vipName;\r\n        let nextlevel;\r\n        if(this.showInfoLevel < this.vipList.length - 1) {\r\n            nextlevel = this.vipList[this.showInfoLevel + 1].vipName;\r\n        }\r\n\r\n        let frame = this.node.getChildByName(\"frame_grzx\");\r\n        let leftBtn = frame.getChildByName(\"left\");\r\n        let rightBtn = frame.getChildByName(\"right\");\r\n        leftBtn.active = this.showInfoLevel != 0;\r\n        leftBtn.getChildByName(\"lv\").getComponent(cc.Label).string = level - 1;\r\n\r\n        rightBtn.active = nextlevel != undefined;\r\n        if(nextlevel) {\r\n            rightBtn.getChildByName(\"lv\").getComponent(cc.Label).string = nextlevel;    \r\n        }\r\n\r\n        this.curVip.string = `VIP${vipInfo.vipName}专属权益`;\r\n        this.curVip.node.active = true;\r\n    },\r\n\r\n    // 设置奖励 分三页循环滚动\r\n    initAwardInfo() {\r\n        let nCount = this.vipCount;\r\n        let curLv = this.showInfoLevel;\r\n        this.showData = this.vipList[this.showInfoLevel];\r\n        \r\n        if(this.content.childrenCount == 0) {\r\n            for(let i = 0; i < 3; i++) {\r\n                let pageNode = cc.instantiate(this.item);\r\n                pageNode.active = true;\r\n                pageNode.name = `imte${i}`;\r\n                this.pageView.addPage(pageNode);\r\n            }\r\n\r\n            // 初始化时滚动到玩家当前等级的页面\r\n            if(curLv == 0) {\r\n                this.pageView.scrollToPage(0, 0);\r\n            } else if(curLv == nCount - 1) {\r\n                this.pageView.scrollToPage(2, 0);\r\n            } else {\r\n                this.pageView.scrollToPage(1, 0);\r\n            }\r\n        }   \r\n\r\n        let startIndex = curLv - 1;\r\n        if(curLv == 0) {\r\n            startIndex = 0;\r\n        } else if(curLv == nCount - 1) {\r\n            startIndex = curLv - 2;\r\n        }\r\n\r\n        for(let i = 0; i < 3; i++) {\r\n            let pageNode = this.content.children[i];\r\n            this.showPageInfo(pageNode, this.vipList[startIndex + i]);\r\n        }\r\n\r\n        let frame = this.node.getChildByName(\"frame_grzx\");\r\n\r\n        // 判断左侧按钮是否显示红点\r\n        let leftInfo = this.vipList[startIndex];\r\n        if(curLv == nCount - 1) {\r\n            leftInfo = this.vipList[startIndex + 1];\r\n        }\r\n        if(this.isCanGet(leftInfo)) {\r\n            frame.getChildByName(\"left\").getChildByName(\"red_dot\").active = true;\r\n        } else {\r\n            frame.getChildByName(\"left\").getChildByName(\"red_dot\").active = false;\r\n        }\r\n\r\n        // 判断右侧是否显示红点\r\n        let rightInfo = this.vipList[startIndex+2];\r\n        if(curLv == 0) {\r\n            rightInfo = this.vipList[startIndex+1];\r\n        }\r\n        if(this.isCanGet(rightInfo)) {\r\n            frame.getChildByName(\"right\").getChildByName(\"red_dot\").active = true;\r\n        } else {\r\n            frame.getChildByName(\"right\").getChildByName(\"red_dot\").active = false;\r\n        }\r\n    },\r\n\r\n    // 是否可以领取\r\n    isCanGet(vipInfo) {\r\n        if(vipInfo.unclaimed == 2 && vipInfo.bonusUpgrade > 0) {\r\n            return true;\r\n        }\r\n\r\n        if(vipInfo.unclaimedWeek == 2 && vipInfo.bonusWeekDiff > 0) {\r\n            return true;\r\n        }\r\n\r\n        if(vipInfo.unclaimedMonth == 2 && vipInfo.bonusMonthDiff) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    // 显示每页信息\r\n    showPageInfo(pageNode, vipInfo) {\r\n        let award = pageNode.getChildByName(\"award\");\r\n\r\n        // 晋级礼金\r\n        let upAward = award.getChildByName(\"btn_upaward\");\r\n        upAward.getChildByName(\"awardcoin\").getComponent(cc.Label).string = this.cutFloat(vipInfo.bonusUpgrade);\r\n\r\n        // 周礼金\r\n        let weekAward = award.getChildByName(\"btn_weekaward\");\r\n        weekAward.getChildByName(\"awardcoin\").getComponent(cc.Label).string = this.cutFloat(vipInfo.bonusWeek);\r\n        \r\n        // 月礼金\r\n        let monthAward = award.getChildByName(\"btn_monthaward\");\r\n        monthAward.getChildByName(\"awardcoin\").getComponent(cc.Label).string = this.cutFloat(vipInfo.bonusMonth);\r\n    \r\n        let otherAward = pageNode.getChildByName(\"otherAward\");\r\n\r\n        // 余额宝\r\n        let blanceAward = otherAward.getChildByName(\"btn_blanceaward\");\r\n        let temp = (Number(vipInfo.balance) / 100 * 365).toFixed(2).toString()\r\n        blanceAward.getChildByName(\"awardcoin\").getComponent(cc.Label).string = `${temp}%` ;\r\n\r\n        // 返水奖励\r\n        let ratioAward = otherAward.getChildByName(\"btn_ratioaward\");\r\n        ratioAward.getChildByName(\"awardcoin\").getComponent(cc.Label).string = `${this.cutFloat(vipInfo.returnRatio)}%`;\r\n        \r\n        // 设置晋级礼金状态\r\n        this.setUpAwardState(upAward, vipInfo.unclaimed, vipInfo, vipInfo.bonusUpgrade);\r\n        \r\n        // 设置周礼金状态\r\n        this.setWeekAwardState(weekAward, vipInfo.unclaimedWeek, vipInfo, glGame.tips.VIPAWARD.WEEKTIPS, this.userinfo.weekIsReceive, vipInfo.bonusWeekDiff);\r\n       \r\n        // 设置月礼金状态\r\n        this.setWeekAwardState(monthAward, vipInfo.unclaimedMonth, vipInfo, glGame.tips.VIPAWARD.MONTHTIPS, this.userinfo.monthIsReceive, vipInfo.bonusMonthDiff);\r\n    },\r\n\r\n    //状态，1已领取，2可领取，3暂不可领取\r\n    setUpAwardState(nodeObj, unclaimed, vipInfo, bonusUpgrade) {\r\n\r\n        nodeObj.getComponent(cc.Button).interactable = unclaimed == 2;\r\n\r\n        // 按钮领取状态\r\n        let btnGet = nodeObj.getChildByName(\"btn_get\");\r\n        this.setButtonMaterial(btnGet, unclaimed == 2);\r\n        btnGet.getComponent(cc.Button).interactable = unclaimed == 2;\r\n        btnGet.getChildByName(\"red\").active = unclaimed == 2;\r\n        btnGet.getChildByName(\"img_lq\").getComponent(cc.Sprite).spriteFrame = this.imgGetStates[unclaimed];\r\n\r\n        if(vipInfo.id == 1 || bonusUpgrade <= 0) {\r\n            btnGet.getChildByName(\"img_lq\").getComponent(cc.Sprite).spriteFrame = this.imgGetStates[3];\r\n            btnGet.getChildByName(\"red\").active = false;\r\n        }\r\n\r\n        // 奖励图标\r\n        nodeObj.getChildByName(\"img_awardicon\").active = unclaimed == 2;\r\n        nodeObj.getChildByName(\"img_awardicon_grey\").active = unclaimed != 2;\r\n\r\n        // 奖励金额\r\n        let awardcoin = nodeObj.getChildByName(\"awardcoin\");\r\n        awardcoin.color = unclaimed == 2 ? new cc.Color(254, 192, 17) : new cc.Color(0x8f, 0x8f, 0x8f);\r\n\r\n        // 标题\r\n        let title_gray = nodeObj.getChildByName(\"title_gray\");\r\n        title_gray.active = unclaimed != 2;\r\n\r\n        // 奖励说明\r\n        let explain = nodeObj.getChildByName(\"explain\");\r\n        switch(unclaimed) {\r\n            case 1:\r\n                explain.active = false;\r\n                break;\r\n            case 2:\r\n                explain.active = true;\r\n                explain.getComponent(cc.Label).string = \"\";\r\n                break;\r\n            case 3:\r\n                explain.active = true;\r\n                explain.getComponent(cc.Label).string = glGame.tips.VIPAWARD.LVGETCONDITION.format(vipInfo.vipName);\r\n                break;\r\n        }\r\n    },\r\n\r\n    // 设置周礼金和月礼金\r\n    //状态，1已领取，2可领取，3暂不可领取\r\n    setWeekAwardState(nodeObj, unclaimed, vipInfo, describle, userUnclaimed, bonus) {\r\n        // 面板已领取或者等级条件不满足置灰 单纯置灰 还是可以点击\r\n        if(unclaimed == 1 || this.userinfo.vipId < vipInfo.id) {\r\n            this.setPanelState(nodeObj, false);\r\n        } else {\r\n            this.setPanelState(nodeObj, true);\r\n        }\r\n\r\n        // 等级不满足时不可点击\r\n        nodeObj.getComponent(cc.Button).interactable = this.userinfo.vipId >= vipInfo.id;\r\n\r\n        if(userUnclaimed==2 && this.userinfo.vipId >= vipInfo.id && vipInfo.id != 1) {\r\n            unclaimed = 2;\r\n        }\r\n\r\n        // 按钮领取状态\r\n        let btnGet = nodeObj.getChildByName(\"btn_get\");\r\n        btnGet.getChildByName(\"img_lq\").getComponent(cc.Sprite).spriteFrame = this.imgGetStates[unclaimed];\r\n        // 只要vip等级达到 就设置为高亮状态\r\n        if(this.userinfo.vipId >= vipInfo.id) {\r\n            this.setButtonMaterial(btnGet, true);  \r\n            btnGet.getComponent(cc.Button).interactable = true;\r\n            \r\n            // vip等级达到 如果不是可领取状态或者可领取金额为0则显示为查看详情\r\n            if(unclaimed != 2 || userUnclaimed != 2) {\r\n                btnGet.getChildByName(\"img_lq\").getComponent(cc.Sprite).spriteFrame = this.imgGetStates[0];\r\n            }\r\n        }\r\n\r\n        // 可领取显示红点\r\n        btnGet.getChildByName(\"red\").active = unclaimed == 2 && userUnclaimed == 2 && bonus > 0;\r\n\r\n        // 描述\r\n        let explain = nodeObj.getChildByName(\"explain\").getComponent(cc.Label);\r\n        if(unclaimed == 2) {\r\n            explain.string = \"\";\r\n        } else if(this.userinfo.vipId >= vipInfo.id && unclaimed == 3) {\r\n            explain.string = glGame.tips.VIPAWARD.CANNOTGETTIPS;\r\n        } else {\r\n            explain.string = describle;\r\n        }\r\n\r\n        // vip0特殊处理\r\n        if(vipInfo.id == 1 || (bonus == 0 && this.userinfo.vipId >= vipInfo.id) ) {\r\n            btnGet.getChildByName(\"img_lq\").getComponent(cc.Sprite).spriteFrame = this.imgGetStates[0]; // 按钮显示查看详情\r\n            this.setPanelState(nodeObj, true);\r\n        }\r\n\r\n        if(bonus <= 0) {\r\n            explain.string = describle;\r\n        }\r\n    },\r\n\r\n    // 设置面板状态\r\n    setPanelState(nodeObj, bEnable) {\r\n        this.setButtonMaterial(nodeObj.getChildByName(\"bg\"), bEnable);\r\n\r\n        // 按钮领取状态\r\n        this.setButtonMaterial(nodeObj.getChildByName(\"btn_get\"), bEnable);\r\n        nodeObj.getChildByName(\"btn_get\").getComponent(cc.Button).interactable = bEnable;\r\n        \r\n        // 奖励图标\r\n        this.setButtonMaterial(nodeObj.getChildByName(\"img_awardicon\"), bEnable);\r\n\r\n        // 奖励金额\r\n        let awardcoin = nodeObj.getChildByName(\"awardcoin\");\r\n        awardcoin.color = bEnable ? new cc.Color(254, 192, 17) : new cc.Color(0x8f, 0x8f, 0x8f);\r\n\r\n        // 标题\r\n        this.setButtonMaterial(nodeObj.getChildByName(\"title\"), bEnable);\r\n    },\r\n\r\n    setButtonMaterial(node, bEnable) {\r\n        if(bEnable) {\r\n            node.getComponent(cc.RenderComponent).setMaterial(0, this.normalMaterial);\r\n        } else {\r\n            node.getComponent(cc.RenderComponent).setMaterial(0, this.grayMaterial);\r\n        }\r\n    },\r\n\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"btn_upaward\": this.caijin_cb(); break;\r\n            case \"btn_weekaward\": this.week_cb(); break;\r\n            case \"btn_monthaward\": this.month_cb(); break;\r\n            case \"btn_detail\": this.detail_cb(); break;\r\n            case \"left\": this.left_cb(); break;\r\n            case \"right\": this.right_cb(); break;\r\n            case \"btn_ratioaward\": this.ratio_cb(); break;\r\n            case \"btn_blanceaward\": this.blance_cb(); break;\r\n           \tcase \"btn_get\": this.btnGet_cb(node); break;\r\n        }\r\n    },\r\n\r\n   \tbtnGet_cb(node) {\r\n   \t\tlet name = node.parent.name;\r\n   \t\tswitch (name) {\r\n            case \"btn_upaward\": this.caijin_cb(); break;\r\n            case \"btn_weekaward\": this.week_cb(); break;\r\n            case \"btn_monthaward\": this.month_cb(); break;\r\n        }\r\n    },\r\n\r\n    // pageview滚动结束\r\n    onPageScrollEnd() {\r\n        let curPage = this.pageView.getCurrentPageIndex();\r\n\r\n        switch(curPage) {\r\n            case 0: \r\n                if(this.showInfoLevel > 0) {\r\n                    this.showInfoLevel--; \r\n                }\r\n                break;\r\n            case 2: \r\n                if(this.showInfoLevel < this.vipList.length - 1) {\r\n                    this.showInfoLevel++; \r\n                }\r\n                break;\r\n            case 1:\r\n                if(this.showInfoLevel == 0) {\r\n                    this.showInfoLevel++;\r\n                } else if(this.showInfoLevel == this.vipList.length - 1) {\r\n                    this.showInfoLevel--;\r\n                }\r\n                break;\r\n        }\r\n\r\n        // 滚动到中间一页\r\n        this.pageView.stopAutoScroll();\r\n\r\n        if(this.showInfoLevel == 0) {\r\n            this.pageView.scrollToPage(0, 0);\r\n        } else if(this.showInfoLevel == this.vipList.length -1) {\r\n            this.pageView.scrollToPage(2, 0);\r\n        } else {\r\n            this.pageView.scrollToPage(1, 0);\r\n        }\r\n\r\n        this.initUI();\r\n        \r\n    },\r\n\r\n    caijin_cb() {\r\n        this.ReqVipReward(AWARD_TYPE.UP, this.showData.id);\r\n    },\r\n\r\n    week_cb() {\r\n        let vipName = \"userinfoVipGet\";\r\n        glGame.panel.showPanelByName(vipName).then(panel => {\r\n            panel.getComponent(vipName).showWeekGift(this.vipList, this.userinfo);\r\n        })\r\n    },\r\n\r\n    month_cb() {\r\n        let vipName = \"userinfoVipGet\";\r\n        glGame.panel.showPanelByName(vipName).then(panel => {\r\n            panel.getComponent(vipName).showMonthGift(this.vipList, this.userinfo);\r\n        })\r\n    },\r\n\r\n    detail_cb() {\r\n        let vipName = \"userinfoVipRight\";\r\n        glGame.panel.showPanelByName(vipName).then(panel => {\r\n            panel.getComponent(vipName).showVipRight(this.vipList, Number(this.upgradeType));;\r\n        })\r\n    },\r\n\r\n    left_cb() {\r\n        if(this.showInfoLevel <= 0) {\r\n            return;\r\n        }\r\n\r\n        this.pageView.scrollToPage(0);\r\n    },\r\n\r\n    right_cb() {\r\n        let nCount = this.vipList.length;\r\n        if(this.showInfoLevel >= (nCount - 1)) {\r\n            return;\r\n        }\r\n\r\n        this.pageView.scrollToPage(2);\r\n    },\r\n\r\n    ratio_cb() {\r\n        glGame.panel.showPanelByName('backWater');\r\n    },\r\n\r\n    blance_cb() {\r\n        glGame.panel.showPanelByName('yubao');\r\n    },\r\n\r\n    ReqVipInfo() {\r\n        glGame.gameNet.send_msg('http.ReqVipInfo', null, (route, data) => {\r\n            let result = data.result;\r\n            this.vipList = result.vipList;\r\n            this.vipList.sort(function(a, b) {\r\n                return a.vipName - b.vipName;\r\n            });\r\n\r\n            for(let k in this.vipList) {\r\n                this.vipList[k].id = this.vipList[k].vipName + 1;\r\n            }\r\n\r\n            this.userinfo = result.userInfo;\r\n            this.upgradeType = result.upgradeType;\r\n\r\n            if(!this.showInfoLevel) {\r\n                for (let i = 0; i < this.vipList.length; i++) {\r\n                    if (this.vipList[i].id == this.userinfo.vipId) {\r\n                        this.showInfoLevel = i;\r\n                        this.vipCount = this.vipList.length;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            //做一层校验，有可能在未结算时不计算打码量时，\r\n            this.showData = this.vipList[this.showInfoLevel];\r\n            this.initUI();\r\n\r\n            glGame.emitter.emit(\"notifyVipInfo\", data.result);\r\n        })\r\n    },\r\n\r\n    //领取 1彩金，2周礼金，3月礼金\r\n    ReqVipReward(type, vipid) {\r\n        let msg = { \"type\": type, \"vip_id\": vipid }\r\n        glGame.gameNet.send_msg('http.ReqVipReward', msg, (route, data) => {\r\n            if (data.result) {\r\n                glGame.user.ReqRedDot();\r\n                glGame.user.reqGetCoin();\r\n                this.ReqVipInfo();\r\n                let strTitle = \"\";\r\n                if (type == AWARD_TYPE.UP) strTitle = glGame.tips.VIPAWARD.UPAWARD;\r\n                else if (type == AWARD_TYPE.WEEK) strTitle = glGame.tips.VIPAWARD.WEEKAWARD;\r\n                else if (type == AWARD_TYPE.MONTH) strTitle = glGame.tips.VIPAWARD.MONTHAWARD;\r\n                glGame.panel.showAwardBox(strTitle, [{ type: glGame.awardtype.COIN, value: this.cutFloat(data.coin) }]);\r\n            }\r\n        })\r\n    },\r\n\r\n    //截取小数点后2位\r\n    cutFloat(value) {\r\n        if (typeof value !== 'string' && typeof value !== 'number') return;\r\n        return (Math.floor(parseFloat(value)) / 100).toFixed(2);\r\n    }\r\n});\r\n"]}