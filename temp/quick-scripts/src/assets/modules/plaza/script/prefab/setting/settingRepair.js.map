{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\setting\\settingRepair.js"],"names":["glGame","baseclass","extend","properties","onLoad","initUI","onClick","name","node","onOkClick","onRepairClick","onInstallClick","cc","sys","os","OS_ANDROID","getChildByName","active","OS_IOS","panel","showDialog","clearGame","console","log","openURL","user","get","repair","isShowSetupPanel","storage","getItem","isSetup","setItem","registerEvent","unRegisterEvent","OnDestroy"],"mappings":";;;;;;AAAA;;;AAIAA,MAAM,CAACC,SAAP,CAAiBC,MAAjB,CAAwB;AACpBC,EAAAA,UAAU,EAAE,EADQ;AAKpBC,EAAAA,MALoB,oBAKX;AACL,SAAKC,MAAL;AACH,GAPmB;AASpBC,EAAAA,OAToB,mBASZC,IATY,EASNC,IATM,EASA;AAChB,YAAQD,IAAR;AACI,WAAK,QAAL;AACI,aAAKE,SAAL;AACA;;AACJ,WAAK,YAAL;AACI,aAAKC,aAAL;AACA;;AACJ,WAAK,aAAL;AACI,aAAKC,cAAL;AACA;AATR;AAWH,GArBmB;AAuBpBN,EAAAA,MAvBoB,oBAuBX;AACL,QAAIO,EAAE,CAACC,GAAH,CAAOC,EAAP,KAAcF,EAAE,CAACC,GAAH,CAAOE,UAAzB,EAAqC;AACjC,WAAKP,IAAL,CAAUQ,cAAV,CAAyB,SAAzB,EAAoCC,MAApC,GAA6C,IAA7C;AACH,KAFD,MAEO,IAAIL,EAAE,CAACC,GAAH,CAAOC,EAAP,KAAcF,EAAE,CAACC,GAAH,CAAOK,MAAzB,EAAiC;AACpC,WAAKV,IAAL,CAAUQ,cAAV,CAAyB,KAAzB,EAAgCC,MAAhC,GAAyC,IAAzC;AACH;AACJ,GA7BmB;AA+BpBR,EAAAA,SA/BoB,uBA+BR;AACRT,IAAAA,MAAM,CAACmB,KAAP,CAAaC,UAAb,CAAwB,IAAxB,EAA8B,gBAA9B,EAAgD,YAAM;AAAEC,MAAAA,SAAS;AAAIC,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AAAuB,KAA5F,EAA8F,YAAM,CAAG,CAAvG,EAAyG,IAAzG,EAA+G,IAA/G;AACH,GAjCmB;AAmCpBb,EAAAA,aAnCoB,2BAmCJ;AACZV,IAAAA,MAAM,CAACmB,KAAP,CAAaC,UAAb,CAAwB,IAAxB,EAA8B,gBAA9B,EAAgD,YAAM;AAAEC,MAAAA,SAAS;AAAIC,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AAAuB,KAA5F,EAA8F,YAAM,CAAG,CAAvG,EAAyG,IAAzG,EAA+G,IAA/G;AACH,GArCmB;AAuCpBZ,EAAAA,cAvCoB,4BAuCH;AACbC,IAAAA,EAAE,CAACC,GAAH,CAAOW,OAAP,CAAexB,MAAM,CAACyB,IAAP,CAAYC,GAAZ,CAAgB,KAAhB,EAAuBC,MAAtC;AACA,QAAIC,gBAAgB,GAAG5B,MAAM,CAAC6B,OAAP,CAAeC,OAAf,CAAuB,kBAAvB,CAAvB;AACAF,IAAAA,gBAAgB,CAACG,OAAjB,GAA2B,IAA3B;AACA/B,IAAAA,MAAM,CAAC6B,OAAP,CAAeG,OAAf,CAAuB,kBAAvB,EAA2CJ,gBAA3C;AACH,GA5CmB;AA8CpB;AACAK,EAAAA,aA/CoB,2BA+CJ,CAEf,CAjDmB;AAmDpB;AACAC,EAAAA,eApDoB,6BAoDF,CAEjB,CAtDmB;AAwDpBC,EAAAA,SAxDoB,uBAwDR;AACR,SAAKD,eAAL;AACH;AA1DmB,CAAxB","sourceRoot":"/","sourcesContent":["/**\r\n * 设置\r\n */\r\n\r\nglGame.baseclass.extend({\r\n    properties: {\r\n    \r\n    },\r\n\r\n    onLoad() {\r\n        this.initUI();\r\n    },\r\n\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"btn_ok\":\r\n                this.onOkClick();\r\n                break;\r\n            case \"btn_repair\":\r\n                this.onRepairClick();\r\n                break;\r\n            case \"btn_install\":\r\n                this.onInstallClick();\r\n                break;\r\n        }\r\n    },\r\n\r\n    initUI() {\r\n        if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n            this.node.getChildByName(\"android\").active = true;\r\n        } else if (cc.sys.os === cc.sys.OS_IOS) {\r\n            this.node.getChildByName(\"ios\").active = true;\r\n        }\r\n    },\r\n\r\n    onOkClick() {\r\n        glGame.panel.showDialog('提示', '修复将会清除缓存重新下载游戏', () => { clearGame(); console.log(\"清空游戏缓存\") }, () => { }, \"取消\", \"确定\");\r\n    },\r\n\r\n    onRepairClick() {\r\n        glGame.panel.showDialog('提示', '修复将会清除缓存重新下载游戏', () => { clearGame(); console.log(\"清空游戏缓存\") }, () => { }, \"取消\", \"确定\");\r\n    },\r\n\r\n    onInstallClick() {\r\n        cc.sys.openURL(glGame.user.get(\"url\").repair);\r\n        let isShowSetupPanel = glGame.storage.getItem('isShowSetupPanel');\r\n        isShowSetupPanel.isSetup = true;\r\n        glGame.storage.setItem('isShowSetupPanel', isShowSetupPanel);\r\n    },\r\n\r\n    // 注册界面监听事件\r\n    registerEvent() {\r\n        \r\n    },\r\n\r\n    // 销毁界面监听事件\r\n    unRegisterEvent() {\r\n        \r\n    },\r\n\r\n    OnDestroy() {\r\n        this.unRegisterEvent();\r\n    },\r\n});\r\n"]}