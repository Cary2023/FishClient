{"version":3,"sources":["assets\\modules\\plaza\\script\\prefab\\backWater\\porpor.js"],"names":["GAME_VARIETY_TAB","tabs_qipai","tabs_jieji","tabs_buyu","tabs_shixun","tabs_tiyu","tabs_caipiao","tabs_dianjing","glGame","baseclass","extend","properties","typeNodeList","cc","Node","vip_page","vip_pageup","vip_rightnext","vip_level","Label","bet_page","bet_pageup","bet_pagenext","bet_scope","ratecontent","rateitem","onLoad","registerEvent","user","ReqRebateConfigList","accountId","userID","type","vipLevel","gradeId","vipMax","pageIndex","betNumMax","config","gameOrPlatMap","emitter","on","rebateConfigList","unRegisterEvent","off","OnDestroy","get","vipId","data","i","length","groupId","setConfig","initpageView","initMidUI","chengeBtnState","Object","keys","active","modeType","gameporpor","gameKeys","string","name","cutFloat","removeAllChildren","gamekeys","itemCount","item","index","Number","instantiate","parent","getChildByName","childrenindex","gameitem","getComponent","gamedata","div","toFixed","panel","showEffectNode","onClick","node","vipleft_cb","vipright_cb","betleft_cb","betright_cb","indexOf","selectClick","typeName","x","isGameOpen","typeList","id","count","getFloat","value","toString"],"mappings":"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","sourceRoot":"/","sourcesContent":["/**\r\n * 返水比例\r\n */\r\n\r\n// key 为控件名称， value 为与服务端约定好的数组名称\r\nconst GAME_VARIETY_TAB = {\r\n    tabs_qipai: \"pokerConfig\",              //棋牌\r\n    tabs_jieji: \"arcadeConfig\",             //街机\r\n    tabs_buyu: \"fishConfig\",                //捕鱼\r\n    tabs_shixun: \"videoConfig\",             //视讯\r\n    tabs_tiyu: \"sportsConfig\",              //体育\r\n    tabs_caipiao: \"lotteryConfig\",          //彩票\r\n    tabs_dianjing: \"electronicSportsConfig\",//电竞\r\n}\r\n\r\nglGame.baseclass.extend({\r\n    properties: {\r\n        typeNodeList: cc.Node,\r\n        //\r\n        vip_page: cc.Node,\r\n        vip_pageup: cc.Node,\r\n        vip_rightnext: cc.Node,\r\n        vip_level: cc.Label,\r\n\r\n        bet_page: cc.Node,\r\n        bet_pageup: cc.Node,\r\n        bet_pagenext: cc.Node,\r\n        bet_scope: cc.Label,\r\n\r\n        ratecontent: cc.Node,\r\n        rateitem: cc.Node,\r\n    },\r\n\r\n    onLoad() {\r\n        this.registerEvent();\r\n        glGame.user.ReqRebateConfigList({\r\n            accountId: glGame.user.userID,\r\n            type: -1,\r\n        });\r\n        this.vipLevel = 0;\r\n        this.gradeId = 0;      // vip等级id或会员层级id\r\n        this.vipMax = 0;\r\n        this.pageIndex = 0;\r\n        this.betNumMax = 0;\r\n        this.config = null;\r\n        this.gameOrPlatMap = null;\r\n        this.type = -1;\r\n    },\r\n\r\n    registerEvent() {\r\n        glGame.emitter.on(\"rebateConfigList\", this.rebateConfigList, this);\r\n    },\r\n    unRegisterEvent() {\r\n        glGame.emitter.off(\"rebateConfigList\", this);\r\n    },\r\n\r\n    OnDestroy() {\r\n        this.unRegisterEvent();\r\n    },\r\n\r\n    rebateConfigList() {\r\n        this.rebateConfigList = glGame.user.get(\"rebateConfigList\");\r\n        this.gameOrPlatMap = this.rebateConfigList.gameOrPlatMap;\r\n        this.gradeId = this.rebateConfigList.gradeId;\r\n        let vipId = this.rebateConfigList.vipId;\r\n        let data = this.rebateConfigList.data;\r\n        for(let i = 0; i < data.length; i++) {\r\n            if(data[i].groupId == vipId) {\r\n                this.vipLevel = i;\r\n                break;\r\n            }\r\n        }\r\n        this.setConfig();\r\n        this.initpageView();\r\n        this.initMidUI();\r\n        this.chengeBtnState();\r\n    },\r\n\r\n    initpageView() {\r\n        if (Object.keys(this.config) == 0) {\r\n            this.vip_page.active = false;\r\n            this.bet_page.active = false;\r\n            return;\r\n        } else {\r\n            this.vip_page.active = this.rebateConfigList.modeType == \"vip\";\r\n            this.bet_page.active = true;\r\n        }\r\n\r\n        let keys = Object.keys(this.config)                 //子游戏ID数组\r\n        let gameporpor = this.config[keys[0]];              //子游戏的数据\r\n        let gameKeys = Object.keys(gameporpor);             //区间的keys\r\n\r\n        if (this.vip_page.active) this.vip_level.string = this.rebateConfigList.data[this.vipLevel].name;\r\n\r\n        if (this.pageIndex == gameKeys.length - 1) {\r\n            this.bet_scope.string = `${this.cutFloat(gameKeys[this.pageIndex])}以上`\r\n        } else {\r\n            this.bet_scope.string = `${this.cutFloat(gameKeys[this.pageIndex])}~${this.cutFloat(gameKeys[this.pageIndex + 1])}`\r\n        }\r\n    },\r\n    initMidUI() {\r\n        let config = this.config;\r\n        this.ratecontent.removeAllChildren();\r\n        let gamekeys = Object.keys(config)\r\n        let itemCount = 0;\r\n        let item;               //一个item包含3个子游戏\r\n        let index = 0;\r\n        for (let i = 0; i < gamekeys.length; i++) {\r\n            if(!this.gameOrPlatMap[Number(gamekeys[i])]) {\r\n                continue;\r\n            }\r\n\r\n            if (index % 3 == 0) {\r\n                item = cc.instantiate(this.rateitem);\r\n                item.parent = this.ratecontent;\r\n                item.active = false;\r\n                item.getChildByName(\"bg\").active = itemCount % 2 == 0\r\n                itemCount += 1;\r\n            }\r\n            let childrenindex = (index % 3) + 1;    //节点里面有bg\r\n            let gameitem = item.getChildByName(`gamename${childrenindex}`)\r\n            gameitem.active = true;\r\n            gameitem.getComponent(cc.Label).string = this.gameOrPlatMap[Number(gamekeys[i])]; //游戏名\r\n\r\n            let gamedata = config[gamekeys[i]];\r\n            let keys = Object.keys(gamedata);\r\n            gameitem.getChildByName(\"porpor_lab\").getComponent(cc.Label).string = `${Number(gamedata[keys[this.pageIndex]]).div(100).toFixed(2)}%`;\r\n\r\n            index++;\r\n        }\r\n        glGame.panel.showEffectNode(this,this.ratecontent,0.02,true);\r\n    },\r\n\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"vip_left\": this.vipleft_cb(); break;\r\n            case \"vip_right\": this.vipright_cb(); break;\r\n            case \"bet_left\": this.betleft_cb(); break;\r\n            case \"bet_right\": this.betright_cb(); break;\r\n            default:\r\n                if (name.indexOf(\"tabs_\") > -1) this.selectClick(name);\r\n                break;\r\n        }\r\n    },\r\n\r\n    selectClick(name) {\r\n        this.typeName = name;\r\n        this.pageIndex = 0;\r\n        this.chengeBtnState();\r\n        this.setConfig();\r\n        this.initpageView();\r\n        this.initMidUI();\r\n    },\r\n\r\n    betleft_cb() {\r\n        if (this.pageIndex == 0) return;\r\n        this.pageIndex--;\r\n        this.initpageView();\r\n        this.initMidUI();\r\n        this.chengeBtnState();\r\n    },\r\n\r\n    betright_cb() {\r\n        if (this.pageIndex == this.betNumMax - 1) return;\r\n        this.pageIndex++;\r\n        this.initpageView();\r\n        this.initMidUI();\r\n        this.chengeBtnState();\r\n    },\r\n\r\n    vipleft_cb() {\r\n        if (this.vipLevel <= 0) return;\r\n        this.vipLevel--;\r\n        this.pageIndex = 0;\r\n        this.setConfig();\r\n        this.initpageView();\r\n        this.initMidUI();\r\n        this.chengeBtnState();\r\n    },\r\n\r\n    vipright_cb() {\r\n        if (this.vipLevel == this.vipMax) return;\r\n        this.vipLevel++;\r\n        this.pageIndex = 0;\r\n        this.setConfig();\r\n        this.initpageView();\r\n        this.initMidUI();\r\n        this.chengeBtnState();\r\n    },\r\n\r\n    chengeBtnState() {\r\n        this.vip_pageup.active = this.vipLevel != 0;\r\n        this.vip_rightnext.active = this.vipLevel != this.vipMax - 1;\r\n        this.bet_pageup.active = this.pageIndex != 0;\r\n        this.bet_pagenext.active = this.pageIndex != this.betNumMax - 1;\r\n    },\r\n\r\n    setConfig() {\r\n        this.bet_page.active = true;\r\n        if (this.rebateConfigList.modeType == \"vip\") {\r\n            this.vipMax = Object.keys(this.rebateConfigList.data).length;\r\n            this.config = this.rebateConfigList.data[this.vipLevel].config;\r\n            let keys = Object.keys(this.config);                         //子游戏ID数组\r\n            let gameporpor = this.config[keys[0]];                      //子游戏的数据\r\n            let gameKeys = Object.keys(gameporpor);                     //区间的keys\r\n            this.betNumMax = gameKeys.length;\r\n            this.vip_page.active = true;\r\n            this.bet_page.x = 226;\r\n        } else {\r\n            this.config = this.rebateConfigList.data.config;\r\n            let keys = Object.keys(this.config)                         //子游戏ID数组\r\n            let gameporpor = this.config[keys[0]];                      //子游戏的数据\r\n            let gameKeys = Object.keys(gameporpor);                     //区间的keys\r\n            this.betNumMax = gameKeys.length;\r\n            this.vip_page.active = false;\r\n            this.bet_page.x = 0;\r\n        }\r\n    },\r\n\r\n    // 游戏是否开启\r\n    isGameOpen(typeList, id) {\r\n        let count = typeList.length;\r\n        for(let i = 0; i < count; i++) {\r\n            if(typeList[i].id == id) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    getFloat(value) {\r\n        return (Number(value).div(100)).toFixed(4);\r\n    },\r\n    //浮点型运算取俩位\r\n    cutFloat(value) {\r\n        return Number(value).div(100).toString();\r\n    },\r\n\r\n});\r\n"]}