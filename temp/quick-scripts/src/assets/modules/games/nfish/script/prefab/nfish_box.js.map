{"version":3,"sources":["assets\\modules\\games\\nfish\\script\\prefab\\nfish_box.js"],"names":["glGame","baseclass","extend","properties","node_cancel","cc","Node","node_confirm","lab_content","Label","richText_content","RichText","node_exitRoomTip","onLoad","node","zIndex","confirm","cancel","registerEvent","emitter","on","onStartGame","unRegisterEvent","off","OnDestroy","onClick","name","console","error","remove","showMsg","content","isSingle","next","center","destroy","setType","indexOf","active","string","_forceUpdateRenderData","height","horizontalAlign","showMsgExit","room","exitRoom","x"],"mappings":"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","sourceRoot":"/","sourcesContent":["glGame.baseclass.extend({\r\n    properties: {\r\n        node_cancel: cc.Node,\r\n        node_confirm: cc.Node,\r\n        lab_content: cc.Label,\r\n        richText_content: cc.RichText,\r\n        node_exitRoomTip: cc.Node,\r\n    },\r\n    onLoad() {\r\n        this.node.zIndex = 1000;\r\n        this.confirm = null;\r\n        this.cancel = null;\r\n        this.registerEvent();\r\n    },\r\n    registerEvent() {\r\n        glGame.emitter.on(\"onStartGame\", this.onStartGame, this);\r\n    },\r\n    unRegisterEvent() {\r\n        glGame.emitter.off(\"onStartGame\", this);\r\n    },\r\n    OnDestroy() {\r\n        this.unRegisterEvent();\r\n    },\r\n\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"close\": this.cancel(); break;\r\n            case \"confirm\": this.confirm(); break;\r\n            default: console.error(\"no find button name -> %s\", name);\r\n        }\r\n        this.remove();\r\n    },\r\n    /**\r\n     * @param content 提示内容\r\n     * @param isSingle 是否显示单个确定按钮\r\n     * @param next 确定回调\r\n     * @param cancel 取消回调\r\n     */\r\n    showMsg(content, isSingle, next, cancel, center = false) {\r\n        this.confirm = next || function () { };\r\n        this.cancel = cancel || function () { this.node.destroy() };\r\n        this.setType(isSingle);\r\n        if (~content.indexOf(\"<color=\")) {\r\n            this.lab_content.node.active = false;\r\n            this.richText_content.node.active = true;\r\n            this.richText_content.string = content;\r\n        } else {\r\n            this.lab_content.string = content;\r\n        }\r\n        this.lab_content._forceUpdateRenderData();\r\n        if (this.lab_content.node.height > 60) {\r\n            this.lab_content.horizontalAlign = 0;\r\n        }\r\n        if (center) {\r\n            this.lab_content.horizontalAlign = 1;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @param next 确定回调\r\n     */\r\n    showMsgExit() {\r\n        this.confirm = function () { glGame.room.exitRoom(); };\r\n        this.cancel = function () { this.remove(); };\r\n        this.node_exitRoomTip.active = true;\r\n    },\r\n\r\n    onStartGame() {\r\n        this.remove();\r\n    },\r\n    //显示类型\r\n    setType(isSingle) {\r\n        if (isSingle) {\r\n            this.node_cancel.active = false;\r\n            this.node_confirm['_firstX'] = this.node_confirm.x;\r\n            this.node_confirm.x = 0;\r\n        } else {\r\n            this.node_cancel.active = true;\r\n            if (this.node_confirm['_firstX']) this.node_confirm.x = this.node_confirm['_firstX'];\r\n        }\r\n    }\r\n});\r\n"]}