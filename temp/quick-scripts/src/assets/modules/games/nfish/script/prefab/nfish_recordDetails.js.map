{"version":3,"sources":["assets\\modules\\games\\nfish\\script\\prefab\\nfish_recordDetails.js"],"names":["CONST","require","CUT_TYPE","BULLET","FISH","glGame","baseclass","extend","properties","bullet_scrollView","cc","ScrollView","bullet_content","Node","bullet_item","fish_scrollView","fish_content","fish_item","bullet_bottom","fish_bottom","onLoad","initDetView","recordData","list","viewtype","removeAllChildren","Date","prototype","Format","fmt","o","getMonth","getDate","getHours","getMinutes","getSeconds","Math","floor","getMilliseconds","test","replace","RegExp","$1","getFullYear","substr","length","k","gameID","scenetag","FISH2","gameLevel","room","getRoomType","hand_number","profit","Number","gainFee","cutDownNum","bet_coin","coin","toFixed","roomStr","panel","node","getChildByName","getComponent","Label","string","number","active","showView","type","currType","titleFish","titleBullet","Show","Close","ShowIndexZ","CloseIndexZ","opacity","zIndex","childrenCount","fishList","fishListIndex","i","fishId","fishName","reward","pc","captureTime","rewardTimeFormNumber","consume","isKilled","indexOf","j","d","date","push","time","sort","a","b","itemNode","instantiate","parent","showEffectNode","bulletData","currTime","id","CannonDesc","cannonType","onClick","name","destroy","remove","OnDestroy","gameRecord","value","num","isNaN","div","toString","OnClickButton","event","buttonName","target","buttonNode","console","log","audio","closeCurEffect","playLoadSoundEffectByPath"],"mappings":"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","sourceRoot":"/","sourcesContent":["let CONST = require(\"nfishConst\");\r\nconst CUT_TYPE = {\r\n    BULLET: 1,\r\n    FISH: 2,\r\n}\r\n\r\n//捕鱼：详情\r\nglGame.baseclass.extend({\r\n    properties: {\r\n        //子弹列表\r\n        bullet_scrollView: cc.ScrollView,\r\n        bullet_content: cc.Node,\r\n        bullet_item: cc.Node,\r\n        //鱼列表\r\n        fish_scrollView: cc.ScrollView,\r\n        fish_content: cc.Node,\r\n        fish_item: cc.Node,\r\n\r\n        //按钮切换\r\n        bullet_bottom: cc.Node,\r\n        fish_bottom: cc.Node,\r\n    },\r\n    onLoad() {\r\n\r\n    },\r\n    initDetView(recordData, list, viewtype) {\r\n        this.bullet_content.removeAllChildren();\r\n        this.fish_content.removeAllChildren();\r\n\r\n        //时间格式化\r\n        Date.prototype.Format = function (fmt) { //author: meizz\r\n            var o = {\r\n                \"M+\": this.getMonth() + 1, //月份\r\n                \"d+\": this.getDate(), //日\r\n                \"h+\": this.getHours(), //小时\r\n                \"m+\": this.getMinutes(), //分\r\n                \"s+\": this.getSeconds(), //秒\r\n                \"q+\": Math.floor((this.getMonth() + 3) / 3), //季度\r\n                \"S\": this.getMilliseconds() //毫秒\r\n            };\r\n            if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + \"\").substr(4 - RegExp.$1.length));\r\n            for (var k in o)\r\n                if (new RegExp(\"(\" + k + \")\").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)));\r\n            return fmt;\r\n        }\r\n        this.gameID = glGame.scenetag.FISH2;\r\n        this.gameLevel = glGame.room.getRoomType(this.gameID);\r\n        let hand_number = recordData[\"hand_number\"];//牌局编号\r\n        let profit = Number(recordData[\"number\"]);//结算\r\n        let gainFee = this.cutDownNum(Number(recordData[\"gainFee\"]));//抽水\r\n        let bet_coin = this.cutDownNum(Number(recordData[\"bet_coin\"]));//炮弹金额\r\n        let coin = Number(Number(this.cutDownNum(profit)) + Number(gainFee) + Number(bet_coin)).toFixed(2);//捕获金额\r\n        let roomStr = this.gameLevel[recordData[\"bettype\"]];//房间\r\n        let panel = this.node.getChildByName(\"viewInfo\");\r\n        panel.getChildByName(\"lab_no\").getComponent(cc.Label).string = hand_number + \"\";\r\n        panel.getChildByName(\"lab_room\").getComponent(cc.Label).string = roomStr + \"\";\r\n        panel.getChildByName(\"lab_bullteCoin\").getComponent(cc.Label).string = bet_coin + \"\";\r\n        panel.getChildByName(\"lab_coin\").getComponent(cc.Label).string = coin + \"\";\r\n        let number = panel.getChildByName(profit > 0 ? \"lab_win\" : \"lab_lost\");\r\n        number.getComponent(cc.Label).string = profit > 0 ? `+${this.cutDownNum(profit)}` : this.cutDownNum(profit);\r\n        panel.getChildByName(\"lab_endTime\").getComponent(cc.Label).string = recordData[\"end_time\"];\r\n        number.active = true;\r\n        this.list = list;\r\n        this.showView(viewtype);\r\n    },\r\n    //type = 1 是 子弹 其余的是 鱼\r\n    showView(type) {\r\n        if (type == this.currType) {\r\n            return;\r\n        }\r\n\r\n        this.currType = type;\r\n        this.bullet_bottom.active = type == CUT_TYPE.BULLET;\r\n        this.fish_bottom.active = type == CUT_TYPE.FISH;\r\n        //标题\r\n        let titleFish = this.node.getChildByName(\"ui_txt_line\").getChildByName(\"fishView\");\r\n        let titleBullet = this.node.getChildByName(\"ui_txt_line\").getChildByName(\"bulletView\");\r\n        titleBullet.active = type == CUT_TYPE.BULLET;\r\n        titleFish.active = !titleBullet.active;\r\n        //列表 容器\r\n        const Show = 255;\r\n        const Close = 1;\r\n        const ShowIndexZ = 10;\r\n        const CloseIndexZ = 8;\r\n        this.bullet_scrollView.node.opacity = type == CUT_TYPE.BULLET ? Show : Close;\r\n        this.fish_scrollView.node.opacity = type == CUT_TYPE.FISH ? Show : Close;\r\n        this.bullet_scrollView.node.zIndex = type == CUT_TYPE.BULLET ? ShowIndexZ : CloseIndexZ;\r\n        this.fish_scrollView.node.zIndex = type == CUT_TYPE.FISH ? ShowIndexZ : CloseIndexZ;\r\n        //容器content\r\n        if (type == CUT_TYPE.BULLET && this.bullet_content.childrenCount > 0) {\r\n            return;\r\n        }\r\n        if (type != CUT_TYPE.BULLET && this.fish_content.childrenCount > 0) {\r\n            return;\r\n        }\r\n        if (type == CUT_TYPE.BULLET) {\r\n            this.bullet_content.removeAllChildren();\r\n        } else {\r\n            this.fish_content.removeAllChildren();\r\n        }\r\n\r\n        if (type == CUT_TYPE.FISH) {//鱼\r\n            let fishList = [];\r\n            let fishListIndex = [];\r\n            for (let i = 0; i < this.list.length; i++) {\r\n                let fishId = Number(this.list[i].fishId);\r\n                let fishName = this.list[i].fishName;\r\n                let reward = 0;\r\n                let pc = 0;\r\n                let captureTime = null;\r\n                let rewardTimeFormNumber = 0;\r\n                let consume = 0;\r\n                let profit = 0;\r\n                let isKilled = false;\r\n                if (fishListIndex.indexOf(fishId) == -1) {\r\n                    for (let j = 0; j < this.list.length; j++) {\r\n                        if (fishId == Number(this.list[j].fishId)) {\r\n                            let d = this.list[j];\r\n                            if (d.reward > 0) {\r\n                                reward += Number(d.reward);\r\n                                pc += Number(d.consume) + Number(d.profit);\r\n                            }\r\n                            rewardTimeFormNumber = d.date;\r\n                            consume += Number(d.consume);\r\n                            profit += Number(d.profit);\r\n                            if (d.isKilled) {\r\n                                isKilled = true;\r\n                                captureTime = new Date(d.date).Format(\"yyyy-MM-dd hh:mm:ss\");\r\n                            }\r\n                        }\r\n                    }\r\n                    fishListIndex.push(fishId);\r\n                    fishList.push({ fishId: fishId, fishName: fishName, pc: pc, reward: reward, consume: consume, profit: profit, captureTime: captureTime, time: rewardTimeFormNumber, isKilled: isKilled });\r\n                }\r\n            }\r\n            fishList.sort(function (a, b) {\r\n                return b.time - a.time;\r\n            })\r\n            for (let i = 0; i < fishList.length; i++) {\r\n                let d = fishList[i];\r\n                let itemNode = cc.instantiate(this.fish_item);\r\n                itemNode.active = false;\r\n                itemNode.getChildByName(\"lab_no\").getComponent(cc.Label).string = d.fishId + \"\";//鱼编号\r\n                itemNode.getChildByName(\"lab_fishName\").getComponent(cc.Label).string = d.fishName + \"\";//鱼 名字\r\n                itemNode.getChildByName(\"lab_getTime\").getComponent(cc.Label).string = \"未捕获\";\r\n                if (d.isKilled) {\r\n                    itemNode.getChildByName(\"lab_getTime\").getComponent(cc.Label).string = d.captureTime;\r\n                }\r\n                itemNode.getChildByName(\"lab_consume\").getComponent(cc.Label).string = this.cutDownNum(d.consume) + \"\";//总消耗\r\n                itemNode.getChildByName(\"lab_distribute\").getComponent(cc.Label).string = this.cutDownNum(d.reward) + \"\";//派彩\r\n                itemNode.getChildByName(\"lab_win\").getComponent(cc.Label).string = \"+\" + this.cutDownNum(d.profit);//损益 正\r\n                itemNode.getChildByName(\"lab_lost\").getComponent(cc.Label).string = this.cutDownNum(d.profit) + \"\";//损益 负\r\n                itemNode.getChildByName(\"lab_win\").active = d.profit >= 0;\r\n                itemNode.getChildByName(\"lab_lost\").active = d.profit < 0;\r\n                itemNode.parent = this.fish_content;\r\n                itemNode.getChildByName(\"img_tiao\").active = i % 2 != 0;\r\n            }\r\n            glGame.panel.showEffectNode(this, this.fish_content, 0.02, true);\r\n        } else if (type == CUT_TYPE.BULLET) {//子弹\r\n            for (let i = 0; i < this.list.length; i++) {\r\n                let bulletData = this.list[i];\r\n                let itemNode;\r\n                let currTime = new Date(bulletData.date).Format(\"yyyy-MM-dd hh:mm:ss\");\r\n                itemNode = cc.instantiate(this.bullet_item);\r\n                itemNode.active = false;\r\n                itemNode.getChildByName(\"lab_no\").getComponent(cc.Label).string = bulletData.id + \"\";//子弹编号\r\n                itemNode.getChildByName(\"lab_time\").getComponent(cc.Label).string = currTime + \"\";//时间\r\n                itemNode.getChildByName(\"lab_type\").getComponent(cc.Label).string = CONST.CannonDesc[Number(bulletData.cannonType)];//类型\r\n                itemNode.getChildByName(\"lab_consume\").getComponent(cc.Label).string = this.cutDownNum(bulletData.consume) + \"\";//消耗\r\n                itemNode.getChildByName(\"lab_fiashName\").getComponent(cc.Label).string = bulletData.fishName + \"\";//鱼\r\n                itemNode.getChildByName(\"lab_win_capture\").active = bulletData.isKilled;//是否 捕获\r\n                itemNode.getChildByName(\"lab_lost_capture\").active = !itemNode.getChildByName(\"lab_win_capture\").active;//是否 捕获\r\n                itemNode.getChildByName(\"lab_distribute\").getComponent(cc.Label).string = this.cutDownNum(Number(bulletData.consume) + Number(bulletData.profit)) + \"\";//派彩\r\n                itemNode.parent = this.bullet_content;\r\n                itemNode.getChildByName(\"img_tiao\").active = i % 2 != 0;\r\n            }\r\n            glGame.panel.showEffectNode(this, this.bullet_content, 0.02, true);\r\n        }\r\n    },\r\n    onClick(name, node) {\r\n        switch (name) {\r\n            case \"ui_BtnClose\":\r\n                this.node.parent.parent.destroy();\r\n                this.remove();\r\n                break;\r\n            case \"img_back\": this.remove(); break;\r\n            case \"btn_zidananniu\": this.showView(CUT_TYPE.BULLET); break;\r\n            case \"btn_fishanniu\": this.showView(CUT_TYPE.FISH); break;\r\n            default:\r\n                break;\r\n        }\r\n    },\r\n    OnDestroy() {\r\n        this.gameRecord = null;\r\n    },\r\n\r\n    //截取小数点后两位\r\n    cutDownNum(value, num = 2) {\r\n        if (isNaN(value)) return;\r\n        if (~~value === value) {\r\n            return value.div(100).toString();\r\n        } else {\r\n            value = Number(value).div(100);\r\n            return (Math.floor(value * 100) / 100).toFixed(num);\r\n        }\r\n    },\r\n    /**\r\n     * @param event\r\n     * @param type UI编辑器传参 有值就不做按钮连点过滤(且不等于特殊音效字段)  使用select分页按钮\r\n     * @Explain Button点击事件统一调用\r\n     */\r\n    OnClickButton(event, type) {\r\n        let buttonName = event.target.name;\r\n        let buttonNode = event.target;\r\n        console.log(`点击了button -> ${buttonName}`);\r\n        switch (buttonName) {\r\n            case \"close_eff\":        //当前界面有播放特长音效的关闭按钮\r\n                glGame.audio.closeCurEffect();\r\n                glGame.audio.playLoadSoundEffectByPath(\"close\");\r\n                break;\r\n            case \"close\":\r\n                glGame.audio.playLoadSoundEffectByPath(\"close\");\r\n                break;\r\n            default:\r\n                if (type == \"select\") glGame.audio.playLoadSoundEffectByPath(\"select\");\r\n                else glGame.audio.playLoadSoundEffectByPath(\"click\");\r\n        }\r\n        this.onClick(buttonName, buttonNode);\r\n    },\r\n});"]}