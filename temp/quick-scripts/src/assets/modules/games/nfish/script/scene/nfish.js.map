{"version":3,"sources":["assets\\modules\\games\\nfish\\script\\scene\\nfish.js"],"names":["CONST","require","LoadIng","glGame","baseclass","extend","properties","BGM","type","cc","AudioClip","audioList2","BGMList","fish_Bg","Prefab","fish_deskContainer","fish_deskUIContainer","fish_box","effect_pic","SpriteFrame","json_fishResEdit","displayName","tooltip","JsonAsset","json_fishTable","json_fishLineGroup","audioList","rollnoticePanel","LOADING","onLoad","console","log","emitter","emit","logic","getInstance","json","loading","instantiate","name","zIndex","node","addChild","getComponent","setloadingTipsSprite","getChildByName","active","panel","showChildPanel","registerEvent","MESSAGE","SYSTEM","TOUCH_STATE","OffsexFrequency","OffsexFrequency2","OffsexX","OffsexY","pos","v2","winSize","width","height","size","speed","bActive","bBottome","showPanel","rollnotice","setPosition","setContentSize","setSpeed","setActive","setBottom","on","clientEvent","closeLoading","clseLoadingViewHandler","fishSound","playSoundHandler","fishBgSound","playBgSoundHandler","UI","GAME_SON_MSGBOX","sonGameMsgbox","unregisterEvent","off","data","showMsg","content","single","next","cancel","center","res","BGMSE","audio","get","fishSounds","audioEngine","play","fishSounds2","index","bgIndex","playBossBGM","currPlayBgMusic","playBGM","BgMusicMax","OnDestroy"],"mappings":"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","sourceRoot":"/","sourcesContent":["let CONST = require(\"nfishConst\");\r\nconst LoadIng = \"gameLoadingNode\";\r\n/***\r\n * 捕鱼\r\n * 主场景\r\n * **/\r\nglGame.baseclass.extend({\r\n    properties: {\r\n        BGM: {                              //背景声音\r\n            type: cc.AudioClip,\r\n            default: null,\r\n        },\r\n        audioList2: {                        //音效2 新加的\r\n            type: cc.AudioClip,\r\n            default: [],\r\n        },\r\n        BGMList: {                              //背景声音 4：深渊龙王boss 进入， 5：玄武boss 进入\r\n            type: cc.AudioClip,\r\n            default: [],\r\n        },\r\n        fish_Bg: cc.Prefab,              //捕鱼：背景\r\n        fish_deskContainer: cc.Prefab,   //捕鱼：桌子\r\n        fish_deskUIContainer: cc.Prefab, //捕鱼：UI\r\n        fish_box: cc.Prefab,             //捕鱼：弹窗\r\n        effect_pic: cc.SpriteFrame,      //刷新点击资源图片替换\r\n        json_fishResEdit: {\r\n            default: null,\r\n            displayName: \"fish res desc json\",\r\n            tooltip: \"鱼资源描述，碰撞点，中心点\",\r\n            type: cc.JsonAsset,\r\n        },\r\n        json_fishTable: {\r\n            default: null,\r\n            displayName: \"fish table\",\r\n            tooltip: \"鱼表\",\r\n            type: cc.JsonAsset,\r\n        },\r\n        json_fishLineGroup: {\r\n            default: null,\r\n            displayName: \"fish line group\",\r\n            tooltip: \"鱼线组\",\r\n            type: cc.JsonAsset,\r\n        },\r\n        audioList: {                        //音效\r\n            type: cc.AudioClip,\r\n            default: [],\r\n        },\r\n        rollnoticePanel: cc.Prefab,\r\n\r\n        LOADING: cc.Prefab,\r\n    },\r\n    // LIFE-CYCLE CALLBACKS:\r\n    onLoad() {\r\n        console.log(\"Fish scene !!!!!!\");\r\n        glGame.emitter.emit(\"RootNodeHide\");\r\n        // glGame.panel.showRoomLoading();\r\n        //init netWork\r\n        this.logic = require(\"nfishlogic\").getInstance();              //初始化数据中心单利\r\n        //************************ 全新的 ******************************\r\n        this.logic.json_fishResEdit = this.json_fishResEdit.json;\r\n        this.logic.json_fishTable = this.json_fishTable.json;\r\n        this.logic.json_fishLineGroup = this.json_fishLineGroup.json;\r\n        //************************ 全新的 ******************************\r\n        let loading = cc.instantiate(this.LOADING);\r\n        loading.name = LoadIng;\r\n        loading.zIndex = 9999;\r\n        this.node.addChild(loading);\r\n        loading.getComponent(\"nfish_loading\").setloadingTipsSprite();\r\n        this.node.getChildByName(LoadIng).active = true; //!glGame.room.checkGameState();\r\n\r\n        glGame.panel.showChildPanel(this.fish_Bg, this.node);                   //层级关系1：背景管理\r\n        glGame.panel.showChildPanel(this.fish_deskContainer, this.node);        //层级关系2：桌面 炮台\r\n        glGame.panel.showChildPanel(this.fish_deskUIContainer, this.node);      //层级关系2：桌面 按钮\r\n        this.registerEvent();\r\n\r\n        glGame.emitter.emit(MESSAGE.SYSTEM.TOUCH_STATE, this.effect_pic);\r\n        const OffsexFrequency = 0.5;\r\n        const OffsexFrequency2 = 0.55;\r\n        const OffsexX = 150;\r\n        const OffsexY = 68;\r\n        const zIndex = 999;\r\n        const pos = cc.v2(cc.winSize.width * OffsexFrequency, cc.winSize.height - OffsexX);\r\n        const size = cc.size(cc.winSize.width * OffsexFrequency2, OffsexY);\r\n        let speed = 3, bActive = false, bBottome = true;\r\n        let panel = glGame.panel.showPanel(this.rollnoticePanel);\r\n        panel.name = \"fish_rollnotice\";\r\n        let rollnotice = panel.getComponent(\"rollnotice\");\r\n        rollnotice.setPosition(pos);\r\n        rollnotice.setContentSize(size);\r\n        rollnotice.setSpeed(speed);\r\n        rollnotice.setActive(bActive);\r\n        rollnotice.setBottom(bBottome);\r\n        rollnotice.zIndex = zIndex;\r\n\r\n    },\r\n    //注册监听\r\n    registerEvent() {\r\n        glGame.emitter.on(CONST.clientEvent.closeLoading, this.clseLoadingViewHandler, this);         //关闭loading\r\n        glGame.emitter.on(CONST.clientEvent.fishSound, this.playSoundHandler, this);\r\n        glGame.emitter.on(CONST.clientEvent.fishBgSound, this.playBgSoundHandler, this);\r\n        glGame.emitter.on(MESSAGE.UI.GAME_SON_MSGBOX, this.sonGameMsgbox, this);\r\n    },\r\n    //反注册监听\r\n    unregisterEvent() {\r\n        glGame.emitter.off(CONST.clientEvent.fishSound, this);\r\n        glGame.emitter.off(CONST.clientEvent.fishBgSound, this);\r\n        glGame.emitter.off(MESSAGE.UI.GAME_SON_MSGBOX, this);\r\n        glGame.emitter.off(CONST.clientEvent.closeLoading, this);\r\n    },\r\n\r\n    //关闭loading\r\n    clseLoadingViewHandler() {\r\n        if (this.node.getChildByName(LoadIng)) this.node.getChildByName(LoadIng).active = false;\r\n    },\r\n    //子界面弹窗\r\n    sonGameMsgbox(data) {\r\n        let panel = glGame.panel.showPanel(this.fish_box);\r\n        panel.getComponent(panel.name).showMsg(data.content, data.single, data.next, data.cancel, data.center);\r\n    },\r\n\r\n    //开始播放\r\n    playSoundHandler(res) {\r\n        if(res == \"button\"){\r\n            return;\r\n        }\r\n        let BGMSE = glGame.audio.get(\"BGMSE\");\r\n        if (!BGMSE[\"SoundEffectPlayState\"]) return;\r\n        if (CONST.fishSounds[res] != null) {\r\n            cc.audioEngine.play(this.audioList[CONST.fishSounds[res]], false, BGMSE[\"SoundEffectVolume\"]);\r\n        }\r\n        if (CONST.fishSounds2[res] != null) {\r\n            cc.audioEngine.play(this.audioList2[CONST.fishSounds2[res]], false, BGMSE[\"SoundEffectVolume\"]);\r\n        }\r\n    },\r\n    //开始播放背景声音\r\n    playBgSoundHandler(index = -1) {\r\n        if (index == -1) {\r\n            if (this.logic.bgIndex != -1) {\r\n                if (this.logic.playBossBGM == 2) {\r\n                    if (this.logic.currPlayBgMusic != -1 && this.logic.currPlayBgMusic == this.logic.bgIndex) {//防止重复播放背景音乐\r\n                        return;\r\n                    }\r\n                } else {\r\n                    if (this.logic.currPlayBgMusic == this.logic.bgIndex) {\r\n                        return;\r\n                    }\r\n                }\r\n                this.logic.currPlayBgMusic = this.logic.bgIndex;\r\n                glGame.audio.playBGM(this.BGMList[this.logic.bgIndex]);\r\n            }\r\n            return;\r\n        }\r\n        const BgMusicMax = 4;\r\n        if (index < BgMusicMax) {\r\n            this.logic.bgIndex = index;\r\n            this.logic.playBossBGM = 1;\r\n        } else {\r\n            this.logic.playBossBGM = 2;\r\n        }\r\n        if (this.logic.currPlayBgMusic != -1 && this.logic.currPlayBgMusic == index) {//防止重复播放背景音乐\r\n            return;\r\n        }\r\n        this.logic.currPlayBgMusic = index;\r\n        glGame.audio.playBGM(this.BGMList[index]);\r\n    },\r\n    OnDestroy() {\r\n        this.unregisterEvent();\r\n        this.logic = null;\r\n        glGame.emitter.emit(MESSAGE.SYSTEM.TOUCH_STATE);\r\n    }\r\n});\r\n"]}