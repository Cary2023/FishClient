{"version":3,"sources":["assets\\modules\\games\\nfish\\script\\prefab\\nfish_deskUIContainer.js"],"names":["CONST","require","glGame","baseclass","extend","properties","moneyEffect_Atlas","displayName","tooltip","type","cc","SpriteAtlas","laserBornEffect_Atlas","icon_Atlas","icon_2_3_4_Atlas","speciaIcon_Atlas","explosionAndLightning_Atlas","illustratedBook","Prefab","record_pre","setting_pre","turntable","cornucopia","bulletEffect","changeCannonEffectList","sp","SkeletonData","batteryList","ui_Actionable","Node","bulletTips","ui_skillAuto","ui_skillLock","bossConeInTip","bossBornTip","bossNormalPos","spine_csrcdh","effect_csrcdh","spine_ryxwrcdh","effect_ryxwrcdh","ui_menu","ui_menuBtn","chick_act","chick_meihua","alert_container","text_exitBossClearSocre","text_exitLosCannan","text_netOff","btn_quit","btn_queding","btn_queding_net","onLoad","creatSmear","bossTipMoveToTime","node","isInit","bulletTipTime","clickFishPoolEvent","clickFishPoolTime","lastAngle","logic","getInstance","fireTime","fireTimeFrequency","isFire","cannonLevel","sys","localStorage","getItem","user","userID","Number","isExit","turntableView","cornucopiaView","runSpecial0","runSpecial1","runSpecial2","runSpecial3","gameZoomX","winSize","width","DesignSize","gameZoomY","height","registerEvent","initSpeciaNode","start","Invisible","MaxUserNum","Normal","FadeToTime","DelayTime","i","getChildByName","active","ui_gun","ui_pos","ui_wait","addComponent","getComponent","BoxCollider","enabled","opacity","stopAllActions","runAction","repeatForever","sequence","fadeTo","delayTime","gameNet","send_msg","gameid","route","msg","result","fishMutipleCfg","console","log","special_Cantainer","instantiate","addChild","hide","NormalOpacity","isEnterRoom","emitter","on","clientEvent","comeInPlayer","comeInPlayerHandler","leaveRoomPlayer","leaveRoomPlayerHandler","clickFishPool","clickFishPoolHandler","hiddenLocationTip","hiddenLocationTipHandler","playFiringEffect","playFiringEffectHandler","updateShootGold","updateShootGoldHandler","updateGunRate","updateGunRatedHandler","updateGunRecoil","updateGunRecoilHandler","onFreezeShowUI","onFreezeShowUIHandler","fireSettingRecoil","fireSettingRecoilHandler","onCoinChanged","onCoinChangedHandler","playCoinEffect","playCoinEffectHandler","onSurfStart","onSurfStartHandler","showFishTideTitle","showFishTideTitleHandler","myUpdateMoney","myUpdateMoneyHandler","checkAutoAndLock","checkAutoAndLockHandler","upSpecialGunCoin","upSpecialGunCoinHandler","getSpecialCannon","getSpecialCannonHandler","restoreCannon","restoreCannonHandler","bossComein","bossComeinHandler","sprinkleRedBag","sprinkleRedBagHandler","showTurntable","showTurntableHandler","otherPlayerShowSpecialAward","oPSSAHandler","specialBulletStatistics","checkSpecialBullet","checkSpecialBulletHandler","checkRotation","checkRotationHandler","hideBossConinUI","hideBossConinUIHandler","updateUserStatus","updateUserStatusHandler","addGoldEffect","addGoldEffectHandler","showAlert","showAlertHandler","accumulate","accumulateHandler","clearbossComein","clearbossComeinHandler","clearSpecialBulletPool","clearSpecialHandler","bossGodOfWealthCoin","bossGodOfWealthCoinHandler","bossLavaBasaltComin","bossLavaBasaltCominHandler","checkSpecialCannon","checkSpecialCannonHandler","EventType","TOUCH_START","onFireHooHandler","TOUCH_END","TOUCH_CANCEL","TOUCH_MOVE","onMoveHandler","unregisterEvent","off","roomLockAutoData","storage","SkillisLockAutoChange","roomId","onSkillAutoHandler","roomSkillData","SkillLock","onSkillLockHandler","evt","isAuto","getAngle","getLocation","emit","fishCancelShoot","res","initPlayer","seatNum","ui_other","netSt","userStatus","UserStatus","OffLine","play","myid","tower_bg","ui_bg","ui_unWait","lab_coin","error","Label","string","GoldTemp","gold","uid","spine_restoreCannon","playSpine","SpineName","undefined","ui_Tip","spineName","Seat","RightTop","LeftTop","YouHereTop","YouHereButtom","getIsRotation","offLineMissileData","warn","onSpecialBulletExp","JSON","parse","stringify","cannonType","CannonType","battery","batterySkeletonData","Lightning","CannonSkin","PartialBomb","Laser","Missile","Skeleton","skeletonData","Idle","cannonAmount","NormalCannonOffsex","cannon","gunType","batteryMask","spineNode","destroy","isSetRecoil","angle","fireBulletSettingRecoil","pos","OffsexY","y","MaxBullte","bullteNum","nextClickFishPoolHandler","ShootGapTime","isLock","getState","coin","baseConsume","NewGround","roomRule","Rank","showNotMoneyDialog","isYuRuyiRuning","HaveSpecialCannon","playerInfo","arg","gunLevel","currentIsMissile","currentBullteType","nextIsHaveMissile","hitMax","specialBulletPool","startFire","lockFishID","lock","indexNum","lockFishIndex","callFunc","ui_physicalPool","parent","len","childrenCount","fishLen","MaxFish","n","children","fish_Unit","getFishID","NormalAngle","ZeroAngle","adjustGunAngle","dialogPanelIsShow","isLockAutoChange","getFloat","panel","showDialog","showShop","direction","convertToNodeSpaceAR","startPos","position","getP1ToP2Angle","Attack","scheduleOnce","onClick","name","NotExit","IstExit","closeViewHandler","menuViewHandler","rechargeClickHandler","openFishGroupHandler","historyClickHandler","settingClickHandler","plusClickHandler","subClickHandler","onQuitHandler","onQuedingHandler","onQuedingOffNetHandler","IsRestore","FixTime","Idle2","radius","FirepillarWidth","newSize","size","isNew","fish","fishId","v2","x","setGunRate","isRefreshNow","isChange","key","UserMax","callBack","Date","now","Math","random","isNow","nextTime","isRestoreIng","restoreCB","checkGunStyle","isCheckGunSkin","Not","isHaveSpcCannon","myinfo","NotHaveSpecialCanon","fishSound","NormalCannonMinLevel","NormalCannonMaxLevel","changeCannonData","op","Opention","ChangeCannonLv","room","getPlayerOp","scenetag","FISH2","setItem","GunLevel","spine","otherAccumulate","DelayTime2","gunRate","specialCannonFishPos","isRestore","changeGun","ani","FiexUpdateCannonCoinTime","NowUpdateCannonCoinTime","time","changeGunStyle","NormalLevel","isGunMoving","oldNode","oldLastNode","MoveStart","laserBornEffect","creatorEffect","spCannContainer","mcName","changeCannonSkeletonData","animationName","isRotation","Min","Max","CannonGetEddect","CannonChangeEffect","CannonGotEddect","LoopTime","IsHaveZero","Speed","PayEdRemove","changeCannonEffect","rotateBy","initEffect","MoveTime","act","Get","MoveOver","moveTo","cannonTypeSc","Restore","isInFreeze","showPanel","zIndex","lockLab","img_offsuoding","useLockSkill","roomSkillLockData","roomSkillAutoData","lastLockFishID","useAutoSkill","leaveRoomUnLock","roomData","autoLab","img_offzidong","isClose","ui_upIcon","ui_leftIcon","isTourist","showRegisteredGift","showSuspicious","AwardType","RUYI","initTurntableView","startRunCornucopia","EffectMaxRunTime","IsExit4","IsExit3","SkillAuto","exitRoom","IsExit","currentUid","AlertType","LosCannan","BossClearSocre","NetOff","fishPos","coinContainer","ui_coinEffectPos","pre","targetPosition","effectPosition","ui_CoinEffect","isRemoveSelf","playName","lab_number","formatMoney","rewardGold","effectCoin","MaxCoin","RandomoffSex","RandomMin","RandomOffsexX","RandomOffsexY","RandomMinY","StartName","endName","plyTime","isHaveZero","speed","plyedDestroy","isRandomPly","OneDelayTime","TwoDelayTime","ScaleToTime","BezierToTime","ScaleToArg","MoveToTime","EndOpacity","Gold","Silver","upPos","bounceAct1","spawn","bounceAct2","bezierPoint","scaleTo","bezierTo","effectRotateLevel","EffectRotateLevel","OneLevel","resGroupId","fishPoolData","fishTypeId","json_fishTable","effectRotate","killType","Bomb","TowLevel","ThreeLevel","FourLevel","flyGoldEffect","flyRotateEffect","startShowPos","flySeatNum","effectContainer","moveToPos","spine_effect","spineCantainer","bg","BossLavaBasalt","lab","RepeatTimes","SubTimes","ceil","currentCoin","schedule","isDestroy","_components","currStartNum","indexOf","toFixed","sprF","getSpriteFrame","scale","getOriginalSize","TwoScale","ThreeScale","FourScale","Sprite","spriteFrame","oldScale","Centont","HalfScale","posNodeName","BasezIndex","lastzIndex","callBalk","EffScaleToArg","EffScaleToTime","EffDelayTime","EffectNum","EffectPre","fourEffect","otherEffect","CoinLabOffsexY","coinlab","moveToAct","lab_coinMask","base_labNode","labNode","oldx","oldy","MoveOffsex","MoveOffsex2","endPos","endPos2","anchorX","oldPos","currRewardGold","startHide","setPosition","GoTime","endTime","DelayStateTime","ScaleToTime2","Hide","FadeTo","moveBy","checkGold","total","isDispose","currCoin","spinec","oldCoin","startRun","totalReward","removeChild","NotOpacity","NotScale","QScale","NormalScale","FadeTime","ScalTTime","Scale","isRo","Frequency","frequency","isoffNet","labName","runSpecialBulletStatistics","dt","split","DeayTime","lastCannType","isDisSpecial","isLevel","specialBulletStatisticsClear","ui_coinEffectContainer","lastcurrCoin","FadeToArg","typeName","posPreName","nodeName","posName","startShowSpacil","flyGoldEffectForSpacil","Multiple","endGoldTime","HideOpacity","arrvalCoin","offset","showGodOfWealth","update","window","p","ShowMaxTime","MaxClickFishPoolTime","ChangeSecond","exitTimeMsg","floor","curWaitTime","showTimeMsg","HaveSpecialFish","ToSecond","ThreeHideTime","ShowTime","specialFishListBornLen","specialFishListBorn","id","wellBornTime","showTime","Format","tip","BossGodOfWealth","isSetTime","settingActiveTime","BossSYLW","icon","fishData1","fishData2","fishData","SpeciaResPre","isFishTideRuning","isRun","IsHave","Widget","updateAlignment","bet","replace","desc_lab","oldX","PlayBGMTime","fishBgSound","BossSYLWBgMusic","BossLavaBasaltBgMusic","PositiveDirection","OppositeDirection","MaxLight","MinLight","subD","test2","test1","cannonTyp","liveTime","serverTime","createTime","NotBorn","abs","isNeedSet180Angle","ui_surfCantainer","bgIndex","OutWinSizeOffceX","OutWinSizeX","ui_fishTideTitle","HidOpacity","OnDestroy","unscheduleAllCallbacks","OnClickButton","event","buttonName","target","buttonNode","curClickState","allCurTimeout","push","setTimeout","audio","closeCurEffect","playLoadSoundEffectByPath"],"mappings":"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","sourceRoot":"/","sourcesContent":["/***\r\n *  捕鱼：桌子UI 菜单、充值、炮台\r\n * **/\r\nlet CONST = require(\"nfishConst\");\r\n\r\nglGame.baseclass.extend({\r\n    properties: {\r\n        //金币银币漂移动画 图集\r\n        moneyEffect_Atlas: {\r\n            default: null,\r\n            displayName: \"moneyEffect_Atlas\",\r\n            tooltip: \"金币银币漂移动画 图集\",\r\n            type:cc.SpriteAtlas,\r\n        },\r\n        //特殊炮台出生动画 图集\r\n        laserBornEffect_Atlas: {\r\n            default: null,\r\n            displayName: \"laserBornEffect_Atlas\",\r\n            tooltip: \"特殊炮台出生动画 图集\",\r\n            type:cc.SpriteAtlas,\r\n        },\r\n        //鱼Icon 图集\r\n        icon_Atlas: {\r\n            default: null,\r\n            displayName: \"icon_Atlas\",\r\n            tooltip: \"鱼Icon 图集\",\r\n            type:cc.SpriteAtlas,\r\n        },\r\n        //2 3 4 档鱼 捕获 Icon 图集\r\n        icon_2_3_4_Atlas: {\r\n            default: null,\r\n            displayName: \"get_rawar_Atlas\",\r\n            tooltip: \"2 3 4 档鱼 捕获 Icon 图集\",\r\n            type:cc.SpriteAtlas,\r\n        },\r\n        //特殊鱼Tip Icon 图集\r\n        speciaIcon_Atlas: {\r\n            default: null,\r\n            displayName: \"speciaIcon_Atlas\",\r\n            tooltip: \"特殊鱼Tip Icon 图集\",\r\n            type:cc.SpriteAtlas,\r\n        },\r\n        explosionAndLightning_Atlas: {\r\n            default: null,\r\n            displayName: \"特效图集\",\r\n            tooltip: \"爆炸，灰烬，闪电\",\r\n            type:cc.SpriteAtlas,\r\n        },\r\n        illustratedBook: cc.Prefab, //图鉴\r\n        record_pre: cc.Prefab,      //记录详情\r\n        setting_pre: cc.Prefab,     //设置界面\r\n\r\n        turntable: cc.Prefab,       //自己的 玉如意转盘\r\n        cornucopia: cc.Prefab,      //自己的 聚宝盆\r\n\r\n        bulletEffect: cc.Prefab,    //炮台子弹射出炮口时动画的 播放器\r\n\r\n        changeCannonEffectList:[sp.SkeletonData],//4个特殊炮台变身特效\r\n        batteryList:[sp.SkeletonData],//注意了！！  下标0-9的炮台 是 对应 1-10号炮台 ，下标 10 - 13 是特殊炮台\r\n\r\n        //ui容器\r\n        ui_Actionable:cc.Node,\r\n        bulletTips:cc.Node,\r\n\r\n        //技能按钮\r\n        ui_skillAuto:cc.Node,\r\n        ui_skillLock:cc.Node,\r\n\r\n        //特殊鱼即将出生 ui\r\n        bossConeInTip:cc.Node,\r\n        bossBornTip:cc.Node,\r\n        bossNormalPos:cc.Node,\r\n\r\n        //财神、熔岩玄武 入场效果\r\n        spine_csrcdh:cc.Node,\r\n        effect_csrcdh:cc.Node,\r\n        spine_ryxwrcdh:cc.Node,\r\n        effect_ryxwrcdh:cc.Node,\r\n\r\n        //菜单\r\n        ui_menu:cc.Node,\r\n        ui_menuBtn:cc.Node,\r\n\r\n        //粒子\r\n        chick_act: cc.Node,\r\n        chick_meihua: cc.Node,\r\n\r\n        //弹出窗口\r\n        alert_container: cc.Node,\r\n        text_exitBossClearSocre: cc.Node,\r\n        text_exitLosCannan: cc.Node,\r\n        text_netOff: cc.Node,\r\n        btn_quit: cc.Node,\r\n        btn_queding: cc.Node,\r\n        btn_queding_net: cc.Node,\r\n    },\r\n    onLoad () {\r\n        this.creatSmear         = true;\r\n        this.bossTipMoveToTime  = 0.5\r\n        this.node.isInit        = 1;\r\n        this.bulletTipTime      = 0;\r\n        this.clickFishPoolEvent = null;\r\n        this.clickFishPoolTime  = 0;\r\n        this.lastAngle          = null;\r\n        this.logic              = require(\"nfishlogic\").getInstance();//数据中心\r\n        this.fireTime           = 0;    //开火计时器\r\n        this.fireTimeFrequency  = 0.17; //开火频率\r\n        this.isFire             = true; //是否可以开火\r\n        this.logic.cannonLevel  = cc.sys.localStorage.getItem(\"gunLevel_\"+glGame.user.userID) ? Number(cc.sys.localStorage.getItem(\"gunLevel_\"+glGame.user.userID)) : 1;\r\n        this.isExit             = true;\r\n        this.turntableView      = null;\r\n        this.cornucopiaView     = null;\r\n        this.runSpecial0        = false;\r\n        this.runSpecial1        = false;\r\n        this.runSpecial2        = false;\r\n        this.runSpecial3        = false;\r\n        this.logic.gameZoomX =  cc.winSize.width/CONST.DesignSize.width;\r\n        this.logic.gameZoomY =  cc.winSize.height/CONST.DesignSize.height;\r\n        this.registerEvent();\r\n        this.initSpeciaNode();\r\n    },\r\n    start () {\r\n        //初始化界面隐藏ui，等待数据\r\n        const Invisible = 0;\r\n        const MaxUserNum = 4;\r\n\r\n        const Normal = 255;\r\n        const FadeToTime = 1.3;\r\n        const DelayTime = 0.6;\r\n        for (let i = 0;i<MaxUserNum;i++){\r\n            this.ui_Actionable.getChildByName(\"ui_bg\"+i).active = false;\r\n            this.ui_Actionable.getChildByName(\"tower_bg\"+i).active = false;\r\n            let ui_gun  = this.ui_Actionable.getChildByName(\"ui_gun\"+i);\r\n            let ui_pos  = this.ui_Actionable.getChildByName(\"ui_pos\"+i);\r\n            let ui_wait = ui_pos.getChildByName(\"ui_wait\");\r\n            ui_gun.getChildByName(\"batteryMask\").addComponent(\"nfish_laserhitNode\");\r\n            ui_gun.getChildByName(\"batteryMask\").getComponent(cc.BoxCollider).enabled = false;\r\n            ui_gun.getChildByName(\"batteryMask\").opacity = Invisible;\r\n            ui_gun.active = false;\r\n            ui_wait.stopAllActions();\r\n            ui_wait.runAction(cc.repeatForever(cc.sequence(cc.fadeTo(FadeToTime,Invisible),cc.delayTime(DelayTime),cc.fadeTo(FadeToTime,Normal))));\r\n        }\r\n\r\n        glGame.gameNet.send_msg('http.ReqNewFishConfig', { gameid: 49 }, (route, msg) => {\r\n            if(msg.result != null){\r\n                glGame.fishMutipleCfg = msg.result;\r\n            }\r\n            console.log(\"fish_books----------------\", msg)\r\n        });\r\n    },\r\n    //初始化特殊奖励（玉如意、聚宝盆）有关的\r\n    initSpeciaNode(){\r\n        let special_Cantainer = this.node.getChildByName(\"special_Cantainer\");\r\n\r\n        this.turntableView = cc.instantiate(this.turntable);\r\n        special_Cantainer.addChild(this.turntableView);\r\n        this.turntableView.opacity = 0;\r\n\r\n        this.cornucopiaView = cc.instantiate(this.cornucopia);\r\n        special_Cantainer.addChild(this.cornucopiaView);\r\n        this.cornucopiaView.opacity = 0;\r\n    },\r\n    //初始化界面隐藏ui，等待数据\r\n    hide(){\r\n        const Normal = 255;\r\n        let spine_csrcdh = this.node.getChildByName(\"spine_effect\").getChildByName(\"spine_csrcdh\");\r\n        let spine_ryxwrcdh = this.node.getChildByName(\"spine_effect\").getChildByName(\"spine_ryxwrcdh\");\r\n        spine_csrcdh.active = false;\r\n        spine_csrcdh.opacity = Normal;\r\n        spine_ryxwrcdh.active = false;\r\n        spine_ryxwrcdh.opacity = Normal;\r\n        this.ui_menu.active = false;\r\n        this.node.getChildByName(\"ui_ExitTip\").active = false;\r\n        this.node.getChildByName(\"ui_fireEffect\").active = false;\r\n        const MaxUserNum = 4;\r\n        const NormalOpacity = 255;\r\n        for (let i = 0;i<MaxUserNum;i++){\r\n            if(!this.logic.isEnterRoom){\r\n                this.ui_Actionable.getChildByName(\"ui_bg\"+i).active = false;\r\n                this.ui_Actionable.getChildByName(\"tower_bg\"+i).active = false;\r\n                let ui_gun = this.ui_Actionable.getChildByName(\"ui_gun\"+i);\r\n                ui_gun.getChildByName(\"batteryMask\").opacity = NormalOpacity;\r\n                ui_gun.getChildByName(\"batteryMask\").getComponent(cc.BoxCollider).enabled = false;\r\n                ui_gun.active = false;\r\n            }\r\n        }\r\n    },\r\n    //注册监听\r\n    registerEvent() {\r\n        glGame.emitter.on(CONST.clientEvent.comeInPlayer,this.comeInPlayerHandler,this);            //用户进入\r\n        glGame.emitter.on(CONST.clientEvent.leaveRoomPlayer,this.leaveRoomPlayerHandler,this);      //用户离开\r\n        glGame.emitter.on(CONST.clientEvent.clickFishPool,this.clickFishPoolHandler,this);          //点击鱼池子\r\n        glGame.emitter.on(CONST.clientEvent.hiddenLocationTip,this.hiddenLocationTipHandler,this);  //隐藏位置提示\r\n        glGame.emitter.on(CONST.clientEvent.playFiringEffect,this.playFiringEffectHandler,this);    //播放开炮效果\r\n        glGame.emitter.on(CONST.clientEvent.updateShootGold,this.updateShootGoldHandler,this);      //更新用户射击余额\r\n        glGame.emitter.on(CONST.clientEvent.updateGunRate,this.updateGunRatedHandler,this);         //更新炮台倍率\r\n        glGame.emitter.on(CONST.clientEvent.updateGunRecoil,this.updateGunRecoilHandler,this);      //为其他玩家设置后坐力\r\n        glGame.emitter.on(CONST.clientEvent.onFreezeShowUI,this.onFreezeShowUIHandler,this);        //冰冻显示UI\r\n        glGame.emitter.on(CONST.clientEvent.fireSettingRecoil,this.fireSettingRecoilHandler,this);  //为自己设置后坐力\r\n        glGame.emitter.on(CONST.clientEvent.onCoinChanged,this.onCoinChangedHandler,this);          //充值到账财神爷动画\r\n        glGame.emitter.on(CONST.clientEvent.playCoinEffect,this.playCoinEffectHandler,this);        //死鱼飘金币\r\n        glGame.emitter.on(CONST.clientEvent.onSurfStart,this.onSurfStartHandler,this);              //海浪鱼群 - 海浪UI\r\n        glGame.emitter.on(CONST.clientEvent.showFishTideTitle,this.showFishTideTitleHandler,this);  //显示浪潮来临\r\n        glGame.emitter.on(CONST.clientEvent.myUpdateMoney,this.myUpdateMoneyHandler,this);          //更新自己钱\r\n        glGame.emitter.on(CONST.clientEvent.checkAutoAndLock,this.checkAutoAndLockHandler,this);    //检查锁定和自动按钮\r\n        glGame.emitter.on(CONST.clientEvent.upSpecialGunCoin,this.upSpecialGunCoinHandler,this);    //更新特殊炮台子弹数量\r\n        glGame.emitter.on(CONST.clientEvent.getSpecialCannon,this.getSpecialCannonHandler,this);    //获取到一个特殊炮台\r\n        glGame.emitter.on(CONST.clientEvent.restoreCannon,this.restoreCannonHandler,this);          //特殊子弹用完，恢复炮台\r\n        glGame.emitter.on(CONST.clientEvent.bossComein,this.bossComeinHandler,this);                //boss出现\r\n        glGame.emitter.on(CONST.clientEvent.sprinkleRedBag,this.sprinkleRedBagHandler,this);        //财神出金币\r\n        glGame.emitter.on(CONST.clientEvent.showTurntable,this.showTurntableHandler,this);          //玉如意 出转盘 聚宝盆 出拉霸\r\n        glGame.emitter.on(CONST.clientEvent.otherPlayerShowSpecialAward,this.oPSSAHandler,this);    //其他人的 如意 聚宝鹏 展示\r\n        glGame.emitter.on(CONST.clientEvent.specialBulletStatistics,this.specialBulletStatistics,this);    //特殊子弹统计\r\n        glGame.emitter.on(CONST.clientEvent.checkSpecialBullet,this.checkSpecialBulletHandler,this);       //特殊子弹统计 - 检查器\r\n        glGame.emitter.on(CONST.clientEvent.checkRotation,this.checkRotationHandler,this);          //设置旋转\r\n        glGame.emitter.on(CONST.clientEvent.hideBossConinUI,this.hideBossConinUIHandler,this);      //隐藏boss来了\r\n        glGame.emitter.on(CONST.clientEvent.updateUserStatus,this.updateUserStatusHandler,this);    //隐藏boss来了\r\n        glGame.emitter.on(CONST.clientEvent.addGoldEffect,this.addGoldEffectHandler,this);          //飘分\r\n        glGame.emitter.on(CONST.clientEvent.showAlert,this.showAlertHandler,this);                  //alert弹出框\r\n        glGame.emitter.on(CONST.clientEvent.accumulate,this.accumulateHandler,this);                //蓄力播放\r\n        glGame.emitter.on(CONST.clientEvent.clearbossComein,this.clearbossComeinHandler,this);      //清理boss进入\r\n        glGame.emitter.on(CONST.clientEvent.clearSpecialBulletPool,this.clearSpecialHandler,this);  //清理特殊子弹\r\n        glGame.emitter.on(CONST.clientEvent.bossGodOfWealthCoin,this.bossGodOfWealthCoinHandler,this);  //财神进入\r\n        glGame.emitter.on(CONST.clientEvent.bossLavaBasaltComin,this.bossLavaBasaltCominHandler,this);  //熔岩玄武进入\r\n        glGame.emitter.on(CONST.clientEvent.checkSpecialCannon,this.checkSpecialCannonHandler,this);   //检查特殊炮台\r\n        this.node.on(cc.Node.EventType.TOUCH_START,this.onFireHooHandler,this);                     //开始 点击屏幕 开始 发射\r\n        this.node.on(cc.Node.EventType.TOUCH_END,this.onFireHooHandler,this);                       //结束 点击屏幕 停止 发射\r\n        this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onFireHooHandler,this);                    //取消 点击屏幕 停止 发射\r\n        this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onMoveHandler,this);                         //移动 点击还移动，自动射击的时候更新角度\r\n    },\r\n    //反注册监听\r\n    unregisterEvent() {\r\n        glGame.emitter.off(CONST.clientEvent.comeInPlayer,this);\r\n        glGame.emitter.off(CONST.clientEvent.leaveRoomPlayer,this);\r\n        glGame.emitter.off(CONST.clientEvent.clickFishPool,this);\r\n        glGame.emitter.off(CONST.clientEvent.hiddenLocationTip,this);\r\n        glGame.emitter.off(CONST.clientEvent.playFiringEffect,this);\r\n        glGame.emitter.off(CONST.clientEvent.updateShootGold,this);\r\n        glGame.emitter.off(CONST.clientEvent.updateGunRate,this);\r\n        glGame.emitter.off(CONST.clientEvent.updateGunRecoil,this);\r\n        glGame.emitter.off(CONST.clientEvent.onFreezeShowUI,this);\r\n        glGame.emitter.off(CONST.clientEvent.fireSettingRecoil,this);\r\n        glGame.emitter.off(CONST.clientEvent.onCoinChanged,this);\r\n        glGame.emitter.off(CONST.clientEvent.playCoinEffect,this);\r\n        glGame.emitter.off(CONST.clientEvent.onSurfStart,this);\r\n        glGame.emitter.off(CONST.clientEvent.showFishTideTitle,this);\r\n        glGame.emitter.off(CONST.clientEvent.myUpdateMoney,this);\r\n        glGame.emitter.off(CONST.clientEvent.checkAutoAndLock,this);\r\n        glGame.emitter.off(CONST.clientEvent.getSpecialCannon,this);\r\n        glGame.emitter.off(CONST.clientEvent.upSpecialGunCoin,this);\r\n        glGame.emitter.off(CONST.clientEvent.restoreCannon,this);\r\n        glGame.emitter.off(CONST.clientEvent.bossComein,this);\r\n        glGame.emitter.off(CONST.clientEvent.sprinkleRedBag,this);\r\n        glGame.emitter.off(CONST.clientEvent.showTurntable,this);\r\n        glGame.emitter.off(CONST.clientEvent.otherPlayerShowSpecialAward,this);\r\n        glGame.emitter.off(CONST.clientEvent.specialBulletStatistics,this);\r\n        glGame.emitter.off(CONST.clientEvent.checkSpecialBullet,this);\r\n        glGame.emitter.off(CONST.clientEvent.checkRotation,this);\r\n        glGame.emitter.off(CONST.clientEvent.hideBossConinUI,this);\r\n        glGame.emitter.off(CONST.clientEvent.updateUserStatus,this);\r\n        glGame.emitter.off(CONST.clientEvent.addGoldEffect,this);\r\n        glGame.emitter.off(CONST.clientEvent.showAlert,this);\r\n        glGame.emitter.off(CONST.clientEvent.accumulate,this);\r\n        glGame.emitter.off(CONST.clientEvent.clearbossComein,this);\r\n        glGame.emitter.off(CONST.clientEvent.clearSpecialBulletPool,this);\r\n        glGame.emitter.off(CONST.clientEvent.bossGodOfWealthCoin,this);\r\n        glGame.emitter.off(CONST.clientEvent.bossLavaBasaltComin,this);\r\n        glGame.emitter.off(CONST.clientEvent.checkSpecialCannon,this);\r\n        this.node.off(cc.Node.EventType.TOUCH_START,this);\r\n        this.node.off(cc.Node.EventType.TOUCH_MOVE,this);\r\n    },\r\n    //检查自动按钮\r\n    checkAutoAndLockHandler(){\r\n        let roomLockAutoData = glGame.storage.getItem(CONST.SkillisLockAutoChange);\r\n        if(roomLockAutoData != null && roomLockAutoData[this.logic.roomId] == \"o\"){\r\n            this.onSkillAutoHandler();\r\n        }\r\n\r\n        let roomSkillData = glGame.storage.getItem(CONST.SkillLock);\r\n        if(roomSkillData != null && roomSkillData[this.logic.roomId] == \"o\"){\r\n            this.onSkillLockHandler();\r\n        }\r\n    },\r\n    //自动射击的时候获取角度\r\n    onMoveHandler(evt){\r\n        if(this.logic.isAuto)this.lastAngle = this.getAngle(evt.getLocation());\r\n    },\r\n    //点击屏幕 发射\r\n    onFireHooHandler(evt){\r\n        glGame.emitter.emit(CONST.clientEvent.fishCancelShoot,evt);\r\n    },\r\n    //用户进入，显示炮台\r\n    comeInPlayerHandler(res){\r\n        this.initPlayer(res,true);\r\n    },\r\n    //用户离开\r\n    leaveRoomPlayerHandler(res){\r\n        this.initPlayer(res,false);\r\n    },\r\n    //更新用户状态 seatNum 座位 isOnLine 是否在线\r\n    updateUserStatusHandler(res){\r\n        let ui_pos        = this.ui_Actionable.getChildByName(\"ui_pos\"+res.seatNum);\r\n        let ui_other      = ui_pos.getChildByName(\"ui_other\");\r\n        let netSt         = ui_other.getChildByName(\"netStatusContainer\");\r\n        netSt.active      = res.userStatus == CONST.UserStatus.OffLine;\r\n    },\r\n    //初始化用户\r\n    initPlayer(play,isInit){\r\n        if(!play)return;\r\n        let myid          = glGame.user.userID;\r\n        let seatNum       = play.seatNum;\r\n        let ui_pos        = this.ui_Actionable.getChildByName(\"ui_pos\"+seatNum);\r\n        let ui_gun        = this.ui_Actionable.getChildByName(\"ui_gun\"+seatNum);\r\n        let tower_bg      = this.ui_Actionable.getChildByName(\"tower_bg\"+seatNum);\r\n        let ui_bg         = this.ui_Actionable.getChildByName(\"ui_bg\"+seatNum);\r\n        let ui_unWait     = ui_bg.getChildByName(\"ui_unWait\");\r\n        let lab_coin      = ui_unWait.getChildByName(\"coinBg_cantainer\").getChildByName(\"lab_coin\");\r\n\r\n        if(ui_pos == null){\r\n            cc.error(\">> 出错了 \",play)\r\n            return;\r\n        }\r\n        let ui_other      = ui_pos.getChildByName(\"ui_other\");\r\n        let netSt         = ui_other.getChildByName(\"netStatusContainer\");\r\n        ui_other.active   = isInit;\r\n        netSt.active      = false;\r\n        ui_pos.active     = true;\r\n        ui_gun.active     = isInit;\r\n        tower_bg.active   = isInit;\r\n        if(isInit){\r\n            lab_coin.getComponent(cc.Label).string = glGame.user.GoldTemp(play.gold);\r\n        }\r\n        ui_pos.getChildByName(\"ui_wait\").active = !isInit;\r\n        ui_bg.active = isInit;\r\n        ui_bg.getChildByName(\"ui_unWait\").active = isInit;\r\n        ui_bg.getChildByName(\"ui_unWait\").getChildByName(\"img_zijipaotai\").active = myid == play.uid;\r\n        if (myid != play.uid){\r\n            let spine_restoreCannon = ui_gun.getChildByName(\"spine_restoreCannon\");\r\n            this.logic.playSpine(spine_restoreCannon,false,true,CONST.SpineName.Normal);\r\n        }\r\n        if(play.uid != undefined && myid == play.uid){\r\n            this.logic.isEnterRoom = true;\r\n            this.logic.seatNum = seatNum;\r\n            let ui_Tip = this.node.getChildByName(\"ui_Tip\");\r\n            ui_Tip.getChildByName(\"ui_\"+seatNum).active = isInit;\r\n            let spineName = play.seatNum == CONST.Seat.RightTop || play.seatNum == CONST.Seat.LeftTop ? CONST.SpineName.YouHereTop : CONST.SpineName.YouHereButtom;\r\n            if(this.logic.getIsRotation()){\r\n                spineName = play.seatNum == CONST.Seat.RightTop || play.seatNum == CONST.Seat.LeftTop ? CONST.SpineName.YouHereButtom : CONST.SpineName.YouHereTop;\r\n            }\r\n            this.logic.playSpine(ui_Tip.getChildByName(\"ui_\"+seatNum),true,false,spineName);\r\n            ui_other.getChildByName(\"lab_gunLv\").getComponent(cc.Label).string = play.cannonLevel;\r\n            if(this.logic.offLineMissileData != null){//人物进入初始化房间结束后继续初始化断线重连的数据\r\n                cc.warn(\"> 人物进入初始化房间结束后继续初始化断线重连的数据 \")\r\n                glGame.emitter.emit(CONST.clientEvent.onSpecialBulletExp,JSON.parse(JSON.stringify(this.logic.offLineMissileData)));\r\n                this.logic.offLineMissileData = null;\r\n            }\r\n        }else {\r\n            this.updateGunRecoilHandler(play);\r\n        }\r\n        if(play.cannonType == CONST.CannonType.Normal){//普通炮台样式\r\n            ui_other.getChildByName(\"img_paobeikuang1\").active = true;\r\n            ui_other.getChildByName(\"lab_gunLv\").active = true;\r\n\r\n            ui_other.getChildByName(\"img_paobeikuang2\").active = false;\r\n            ui_other.getChildByName(\"ui_gunLvBg\").active = false;\r\n            ui_other.getChildByName(\"lab_gunLv2\").active = false;\r\n        }else{//特殊炮台样式\r\n            ui_other.getChildByName(\"img_paobeikuang1\").active = false;\r\n            ui_other.getChildByName(\"lab_gunLv\").active = false;\r\n\r\n            ui_other.getChildByName(\"img_paobeikuang2\").active = true;\r\n            ui_other.getChildByName(\"ui_gunLvBg\").active = true;\r\n            ui_other.getChildByName(\"lab_gunLv2\").active = true;\r\n        }\r\n        if(isInit){\r\n            let battery = ui_gun.getChildByName(\"battery\");\r\n            let batterySkeletonData;\r\n            switch (play.cannonType) {\r\n                case CONST.CannonType.Lightning :   // 闪电\r\n                    batterySkeletonData = this.batteryList[CONST.CannonSkin.Lightning];\r\n                    break;\r\n                case CONST.CannonType.PartialBomb : // 炎爆\r\n                    batterySkeletonData = this.batteryList[CONST.CannonSkin.PartialBomb];\r\n                    break;\r\n                case CONST.CannonType.Laser :       // 龙息\r\n                    batterySkeletonData = this.batteryList[CONST.CannonSkin.Laser];\r\n                    break;\r\n                case CONST.CannonType.Missile :     // 仙剑\r\n                    batterySkeletonData = this.batteryList[CONST.CannonSkin.Missile];\r\n                    break;\r\n                case CONST.CannonType.Normal :     // 普通1-10级别\r\n                    break;\r\n                default:\r\n                    cc.error(\"===================初始化 炮台有误 ！\",play)\r\n            }\r\n            if(play.cannonType != CONST.CannonType.Normal) {//刚进来 如果数据有 龙溪炮台 那么现实龙溪炮台\r\n                if(batterySkeletonData == null){\r\n                    cc.warn(\">>>> 无法实例化 炮台 \",play)\r\n                }\r\n                if(this.logic.seatNum == play.seatNum)cc.warn(\"7 ======更换炮台====== cannonType \"+play.cannonType)\r\n                battery.getComponent(sp.Skeleton).skeletonData = batterySkeletonData;\r\n                ui_gun.cannonType = play.cannonType;\r\n                this.logic.playSpine(battery,true,false,CONST.SpineName.Idle);\r\n                ui_other.getChildByName(\"lab_gunLv\").getComponent(cc.Label).string = play.cannonAmount+\"\"; //特殊炮台 现实 炮弹数量\r\n                ui_other.getChildByName(\"lab_gunLv2\").getComponent(cc.Label).string = play.cannonAmount+\"\";\r\n                //特殊炮炮台 不显示 加减号\r\n                ui_other.getChildByName(\"btn_sub_plus_cantainer\").getChildByName(\"ui_BtnPlus\").active = false;\r\n                ui_other.getChildByName(\"btn_sub_plus_cantainer\").getChildByName(\"ui_BtnSub\").active = false;\r\n            }else{\r\n                ui_other.getChildByName(\"btn_sub_plus_cantainer\").getChildByName(\"ui_BtnPlus\").active = myid == play.uid;\r\n                ui_other.getChildByName(\"btn_sub_plus_cantainer\").getChildByName(\"ui_BtnSub\").active = myid == play.uid;\r\n                ui_other.getChildByName(\"lab_gunLv\").getComponent(cc.Label).string = play.cannonLevel+\"\";\r\n                ui_other.getChildByName(\"lab_gunLv2\").getComponent(cc.Label).string = play.cannonLevel+\"\";\r\n                const NormalCannonOffsex = 1;\r\n                let cannon = Number(play.cannonLevel) - NormalCannonOffsex;\r\n                if(cannon < 0){\r\n                    cannon = 0;\r\n                }\r\n                if(this.logic.seatNum == play.seatNum)cc.warn(\"6 ======更换炮台====== cannonType \"+play.cannonType)\r\n                battery.getComponent(sp.Skeleton).skeletonData = this.batteryList[cannon];\r\n                ui_gun.cannonType = play.cannonType;\r\n                this.logic.playSpine(battery,true,false,CONST.SpineName.Idle);\r\n            }\r\n        }\r\n    },\r\n    //播放开炮效果\r\n    playFiringEffectHandler(res){\r\n        let gunType = res.gunType;\r\n        let seatNum = res.seatNum;\r\n        let ui_gun  = this.ui_Actionable.getChildByName(\"ui_gun\"+seatNum);\r\n        if(gunType == CONST.CannonType.Laser){//这个是 龙溪的擎天柱 独有的 ，其余的 暂时没有开炮效果\r\n            const Invisible = 0;\r\n            const NormalOpacity = 255;\r\n            let batteryMask = ui_gun.getChildByName(\"batteryMask\");\r\n            batteryMask.opacity = NormalOpacity;\r\n            batteryMask.getComponent(cc.BoxCollider).enabled = true;\r\n            let spineNode = cc.instantiate(batteryMask.getChildByName(\"spcGun\"));\r\n            spineNode.active = true;\r\n            batteryMask.addChild(spineNode);\r\n            this.logic.playSpine(spineNode,false,false,CONST.SpineName.Idle,(spineName)=>{\r\n                batteryMask.getComponent(cc.BoxCollider).enabled = false;\r\n                batteryMask.opacity = Invisible;\r\n                spineNode.destroy();\r\n            });\r\n        }else{\r\n            //停用老的 开炮效果 等待替图资源到位\r\n            // let ui_bulletEff = cc.instantiate(this.bulletEffect);\r\n            // ui_bulletEff.active = true;\r\n            // ui_bulletEff.position = ui_gun.getChildByName(\"ui_bulletEffect\").position;\r\n            // ui_gun.addChild(ui_bulletEff);\r\n            // let fish_MovieClip = ui_bulletEff.getComponent(\"nfish_MovieClip\");\r\n            // fish_MovieClip.type = CONST.EffectType.Effect;\r\n            // fish_MovieClip.initEffect(this.button_gun_help_nzzl_tower_Atlas,\"bullet_2_\",2,6,1,false,0.02,true);\r\n\r\n            // let scale;\r\n            // if(res.gunType == 2){//能量炮\r\n            //     scale = 1;\r\n            // }else{\r\n            //     scale = 0.5;\r\n            //     for (let i=0;i<gunRate;i++){\r\n            //         if(i>4){\r\n            //             scale+=0.07;\r\n            //         }else{\r\n            //             scale+=0.04;\r\n            //         }\r\n            //     }\r\n            // }\r\n            // ui_bulletEff.scale = scale;\r\n        }\r\n    },\r\n    //更新自己的钱\r\n    myUpdateMoneyHandler(){\r\n        let ui_bg         = this.ui_Actionable.getChildByName(\"ui_bg\"+this.logic.seatNum);\r\n        let ui_unWait     = ui_bg.getChildByName(\"ui_unWait\");\r\n        let lab_coin      = ui_unWait.getChildByName(\"coinBg_cantainer\").getChildByName(\"lab_coin\");\r\n        lab_coin.getComponent(cc.Label).string = glGame.user.GoldTemp(Number(this.logic.gold + \"\"));\r\n    },\r\n    //其他玩家射击，更新余额\r\n    updateShootGoldHandler(res){\r\n        if(this.logic.seatNum == res.seatNum){\r\n            return;\r\n        }\r\n        let ui_bg         = this.ui_Actionable.getChildByName(\"ui_bg\"+res.seatNum);\r\n        let ui_unWait     = ui_bg.getChildByName(\"ui_unWait\");\r\n        let lab_coin      = ui_unWait.getChildByName(\"coinBg_cantainer\").getChildByName(\"lab_coin\");\r\n        lab_coin.getComponent(cc.Label).string = glGame.user.GoldTemp(res.gold);\r\n    },\r\n    //其他玩家射击-设置 炮台角度-后坐力\r\n    updateGunRecoilHandler(res,isSetRecoil = true){\r\n        let ui_gun        = this.ui_Actionable.getChildByName(\"ui_gun\"+res.seatNum);\r\n        if(res.angle != undefined)ui_gun.angle      = res.angle;\r\n        if(isSetRecoil){\r\n            this.fireBulletSettingRecoil(res.seatNum);\r\n            // cc.error(\">>>>  炮台 后坐力 == 开始 播放 2 seatNum \"+res.seatNum+\" ui_gun angle \"+ui_gun.angle);\r\n        }\r\n    },\r\n    //点击鱼池,调整炮台角度，发射子弹，设置后坐力\r\n    clickFishPoolHandler(evt){\r\n        if(evt != null){//射击 范围判断\r\n            let pos = evt.getLocation();\r\n            if(this.logic.seatNum == CONST.Seat.LeftTop || this.logic.seatNum == CONST.Seat.RightTop){\r\n                const OffsexY = 1044;\r\n                if(pos.y > OffsexY){\r\n                    return;\r\n                }\r\n            }else{\r\n                const OffsexY = 60;\r\n                if(pos.y < OffsexY){\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        if(this.logic.MaxBullte == 0){\r\n            cc.error(\"未初始化，无法发射\")\r\n            return;\r\n        }\r\n        if(this.logic.bullteNum >= this.logic.MaxBullte){\r\n            cc.warn(\">> 子弹数量超过 \"+this.logic.MaxBullte+\" ，不予发射 \",this.logic.bullteNum)\r\n            this.bulletTips.active = true;\r\n            return;\r\n        }\r\n        if(!evt){\r\n            this.nextClickFishPoolHandler(null);\r\n        }else{\r\n            const ShootGapTime = -0.125;\r\n            if(this.logic.isLock){\r\n                this.clickFishPoolTime = ShootGapTime;\r\n            }\r\n            this.clickFishPoolEvent = evt;\r\n        }\r\n    },\r\n    //点击鱼池,调整炮台角度，发射子弹，设置后坐力\r\n    nextClickFishPoolHandler(evt){\r\n        if(!this.logic.isEnterRoom){\r\n            return;\r\n        }\r\n        if(!glGame.gameNet.getState()){\r\n            this.logic.isEnterRoom = false;\r\n            cc.error(\"当前是 断网状态 无法发射\");\r\n            return;\r\n        }\r\n        let coin = this.logic.baseConsume * this.logic.cannonLevel;\r\n        if(this.logic.gold == undefined || this.logic.gold < coin){//余额检查\r\n            const NewGround = 99;\r\n            if(this.logic.roomRule.Rank != NewGround){\r\n                this.showNotMoneyDialog();\r\n            }\r\n            return;\r\n        }\r\n        //控制频率\r\n        if(!this.isFire){\r\n            cc.log(\">> 控制频率 无法发射\")\r\n            return;\r\n        }\r\n        if(this.logic.isYuRuyiRuning){\r\n            cc.warn(\">正在使用玉如意转盘，停火 \")\r\n            return;\r\n        }\r\n        if(this.logic[\"isGunMoving\"+this.logic.seatNum] == 1){\r\n            cc.warn(\">正在更换炮台 播放特效 无法发射子弹 \",this.logic[\"isGunMoving\"+this.logic.seatNum],\" seatNum \",this.logic.seatNum)\r\n            return;\r\n        }\r\n        const HaveSpecialCannon = 1;\r\n        let playerInfo          = this.logic.playerInfo[Number(glGame.user.userID)];\r\n\r\n        if(playerInfo == null){\r\n            cc.error(\">> 找不到用户 \",this.logic.playerInfo)\r\n            return;\r\n        }\r\n        this.isFire             = false;\r\n        let angle               = undefined;\r\n        let myid                = glGame.user.userID;\r\n        let arg                 = {uid:myid,seatNum:this.logic.seatNum,gunType:this.logic.gunType,gunLevel:this.logic.cannonLevel};\r\n        let currentIsMissile    = this.logic.currentBullteType == CONST.CannonType.Missile;  //true 当前是仙剑\r\n        let nextIsHaveMissile   = playerInfo.hitMax != null       && playerInfo.cannonAmount > HaveSpecialCannon && playerInfo.cannonType == CONST.CannonType.Missile; //下一发子弹是不是 仙剑\r\n\r\n        if(this.logic.specialBulletPool[Number(this.logic.seatNum)] != null){\r\n            cc.warn(\">>>不能重复发送 屏幕已有特殊子弹  子弹类型 : \"+this.logic.specialBulletPool[Number(this.logic.seatNum)]);\r\n            return;\r\n        }\r\n        if(this.logic.currentBullteType == CONST.CannonType.Missile){\r\n            cc.warn(\">>>不能重复发送仙剑子弹 2 \");\r\n            return;\r\n        }\r\n        if(this.logic.currentBullteType == CONST.CannonType.Laser){\r\n            cc.warn(\">>有 龙溪 子弹 正在屏幕内\");\r\n            return;\r\n        }\r\n        if(currentIsMissile && nextIsHaveMissile){\r\n            cc.warn(\"当前是仙剑子弹，下一发还是仙剑，无法射击\")\r\n            return;\r\n        }\r\n        if(this.logic.currentBullteType == CONST.CannonType.Lightning){\r\n            cc.warn(\">>有 闪电 子弹 正在屏幕内\");\r\n            return;\r\n        }\r\n        if(this.logic.currentBullteType == CONST.CannonType.PartialBomb){\r\n            cc.warn(\">>有 炎爆 子弹 正在屏幕内\");\r\n            return;\r\n        }\r\n        if(evt != null){//正常点击\r\n            if(!this.logic.startFire){\r\n                cc.warn(\">鱼潮来临，发射停用\")\r\n                return;\r\n            }\r\n            if(this.logic.isLock == true){\r\n                if(this.logic.lockFishID != null){\r\n                    arg.lock = Number(this.logic.lockFishID);\r\n                    arg.indexNum = Number(this.logic.lockFishIndex);\r\n                    arg.angle = null;\r\n                }else{\r\n                    this.node.getChildByName(\"noClickFIsh_tips\").active = true;\r\n                    this.node.getChildByName(\"noClickFIsh_tips\").stopAllActions();\r\n                    this.node.getChildByName(\"noClickFIsh_tips\").runAction(cc.sequence(cc.delayTime(1.5),cc.callFunc(()=>{\r\n                        this.node.getChildByName(\"noClickFIsh_tips\").active = false;\r\n                    })))\r\n                    return;\r\n                }\r\n            }\r\n            if(this.logic.lockFishID != null){\r\n                arg.lock = Number(this.logic.lockFishID);\r\n                arg.indexNum = Number(this.logic.lockFishIndex);\r\n                arg.angle = null;\r\n            }else{\r\n                let pos   = evt.getLocation();\r\n                angle     = this.getAngle(pos);\r\n                arg.angle = angle;\r\n            }\r\n        }else//自动射击\r\n        {\r\n            let ui_physicalPool  = this.node.parent.getChildByName(\"nfish_deskContainer\").getChildByName(\"ui_physicalPool\");\r\n            let len = ui_physicalPool.childrenCount;\r\n            let fishLen = 0;\r\n            const MaxFish = 10;\r\n            for (let i=0;i<len;i++){\r\n                let n = ui_physicalPool.children[i];\r\n                if(n != null){\r\n                    let fish_Unit = n.getComponent(\"nfish_Unit\");\r\n                    if(fish_Unit != null && fish_Unit.getFishID() != null){\r\n                        fishLen++;\r\n                        if(fishLen > MaxFish){\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if(!this.logic.startFire){\r\n                cc.warn(\">鱼潮来临，自动发射停用\")\r\n                return;\r\n            }\r\n            if(this.logic.isLock == true && this.logic.lockFishID != null){\r\n                //锁定  有目标\r\n                arg.lock = Number(this.logic.lockFishID);\r\n                arg.angle = null;\r\n            }else{\r\n                const NormalAngle = 180;\r\n                const ZeroAngle   = 0;\r\n                //未锁定\r\n                if(this.logic.seatNum == 0 ||this.logic.seatNum == 1){\r\n                    angle = this.lastAngle == null ? ZeroAngle : this.lastAngle;\r\n                }else{\r\n                    angle = this.lastAngle == null ? NormalAngle : this.lastAngle;\r\n                }\r\n                arg.angle = angle;\r\n            }\r\n        }\r\n        glGame.emitter.emit(CONST.clientEvent.adjustGunAngle,arg);\r\n    },\r\n    //金额不足弹窗\r\n    showNotMoneyDialog(){\r\n        if(this.logic.dialogPanelIsShow)return;\r\n        this.logic.dialogPanelIsShow = true;\r\n        if(this.logic.isAuto || this.logic.isLockAutoChange){//如果自动 那么解除\r\n            this.onSkillAutoHandler();\r\n        }\r\n        if(this.logic.isLock){//如果锁定 那么解除\r\n            this.onSkillLockHandler();\r\n        }\r\n        let string = `<color=#CFECFC>您的金币不足，该炮倍需要</c> <color=#FDC916> ${this.logic.getFloat(this.logic.cannonLevel * this.logic.baseConsume)}  </c><color=#CFECFC>金币才可开炮，是否马上前往充值？</c>`\r\n        glGame.panel.showDialog(\"\", string, () => {\r\n            this.logic.dialogPanelIsShow = false;\r\n            glGame.panel.showShop(9999);\r\n        }, () => {\r\n            this.logic.dialogPanelIsShow = false;\r\n        }, \"取消\", \"充值\", 9999);\r\n    },\r\n    //获取朝向\r\n    getAngle(pos){\r\n        let direction       = this.node.convertToNodeSpaceAR(pos);\r\n        let startPos        = this.ui_Actionable.getChildByName(\"ui_gun\"+this.logic.seatNum).position;\r\n        return this.logic.getP1ToP2Angle(startPos,direction);\r\n    },\r\n    //赋值后坐力\r\n    fireSettingRecoilHandler(res){\r\n        let angle           = res.angle;\r\n        if(angle != undefined)this.ui_Actionable.getChildByName(\"ui_gun\"+this.logic.seatNum).angle = angle;\r\n        this.lastAngle      = angle;\r\n        this.fireBulletSettingRecoil(this.logic.seatNum);\r\n    },\r\n    //实现后坐力逻辑\r\n    fireBulletSettingRecoil(seatNum){\r\n        let battery        = this.ui_Actionable.getChildByName(\"ui_gun\"+seatNum).getChildByName(\"battery\");\r\n        this.logic.playSpine(battery,false,false,CONST.SpineName.Attack,null,CONST.SpineName.Idle,true);\r\n    },\r\n    //隐藏位置提示\r\n    hiddenLocationTipHandler(){\r\n        this.scheduleOnce(()=>{\r\n            let ui_Tip = this.node.getChildByName(\"ui_Tip\");\r\n            if(ui_Tip.getChildByName(\"ui_\"+this.logic.seatNum)){\r\n                ui_Tip.getChildByName(\"ui_\"+this.logic.seatNum).active = false;\r\n            }\r\n        },3);\r\n    },\r\n    onClick(name, node){\r\n        const NotExit = 4;\r\n        const IstExit = 1;\r\n        switch(name){\r\n            case \"ui_mask\":return this.closeViewHandler(NotExit);       //退出\r\n            case \"ui_menuBtn\":return this.menuViewHandler();            //菜单\r\n            case \"ui_rechargeBtn\":return this.rechargeClickHandler();   //充值\r\n            case \"btn_chongzhi\":return this.rechargeClickHandler();     //充值\r\n            case \"btn_tuichu\":return this.closeViewHandler(IstExit);    //退出\r\n            case \"btn_yuzhong\":return this.openFishGroupHandler();      //打开图鉴\r\n            case \"btn_jilu\":return this.historyClickHandler();          //记录\r\n            case \"btn_shezhi\":return this.settingClickHandler();        //设置\r\n            case \"ui_BtnPlus\":return this.plusClickHandler();           //加号 + 炮台\r\n            case \"ui_BtnSub\":return this.subClickHandler();             //减号 - 炮台\r\n            case \"ui_skillLock\":return this.onSkillLockHandler();       //锁定\r\n            case \"ui_skillAuto\":return this.onSkillAutoHandler();       //自动\r\n            case \"btn_quit\":return this.onQuitHandler();                //alert-取消\r\n            case \"btn_queding\":return this.onQuedingHandler();          //alert-确认\r\n            case \"btn_queding_net\":return this.onQuedingOffNetHandler();      //alert-确认-断网\r\n            default: console.error(\"no find button name -> %s\", name);\r\n        }\r\n    },\r\n    //更新特殊炮台数量\r\n    upSpecialGunCoinHandler(res){\r\n        let ui_pos        = this.ui_Actionable.getChildByName(\"ui_pos\"+res.seatNum);\r\n        ui_pos.getChildByName(\"ui_other\").getChildByName(\"lab_gunLv\").getComponent(cc.Label).string = res.cannonLevel + \"\";\r\n        ui_pos.getChildByName(\"ui_other\").getChildByName(\"lab_gunLv2\").getComponent(cc.Label).string = res.cannonLevel + \"\";\r\n    },\r\n    //获取到一个特殊炮台\r\n    getSpecialCannonHandler(res) {\r\n        let myid = Number(glGame.user.userID);\r\n        const IsRestore = 0;\r\n        let playerInfo = this.logic.playerInfo[Number(res.uid)];\r\n        if(Number(res.uid) == myid){\r\n            cc.warn(\"====== 获取到一个特殊炮台 ====== \",playerInfo)\r\n        }\r\n        let ui_physicalPool  = this.node.parent.getChildByName(\"nfish_deskContainer\").getChildByName(\"ui_physicalPool\");\r\n        //根据实时配置设置龙溪碰撞宽度\r\n        let ui_gun          = this.ui_Actionable.getChildByName(\"ui_gun\"+res.seatNum);\r\n        let FixTime         = 2;//纠正时间\r\n        this.scheduleOnce(()=>{\r\n            ui_gun.cannonType = playerInfo.cannonType;\r\n            if(ui_gun.cannonType != playerInfo.cannonType){\r\n                let batterySkeletonData;\r\n                let cannonType = Number(playerInfo.cannonType);\r\n                switch (cannonType) {\r\n                    case CONST.CannonType.Lightning :   // 闪电\r\n                        batterySkeletonData = this.batteryList[CONST.CannonSkin.Lightning];\r\n                        break;\r\n                    case CONST.CannonType.PartialBomb : // 炎爆\r\n                        batterySkeletonData = this.batteryList[CONST.CannonSkin.PartialBomb];\r\n                        break;\r\n                    case CONST.CannonType.Laser :       // 龙息\r\n                        batterySkeletonData = this.batteryList[CONST.CannonSkin.Laser];\r\n                        break;\r\n                    case CONST.CannonType.Missile :     // 仙剑\r\n                        batterySkeletonData = this.batteryList[CONST.CannonSkin.Missile];\r\n                        break;\r\n                }\r\n                let battery = ui_gun.getChildByName(\"battery\");\r\n                if(CONST.CannonType.Normal == cannonType){\r\n                    let cannon = Number(this.logic.cannonLevel) - 1;\r\n                    if(cannon < 0){\r\n                        cannon = 0;\r\n                    }\r\n                    battery.getComponent(sp.Skeleton).skeletonData = this.batteryList[cannon];\r\n                }else{\r\n                    battery.getComponent(sp.Skeleton).skeletonData = batterySkeletonData;\r\n                }\r\n                this.logic.playSpine(battery,false,false,CONST.SpineName.Idle2);\r\n                if(this.logic.seatNum == res.seatNum){\r\n                    this.logic[\"isGunMoving\"+this.logic.seatNum] = -1;\r\n                }\r\n                cc.warn(\">> 通过数据纠正UI：ui_gun.cannonType \"+ui_gun.cannonType+\"   data cannonType \"+playerInfo.cannonType)\r\n            }\r\n        },FixTime);\r\n        if(playerInfo.cannonType == CONST.CannonType.Laser){\r\n            if(ui_gun == null){\r\n                cc.warn(\">>> seatNum \",res.seatNum,\"  res \",res)\r\n            }\r\n            let radius        =  Number(this.logic.roomRule.FirepillarWidth);// 龙息的宽度（单位：像素）\r\n            let newSize       = cc.size(radius,ui_gun.getChildByName(\"batteryMask\").getComponent(cc.BoxCollider).size.height)\r\n            ui_gun.getChildByName(\"batteryMask\").getComponent(cc.BoxCollider).size = newSize;\r\n        }\r\n        if(myid == Number(res.uid)){\r\n            let ui_pos        = this.ui_Actionable.getChildByName(\"ui_pos\"+res.seatNum);\r\n            ui_pos.getChildByName(\"ui_other\").getChildByName(\"btn_sub_plus_cantainer\").getChildByName(\"ui_BtnPlus\").active = playerInfo.cannonType == CONST.CannonType.Normal;\r\n            ui_pos.getChildByName(\"ui_other\").getChildByName(\"btn_sub_plus_cantainer\").getChildByName(\"ui_BtnSub\").active = playerInfo.cannonType == CONST.CannonType.Normal;\r\n        }\r\n\r\n        if(ui_gun.cannonType != playerInfo.cannonType && !res.isNew){\r\n            res.isNew = true;//强行篡改\r\n            cc.warn(\">> 获得特殊炮台 仍然还使用 普通 炮台 正在 修正\")\r\n        }\r\n\r\n        if(res.isNew){\r\n            let pos = null;\r\n            let fish = ui_physicalPool.getChildByName(\"\"+res.fishId);\r\n            if(fish != null){\r\n                pos = cc.v2(fish.position.x,fish.position.y);\r\n            }else{\r\n                cc.warn(\"> 鱼池里 找不到鱼 id: \"+res.fishId,\" res \",res);\r\n            }\r\n            if(Number(res.uid) == myid){\r\n                cc.warn(\"====== 成功替换炮台 ====== cannonType \"+playerInfo.cannonType)\r\n            }\r\n            this.setGunRate(res.seatNum,playerInfo.cannonAmount,playerInfo.cannonType,pos,IsRestore);\r\n        }else{\r\n            let ui_pos        = this.ui_Actionable.getChildByName(\"ui_pos\"+res.seatNum);\r\n            if(playerInfo.cannonType == CONST.CannonType.Normal){\r\n                ui_pos.getChildByName(\"ui_other\").getChildByName(\"lab_gunLv\").getComponent(cc.Label).string = playerInfo.cannonLevel+\"\";\r\n                ui_pos.getChildByName(\"ui_other\").getChildByName(\"lab_gunLv2\").getComponent(cc.Label).string = playerInfo.cannonLevel+\"\";\r\n            }else{\r\n                ui_pos.getChildByName(\"ui_other\").getChildByName(\"lab_gunLv\").getComponent(cc.Label).string = playerInfo.cannonAmount+\"\";\r\n                ui_pos.getChildByName(\"ui_other\").getChildByName(\"lab_gunLv2\").getComponent(cc.Label).string = playerInfo.cannonAmount+\"\";\r\n            }\r\n        }\r\n    },\r\n    //检查特殊炮台\r\n    checkSpecialCannonHandler(isRefreshNow){\r\n        let isChange =  false;\r\n        for (let key in this.logic.playerInfo) {\r\n            let playerInfo = this.logic.playerInfo[key];\r\n            if (playerInfo != null && this.logic[\"isGunMoving\" + playerInfo.seatNum] != 1) {\r\n                let ui_gun = this.ui_Actionable.getChildByName(\"ui_gun\" + playerInfo.seatNum);\r\n                if (ui_gun != null && ui_gun.cannonType != playerInfo.cannonType) {\r\n                    isChange = true;\r\n                }\r\n            }\r\n        }\r\n        let UserMax = 4;\r\n        for (let i=0;i<UserMax;i++){\r\n            let ui_gun = this.ui_Actionable.getChildByName(\"ui_gun\" + i);\r\n            if(ui_gun.cannonType != CONST.CannonType.Normal && !isChange){\r\n                isChange = true;\r\n                // cc.error(\">> 遍历 炮台 >> ui_gun . cannonType \"+ui_gun.cannonType+\"  seatNum \"+i);\r\n            }\r\n        }\r\n        if(isChange){\r\n            const DelayTime = 2.6;\r\n            let callBack = ()=>{\r\n                for (let key in this.logic.playerInfo){\r\n                    let playerInfo = this.logic.playerInfo[key];\r\n                    if(playerInfo != null && this.logic[\"isGunMoving\"+playerInfo.seatNum] != 1){\r\n                        let ui_gun  = this.ui_Actionable.getChildByName(\"ui_gun\"+playerInfo.seatNum);\r\n                        if(ui_gun != null && ui_gun.cannonType != playerInfo.cannonType) {\r\n                            ui_gun.cannonType = playerInfo.cannonType;\r\n                            let batterySkeletonData;\r\n                            let cannonType = Number(playerInfo.cannonType);\r\n                            switch (cannonType) {\r\n                                case CONST.CannonType.Lightning :   // 闪电\r\n                                    batterySkeletonData = this.batteryList[CONST.CannonSkin.Lightning];\r\n                                    break;\r\n                                case CONST.CannonType.PartialBomb : // 炎爆\r\n                                    batterySkeletonData = this.batteryList[CONST.CannonSkin.PartialBomb];\r\n                                    break;\r\n                                case CONST.CannonType.Laser :       // 龙息\r\n                                    batterySkeletonData = this.batteryList[CONST.CannonSkin.Laser];\r\n                                    break;\r\n                                case CONST.CannonType.Missile :     // 仙剑\r\n                                    batterySkeletonData = this.batteryList[CONST.CannonSkin.Missile];\r\n                                    break;\r\n                            }\r\n                            let battery = ui_gun.getChildByName(\"battery\");\r\n                            if (CONST.CannonType.Normal == cannonType) {\r\n                                let cannon = Number(playerInfo.cannonLevel) - 1;\r\n                                if (cannon < 0) {\r\n                                    cannon = 0;\r\n                                }\r\n                                battery.getComponent(sp.Skeleton).skeletonData = this.batteryList[cannon];\r\n                            } else {\r\n                                battery.getComponent(sp.Skeleton).skeletonData = batterySkeletonData;\r\n                            }\r\n                            this.logic.playSpine(battery, false, false, CONST.SpineName.Idle2);\r\n                            if (this.logic.seatNum == playerInfo.seatNum) {\r\n                                this.logic[\"isGunMoving\" + this.logic.seatNum] = -1;\r\n                            }\r\n\r\n                            let ui_pos   = this.ui_Actionable.getChildByName(\"ui_pos\"+playerInfo.seatNum);\r\n                            let ui_other = ui_pos.getChildByName(\"ui_other\");\r\n                            if(playerInfo.cannonType == CONST.CannonType.Normal){//普通炮台样式\r\n                                ui_other.getChildByName(\"img_paobeikuang1\").active = true;\r\n                                ui_other.getChildByName(\"lab_gunLv\").active = true;\r\n\r\n                                ui_other.getChildByName(\"img_paobeikuang2\").active = false;\r\n                                ui_other.getChildByName(\"ui_gunLvBg\").active = false;\r\n                                ui_other.getChildByName(\"lab_gunLv2\").active = false;\r\n                            }else{//特殊炮台样式\r\n                                ui_other.getChildByName(\"img_paobeikuang1\").active = false;\r\n                                ui_other.getChildByName(\"lab_gunLv\").active = false;\r\n\r\n                                ui_other.getChildByName(\"img_paobeikuang2\").active = true;\r\n                                ui_other.getChildByName(\"ui_gunLvBg\").active = true;\r\n                                ui_other.getChildByName(\"lab_gunLv2\").active = true;\r\n                            }\r\n                            // this.checkGunStyle(playerInfo.uid,false);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if(isRefreshNow){\r\n                cc.error(\">>>> 服务器数据错误 立即刷新 ！\")\r\n                callBack();\r\n            }else {\r\n                this.scheduleOnce(()=>{\r\n                    callBack();\r\n                },DelayTime);\r\n            }\r\n        }\r\n    },\r\n    //恢复炮台\r\n    restoreCannonHandler(msg){\r\n        let uid = msg.uid;\r\n        let myid = Number(glGame.user.userID);\r\n        if(Number(uid) == myid){\r\n            cc.warn(\"==== 恢复炮台 ==== Time  \"+Date.now()+\"  Math.random \"+Math.random())\r\n        }\r\n\r\n        let ui_gun        = this.ui_Actionable.getChildByName(\"ui_gun\"+this.logic.playerInfo[Number(uid)].seatNum);\r\n        if(Number(uid) == myid)cc.warn(\"==========当前炮的类型： \"+ui_gun.cannonType,\" 当前的数据 \"+this.logic.playerInfo[Number(uid)].cannonType)\r\n        if(this.logic.playerInfo[Number(uid)].cannonType ==  ui_gun.cannonType){\r\n            if(Number(uid) == myid)cc.warn(\">> ！！ 2 ===== 无需恢复炮台==== 因为又获得了 \")\r\n            return;\r\n        }\r\n        let isNow = msg.isNow;\r\n        let nextTime = isNow ? 0.1 : 1;\r\n        if(this.logic.isRestoreIng[uid] != undefined){\r\n            cc.log(\">>> 当前座位的炮台正在恢复 >>>\")\r\n            return;\r\n        }\r\n        let restoreCB = ()=>{\r\n            this.checkGunStyle(uid,true);\r\n        }\r\n        const IsRestore = 1;\r\n        this.logic.isRestoreIng[uid] = IsRestore;\r\n        this.scheduleOnce(restoreCB,nextTime);\r\n    },\r\n    //检查炮台类型\r\n    checkGunStyle(uid,isCheckGunSkin){\r\n        const IsRestore = 1;\r\n        let res = this.logic.playerInfo[Number(uid)];\r\n        if(res != null){\r\n            let myid = glGame.user.userID;\r\n            const Not = 0;\r\n            let isHaveSpcCannon = res.cannonAmount == Not ? false : true;\r\n            if(myid == Number(uid)){\r\n                let ui_pos        = this.ui_Actionable.getChildByName(\"ui_pos\"+res.seatNum);\r\n                //-----------------------------------------加减号按钮-----------------------------------------------\r\n                ui_pos.getChildByName(\"ui_other\").getChildByName(\"btn_sub_plus_cantainer\").getChildByName(\"ui_BtnPlus\").active       = !isHaveSpcCannon;\r\n                ui_pos.getChildByName(\"ui_other\").getChildByName(\"btn_sub_plus_cantainer\").getChildByName(\"ui_BtnSub\").active        = !isHaveSpcCannon;\r\n                //-----------------------------------------加减号按钮-----------------------------------------------\r\n\r\n                //----------------------------------------普通炮台样式-----------------------------------------------\r\n                ui_pos.getChildByName(\"ui_other\").getChildByName(\"img_paobeikuang1\").active =  !isHaveSpcCannon;\r\n                ui_pos.getChildByName(\"ui_other\").getChildByName(\"lab_gunLv\").active        =  !isHaveSpcCannon;\r\n                //----------------------------------------普通炮台样式-----------------------------------------------\r\n\r\n                //----------------------------------------特殊炮台样式-----------------------------------------------\r\n                ui_pos.getChildByName(\"ui_other\").getChildByName(\"img_paobeikuang2\").active = isHaveSpcCannon;\r\n                ui_pos.getChildByName(\"ui_other\").getChildByName(\"ui_gunLvBg\").active       = isHaveSpcCannon;\r\n                ui_pos.getChildByName(\"ui_other\").getChildByName(\"lab_gunLv2\").active       = isHaveSpcCannon;\r\n                //----------------------------------------特殊炮台样式-----------------------------------------------\r\n\r\n                if(isCheckGunSkin)this.setGunRate(res.seatNum,this.logic.cannonLevel,CONST.CannonType.Normal,null,IsRestore,uid);\r\n            }else{\r\n                if(isCheckGunSkin)this.setGunRate(res.seatNum,res.cannonLevel,CONST.CannonType.Normal,null,IsRestore,uid);\r\n            }\r\n        }else{\r\n            cc.error(\">> 恢复炮台 出了问题 找不到数据 uid\",uid,\" list : \",this.logic.playerInfo)\r\n        }\r\n    },\r\n    //炮台-切换 + ，仅限自己\r\n    plusClickHandler(){\r\n        let myid = Number(glGame.user.userID);\r\n        let myinfo = this.logic.playerInfo[myid];\r\n        const NotHaveSpecialCanon = 0;\r\n        if(myinfo.cannonAmount != null && myinfo.cannonAmount > NotHaveSpecialCanon){\r\n            cc.warn(\"当前是特殊炮台，无法切换炮倍\")\r\n            return;\r\n        }\r\n        glGame.emitter.emit(CONST.clientEvent.fishSound,\"button\");\r\n        this.logic.cannonLevel ++;\r\n        const NormalCannonMinLevel = 1;\r\n        const NormalCannonMaxLevel = 10;\r\n        if(this.logic.cannonLevel > NormalCannonMaxLevel){\r\n            this.logic.cannonLevel = NormalCannonMinLevel;\r\n        }\r\n        this.logic.playerInfo[glGame.user.userID].cannonLevel = this.logic.cannonLevel;\r\n        this.setGunRate(this.logic.seatNum,this.logic.cannonLevel,this.logic.gunType,null,null,myid);\r\n        if(this.logic.isEnterRoom){\r\n            let changeCannonData = {op:CONST.Opention.ChangeCannonLv,\"level\": this.logic.cannonLevel};\r\n            // cc.warn(\"--==-->发送 炮台切换 \",changeCannonData);\r\n            glGame.gameNet.send_msg(glGame.room.getPlayerOp(glGame.scenetag.FISH2),changeCannonData);//炮台切换\r\n        }\r\n        cc.sys.localStorage.setItem(CONST.GunLevel+glGame.user.userID, this.logic.cannonLevel);\r\n    },\r\n    //炮台-切换 - ， 仅限自己\r\n    subClickHandler(){\r\n        let myid = Number(glGame.user.userID);\r\n        let myinfo = this.logic.playerInfo[myid];\r\n        const NotHaveSpecialCanon = 0;\r\n        if(myinfo.cannonAmount != null && myinfo.cannonAmount > NotHaveSpecialCanon){\r\n            cc.warn(\"当前是特殊炮台，无法切换炮倍\")\r\n            return;\r\n        }\r\n        glGame.emitter.emit(CONST.clientEvent.fishSound,\"button\");\r\n        const NormalCannonMaxLevel = 10;\r\n        const NormalCannonMinLevel = 1;\r\n        this.logic.cannonLevel --;\r\n        if(this.logic.cannonLevel < NormalCannonMinLevel){\r\n            this.logic.cannonLevel = NormalCannonMaxLevel;\r\n        }\r\n        this.logic.playerInfo[glGame.user.userID].cannonLevel = this.logic.cannonLevel;\r\n        this.setGunRate(this.logic.seatNum,this.logic.cannonLevel,this.logic.gunType,null,null,myid);\r\n        if(this.logic.isEnterRoom){\r\n            let changeCannonData = {op:CONST.Opention.ChangeCannonLv,\"level\": this.logic.cannonLevel};\r\n            // cc.warn(\"--==-->发送 炮台切换 \",changeCannonData);\r\n            glGame.gameNet.send_msg(glGame.room.getPlayerOp(glGame.scenetag.FISH2),changeCannonData);//炮台切换\r\n        }\r\n        cc.sys.localStorage.setItem(CONST.GunLevel+glGame.user.userID, this.logic.cannonLevel);\r\n    },\r\n    //更新炮台 - 自己 或 其他人\r\n    updateGunRatedHandler(res){\r\n        this.setGunRate(res.seatNum,res.cannonLevel,res.gunType,null,null,res.uid);\r\n    },\r\n    //蓄力播放\r\n    accumulateHandler(res){\r\n        let ui_gun        = this.ui_Actionable.getChildByName(\"ui_gun\"+res.seatNum);\r\n        if(res.cannonType == CONST.CannonType.Lightning){//闪电专用蓄力，其他的是通用的\r\n            let spine = ui_gun.getChildByName(\"spine_LightningAccumulate\");\r\n            this.logic.playSpine(spine,false,true,CONST.SpineName.Normal);\r\n        }else{\r\n            let otherAccumulate = ui_gun.getChildByName(\"spine_OtherAccumulate\");\r\n            const DelayTime = 1;\r\n            const DelayTime2 = 1.1;\r\n            ui_gun.stopAllActions();\r\n            ui_gun.runAction(cc.sequence(cc.callFunc(()=>{\r\n                otherAccumulate.active = true;\r\n            }),cc.delayTime(DelayTime),cc.callFunc(()=>{\r\n                otherAccumulate.active = false;\r\n            })));\r\n            this.scheduleOnce(()=>{\r\n                if(otherAccumulate.active)otherAccumulate.active = false;\r\n            },DelayTime2);\r\n        }\r\n    },\r\n    //更新炮台-设置ui,如果是特殊炮台 那么 gunRate 就是用作显示 特殊炮台可发射的子弹数量\r\n    setGunRate(seatNum,gunRate,cannonType,specialCannonFishPos = null,isRestore = null,uid = null){\r\n        this.changeGun(seatNum,gunRate,cannonType,specialCannonFishPos,isRestore,uid);\r\n        let ui_gun        = this.ui_Actionable.getChildByName(\"ui_gun\"+seatNum);\r\n        let ani           = ui_gun.getChildByName(\"ui_ToggleTurretAnimation\");\r\n        ani.active        = true;\r\n        const FiexUpdateCannonCoinTime = 0.1;\r\n        const NowUpdateCannonCoinTime  = 1.5;\r\n        let time = cannonType == CONST.CannonType.Normal ? FiexUpdateCannonCoinTime : NowUpdateCannonCoinTime;\r\n        this.scheduleOnce(()=>{\r\n            this.changeGunStyle(seatNum,cannonType,gunRate);\r\n        },time);\r\n        //暂停老的 切换炮台 效果\r\n        // ani.getComponent(\"nfish_MovieClip\").initEffectScaleTo(this.button_gun_help_nzzl_tower_Atlas,\"bomb_line_head\",0.15,0.2,1,1,false);\r\n    },\r\n    //改变炮台类型\r\n    changeGunStyle(seatNum,cannonType,gunRate){\r\n        const NormalLevel = 1;\r\n        const Not = 0;\r\n        let ui_pos        = this.ui_Actionable.getChildByName(\"ui_pos\"+seatNum);\r\n        if(cannonType == CONST.CannonType.Normal){//当目前是普通炮台\r\n            //----------------------------------------普通炮台样式-----------------------------------------------\r\n            ui_pos.getChildByName(\"ui_other\").getChildByName(\"img_paobeikuang1\").active = true;\r\n            ui_pos.getChildByName(\"ui_other\").getChildByName(\"lab_gunLv\").active        = true;\r\n            //----------------------------------------普通炮台样式-----------------------------------------------\r\n\r\n            //----------------------------------------特殊炮台样式-----------------------------------------------\r\n            ui_pos.getChildByName(\"ui_other\").getChildByName(\"img_paobeikuang2\").active = false;\r\n            ui_pos.getChildByName(\"ui_other\").getChildByName(\"ui_gunLvBg\").active       = false;\r\n            ui_pos.getChildByName(\"ui_other\").getChildByName(\"lab_gunLv2\").active       = false;\r\n            //----------------------------------------特殊炮台样式-----------------------------------------------\r\n        }else{//当目前是特殊炮台\r\n            //----------------------------------------普通炮台样式-----------------------------------------------\r\n            ui_pos.getChildByName(\"ui_other\").getChildByName(\"img_paobeikuang1\").active = false;\r\n            ui_pos.getChildByName(\"ui_other\").getChildByName(\"lab_gunLv\").active        = false;\r\n            //----------------------------------------普通炮台样式-----------------------------------------------\r\n\r\n            //----------------------------------------特殊炮台样式-----------------------------------------------\r\n            ui_pos.getChildByName(\"ui_other\").getChildByName(\"img_paobeikuang2\").active = true;\r\n            ui_pos.getChildByName(\"ui_other\").getChildByName(\"ui_gunLvBg\").active       = true;\r\n            ui_pos.getChildByName(\"ui_other\").getChildByName(\"lab_gunLv2\").active       = true;\r\n            //----------------------------------------特殊炮台样式-----------------------------------------------\r\n        }\r\n        if(cannonType == CONST.CannonType.Normal && gunRate == Not){\r\n            ui_pos.getChildByName(\"ui_other\").getChildByName(\"lab_gunLv\").getComponent(cc.Label).string = NormalLevel+\"\";\r\n            ui_pos.getChildByName(\"ui_other\").getChildByName(\"lab_gunLv2\").getComponent(cc.Label).string = NormalLevel+\"\";\r\n        }else{\r\n            ui_pos.getChildByName(\"ui_other\").getChildByName(\"lab_gunLv\").getComponent(cc.Label).string = gunRate;\r\n            ui_pos.getChildByName(\"ui_other\").getChildByName(\"lab_gunLv2\").getComponent(cc.Label).string = gunRate;\r\n        }\r\n    },\r\n    //换炮 gunType = cannonType\r\n    changeGun(seatNum,gunRate,cannonType,specialCannonFishPos = null,isRestore = null,uid = null) {\r\n        let ui_gun = this.ui_Actionable.getChildByName(\"ui_gun\" + seatNum);\r\n        if(ui_gun.isGunMoving != null){\r\n            ui_gun.stopAllActions();\r\n            ui_gun.getChildByName(\"changeCannonEffect\").active = false;\r\n            let oldNode = this.ui_Actionable.getChildByName(\"spCannContainer\"+seatNum);\r\n            if(oldNode){\r\n                oldNode.stopAllActions();\r\n                oldNode.destroy();\r\n                let oldLastNode = oldNode.getChildByName(\"laserBornEffect\");\r\n                if(oldNode){\r\n                    oldLastNode.stopAllActions();\r\n                    oldLastNode.destroy();\r\n                }\r\n            }\r\n            ui_gun.isGunMoving = null;\r\n        }\r\n        ui_gun.isGunMoving = \"isGunMoving\"+seatNum;\r\n        let battery = ui_gun.getChildByName(\"battery\");\r\n        if(cannonType != CONST.CannonType.Normal){//特殊炮台做个获得表现\r\n            if(specialCannonFishPos != null){\r\n                ui_gun.stopAllActions();\r\n                const MoveStart = 1;\r\n                this.logic[\"isGunMoving\"+seatNum] = MoveStart;\r\n                //播放移动球\r\n                let laserBornEffect  = this.logic.creatorEffect();\r\n                laserBornEffect.isGunMoving = \"isGunMoving\"+seatNum;\r\n                laserBornEffect.parent = null;\r\n                laserBornEffect.active = true;\r\n                laserBornEffect.name = \"laserBornEffect\";\r\n                let spCannContainer = new cc.Node();\r\n                spCannContainer.name = \"spCannContainer\"+seatNum;\r\n                spCannContainer.position = specialCannonFishPos;\r\n                spCannContainer.addChild(laserBornEffect);\r\n                this.ui_Actionable.addChild(spCannContainer);\r\n                let mcName;\r\n                let batterySkeletonData;\r\n                let changeCannonSkeletonData;\r\n                let animationName;\r\n                let isRotation = false;\r\n                let Min = 1;\r\n                let Max = 5;\r\n                switch (cannonType) {\r\n                    case CONST.CannonType.Lightning :   // 闪电\r\n                        mcName = CONST.CannonGetEddect.Lightning;\r\n                        batterySkeletonData = this.batteryList[CONST.CannonSkin.Lightning];\r\n                        changeCannonSkeletonData = this.changeCannonEffectList[CONST.CannonChangeEffect.Lightning];\r\n                        animationName = CONST.CannonGotEddect.Lightning;\r\n                        break;\r\n                    case CONST.CannonType.PartialBomb : // 炎爆\r\n                        Max = 8;\r\n                        mcName = CONST.CannonGetEddect.PartialBomb;\r\n                        batterySkeletonData = this.batteryList[CONST.CannonSkin.PartialBomb];\r\n                        changeCannonSkeletonData = this.changeCannonEffectList[CONST.CannonChangeEffect.PartialBomb];\r\n                        animationName = CONST.CannonGotEddect.PartialBomb;\r\n                        break;\r\n                    case CONST.CannonType.Laser :       // 龙息\r\n                        Max = 8;\r\n                        mcName = CONST.CannonGetEddect.Laser;\r\n                        batterySkeletonData = this.batteryList[CONST.CannonSkin.Laser];\r\n                        changeCannonSkeletonData = this.changeCannonEffectList[CONST.CannonChangeEffect.Laser];\r\n                        animationName = CONST.CannonGotEddect.Laser;\r\n                        break;\r\n                    case CONST.CannonType.Missile :     // 仙剑\r\n                        mcName = CONST.CannonGetEddect.Missile;\r\n                        batterySkeletonData = this.batteryList[CONST.CannonSkin.Missile];\r\n                        changeCannonSkeletonData = this.changeCannonEffectList[CONST.CannonChangeEffect.Missile];\r\n                        animationName = CONST.CannonGotEddect.Missile;\r\n                        isRotation = true;\r\n                        break;\r\n                }\r\n                const LoopTime = 40;\r\n                const IsHaveZero = false;\r\n                const Speed = 0.12;\r\n                const PayEdRemove = false;\r\n                //播放变身动画\r\n                let changeCannonEffect = ui_gun.getChildByName(\"changeCannonEffect\");\r\n                if(isRotation){\r\n                    if(this.logic.seatNum == seatNum)cc.warn(\"1 ======更换炮台====== cannonType \"+cannonType)\r\n                    changeCannonEffect.getComponent(sp.Skeleton).skeletonData = changeCannonSkeletonData;\r\n                    battery.getComponent(sp.Skeleton).skeletonData = batterySkeletonData;\r\n                    ui_gun.cannonType = cannonType;\r\n                    this.logic.playSpine(changeCannonEffect,false,false,animationName,()=>{\r\n                        changeCannonEffect.active = false;\r\n                    });\r\n                    this.logic.playSpine(battery,false,false,CONST.SpineName.Idle2);\r\n                    laserBornEffect.runAction(cc.repeatForever(cc.rotateBy(0.8,360)));\r\n                }\r\n                laserBornEffect.getComponent(\"nfish_MovieClip\").initEffect(this.laserBornEffect_Atlas,mcName,Min,Max,LoopTime,IsHaveZero,Speed,PayEdRemove);\r\n                spCannContainer.stopAllActions();\r\n                let MoveTime;\r\n                let act;\r\n                if(isRotation){\r\n                    MoveTime = 1.6;\r\n                    this.scheduleOnce(()=>{\r\n                        spCannContainer.destroy();\r\n                        this.logic.playSpine(battery,false,false,CONST.SpineName.Get,(spineName)=>{\r\n                            this.logic.playSpine(battery,false,false,CONST.SpineName.Idle,(spineName)=>{\r\n                                //仙剑炮台 变身完成\r\n                                const MoveOver = -1;\r\n                                this.logic[ui_gun.isGunMoving] = MoveOver;\r\n                                this.logic[\"isGunMoving\"+seatNum] = MoveOver;\r\n                                ui_gun.isGunMoving = null;\r\n                            });\r\n                        });\r\n                    },1);\r\n                    act = cc.moveTo(MoveTime, ui_gun.position);\r\n                }else{\r\n                    MoveTime = 1.2;\r\n                    act = cc.sequence(cc.moveTo(MoveTime, ui_gun.position),cc.callFunc(()=>{\r\n                        spCannContainer.destroy();\r\n                        if(this.logic.seatNum == seatNum)cc.warn(\"2 ======更换炮台====== cannonType \"+cannonType)\r\n                        changeCannonEffect.getComponent(sp.Skeleton).skeletonData = changeCannonSkeletonData;\r\n                        this.logic.playSpine(changeCannonEffect,false,false,animationName,(spineName)=>{\r\n                            if (spineName == animationName) {\r\n                                //其他炮台 变身完成\r\n                                if(this.logic.seatNum == seatNum)cc.warn(\"3 ======更换炮台====== cannonType \"+cannonType)\r\n                                battery.getComponent(sp.Skeleton).skeletonData = batterySkeletonData;\r\n                                ui_gun.cannonType = cannonType;\r\n                                this.logic.playSpine(battery,true,false,CONST.SpineName.Idle);\r\n                                const MoveOver = -1;\r\n                                this.logic[ui_gun.isGunMoving] = MoveOver;\r\n                                changeCannonEffect.active = false;\r\n                                this.logic[\"isGunMoving\"+seatNum] = MoveOver;\r\n                                ui_gun.isGunMoving = null;\r\n                            }\r\n                        });\r\n                    }));\r\n                }\r\n                spCannContainer.runAction(act);\r\n            }\r\n        }else{\r\n            const NormalCannonOffsex = 1;\r\n            let cannon = Number(gunRate) - NormalCannonOffsex;\r\n            if(cannon < 0){\r\n                cannon = 0;\r\n            }\r\n            let playerInfo = this.logic.playerInfo[Number(uid)];\r\n            if(playerInfo != null){\r\n                let cannonTypeSc = Number(playerInfo.cannonType);\r\n                let batterySkeletonData;\r\n                switch (cannonTypeSc) {\r\n                    case CONST.CannonType.Lightning :   // 闪电\r\n                        batterySkeletonData = this.batteryList[CONST.CannonSkin.Lightning];\r\n                        break;\r\n                    case CONST.CannonType.PartialBomb : // 炎爆\r\n                        batterySkeletonData = this.batteryList[CONST.CannonSkin.PartialBomb];\r\n                        break;\r\n                    case CONST.CannonType.Laser :       // 龙息\r\n                        batterySkeletonData = this.batteryList[CONST.CannonSkin.Laser];\r\n                        break;\r\n                    case CONST.CannonType.Missile :     // 仙剑\r\n                        batterySkeletonData = this.batteryList[CONST.CannonSkin.Missile];\r\n                        break;\r\n                }\r\n                let battery = ui_gun.getChildByName(\"battery\");\r\n                if(CONST.CannonType.Normal == cannonTypeSc){\r\n                    battery.getComponent(sp.Skeleton).skeletonData = this.batteryList[cannon];\r\n                    if(this.logic.seatNum == seatNum) cc.warn(\"4.0 ======更换炮台====== cannonType \"+cannonType+\" uid \"+uid + \" data cannonType \"+cannonTypeSc)\r\n\r\n                }else{\r\n                    battery.getComponent(sp.Skeleton).skeletonData = batterySkeletonData;\r\n                    if(this.logic.seatNum == seatNum) cc.warn(\"4.1 ======更换炮台====== cannonType \"+cannonType+\" uid \"+uid + \" data cannonType \"+cannonTypeSc)\r\n                }\r\n                ui_gun.cannonType = cannonTypeSc;\r\n                if(this.logic.seatNum == seatNum){\r\n                    this.logic[\"isGunMoving\"+this.logic.seatNum] = -1;\r\n                }\r\n                this.logic.playSpine(battery,true,false,CONST.SpineName.Idle);\r\n                if(this.logic.seatNum == seatNum) cc.warn(\"4.x ======play 炮台====== cannonType \"+cannonType+\" uid \"+uid + \" data cannonType \"+cannonTypeSc)\r\n\r\n                let ui_pos   = this.ui_Actionable.getChildByName(\"ui_pos\"+seatNum);\r\n                let ui_other = ui_pos.getChildByName(\"ui_other\");\r\n                if(cannonTypeSc == CONST.CannonType.Normal){//普通炮台样式\r\n                    ui_other.getChildByName(\"img_paobeikuang1\").active = true;\r\n                    ui_other.getChildByName(\"lab_gunLv\").active = true;\r\n\r\n                    ui_other.getChildByName(\"img_paobeikuang2\").active = false;\r\n                    ui_other.getChildByName(\"ui_gunLvBg\").active = false;\r\n                    ui_other.getChildByName(\"lab_gunLv2\").active = false;\r\n                }else{//特殊炮台样式\r\n                    ui_other.getChildByName(\"img_paobeikuang1\").active = false;\r\n                    ui_other.getChildByName(\"lab_gunLv\").active = false;\r\n\r\n                    ui_other.getChildByName(\"img_paobeikuang2\").active = true;\r\n                    ui_other.getChildByName(\"ui_gunLvBg\").active = true;\r\n                    ui_other.getChildByName(\"lab_gunLv2\").active = true;\r\n                }\r\n\r\n            }\r\n        }\r\n        const Restore = 1;\r\n        //恢复炮台播放一个恢复动画\r\n        if(isRestore != null && isRestore == Restore){\r\n            let spine_restoreCannon = ui_gun.getChildByName(\"spine_restoreCannon\");\r\n            this.logic.playSpine(spine_restoreCannon,false,false,CONST.SpineName.Normal,()=>{\r\n                this.logic.isRestoreIng[uid] = null;\r\n                spine_restoreCannon.active = false;\r\n            });\r\n        }\r\n    },\r\n    //冰冻 - 开始 - 结束\r\n    onFreezeShowUIHandler(){\r\n        if(this.logic.isInFreeze){\r\n            glGame.emitter.emit(CONST.clientEvent.fishSound,\"effect_frozen\");\r\n        }\r\n    },\r\n    //记录\r\n    historyClickHandler(){\r\n        let panel = glGame.panel.showPanel(this.record_pre);\r\n        panel.zIndex = 30;\r\n        this.menuViewHandler(false);\r\n    },\r\n    //技能 锁定/解锁\r\n    onSkillLockHandler(){\r\n        glGame.emitter.emit(CONST.clientEvent.fishSound,\"button\");\r\n        this.logic.isLock = !this.logic.isLock;\r\n        let lockLab = this.ui_skillLock.getChildByName(\"img_suoding\");\r\n        let img_offsuoding = this.ui_skillLock.getChildByName(\"img_offsuoding\");\r\n        let spine = this.ui_skillLock.getChildByName(\"spine\");\r\n        lockLab.active = !this.logic.isLock;\r\n        img_offsuoding.active = !lockLab.active;\r\n\r\n        spine.active = this.logic.isLock;\r\n        glGame.emitter.emit(CONST.clientEvent.useLockSkill);\r\n\r\n        let roomSkillLockData = {};\r\n        roomSkillLockData[this.logic.roomId] = this.logic.isLock ? \"o\":\"c\";\r\n        glGame.storage.setItem(CONST.SkillLock, roomSkillLockData);\r\n\r\n        let roomSkillAutoData = {};\r\n        roomSkillAutoData[this.logic.roomId] = this.logic.isLock ? \"o\":\"c\";\r\n        glGame.storage.setItem(CONST.SkillLock, roomSkillAutoData);\r\n\r\n        if(!this.logic.isLock){\r\n            this.logic.lastLockFishID = Number(this.logic.lockFishID+\"\");\r\n            this.logic.lockFishID = null;\r\n            if(this.logic.isLockAutoChange == false){\r\n                this.logic.isAuto = false;\r\n                glGame.emitter.emit(CONST.clientEvent.useAutoSkill);\r\n            }\r\n            glGame.emitter.emit(CONST.clientEvent.leaveRoomUnLock,this.logic.seatNum);\r\n        }\r\n    },\r\n    //是否自动 切换\r\n    onSkillAutoHandler(){\r\n        glGame.emitter.emit(CONST.clientEvent.fishSound,\"button\");\r\n        this.logic.isLockAutoChange = !this.logic.isLockAutoChange;\r\n        if(this.logic.lockFishID == null){\r\n            this.logic.isAuto = this.logic.isLockAutoChange;\r\n            let spine = this.ui_skillAuto.getChildByName(\"spine\");\r\n            spine.active = this.logic.isAuto;\r\n        }else{\r\n            let spine = this.ui_skillAuto.getChildByName(\"spine\");\r\n            spine.active = this.logic.isLockAutoChange;\r\n        }\r\n        let roomData = {};\r\n        roomData[this.logic.roomId] = this.logic.isLockAutoChange ? \"o\":\"c\";\r\n        glGame.storage.setItem(CONST.SkillisLockAutoChange, roomData);\r\n\r\n        let autoLab = this.ui_skillAuto.getChildByName(\"img_zidong\");\r\n        let img_offzidong = this.ui_skillAuto.getChildByName(\"img_offzidong\");\r\n        autoLab.active = !this.logic.isLockAutoChange;\r\n        img_offzidong.active = !autoLab.active;\r\n        glGame.emitter.emit(CONST.clientEvent.useAutoSkill);\r\n    },\r\n    //菜单\r\n    menuViewHandler(isClose = false){\r\n        if(isClose){\r\n            this.ui_menu.active = false;\r\n        }else{\r\n            glGame.emitter.emit(CONST.clientEvent.fishSound,\"button\");\r\n            this.ui_menu.active = !this.ui_menu.active;\r\n            let ui_upIcon       = this.ui_menuBtn.getChildByName(\"ui_upIcon\");\r\n            let ui_leftIcon     = this.ui_menuBtn.getChildByName(\"ui_leftIcon\");\r\n            ui_upIcon.active    = !ui_upIcon.active;\r\n            ui_leftIcon.active  = !ui_upIcon.active;\r\n        }\r\n    },\r\n    //打开鱼群鉴赏\r\n    openFishGroupHandler(){\r\n        glGame.emitter.emit(CONST.clientEvent.fishSound,\"button\");\r\n        let panel = glGame.panel.showPanel(this.illustratedBook);\r\n        panel.zIndex = 30;\r\n        this.menuViewHandler(false);\r\n    },\r\n    //充值\r\n    rechargeClickHandler(){\r\n        glGame.emitter.emit(CONST.clientEvent.fishSound,\"button\");\r\n        if (glGame.user.isTourist()) {\r\n            glGame.panel.showRegisteredGift(true);\r\n            return;\r\n        }\r\n        if(glGame.panel.showSuspicious(\"recharge\")){\r\n            return;\r\n        }\r\n        glGame.panel.showShop();\r\n        this.menuViewHandler(false);\r\n    },\r\n    //设置\r\n    settingClickHandler(){\r\n        glGame.emitter.emit(CONST.clientEvent.fishSound,\"button\");\r\n        let panel = glGame.panel.showPanel(this.setting_pre);\r\n        panel.zIndex = 30;\r\n        this.menuViewHandler(false);\r\n    },\r\n    //自己的 玉如意 出转盘 / 聚宝鹏 出拉霸\r\n    showTurntableHandler(res){\r\n        this.logic.isYuRuyiRuning = true;\r\n        if(res.type == CONST.AwardType.RUYI){\r\n            glGame.emitter.emit(CONST.clientEvent.fishSound,\"getYuRu\");//捕获玉如意一瞬间播放\r\n            this.turntableView.getComponent(\"nfish_turntable\").initTurntableView(res);\r\n        }else{\r\n            glGame.emitter.emit(CONST.clientEvent.fishSound,\"getJuBao\");//捕获聚宝盆一瞬间播放\r\n            this.cornucopiaView.getComponent(\"nfish_cornucopia\").startRunCornucopia(res);\r\n        }\r\n        const EffectMaxRunTime = 10;\r\n        this.scheduleOnce(()=>{//玉如意运行时间最大10秒，10秒后强制结束 发射锁\r\n            if(this.logic.isYuRuyiRuning){\r\n                this.logic.isYuRuyiRuning = false;\r\n            }\r\n        },EffectMaxRunTime);\r\n    },\r\n    //退出菜单\r\n    closeViewHandler(arg){\r\n        const IsExit4 = 4;\r\n        if(arg === IsExit4){\r\n            this.menuViewHandler(false);\r\n            return;\r\n        }\r\n        const IsExit3 = 3;\r\n        if(arg === IsExit3){\r\n            cc.sys.localStorage.setItem(CONST.SkillisLockAutoChange, \"\");\r\n            cc.sys.localStorage.setItem(CONST.SkillLock, \"\");\r\n            cc.sys.localStorage.setItem(CONST.SkillAuto, \"\");\r\n            this.logic.isEnterRoom = false;\r\n            glGame.room.exitRoom();\r\n            return;\r\n        }\r\n        const IsExit = 1;\r\n        if(arg === IsExit){\r\n            let currentUid = Number(glGame.user.userID);\r\n            let playerInfo = this.logic.playerInfo[currentUid];\r\n            if(playerInfo != null && playerInfo.cannonType != CONST.CannonType.Normal){\r\n                if(playerInfo.cannonAmount > 0){\r\n                    glGame.emitter.emit(CONST.clientEvent.showAlert,CONST.AlertType.LosCannan);\r\n                    return;\r\n                }\r\n            }\r\n            glGame.emitter.emit(CONST.clientEvent.fishSound,\"button\");\r\n            this.menuViewHandler(false);\r\n            cc.sys.localStorage.setItem(CONST.SkillisLockAutoChange, \"\");\r\n            cc.sys.localStorage.setItem(CONST.SkillLock, \"\");\r\n            cc.sys.localStorage.setItem(CONST.SkillAuto, \"\");\r\n            this.logic.isEnterRoom = false;\r\n            glGame.room.exitRoom();\r\n        }\r\n    },\r\n    //alert - 取消\r\n    showAlertHandler(arg){\r\n        switch (arg) {\r\n            case CONST.AlertType.BossClearSocre :\r\n                this.text_exitBossClearSocre.active = true;\r\n                this.btn_quit.active = true;\r\n                this.btn_queding.active = true;\r\n                this.btn_queding_net.active = false;\r\n                break;\r\n            case CONST.AlertType.LosCannan :\r\n                this.text_exitLosCannan.active = true;\r\n                this.btn_quit.active = true;\r\n                this.btn_queding.active = true;\r\n                this.btn_queding_net.active = false;\r\n                break;\r\n            case CONST.AlertType.NetOff :\r\n                this.text_netOff.active = true;\r\n                this.btn_quit.active = false;\r\n                this.btn_queding.active = false;\r\n                this.btn_queding_net.active = true;\r\n                break;\r\n        }\r\n        this.alert_container.active = true;\r\n    },\r\n    //alert - 取消\r\n    onQuitHandler(){\r\n        this.menuViewHandler(false);\r\n        this.alert_container.active = false;\r\n    },\r\n    //alert - 确认\r\n    onQuedingHandler(){\r\n        const IsExit = 3;\r\n        this.closeViewHandler(IsExit);\r\n    },\r\n    //断网确认\r\n    onQuedingOffNetHandler(){\r\n        cc.sys.localStorage.setItem(CONST.SkillisLockAutoChange, \"\");\r\n        cc.sys.localStorage.setItem(CONST.SkillLock, \"\");\r\n        cc.sys.localStorage.setItem(CONST.SkillAuto, \"\");\r\n        this.logic.isEnterRoom = false;\r\n        glGame.room.exitRoom();\r\n    },\r\n    //打财神boss 获得红包\r\n    sprinkleRedBagHandler(res){\r\n        let ui_physicalPool  = this.node.parent.getChildByName(\"nfish_deskContainer\").getChildByName(\"ui_physicalPool\");\r\n        let fish             = ui_physicalPool.getChildByName(\"\"+res.fishId);\r\n        if(!fish){\r\n            cc.warn(\">>找不到鱼 无法漂移红包 res \",res);\r\n            return;\r\n        }\r\n        let fishPos          = fish.position;\r\n        let coinContainer    = this.node.getChildByName(\"ui_coinEffectContainer\");\r\n        let ui_coinEffectPos = this.node.getChildByName(\"ui_coinEffectPos\");\r\n        let pre              = this.logic.getIsRotation() ? \"coinFlyR\" : \"coinFly\";\r\n        let targetPosition   = ui_coinEffectPos.getChildByName(pre+res.seatNum).position;\r\n        let effectPosition   = ui_coinEffectPos.getChildByName(\"redBag\"+res.seatNum).position;\r\n        let ui_CoinEffect    = coinContainer.getChildByName(\"sprinkleRedBag\"+res.seatNum);\r\n        if(ui_CoinEffect){\r\n            ui_CoinEffect.isRemoveSelf = 1;\r\n            ui_CoinEffect.stopAllActions();\r\n            ui_CoinEffect.destroy();\r\n        }\r\n        ui_CoinEffect    = cc.instantiate(this.node.getChildByName(\"spine_effect\").getChildByName(\"spine_redEnvelopeStatistics\"));\r\n        ui_CoinEffect.position = effectPosition;\r\n        ui_CoinEffect.name = \"sprinkleRedBag\"+res.seatNum;\r\n        ui_CoinEffect.active = true;\r\n        if(this.logic.getIsRotation()){\r\n            ui_CoinEffect.angle = 180;\r\n        }\r\n        glGame.emitter.emit(CONST.clientEvent.fishSound,\"getCaiShenRew\");//捕获到财神出现小UI时，播放\r\n        coinContainer.addChild(ui_CoinEffect);\r\n        this.logic.playSpine(ui_CoinEffect.getChildByName(\"spine\"),false,false,CONST.SpineName.Normal,()=>{\r\n            ui_CoinEffect.stopAllActions();\r\n            ui_CoinEffect.destroy();\r\n        });\r\n        ui_CoinEffect.stopAllActions();\r\n        ui_CoinEffect.runAction(cc.sequence(cc.delayTime(0.1),cc.callFunc(()=>{\r\n            if(ui_CoinEffect != null){\r\n                let playName = this.logic.seatNum == res.seatNum ? \"labG\" : \"labS\";\r\n                let lab_number = ui_CoinEffect.getChildByName(\"spine\").getChildByName(\"ATTACHED_NODE_TREE\").getChildByName(\"ATTACHED_NODE:root\").getChildByName(\"ATTACHED_NODE:zong\").getChildByName(playName);\r\n                lab_number.active = true;\r\n                lab_number.getComponent(cc.Label).string = \"+\"+this.logic.formatMoney(res.rewardGold);\r\n            }\r\n        })));\r\n\r\n        let effectCoin       = 10;\r\n        const MaxCoin        = 100;//最大数量\r\n        const RandomoffSex   = 60;//xy坐标偏移值\r\n        const RandomMin      = 15;//xy坐标偏移最小值\r\n        const RandomOffsexX  = 30;\r\n        const RandomOffsexY  = 50;\r\n        const RandomMinY     = 20;\r\n        const StartName      = 0;\r\n        const endName        = 9;\r\n        const plyTime        = 8;\r\n        const isHaveZero     = false;\r\n        const speed          = 0.035;\r\n        const plyedDestroy   = false;\r\n        const isRandomPly    = 1;\r\n        const OneDelayTime   = 0.1;\r\n        const TwoDelayTime   = 0.05;\r\n        const ScaleToTime    = 1;\r\n        const BezierToTime   = 0.7;\r\n        const ScaleToArg     = 0.8;\r\n        const FadeToTime     = 0.1;\r\n        const MoveToTime     = 0.15;\r\n        const EndOpacity     = 255;\r\n        const Gold           = \"gold\";\r\n        const Silver         = \"silver\";\r\n        if(effectCoin > MaxCoin){\r\n            effectCoin = MaxCoin;\r\n        }\r\n        ui_CoinEffect.zIndex -= effectCoin;\r\n        for (let i=0;i<effectCoin;i++){\r\n            let ui_CoinEffect     = this.logic.creatorEffect();\r\n            ui_CoinEffect.x       = fishPos.x + Math.random() * RandomoffSex + RandomMin;\r\n            ui_CoinEffect.y       = fishPos.y + Math.random() * RandomoffSex + RandomMin;\r\n            ui_CoinEffect.active  = true;\r\n            ui_CoinEffect.parent  = null;\r\n            ui_CoinEffect.opacity = 0;\r\n\r\n            let playName = this.logic.seatNum == res.seatNum ? Gold : Silver;\r\n            ui_CoinEffect.getComponent(\"nfish_MovieClip\").initEffect(this.moneyEffect_Atlas,playName,StartName,endName,plyTime,isHaveZero,speed,plyedDestroy,null,isRandomPly);\r\n            if(this.logic.getIsRotation()){\r\n                ui_CoinEffect.angle = 180;\r\n            }\r\n            coinContainer.addChild(ui_CoinEffect);\r\n            let upPos       = cc.v2(ui_CoinEffect.position.x + Math.random() * RandomOffsexX,ui_CoinEffect.position.y + Math.random() * RandomOffsexY + RandomMinY);\r\n            if(res.seatNum == CONST.Seat.LeftTop || res.seatNum == CONST.Seat.RightTop){\r\n                upPos       = cc.v2(ui_CoinEffect.position.x + Math.random() * RandomOffsexX,ui_CoinEffect.position.y - ( Math.random() * RandomOffsexY + RandomMinY));\r\n            }\r\n            let bounceAct1  = cc.spawn(cc.fadeTo(FadeToTime,EndOpacity),cc.moveTo(MoveToTime,ui_CoinEffect.position));\r\n            let bounceAct2  = cc.moveTo(MoveToTime,upPos);\r\n            let bezierPoint = cc.v2(targetPosition.x,ui_CoinEffect.position.y);\r\n            let act         = cc.spawn(cc.scaleTo(ScaleToTime,ScaleToArg,ScaleToArg),cc.bezierTo(BezierToTime,[upPos,bezierPoint,cc.v2(targetPosition.x,targetPosition.y)]));\r\n            ui_CoinEffect.runAction(cc.sequence(cc.delayTime((i+1)*OneDelayTime),bounceAct1,bounceAct2,act,cc.delayTime(i*TwoDelayTime),cc.callFunc(()=>{\r\n                ui_CoinEffect.destroy();\r\n            })));\r\n        }\r\n    },\r\n    //死鱼后：金币旋转、漂移 + 金币增长动画 获取鱼的坐标 转换坐标到本地坐标 播放金币旋转动画，2秒后 漂移+缩放 到炮台位置 ，流程结束 释放、隐藏\r\n    playCoinEffectHandler(res){\r\n        let rewardGold = Number(res.rewardGold);\r\n        if(rewardGold <= 0){\r\n            return;\r\n        }\r\n        //检查该鱼是否有转盘\r\n        let effectRotateLevel = CONST.EffectRotateLevel.OneLevel;//0 一档 1 2 3\r\n        let resGroupId;\r\n        if(this.logic.fishPoolData[Number(res.fishId)] != null){\r\n            let fishTypeId = this.logic.fishPoolData[Number(res.fishId)].fishTypeId + \"\";\r\n            if(this.logic.json_fishTable[fishTypeId] != null){\r\n                effectRotateLevel = this.logic.json_fishTable[fishTypeId].effectRotate;\r\n                resGroupId = this.logic.json_fishTable[fishTypeId].resGroupId;\r\n            }\r\n        }\r\n        if(res.killType == CONST.CannonType.Bomb){//熔岩玄武炸死的一律飘1档次\r\n            effectRotateLevel = CONST.EffectRotateLevel.OneLevel;\r\n        }\r\n        let ui_physicalPool  = this.node.parent.getChildByName(\"nfish_deskContainer\").getChildByName(\"ui_physicalPool\");\r\n        let fish             = ui_physicalPool.getChildByName(\"\"+res.fishId);\r\n        if(fish == null){\r\n            //找不到鱼\r\n            cc.warn(\">> 找不到鱼 id:\",res.fishId)\r\n            return;\r\n        }\r\n        if(this.logic.seatNum == res.seatNum){\r\n            switch (effectRotateLevel) {\r\n                case CONST.EffectRotateLevel.OneLevel :\r\n                    glGame.emitter.emit(CONST.clientEvent.fishSound,\"getVoice1\");//1挡\r\n                    break\r\n                case CONST.EffectRotateLevel.TowLevel   :\r\n                    glGame.emitter.emit(CONST.clientEvent.fishSound,\"getVoice2\");//2挡\r\n                    break\r\n                case CONST.EffectRotateLevel.ThreeLevel :\r\n                    glGame.emitter.emit(CONST.clientEvent.fishSound,\"getVoice3\");//3挡\r\n                    break\r\n                case CONST.EffectRotateLevel.FourLevel  :\r\n                    glGame.emitter.emit(CONST.clientEvent.fishSound,\"getVoice4\");//4挡\r\n                    break\r\n            }\r\n        }\r\n\r\n        switch (effectRotateLevel) {\r\n            case CONST.EffectRotateLevel.OneLevel :\r\n                this.flyGoldEffect(effectRotateLevel,res);//飞金币动画\r\n                break\r\n            case CONST.EffectRotateLevel.TowLevel   :\r\n            case CONST.EffectRotateLevel.ThreeLevel :\r\n            case CONST.EffectRotateLevel.FourLevel  :\r\n                this.flyRotateEffect(effectRotateLevel,fish.position,resGroupId,res);\r\n                break\r\n        }\r\n    },\r\n    //捕获效果 - 展示转盘飞转盘动画 effectRotateLevel 档次  rewardGold 奖励数值  startShowPos 开始显示点 flySeatNum 需要飞到的座位 resGroupId 图片显示\r\n    flyRotateEffect(effectRotateLevel,startShowPos,resGroupId,res){\r\n        let rewardGold       = res.rewardGold;\r\n        let flySeatNum       = res.seatNum;\r\n        let effectContainer  = this.node.getChildByName(\"ui_coinEffectContainer\");\r\n        let ui_coinEffectPos = this.node.getChildByName(\"ui_coinEffectPos\");\r\n        let pre              = this.logic.getIsRotation() ? \"coinFlyR\" : \"coinFly\";\r\n        let moveToPos        = ui_coinEffectPos.getChildByName(pre+res.seatNum).position;\r\n        let spine_effect     = this.node.getChildByName(\"spine_effect\");\r\n        let spineCantainer   = null;\r\n        let bg;\r\n        let fish;\r\n        if(res.fishTypeId == CONST.BossLavaBasalt){\r\n            spineCantainer   = cc.instantiate(spine_effect.getChildByName(\"spine_bossRongYan\"));\r\n            bg               = spineCantainer.getChildByName(\"ATTACHED_NODE_TREE\").getChildByName(\"img_bg\");\r\n        }else{\r\n            if(this.logic.seatNum == flySeatNum && effectRotateLevel == CONST.EffectRotateLevel.FourLevel) {\r\n                spineCantainer   = cc.instantiate(spine_effect.getChildByName(\"spine_rewardANew4\"));\r\n                this.scheduleOnce(()=>{//爆炸 出现时机\r\n                    spineCantainer.getChildByName(\"spine_boom_1\").active = true;\r\n                },0.1);\r\n                this.scheduleOnce(()=>{//爆炸 出现时机\r\n                    spineCantainer.getChildByName(\"spine_boom_2\").active = true;\r\n                },0.3);\r\n                this.scheduleOnce(()=>{//爆炸 出现时机\r\n                    spineCantainer.getChildByName(\"spine_boom_3\").active = true;\r\n                },0.6);\r\n            }else {\r\n                //捕获效果  have two spine style so need trinocular expression\r\n                spineCantainer = cc.instantiate(spine_effect.getChildByName(this.logic.seatNum == flySeatNum ? \"spine_rewardA\"+effectRotateLevel :  \"spine_rewardB\"+effectRotateLevel));\r\n            }\r\n            bg               = spineCantainer.getChildByName(\"img_bg\");\r\n            fish             = spineCantainer.getChildByName(\"fish\");\r\n        }\r\n        if(bg != null){\r\n            let lab = bg.getChildByName(this.logic.seatNum == flySeatNum ? \"gold_lab\" : \"silver_lab\");\r\n            lab.active = true;\r\n            if(res.fishTypeId == CONST.BossLavaBasalt){\r\n                lab.getComponent(cc.Label).string = \"\";\r\n                const RepeatTimes = 10;\r\n                const coin = this.logic.formatMoney(rewardGold);\r\n                const SubTimes = Math.ceil(Number(coin+\"\")/RepeatTimes);\r\n                let currentCoin = 0;\r\n                let i = 0;\r\n                //读数消失\r\n                this.schedule(()=>{\r\n                    if(spineCantainer != null && spineCantainer.isDestroy == null && lab != null && lab._components != undefined){\r\n                        currentCoin += SubTimes;\r\n                        if(currentCoin >= coin){\r\n                            lab.getComponent(cc.Label).string = \"+\" + coin;\r\n                        }else{\r\n                            lab.getComponent(cc.Label).string = \"+\" + currentCoin;\r\n                        }\r\n                        i++;\r\n                        if(i == RepeatTimes){\r\n\r\n                        }\r\n                    }\r\n                },0.09,RepeatTimes-1);\r\n            }else{\r\n                let currStartNum = this.logic.formatMoney(rewardGold)+\"\";\r\n                if(currStartNum.indexOf(\".\") != -1){\r\n                    lab.getComponent(cc.Label).string = Number(currStartNum).toFixed(1);\r\n                }else{\r\n                    lab.getComponent(cc.Label).string = currStartNum;\r\n                }\r\n            }\r\n        }\r\n        if(fish){\r\n            let sprF         = this.icon_Atlas.getSpriteFrame(resGroupId);\r\n            let scale        = spineCantainer.height / sprF.getOriginalSize().height;\r\n            const TwoScale   = 0.55;\r\n            const ThreeScale = 0.75;\r\n            const FourScale  = 1;\r\n            if(effectRotateLevel == CONST.EffectRotateLevel.TowLevel){\r\n                scale = TwoScale;\r\n                sprF  = this.icon_2_3_4_Atlas.getSpriteFrame(resGroupId);\r\n            }\r\n            if(effectRotateLevel == CONST.EffectRotateLevel.ThreeLevel){\r\n                scale = ThreeScale;\r\n                sprF  = this.icon_2_3_4_Atlas.getSpriteFrame(resGroupId);\r\n            }\r\n            if(effectRotateLevel == CONST.EffectRotateLevel.FourLevel){\r\n                scale = FourScale;\r\n                sprF  = this.icon_2_3_4_Atlas.getSpriteFrame(resGroupId);\r\n            }\r\n            fish.getComponent(cc.Sprite).spriteFrame = sprF;\r\n            fish.oldScale = scale;\r\n            fish.scale = 0;\r\n            fish.stopAllActions();\r\n            fish.runAction(cc.sequence(cc.scaleTo(0.2,fish.oldScale*2),cc.scaleTo(0.2,fish.oldScale)))\r\n        }\r\n        let DelayTime       = effectRotateLevel * 0.25;//停留时间 - 根据不同级别的动画表现的k的帧数多少 决定停留时间\r\n\r\n        if(effectRotateLevel == CONST.EffectRotateLevel.TowLevel){\r\n            DelayTime += 0.45;\r\n        }\r\n        if(effectRotateLevel == CONST.EffectRotateLevel.ThreeLevel){\r\n            DelayTime += 1;\r\n        }\r\n\r\n        const Centont     = 0;\r\n        const HalfScale   = 0.5;\r\n\r\n        if(this.logic.seatNum != flySeatNum && effectRotateLevel == CONST.EffectRotateLevel.FourLevel){\r\n            spineCantainer.scale = HalfScale;\r\n            let ui_coinEffectPos = this.node.getChildByName(\"ui_coinEffectPos\");\r\n            let posNodeName = this.logic.getIsRotation() ? \"effectRotatePosR\"+flySeatNum : \"effectRotatePos\"+flySeatNum;\r\n            let pos = ui_coinEffectPos.getChildByName(posNodeName).position;\r\n            spineCantainer.x = pos.x;\r\n            spineCantainer.y = pos.y;\r\n        }else{\r\n            spineCantainer.position = effectRotateLevel == CONST.EffectRotateLevel.FourLevel ?  cc.v2(Centont,Centont) : startShowPos;\r\n        }\r\n        spineCantainer.active = true;\r\n        const BasezIndex = 100 * effectRotateLevel;\r\n        if(this.lastzIndex){\r\n            spineCantainer.zIndex = BasezIndex + this.lastzIndex;\r\n        }else{\r\n            spineCantainer.zIndex = BasezIndex\r\n            this.lastzIndex = spineCantainer.zIndex;\r\n        }\r\n        if(effectRotateLevel == CONST.EffectRotateLevel.FourLevel){\r\n            DelayTime += 1.1;\r\n        }\r\n        let callBalk = cc.callFunc(()=>{//动画结束回调函数 - 加金币 读数动画\r\n            this.addGoldEffect(effectRotateLevel,res);//飘分\r\n            spineCantainer.isDestroy = 1;\r\n            spineCantainer.destroy();\r\n        });\r\n        if(this.logic.getIsRotation()){\r\n            spineCantainer.angle = 180;\r\n        }\r\n        effectContainer.addChild(spineCantainer);\r\n        spineCantainer.stopAllActions();\r\n\r\n        const MoveToTime    = 0.25;\r\n        const ScaleToTime   = 0.55;\r\n        const ScaleToArg    = 0;\r\n        const EffScaleToArg = 1;\r\n        const EffScaleToTime= 0.1;\r\n        const EffDelayTime  = 0.5;\r\n        const EffectNum     = (Number(res.fishId))%7 + 1;\r\n        const EffectPre     = \"effectTitle_\";\r\n        if(res.fishTypeId != CONST.BossLavaBasalt && effectRotateLevel == CONST.EffectRotateLevel.FourLevel){//第四档捕获效果不发生漂移效果，动画表现稍微有点不太一样\r\n            spineCantainer.getChildByName(\"effectTitle\").getComponent(cc.Sprite).spriteFrame = this.explosionAndLightning_Atlas.getSpriteFrame(EffectPre+EffectNum);\r\n            let fourEffect = cc.sequence(cc.delayTime(DelayTime),cc.scaleTo(ScaleToTime,ScaleToArg,ScaleToArg),callBalk);\r\n            spineCantainer.runAction(fourEffect);\r\n            spineCantainer.getChildByName(\"effectTitle\").scale = ScaleToArg;\r\n            spineCantainer.getChildByName(\"effectTitle\").stopAllActions();\r\n            spineCantainer.getChildByName(\"effectTitle\").runAction(cc.sequence(cc.delayTime(EffDelayTime),cc.scaleTo(EffScaleToTime,EffScaleToArg,EffScaleToArg)));\r\n        }else if(res.fishTypeId != CONST.BossLavaBasalt){\r\n            let otherEffect = cc.sequence(cc.delayTime(DelayTime),cc.spawn(cc.scaleTo(ScaleToTime,ScaleToArg,ScaleToArg),cc.moveTo(MoveToTime,moveToPos)),callBalk);\r\n            spineCantainer.runAction(otherEffect);\r\n        }else{\r\n            let otherEffect = cc.sequence(cc.delayTime(DelayTime),callBalk);\r\n            spineCantainer.runAction(otherEffect);\r\n\r\n        }\r\n    },\r\n    //漂移金币动画\r\n    flyGoldEffect(effectRotateLevel,res){\r\n        let coinContainer    = this.node.getChildByName(\"ui_coinEffectContainer\");\r\n        let ui_coinEffectPos = this.node.getChildByName(\"ui_coinEffectPos\");\r\n        let pre              = this.logic.getIsRotation() ? \"coinFlyR\" : \"coinFly\";\r\n        let targetPosition   = ui_coinEffectPos.getChildByName(pre+res.seatNum).position;\r\n        let ui_physicalPool  = this.node.parent.getChildByName(\"nfish_deskContainer\").getChildByName(\"ui_physicalPool\");\r\n        let fish             = ui_physicalPool.getChildByName(\"\"+res.fishId);\r\n        let effectCoin       = Math.ceil(Math.random() * 5 + 1);\r\n        const MaxCoin        = 100;//最大数量\r\n        const RandomoffSex   = 60;//xy坐标偏移值\r\n        const RandomMin      = 15;//xy坐标偏移最小值\r\n        const RandomOffsexX  = 30;\r\n        const RandomOffsexY  = 50;\r\n        const RandomMinY     = 20;\r\n        const StartName      = 0;\r\n        const endName        = 9;\r\n        const plyTime        = 8;\r\n        const isHaveZero     = false;\r\n        const speed          = 0.035;\r\n        const plyedDestroy   = false;\r\n        const isRandomPly    = 1;\r\n        const OneDelayTime   = 0.1;\r\n        const TwoDelayTime   = 0.05;\r\n        const ScaleToTime    = 1;\r\n        const BezierToTime   = 0.7;\r\n        const ScaleToArg     = 0.8;\r\n        const FadeToTime     = 0.1;\r\n        const MoveToTime     = 0.15;\r\n        const EndOpacity     = 255;\r\n        const Gold           = \"gold\";\r\n        const Silver         = \"silver\";\r\n        if(effectCoin > MaxCoin){\r\n            effectCoin = MaxCoin;\r\n        }\r\n\r\n        const CoinLabOffsexY = 158;\r\n\r\n        let coinlab = cc.instantiate(coinContainer.getChildByName(this.logic.seatNum == res.seatNum ? \"flyGoldCoinLab\" : \"flySilverCoinLab\"));\r\n        coinlab.active = true;\r\n        coinlab.getComponent(cc.Label).string = \"+\"+this.logic.formatMoney(res.rewardGold);\r\n        let fishPos = fish.position;\r\n        coinlab.x = fishPos.x + Math.random() * RandomoffSex + RandomMin;\r\n        let moveToAct;\r\n        if(this.logic.getIsRotation()){\r\n            coinlab.angle = 180;\r\n            coinlab.y = fishPos.y;\r\n            moveToAct = cc.moveTo(0.3,coinlab.x,coinlab.y - CoinLabOffsexY)\r\n        }else {\r\n            coinlab.y = fishPos.y;\r\n            moveToAct = cc.moveTo(0.3,coinlab.x,coinlab.y + CoinLabOffsexY)\r\n        }\r\n        coinContainer.addChild(coinlab);\r\n\r\n        coinlab.runAction(cc.sequence(cc.delayTime(0.3),moveToAct,cc.callFunc(()=>{\r\n            coinlab.destroy();\r\n        })))\r\n\r\n        for (let i=0;i<effectCoin;i++){\r\n            let ui_CoinEffect     = this.logic.creatorEffect();\r\n            ui_CoinEffect.x       = fishPos.x + Math.random() * RandomoffSex + RandomMin;\r\n            ui_CoinEffect.y       = fishPos.y + Math.random() * RandomoffSex + RandomMin;\r\n            ui_CoinEffect.active  = true;\r\n            ui_CoinEffect.parent  = null;\r\n            ui_CoinEffect.opacity = 0;\r\n\r\n\r\n            let playName = this.logic.seatNum == res.seatNum ? Gold : Silver;\r\n            ui_CoinEffect.getComponent(\"nfish_MovieClip\").initEffect(this.moneyEffect_Atlas,playName,StartName,endName,plyTime,isHaveZero,speed,plyedDestroy,null,isRandomPly);\r\n            if(this.logic.getIsRotation()){\r\n                ui_CoinEffect.angle = 180;\r\n            }\r\n            coinContainer.addChild(ui_CoinEffect);\r\n            let upPos         = cc.v2(ui_CoinEffect.position.x + Math.random() * RandomOffsexX,ui_CoinEffect.position.y + Math.random() * RandomOffsexY + RandomMinY);\r\n\r\n            if(res.seatNum == CONST.Seat.LeftTop || res.seatNum == CONST.Seat.RightTop){\r\n                upPos         = cc.v2(ui_CoinEffect.position.x + Math.random() * RandomOffsexX,ui_CoinEffect.position.y - ( Math.random() * RandomOffsexY + RandomMinY));\r\n            }\r\n            let bounceAct1    = cc.spawn(cc.fadeTo(FadeToTime,EndOpacity),cc.moveTo(MoveToTime,ui_CoinEffect.position));\r\n            let bounceAct2    = cc.moveTo(MoveToTime,upPos);\r\n            let bezierPoint   = cc.v2(targetPosition.x,ui_CoinEffect.position.y);\r\n            let act           = cc.spawn(cc.scaleTo(ScaleToTime,ScaleToArg,ScaleToArg),cc.bezierTo(BezierToTime,[upPos,bezierPoint,cc.v2(targetPosition.x,targetPosition.y)]));\r\n            ui_CoinEffect.runAction(cc.sequence(cc.delayTime((i+1)*OneDelayTime),bounceAct1,bounceAct2,act,cc.delayTime(i*TwoDelayTime),cc.callFunc(()=>{\r\n                ui_CoinEffect.destroy();\r\n            })));\r\n        }\r\n\r\n        if(this.logic.seatNum == res.seatNum && CONST.EffectRotateLevel.OneLevel == effectRotateLevel){\r\n            glGame.emitter.emit(CONST.clientEvent.fishSound,\"flyGold\");//飞金币\r\n        }\r\n\r\n        if(CONST.EffectRotateLevel.OneLevel != effectRotateLevel){\r\n            this.scheduleOnce(()=>{\r\n                this.addGoldEffect(effectRotateLevel,res);//加金币 读数动画\r\n            },1);\r\n        }\r\n    },\r\n    //飘分\r\n    addGoldEffect(effectRotateLevel,res){\r\n        let pre = res.seatNum == this.logic.seatNum ? \"lab_coinGlod\":\"lab_coinSilver\";\r\n\r\n        let lab_coinMask        = this.node.getChildByName(\"ui_coinEffectContainer\").getChildByName(\"lab_coinMask\"+res.seatNum);\r\n        if(this.logic.getIsRotation()){\r\n            lab_coinMask        = this.node.getChildByName(\"ui_coinEffectContainer\").getChildByName(\"lab_coinMaskR\"+res.seatNum);\r\n        }\r\n        let base_labNode        = lab_coinMask.getChildByName(pre);\r\n        let labNode             = cc.instantiate(base_labNode);\r\n        if(base_labNode.oldx == undefined){\r\n            base_labNode.oldx   = Number(base_labNode.x + \"\");\r\n            base_labNode.oldy   = Number(base_labNode.y + \"\");\r\n        }\r\n        labNode.oldx            = Number(base_labNode.oldx + \"\");\r\n        labNode.oldy            = Number(base_labNode.oldy + \"\");\r\n        lab_coinMask.addChild(labNode);\r\n        const MoveOffsex        = Math.random() * 5 + 5;\r\n        const MoveOffsex2       = MoveOffsex + 5;\r\n        let endPos              = cc.v2(labNode.oldx,labNode.oldy + MoveOffsex);\r\n        if(res.seatNum == CONST.Seat.LeftTop || res.seatNum == CONST.Seat.RightTop){\r\n            endPos              = cc.v2(labNode.oldx,labNode.oldy - MoveOffsex);\r\n        }\r\n\r\n        let endPos2             = cc.v2(labNode.oldx,endPos.y + MoveOffsex2);\r\n        if(res.seatNum == CONST.Seat.LeftTop || res.seatNum == CONST.Seat.RightTop){\r\n            endPos2             = cc.v2(labNode.oldx,endPos.y - MoveOffsex2);\r\n        }\r\n\r\n        if(this.logic.getIsRotation()){\r\n            labNode.angle = 180;\r\n            labNode.anchorX = 0;\r\n        }\r\n\r\n        const oldPos            = cc.v2(labNode.oldx,labNode.oldy);\r\n        labNode.currRewardGold  = 0;\r\n        labNode.startHide       = 0;\r\n        labNode.rewardGold      = res.rewardGold;\r\n        labNode.scale           = 0;\r\n        labNode.setPosition(lab_coinMask.getChildByName(\"lab_startPos\").position);\r\n        labNode.stopAllActions();\r\n        labNode.getComponent(cc.Label).string = \"+\"+this.logic.formatMoney(res.rewardGold);\r\n        labNode.active          = true;\r\n        const GoTime            = 0.17;\r\n        const endTime           = 0.4;\r\n        const DelayTime         = 0.35;\r\n        const DelayStateTime    = 0.05;\r\n        const Normal            = 1.2;\r\n        const ScaleToTime       = 0.2;\r\n        const ScaleToTime2      = 0.2;\r\n        const FadeToTime        = 0.3;\r\n        const Hide              = 0;\r\n        const FadeTo            = 0;\r\n        labNode.runAction(\r\n            cc.sequence(\r\n                cc.delayTime(DelayTime),\r\n                cc.spawn(cc.scaleTo(ScaleToTime,Normal),cc.moveTo(GoTime,oldPos)),\r\n                cc.delayTime(DelayStateTime),\r\n                cc.moveTo(endTime,endPos2),\r\n                cc.sequence(\r\n                    cc.fadeTo(FadeToTime,Hide),\r\n                    cc.scaleTo(ScaleToTime2,FadeTo),\r\n                    cc.moveBy(endTime,endPos2),\r\n                ),\r\n                cc.callFunc(()=>{\r\n                    if(res.msg != null){\r\n                        if(this.logic.seatNum == res.seatNum){\r\n                            this.logic.gold = Number(res.msg.coin);\r\n                            this.logic.checkGold();\r\n                            // cc.error(\">> 更新我的钱  ok！\")\r\n                            glGame.emitter.emit(CONST.clientEvent.myUpdateMoney);\r\n                        }else{\r\n                            // cc.error(\">> 射击 更新其他用户的钱 ok!\")\r\n                            glGame.emitter.emit(CONST.clientEvent.updateShootGold,res.msg);\r\n                        }\r\n                        this.logic[\"isUpdateMoney\"+res.msg.seatNum] = true;//玉如意、聚宝盆 结束 恢复更新余额机制\r\n                    }\r\n                    labNode.destroy();\r\n                })\r\n            )\r\n        );\r\n    },\r\n    //特殊子弹统计\r\n    specialBulletStatistics(res){\r\n        if(res.total < 0.1){//打死掉鱼没分就不播了\r\n            return;\r\n        }\r\n        //仙剑比较特殊 生命周期较长\r\n        let coinContainer    = this.node.getChildByName(\"ui_coinEffectContainer\");\r\n        let ui_coinEffectPos = this.node.getChildByName(\"ui_coinEffectPos\");\r\n        let spineCantainer   = coinContainer.getChildByName(\"spineCantainer\"+res.seatNum);\r\n        if(spineCantainer != null){\r\n            if(spineCantainer.isDispose == null && spineCantainer.cannonType == res.cannonType){//isDispose=1则为正在销毁的路上、同样类型\r\n                if(res.total > 0){\r\n                    spineCantainer.currCoin = null;\r\n                    this[\"runSpecial\"+res.seatNum] = false;\r\n                    this.scheduleOnce(()=>{\r\n                        if(spineCantainer == null){\r\n                            spineCantainer  = coinContainer.getChildByName(\"spineCantainer\"+res.seatNum);\r\n                        }\r\n                        if(spineCantainer != null && spineCantainer._components != undefined){\r\n                            let spinec = spineCantainer.getChildByName(res.seatNum == this.logic.seatNum ? \"gold_lab\" : \"silver_lab\")\r\n                            if(spinec != null){\r\n                                if(spinec._components != undefined && spinec.getComponent(cc.Label)) {\r\n                                    let lab = spinec.getComponent(cc.Label);\r\n                                    let oldCoin = lab.string == undefined || lab.string == \"\" ? 0 : Number(lab.string);\r\n                                    spineCantainer.startRun = res.totalReward;\r\n                                    if(spineCantainer.currCoin == null){\r\n                                        spineCantainer.currCoin = Number(oldCoin);\r\n                                    }\r\n                                    this[\"runSpecial\"+res.seatNum] = true;\r\n                                }\r\n                            }else{\r\n                                cc.error(\" 统计框已经不存在 统计错误！ res \",res)\r\n                            }\r\n                        }\r\n                    },0.2);\r\n                }\r\n            }else{//清理\r\n                this[\"runSpecial\"+res.seatNum] = false;\r\n                spineCantainer.opacity = 0;\r\n                spineCantainer.stopAllActions();\r\n                coinContainer.removeChild(spineCantainer);\r\n                spineCantainer.destroy();\r\n                spineCantainer = null;\r\n            }\r\n        }\r\n\r\n        if(spineCantainer == null){\r\n            this[\"runSpecial\"+res.seatNum] = false;\r\n            let spine_effect        = this.node.getChildByName(\"spine_effect\");\r\n            spineCantainer          = cc.instantiate(spine_effect.getChildByName(\"spine_speciaCoinNum\"));\r\n            spineCantainer.cannonType = res.cannonType;\r\n            spineCantainer.oldScale = spineCantainer.scale;\r\n            const NotOpacity        = 0;\r\n            const NotScale          = 0;\r\n\r\n            spineCantainer.active   = true;\r\n            spineCantainer.position = ui_coinEffectPos.getChildByName(\"statisticsPos\"+res.seatNum).position;\r\n            spineCantainer.name     = \"spineCantainer\"+res.seatNum;\r\n            spineCantainer.opacity  = NotOpacity;\r\n            spineCantainer.scale    = NotScale;\r\n            if(this.logic.getIsRotation()){\r\n                spineCantainer.angle = 180;\r\n            }\r\n            coinContainer.addChild(spineCantainer);\r\n\r\n            const NormalOpacity = 255;\r\n            const QScale        = 2;\r\n            const NormalScale   = spineCantainer.oldScale;\r\n            const FadeTime      = 0.2;\r\n            const ScalTTime     = 0.2;\r\n\r\n            spineCantainer.stopAllActions();\r\n            let act = cc.sequence(cc.spawn(cc.fadeTo(FadeTime,NormalOpacity),cc.scaleTo(ScalTTime,QScale)),cc.scaleTo(ScalTTime,NormalScale),cc.callFunc(()=>{\r\n                //播放移动球\r\n                const Scale = 1.33;\r\n                let laserBornEffect  = this.logic.creatorEffect();\r\n                laserBornEffect.parent = null;\r\n                laserBornEffect.active = true;\r\n                laserBornEffect.setPosition(spineCantainer.getChildByName(\"effect\").position);\r\n                laserBornEffect.scale = Scale;\r\n                spineCantainer.addChild(laserBornEffect);\r\n                let mcName;\r\n                let scale = 1;\r\n                let isRo = false;\r\n                switch (Number(res.cannonType)) {\r\n                    case CONST.CannonType.Lightning :   // 闪电\r\n                        mcName = CONST.CannonGetEddect.Lightning;\r\n                        break;\r\n                    case CONST.CannonType.PartialBomb : // 炎爆\r\n                        mcName = CONST.CannonGetEddect.PartialBomb;\r\n                        break;\r\n                    case CONST.CannonType.Laser :       // 龙息\r\n                        mcName = CONST.CannonGetEddect.Laser;\r\n                        break;\r\n                    case CONST.CannonType.Missile :     // 仙剑\r\n                        mcName = CONST.CannonGetEddect.Missile;\r\n                        scale = 0.95;\r\n                        laserBornEffect.y = -3;\r\n                        isRo = true;\r\n                        break;\r\n                }\r\n                const Min = 1;\r\n                const Max = 5;\r\n                const LoopTime = 0;\r\n                const IsHaveZero = false;\r\n                const Speed = 0.12;\r\n                const PayEdRemove = false;\r\n\r\n                laserBornEffect.scale = scale;\r\n                if(isRo){\r\n                    laserBornEffect.stopAllActions();\r\n                    laserBornEffect.runAction(cc.repeatForever(cc.sequence(cc.moveTo(0.9,cc.v2(laserBornEffect.x,laserBornEffect.y+6)),cc.moveTo(0.9,cc.v2(laserBornEffect.x,laserBornEffect.y-6)))));\r\n                }\r\n                laserBornEffect.getComponent(\"nfish_MovieClip\").initEffect(this.laserBornEffect_Atlas,mcName,Min,Max,LoopTime,IsHaveZero,Speed,PayEdRemove);\r\n\r\n                const Frequency = 10; //设置频率 读数次数 10 次\r\n                spineCantainer.frequency = res.total/Frequency;\r\n                if(res.isoffNet == null){//非断线重连\r\n                    //开始进行度数\r\n                    spineCantainer.startRun = Number(res.totalReward);\r\n                    spineCantainer.currCoin = 0;//读数当前指针值\r\n                    this[\"runSpecial\"+res.seatNum] = true;\r\n                }else{\r\n                    spineCantainer.startRun = Number(res.total);\r\n                    spineCantainer.currCoin = res.total;//读数当前指针值\r\n                    let labName = res.seatNum == this.logic.seatNum ? \"gold_lab\" : \"silver_lab\";\r\n                    spineCantainer.getChildByName(labName).getComponent(cc.Label).string = res.total+\"\";\r\n                }\r\n            }));\r\n            spineCantainer.runAction(act);\r\n        }\r\n    },\r\n    //开始读数\r\n    runSpecialBulletStatistics(dt){\r\n        const UserMax = 4;\r\n        for (let i=0;i<UserMax;i++){\r\n            if(!this[\"runSpecial\"+i]){\r\n                continue;\r\n            }\r\n            let spineCantainer = this.node.getChildByName(\"ui_coinEffectContainer\").getChildByName(\"spineCantainer\"+i);\r\n            if(spineCantainer != null && spineCantainer.currCoin != null && spineCantainer.currCoin != undefined && spineCantainer.startRun != null){\r\n                spineCantainer.currCoin +=  Number(spineCantainer.frequency);\r\n                let lab = spineCantainer.getChildByName(i == this.logic.seatNum ? \"gold_lab\" : \"silver_lab\").getComponent(cc.Label);\r\n                let oldCoin = lab.string == undefined || lab.string == \"\" ? 0 : Number(lab.string);\r\n                if(spineCantainer.currCoin >= spineCantainer.startRun){//读数完成\r\n                    if(spineCantainer.startRun > oldCoin){\r\n                        let currStartNum = spineCantainer.startRun+\"\";\r\n                        if(currStartNum.indexOf(\".\") != -1){\r\n                            lab.string = Number(spineCantainer.startRun).toFixed(1);\r\n                        }else{\r\n                            lab.string = spineCantainer.startRun;\r\n                        }\r\n                        cc.warn(\">>>>>2. 计分成功 =====> end startRun \"+spineCantainer.startRun)\r\n                    }else{\r\n                        // cc.error(\">>> 3. 计数失败 =====> : \"+spineCantainer.currCoin+\" 当前数: \"+oldCoin)\r\n                    }\r\n                    spineCantainer.currCoin = null;\r\n                    glGame.emitter.emit(CONST.clientEvent.checkSpecialBullet);\r\n                }else{//正在读数\r\n                    if(spineCantainer.currCoin > oldCoin){\r\n                        let currStartNum = spineCantainer.currCoin+\"\";\r\n                        if(currStartNum.indexOf(\".\") != -1){\r\n                            lab.string = currStartNum.split(\".\")[0];\r\n                        }else{\r\n                            lab.string = spineCantainer.currCoin;\r\n                        }\r\n                    }else{\r\n\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    //清除特殊子弹\r\n    clearSpecialHandler(seatNum){\r\n        const DeayTime = 1.5;\r\n        this.scheduleOnce(()=>{\r\n            let lastCannType = Number(this.logic.specialBulletPool[seatNum] + \"\");\r\n            delete this.logic.specialBulletPool[seatNum];//根据规则：每个玩家同屏下只允许有一个特殊子弹\r\n            if(this.logic.seatNum == seatNum)cc.warn(\"=== 删除特殊子弹状态 ============ seatNum \"+seatNum+\" lastCannType \"+lastCannType)\r\n            glGame.emitter.emit(CONST.clientEvent.checkSpecialBullet);\r\n        },DeayTime);\r\n    },\r\n    //检查当前计数器计数完成之后是否需要销毁\r\n    checkSpecialBulletHandler(){\r\n        let isDisSpecial = null;\r\n        const UserMax = 4;\r\n        for (let i=0;i<UserMax;i++){\r\n            let spineCantainer = this.node.getChildByName(\"ui_coinEffectContainer\").getChildByName(\"spineCantainer\"+i);\r\n            if(spineCantainer != null && spineCantainer.currCoin == null){ //如果计数器存在,并且 读数完成\r\n                let isLevel = true;\r\n                for(let key in this.logic.playerInfo){\r\n                    let playerInfo = this.logic.playerInfo[key];\r\n                    if(playerInfo != null && Number(playerInfo.seatNum) == i) {//按照座位找到当前用户身上的子弹信息\r\n                        isLevel = false;\r\n                        if(this.logic.specialBulletPool[i] == undefined && this.logic.specialBulletPool[i] == null){\r\n                            if(spineCantainer.cannonType == CONST.CannonType.Missile) {//仙剑子弹 的销毁逻辑 要特殊处理\r\n                                if(playerInfo.cannonAmount != undefined && playerInfo.cannonAmount == 0){//如果当前没有仙剑子弹在飞、并且身上已经没有了子弹\r\n                                    isDisSpecial = \"======= 1 结果 仙剑结束  seatNum \"+i+\" mySeatNum \"+this.logic.seatNum;\r\n                                    // if(this.logic.seatNum == i) cc.error(\">>>>>>>>>>>>>>>>>>>>>  1111 \")\r\n                                    this.specialBulletStatisticsClear(playerInfo);//开始销毁\r\n                                }\r\n                            }\r\n                            if(playerInfo.cannonType == CONST.CannonType.Normal){\r\n                                isDisSpecial = \"======= 2 结果 当前是普通子弹 seatNum \"+i+\" mySeatNum \"+this.logic.seatNum;\r\n                                // if(this.logic.seatNum == i)cc.error(\">>>>  2222.1  当前是普通子弹 playerInfo \"+playerInfo.cannonType,\" playerInfo \",playerInfo)\r\n                                this.specialBulletStatisticsClear(playerInfo);//开始销毁\r\n                            }\r\n                            if(spineCantainer.cannonType != playerInfo.cannonType){//如果当前统计框的类型和身上子弹类型不一样\r\n                                isDisSpecial = \"======== 3 结果 切换了 子弹 seatNum\"+i+\" mySeatNum \"+this.logic.seatNum;\r\n                                // if(this.logic.seatNum == i)cc.error(\">>>>  3333  当前是普通子弹 playerInfo \"+playerInfo.cannonType,\" playerInfo \",playerInfo);\r\n                                this.specialBulletStatisticsClear(playerInfo);//开始销毁\r\n                            }\r\n\r\n                        }\r\n                    }\r\n                }\r\n                if(isLevel){\r\n                    isDisSpecial = \"====== 4 结果 用户离开 seatNum \"+i+\" mySeatNum \"+this.logic.seatNum;\r\n                    this.specialBulletStatisticsClear({seatNum:i});//开始销毁\r\n                }\r\n            }\r\n        }\r\n    },\r\n    //销毁 - 计数器 取消计算数字 - 升级到所有子弹销毁\r\n    specialBulletStatisticsClear(res){\r\n        this[\"runSpecial\"+res.seatNum] = false;\r\n        let ui_coinEffectContainer = this.node.getChildByName(\"ui_coinEffectContainer\");\r\n        let spineCantainer = ui_coinEffectContainer.getChildByName(\"spineCantainer\"+res.seatNum);\r\n\r\n        if(spineCantainer != null && spineCantainer.isDispose != null){\r\n            // if(this.logic.seatNum == res.seatNum)cc.error(\">>> 正在销毁 ----seatNum \"+res.seatNum);\r\n            return;\r\n        }\r\n        if(spineCantainer != null){\r\n            spineCantainer.isDispose = 1;\r\n            // if(this.logic.seatNum == res.seatNum)cc.error(\"===================销毁 cannonType : \"+spineCantainer.cannonType+\" seatNum \"+res.seatNum)\r\n            // if(this.logic.seatNum == res.seatNum)cc.error(\"\");\r\n            // if(this.logic.seatNum == res.seatNum)cc.error(\"\");\r\n            // if(this.logic.seatNum == res.seatNum)cc.error(\"\");\r\n            spineCantainer.currCoin = null;\r\n            spineCantainer.lastcurrCoin = null;\r\n            const DelayTime  = 0.9;\r\n            const FadeToTime = 0.2;\r\n            const FadeToArg  = 0;\r\n            const DelayTime2 = 2;\r\n\r\n            this.scheduleOnce(()=>{\r\n                spineCantainer = ui_coinEffectContainer.getChildByName(\"spineCantainer\"+res.seatNum);\r\n                if(spineCantainer != null){\r\n                    spineCantainer.stopAllActions();\r\n                    ui_coinEffectContainer.removeChild(spineCantainer);\r\n                    spineCantainer.destroy();\r\n                }\r\n            },DelayTime+(FadeToTime*DelayTime2));\r\n\r\n            spineCantainer.stopAllActions();\r\n            spineCantainer.runAction(cc.sequence(cc.delayTime(DelayTime),cc.fadeTo(FadeToTime,FadeToArg)),cc.callFunc(()=>{\r\n                ui_coinEffectContainer.removeChild(spineCantainer);\r\n                spineCantainer.opacity = 0;\r\n                spineCantainer.destroy();\r\n            }));\r\n        }else{\r\n            if(this.logic.seatNum == res.seatNum){\r\n                cc.error(\">>销毁 失败 \"+res.seatNum+\"  spineCantainer is null  >> spineCantainer \",spineCantainer);\r\n            }\r\n        }\r\n    },\r\n    //其他人的 如意 聚宝鹏 展示\r\n    oPSSAHandler(res){\r\n        const NormalOpacity  = 255;\r\n        let effectContainer  = this.node.getChildByName(\"ui_coinEffectContainer\");\r\n        let spine_effect     = this.node.getChildByName(\"spine_effect\");\r\n        let type             = res.type;\r\n        let typeName         = type == CONST.AwardType.RUYI ? \"YuRu\" : \"juBao\";\r\n        let seatNum          = res.seatNum;\r\n        let posPreName       = type == CONST.AwardType.RUYI ? \"yuRuPos\" : \"juBaoPos\";\r\n        let ui_coinEffectPos = this.node.getChildByName(\"ui_coinEffectPos\");\r\n        let nodeName         = typeName+seatNum;\r\n        let posName          = posPreName+seatNum;\r\n        let targetPosition;\r\n        if(this.logic.getIsRotation()){\r\n            posPreName       = type == CONST.AwardType.RUYI ? \"yuRuPos_R_\" : \"juBaoPos_R_\";\r\n            posName          = posPreName+seatNum;\r\n            targetPosition = ui_coinEffectPos.getChildByName(posName).position;\r\n        }else{\r\n            targetPosition = ui_coinEffectPos.getChildByName(posName).position;\r\n        }\r\n        let spineCantainer   = effectContainer.getChildByName(nodeName);\r\n        if(spineCantainer == null){\r\n            let spineName         = type == CONST.AwardType.RUYI ? \"spine_YuRu\" : \"spine_JuBao\";\r\n            spineCantainer        = cc.instantiate(spine_effect.getChildByName(spineName));\r\n            spineCantainer.name   = nodeName;\r\n            spineCantainer.active = true;\r\n            spineCantainer.setPosition(targetPosition);\r\n            effectContainer.addChild(spineCantainer);\r\n            if(this.logic.getIsRotation()){\r\n                spineCantainer.angle = 180;\r\n            }\r\n        }else{\r\n            spineCantainer.active = true;\r\n            spineCantainer.opacity = NormalOpacity;\r\n            spineCantainer.stopAllActions();\r\n        }\r\n        this.startShowSpacil(res,type,spineCantainer);\r\n    },\r\n    //开始显示 特殊\r\n    startShowSpacil(res,type,spineCantainer){\r\n        if(type == CONST.AwardType.RUYI){\r\n            spineCantainer.runAction(cc.sequence(\r\n                cc.scaleTo(0.5, 1, 1),\r\n                cc.delayTime(6),\r\n                cc.callFunc(() => {\r\n                    this.flyGoldEffectForSpacil(res)\r\n                })\r\n            ))\r\n        }else {\r\n            spineCantainer.runAction(cc.sequence(\r\n                cc.scaleTo(0.5, 1, 1),\r\n                cc.delayTime(6),\r\n                cc.callFunc(() => {\r\n                    this.flyGoldEffectForSpacil(res)\r\n                })\r\n            ))\r\n        }\r\n    },\r\n    //飞金币\r\n    flyGoldEffectForSpacil(res){\r\n        let type             = res.type;\r\n        let seatNum          = res.seatNum;\r\n        let typeName         = type == CONST.AwardType.RUYI ? \"YuRu\" : \"juBao\";\r\n        let posPreName       = type == CONST.AwardType.RUYI ? \"yuRuPos\" : \"juBaoPos\";\r\n        let ui_coinEffectPos = this.node.getChildByName(\"ui_coinEffectPos\");\r\n        let startPos         = ui_coinEffectPos.getChildByName(posPreName+seatNum).position;\r\n        let effectContainer  = this.node.getChildByName(\"ui_coinEffectContainer\");\r\n        let coinContainer    = this.node.getChildByName(\"ui_coinEffectContainer\");\r\n        let pre              = this.logic.getIsRotation() ? \"coinFlyR\" : \"coinFly\";\r\n        let targetPosition   = ui_coinEffectPos.getChildByName(pre+seatNum).position;\r\n        let spineCantainer   = effectContainer.getChildByName(typeName+seatNum);\r\n        const Multiple = 100;\r\n        const MaxCoin = 20;//最大数量\r\n\r\n        let effectCoin = Math.ceil(res.rewardGold / Multiple);\r\n        if (effectCoin > MaxCoin) {\r\n            effectCoin = MaxCoin;\r\n        }\r\n\r\n        const StartName = 1;\r\n        const endName = 16;\r\n        const plyTime = 3;\r\n        const isHaveZero = false;\r\n        const speed = 0.035;\r\n        const plyedDestroy = false;\r\n        const isRandomPly = 1;\r\n\r\n        const RandomOffsexX = 30;\r\n        const RandomOffsexY = 50;\r\n        const RandomMinY = 20;\r\n\r\n        const OneDelayTime = 0.1;\r\n        const TwoDelayTime = 0.05;\r\n        const ScaleToTime = 1;\r\n        const BezierToTime = 0.7;\r\n        const ScaleToArg = 0.8;\r\n        const FadeToTime = 0.1;\r\n        const MoveToTime = 0.15;\r\n        const EndOpacity = 255;\r\n\r\n        for (let i = 0; i < effectCoin; i++) {\r\n            let ui_CoinEffect = this.logic.creatorEffect();\r\n            ui_CoinEffect.x = startPos.x;\r\n            ui_CoinEffect.y = startPos.y;\r\n            ui_CoinEffect.active = true;\r\n            ui_CoinEffect.parent = null;\r\n            ui_CoinEffect.opacity = 0;\r\n            let playName = \"silver\";\r\n\r\n            ui_CoinEffect.getComponent(\"nfish_MovieClip\").initEffect(this.moneyEffect_Atlas, playName, StartName, endName, plyTime, isHaveZero, speed, plyedDestroy, null, isRandomPly);\r\n\r\n            coinContainer.addChild(ui_CoinEffect);\r\n            let upPos = cc.v2(ui_CoinEffect.position.x + Math.random() * RandomOffsexX, ui_CoinEffect.position.y + Math.random() * RandomOffsexY + RandomMinY);\r\n\r\n            if (res.seatNum == CONST.Seat.LeftTop || res.seatNum == CONST.Seat.RightTop) {\r\n                upPos = cc.v2(ui_CoinEffect.position.x + Math.random() * RandomOffsexX, ui_CoinEffect.position.y - (Math.random() * RandomOffsexY + RandomMinY));\r\n            }\r\n            let bounceAct1 = cc.spawn(cc.fadeTo(FadeToTime, EndOpacity), cc.moveTo(MoveToTime, ui_CoinEffect.position));\r\n            let bounceAct2 = cc.moveTo(MoveToTime, upPos);\r\n            let bezierPoint = cc.v2(targetPosition.x, ui_CoinEffect.position.y);\r\n            let act = cc.spawn(cc.scaleTo(ScaleToTime, ScaleToArg, ScaleToArg), cc.bezierTo(BezierToTime, [upPos, bezierPoint, cc.v2(targetPosition.x, targetPosition.y)]));\r\n\r\n            ui_CoinEffect.runAction(cc.sequence(cc.delayTime(i * OneDelayTime), bounceAct1, bounceAct2, act, cc.delayTime(i * TwoDelayTime), cc.callFunc(() => {\r\n                ui_CoinEffect.destroy();\r\n            })));\r\n        }\r\n        let endGoldTime = effectCoin * OneDelayTime + effectCoin * TwoDelayTime;//最后一个金币漂移的时间\r\n        const HideOpacity = 0;\r\n        spineCantainer.stopAllActions();\r\n        spineCantainer.runAction(cc.sequence(\r\n            cc.delayTime(endGoldTime),\r\n            cc.scaleTo(0.5, 0, 0),\r\n            cc.callFunc(()=>{\r\n                spineCantainer.opacity = HideOpacity;\r\n            })\r\n        ));\r\n    },\r\n    //飘分\r\n    addGoldEffectHandler(res){\r\n        this.addGoldEffect(0,res)\r\n    },\r\n    //充值到账财神爷\r\n    onCoinChangedHandler(res){\r\n        let myid = glGame.user.userID;\r\n        if(res.uid == myid){\r\n            let arrvalCoin = this.logic.getFloat(Number(res.offset));\r\n            glGame.emitter.emit(glGame.showGodOfWealth,{pos:3,coin:arrvalCoin});\r\n        }\r\n    },\r\n    //判断退出 特殊鱼来了 显示倒计时，boss来了 播放特效\r\n    update(dt){\r\n        if(window.p){\r\n            glGame.emitter.emit(CONST.clientEvent.fishSound,\"bossCominCaiShen\");//BOSS警告财神\r\n            glGame.emitter.emit(CONST.clientEvent.fishSound,\"bossCsComin\");//BOSS 财神降临\r\n            window.p = null;\r\n        }\r\n        this.fireTime += dt;\r\n        if(this.fireTime > this.fireTimeFrequency){\r\n            this.fireTime = 0;\r\n            this.isFire = true;\r\n        }\r\n        if(this.bulletTips.active == true){\r\n            this.bulletTipTime += dt;\r\n            const ShowMaxTime = 2;\r\n            if(this.bulletTipTime >= ShowMaxTime){\r\n                this.bulletTips.active = false;\r\n                this.bulletTipTime = 0;\r\n            }\r\n        }\r\n        if(!this.logic.isEnterRoom){\r\n            return\r\n        }\r\n        this.runSpecialBulletStatistics(dt);\r\n        if(this.clickFishPoolEvent != null){\r\n            this.clickFishPoolTime += dt;\r\n            const MaxClickFishPoolTime = 0.053;\r\n            if(this.clickFishPoolTime > MaxClickFishPoolTime){\r\n                this.nextClickFishPoolHandler(this.clickFishPoolEvent);\r\n                this.clickFishPoolEvent = null;\r\n                this.clickFishPoolTime = 0;\r\n            }\r\n        }\r\n        const ChangeSecond = 1000;\r\n        let time = this.logic.exitTimeMsg - Math.floor((Date.now() - this.logic.curWaitTime) / ChangeSecond);\r\n        if (time < 0.9 && this.isExit) {\r\n            this.isExit = false;\r\n            this.logic.isEnterRoom = false;\r\n            glGame.room.exitRoom();\r\n        }else{\r\n            if (time <= this.logic.exitTimeMsg-this.logic.showTimeMsg) {\r\n                this.node.getChildByName(\"ui_ExitTip\").active = true;\r\n                this.node.getChildByName(\"ui_ExitTip\").getChildByName(\"lab_tip2\").getComponent(cc.Label).string = time > 0 ? time : 0;\r\n            }\r\n        }\r\n\r\n        if (time <= this.logic.exitTimeMsg-this.logic.showTimeMsg) {\r\n\r\n        } else {\r\n            this.node.getChildByName(\"ui_ExitTip\").active = false;\r\n        }\r\n        const HaveSpecialFish = 1;\r\n        const ToSecond        = 1000;\r\n        const ThreeHideTime   = ToSecond * 3;\r\n        const ShowTime        = ToSecond * 30;\r\n        if(this.logic.specialFishListBornLen > HaveSpecialFish && this.logic.specialFishListBorn != null){//有特属鱼即将出生，搞个计时器显示下\r\n            for (let id in this.logic.specialFishListBorn){\r\n                this.logic.specialFishListBorn[id].wellBornTime -= dt * ToSecond;\r\n                if(this.logic.specialFishListBorn[id].wellBornTime < 0){\r\n                    this.logic.specialFishListBorn[id].wellBornTime = 0;\r\n                }\r\n                let showTime =  new Date(this.logic.specialFishListBorn[id].wellBornTime).Format(\"mm：ss\");\r\n                let tip;\r\n                if(this.logic.specialFishListBorn[id].wellBornTime > HaveSpecialFish && this.logic.specialFishListBorn[id].wellBornTime < ThreeHideTime){\r\n\r\n                    if(this.logic.specialFishListBorn[id].fishTypeId == CONST.BossGodOfWealth && this.logic.specialFishListBorn[id].isSetTime == null){\r\n                        this.effect_csrcdh.settingActiveTime = 8;\r\n                        this.logic.specialFishListBorn[id].isSetTime = 1;\r\n                    }\r\n                    if(this.logic.specialFishListBorn[id].fishTypeId == CONST.BossLavaBasalt && this.logic.specialFishListBorn[id].isSetTime == null){\r\n                        this.effect_ryxwrcdh.settingActiveTime = 8;\r\n                        this.logic.specialFishListBorn[id].isSetTime = 1;\r\n                    }\r\n\r\n                    if(this.logic.specialFishListBorn[id].fishTypeId == CONST.BossSYLW && this.logic.specialFishListBorn[id].isSetTime == null){\r\n                        this.logic.specialFishListBorn[id].isSetTime = 1;\r\n                    }\r\n                }\r\n                if(this.logic.specialFishListBorn[id].wellBornTime > HaveSpecialFish && this.logic.specialFishListBorn[id].wellBornTime < ShowTime){\r\n                    tip = this.bossConeInTip.getChildByName(id+\"\");\r\n                    if(tip == null){\r\n                        tip             = cc.instantiate(this.bossBornTip);\r\n                        tip.name        = id+\"\";\r\n                        tip.active      = true;\r\n                        let icon        = tip.getChildByName(\"cantainer\").getChildByName(\"mask\").getChildByName(\"img_icon\");\r\n                        let fishData1   = this.logic.json_fishTable[this.logic.specialFishListBorn[id].fishTypeId+\"\"];\r\n                        let fishData2   = this.logic.json_fishTable[Number(this.logic.specialFishListBorn[id].fishTypeId)];\r\n                        let fishData    = fishData1 == undefined ? fishData2 :fishData1;\r\n                        let resGroupId  = fishData.resGroupId;\r\n                        icon.getComponent(cc.Sprite).spriteFrame = this.speciaIcon_Atlas.getSpriteFrame(CONST.SpeciaResPre+resGroupId);\r\n                        if(this.logic.getIsRotation()){\r\n                            icon.angle = 180;\r\n                        }\r\n                        this.bossConeInTip.addChild(tip);\r\n                        tip.x = tip.width;\r\n                        tip.stopAllActions();\r\n                        tip.runAction(cc.moveTo(this.bossTipMoveToTime,this.bossNormalPos.position));\r\n                    }\r\n                    tip.getChildByName(\"lab_Time\").getComponent(cc.Label).string = showTime + \"\";\r\n                    tip.active = !this.logic.isFishTideRuning;\r\n                }else{\r\n                    tip = this.bossConeInTip.getChildByName(id+\"\");\r\n                    if(tip != null && tip.isRun == null){\r\n                        const IsHave = 1;\r\n                        tip.active = !this.logic.isFishTideRuning;\r\n                        tip.isRun = IsHave;\r\n                        tip.getChildByName(\"lab_Time\").getComponent(cc.Label).string = showTime + \"\";\r\n                        tip.stopAllActions();\r\n                        tip.runAction(cc.sequence(cc.moveTo(this.bossTipMoveToTime,cc.v2(tip.width,tip.y)),cc.callFunc(()=>{\r\n                            this.bossConeInTip.removeChild(tip);\r\n                            tip.destroy();\r\n                        })));\r\n\r\n                        if(this.logic.specialFishListBorn[id].fishTypeId == CONST.BossGodOfWealth){\r\n                            glGame.emitter.emit(CONST.clientEvent.bossGodOfWealthCoin);//BOSS警告财神\r\n                            this.effect_csrcdh.getComponent(cc.Widget).updateAlignment();\r\n                            let bet;\r\n                            if(glGame.fishMutipleCfg == null){\r\n                                bet = \"0\";//出现这个就是：拿不到数据或者配表出错\r\n                            }else{\r\n                                bet = (glGame.fishMutipleCfg[CONST.BossGodOfWealth]+\"\").replace(\"-\",\"~\");\r\n                            }\r\n                            let desc_lab = this.spine_csrcdh.getChildByName(\"lab_betDesc\");\r\n                            if(desc_lab.oldX == undefined){\r\n                                desc_lab.oldX = desc_lab.x;\r\n                            }else{\r\n                                desc_lab.x = desc_lab.oldX;\r\n                            }\r\n                            desc_lab.stopAllActions();\r\n                            desc_lab.runAction(cc.sequence(cc.delayTime(2),cc.moveTo(0.25,cc.v2(cc.winSize.width,desc_lab.y))));\r\n                            desc_lab.getComponent(cc.Label).string = bet+\"倍\";\r\n                            this.logic.playSpine(this.spine_csrcdh,false,true,CONST.SpineName.Normal);\r\n                        }\r\n                        if(this.logic.specialFishListBorn[id].fishTypeId == CONST.BossLavaBasalt){\r\n                            glGame.emitter.emit(CONST.clientEvent.bossLavaBasaltComin);//BOSS警告财神\r\n                            this.effect_ryxwrcdh.getComponent(cc.Widget).updateAlignment();\r\n                            let bet;\r\n                            if(glGame.fishMutipleCfg == null){\r\n                                bet = \"0\";//出现这个就是：拿不到数据或者配表出错\r\n                            }else{\r\n                                bet = (glGame.fishMutipleCfg[CONST.BossLavaBasalt]+\"\").replace(\"-\",\"~\");\r\n                            }\r\n                            let desc_lab = this.spine_ryxwrcdh.getChildByName(\"lab_betDesc\");\r\n                            if(desc_lab.oldX == undefined){\r\n                                desc_lab.oldX = desc_lab.x;\r\n                            }else{\r\n                                desc_lab.x = desc_lab.oldX;\r\n                            }\r\n                            desc_lab.stopAllActions();\r\n                            desc_lab.runAction(cc.sequence(cc.delayTime(2),cc.moveTo(0.25,cc.v2(cc.winSize.width,desc_lab.y))));\r\n                            desc_lab.getComponent(cc.Label).string = bet+\"倍\";\r\n                            this.logic.playSpine(this.spine_ryxwrcdh,false,true,CONST.SpineName.Normal);\r\n                            let warn = this.spine_ryxwrcdh.getChildByName(\"warn\");\r\n                            warn.stopAllActions();\r\n                            warn.runAction(cc.repeatForever(cc.sequence(cc.fadeTo(0.3,0),cc.delayTime(0.3),cc.fadeTo(0.3,255))));\r\n                        }\r\n\r\n                        const PlayBGMTime = 3;\r\n                        if (this.logic.specialFishListBorn[id].fishTypeId == CONST.BossSYLW) {\r\n                            this.scheduleOnce(()=> {\r\n                                glGame.emitter.emit(CONST.clientEvent.fishBgSound, CONST.BossSYLWBgMusic);//播放 深渊龙王 背景声音\r\n                            },PlayBGMTime);\r\n                        }\r\n\r\n                        if (this.logic.specialFishListBorn[id].fishTypeId == CONST.BossLavaBasalt) {\r\n                            this.scheduleOnce(()=> {\r\n                                glGame.emitter.emit(CONST.clientEvent.fishBgSound, CONST.BossLavaBasaltBgMusic);//播放 熔岩玄武 背景声音\r\n                            },PlayBGMTime);\r\n                        }\r\n\r\n                        delete this.logic.specialFishListBorn[id];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if(this.effect_csrcdh != null && this.effect_csrcdh.settingActiveTime != null && !this.logic.isFishTideRuning){\r\n            const Frequency = 500;\r\n            const PositiveDirection = 1;//正方向\r\n            const OppositeDirection = -1;//反方向\r\n            const MaxLight = 254;\r\n            const MinLight = 1;\r\n            if(this.effect_csrcdh.settingActiveTime > 0)\r\n            {\r\n                if(this.effect_csrcdh.active == false){\r\n                    this.effect_csrcdh.active = true;\r\n                    this.effect_csrcdh.getComponent(cc.Widget).updateAlignment();\r\n                }\r\n                if(this.effect_csrcdh.subD == null){\r\n                    this.effect_csrcdh.subD = PositiveDirection;\r\n                }\r\n                if(this.effect_csrcdh.subD == PositiveDirection){\r\n                    this.effect_csrcdh.opacity += Math.ceil(dt * Frequency);\r\n                    if(this.effect_csrcdh.opacity > MaxLight){\r\n                        this.effect_csrcdh.subD = OppositeDirection;\r\n                    }\r\n                }else{\r\n                    this.effect_csrcdh.opacity -= Math.ceil(dt * Frequency);\r\n                    if(this.effect_csrcdh.opacity < MinLight){\r\n                        this.effect_csrcdh.subD = PositiveDirection;\r\n                    }\r\n                }\r\n                this.effect_csrcdh.settingActiveTime -= dt;\r\n            }else{\r\n                this.effect_csrcdh.settingActiveTime = null;\r\n                this.effect_csrcdh.active = false;\r\n            }\r\n        }\r\n        if(this.effect_ryxwrcdh != null && this.effect_ryxwrcdh.settingActiveTime != null && !this.logic.isFishTideRuning){\r\n            const Frequency = 500;\r\n            const PositiveDirection = 1;//正方向\r\n            const OppositeDirection = -1;//反方向\r\n            const MaxLight = 254;\r\n            const MinLight = 1;\r\n            if(this.effect_ryxwrcdh.settingActiveTime > 0)\r\n            {\r\n                if(this.effect_ryxwrcdh.active == false){\r\n                    this.effect_ryxwrcdh.active = true;\r\n                    this.effect_ryxwrcdh.getComponent(cc.Widget).updateAlignment();\r\n                }\r\n                this.effect_ryxwrcdh.settingActiveTime -= dt;\r\n                if(this.effect_ryxwrcdh.subD == null){\r\n                    this.effect_ryxwrcdh.subD = PositiveDirection;\r\n                }\r\n                if(this.effect_ryxwrcdh.subD == PositiveDirection){\r\n                    this.effect_ryxwrcdh.opacity += Math.ceil(dt * Frequency);\r\n                    if(this.effect_ryxwrcdh.opacity > MaxLight){\r\n                        this.effect_ryxwrcdh.subD = OppositeDirection\r\n                    }\r\n                }else{\r\n                    this.effect_ryxwrcdh.opacity -= Math.ceil(dt * Frequency);\r\n                    if(this.effect_ryxwrcdh.opacity < MinLight){\r\n                        this.effect_ryxwrcdh.subD = PositiveDirection\r\n                    }\r\n                }\r\n            }else{\r\n                this.effect_ryxwrcdh.settingActiveTime = null;\r\n                this.effect_ryxwrcdh.active = false;\r\n            }\r\n        }\r\n        //debug 代码\r\n        if(window.test2 != null){\r\n            glGame.emitter.emit(CONST.clientEvent.checkSpecialCannon,false);\r\n            window.test2 = null;\r\n        }\r\n        //debug 代码\r\n        if(window.test1 != null){\r\n            cc.error(\"========= playerInfo List : \",JSON.parse(JSON.stringify(this.logic.playerInfo)));\r\n            for (let i=0;i<4;i++){\r\n                let ui_gun = this.ui_Actionable.getChildByName(\"ui_gun\" + i);\r\n                if(ui_gun.cannonType != CONST.CannonType.Normal){\r\n                    cc.error(\">> 遍历 炮台 >> ui_gun . cannonType \"+ui_gun.cannonType+\"  seatNum \"+i);\r\n                }\r\n            }\r\n            for (let key in this.logic.playerInfo) {\r\n                let playerInfo = this.logic.playerInfo[key];\r\n                if (playerInfo != null && this.logic[\"isGunMoving\" + playerInfo.seatNum] != 1) {\r\n                    let ui_gun = this.ui_Actionable.getChildByName(\"ui_gun\" + playerInfo.seatNum);\r\n                    if (ui_gun != null && ui_gun.cannonType != playerInfo.cannonType) {\r\n                        cc.error(\">> 遍历 数据 ========= cannonTyp \"+playerInfo.cannonTyp,\" info \",JSON.parse(JSON.stringify(playerInfo)));\r\n                    }\r\n                }\r\n            }\r\n            window.test1 = null;\r\n        }\r\n    },\r\n    //鱼潮来了隐藏 boss来了\r\n    hideBossConinUIHandler(){\r\n        this.effect_csrcdh.settingActiveTime = null;\r\n        this.effect_ryxwrcdh.settingActiveTime = null;\r\n        this.effect_csrcdh.active = false;\r\n        this.effect_ryxwrcdh.active = false;\r\n    },\r\n    //boss 过来 开始倒计时\r\n    bossComeinHandler(res){\r\n        let fishTypeId = res.fishTypeId;\r\n        let liveTime   = Number(res.serverTime - res.createTime); //出生时间\r\n        let NotBorn    = 0;\r\n        const ToSecond = 1000;\r\n        if(liveTime < NotBorn){//大于0 就是已经出生了不必再出提示\r\n            this.logic.specialFishListBornLen ++;\r\n            let wellBornTime = Math.abs(liveTime) + (Number(res.showTime) * ToSecond);//还要多久才出生 - 从屏幕边缘开始游动起来 并不是进入屏幕\r\n            this.logic.specialFishListBorn[res.id] = {fishTypeId:fishTypeId,wellBornTime:wellBornTime};\r\n        }\r\n    },\r\n    //财神进入\r\n    bossGodOfWealthCoinHandler(){\r\n        glGame.emitter.emit(CONST.clientEvent.fishSound,\"bossCominCaiShen\");//BOSS警告财神\r\n        glGame.emitter.emit(CONST.clientEvent.fishSound,\"bossCsComin\");//BOSS 财神降临\r\n    },\r\n    //熔岩玄武进入\r\n    bossLavaBasaltCominHandler(){\r\n        glGame.emitter.emit(CONST.clientEvent.fishSound,\"bossCominXuanWu\");//BOSS警告玄武\r\n    },\r\n    //断线重连，清理数据\r\n    clearbossComeinHandler(){\r\n        for (let id in this.logic.specialFishListBorn){\r\n            let tip = this.bossConeInTip.getChildByName(id+\"\");\r\n            if(tip){\r\n                this.bossConeInTip.removeChild(tip);\r\n                tip.destroy();\r\n                delete this.logic.specialFishListBorn[id];\r\n            }\r\n        }\r\n        this.logic.specialFishListBornLen = 0;\r\n        this.logic.specialFishListBorn = {};\r\n    },\r\n    //设置旋转\r\n    checkRotationHandler(){\r\n        cc.warn(\">> 角度旋转180  checkRotationHandler\")\r\n        this.logic.isNeedSet180Angle(this.node);\r\n    },\r\n    //海浪鱼群-播放海浪\r\n    onSurfStartHandler(res){\r\n        let ui_surfCantainer = this.node.getChildByName(\"ui_surfCantainer\");\r\n        ui_surfCantainer.getChildByName(\"waves_texture1\").active = true;\r\n        ui_surfCantainer.getChildByName(\"waves_texture2\").active = false;\r\n        if(this.logic.bgIndex > 0){//每个bg 偏移量不一样\r\n            ui_surfCantainer.x       = cc.winSize.width - 750;//偏移量气泡在2个背景中间 背景宽度 2411 背景不适配\r\n        }else{\r\n            ui_surfCantainer.x       = cc.winSize.width - 100 + (this.logic.bgIndex * 100);//偏移量气泡在2个背景中间 背景宽度 2411 背景不适配\r\n        }\r\n\r\n        const MoveToTime         = 2;\r\n        const OutWinSizeOffceX   = 5;\r\n        const OutWinSizeX        = -cc.winSize.width;\r\n\r\n        ui_surfCantainer.stopAllActions();\r\n        ui_surfCantainer.runAction(cc.sequence(cc.moveTo(MoveToTime,cc.v2(OutWinSizeX,ui_surfCantainer.y)),cc.callFunc(()=>{\r\n            ui_surfCantainer.x = cc.winSize.width+OutWinSizeOffceX;\r\n            ui_surfCantainer.getChildByName(\"waves_texture1\").active = false;\r\n            ui_surfCantainer.getChildByName(\"waves_texture2\").active = false;\r\n        })));\r\n    },\r\n    //显示浪潮来临\r\n    showFishTideTitleHandler() {\r\n        let ui_fishTideTitle = this.node.getChildByName(\"ui_fishTideTitle\");\r\n        const HidOpacity         = 255;\r\n        ui_fishTideTitle.opacity = HidOpacity;\r\n        ui_fishTideTitle.active  = true;\r\n        this.logic.playSpine(ui_fishTideTitle.getChildByName(\"spine\"),false,true,CONST.SpineName.Normal);\r\n\r\n    },\r\n    //清理\r\n    OnDestroy() {\r\n        this.unscheduleAllCallbacks();\r\n        this.logic       = null;\r\n        this.unregisterEvent();\r\n\r\n        this.bossTipMoveToTime  = 0.5\r\n        this.node.isInit        = 1;\r\n        this.bulletTipTime      = 0;\r\n        this.clickFishPoolEvent = null;\r\n        this.clickFishPoolTime  = 0;\r\n        this.lastAngle          = null;\r\n        this.logic              = require(\"nfishlogic\").getInstance();//数据中心\r\n        this.fireTime           = 0;    //开火计时器\r\n        this.fireTimeFrequency  = 0.17; //开火频率\r\n        this.isFire             = true; //是否可以开火\r\n        this.logic.cannonLevel  = null;\r\n        this.isExit             = true;\r\n        if(this.turntableView)this.turntableView.destroy();\r\n        this.turntableView = null;\r\n        if(this.cornucopiaView)this.cornucopiaView.destroy();\r\n        this.cornucopiaView = null;\r\n    },\r\n    /**\r\n     * @param event\r\n     * @param type UI编辑器传参 有值就不做按钮连点过滤(且不等于特殊音效字段)  使用select分页按钮\r\n     * @Explain Button点击事件统一调用\r\n     */\r\n    OnClickButton(event, type) {\r\n        let buttonName = event.target.name;\r\n        let buttonNode = event.target;\r\n\r\n        if(buttonName == \"ui_menuBtn\" || buttonName == \"ui_BtnSub\" || buttonName == \"ui_BtnPlus\" || buttonName == \"ui_skillAuto\" || buttonName == \"ui_skillLock\"){\r\n            //这5个按钮就不限制\r\n        }else{\r\n            if (!type || type == \"select\"){\r\n                if (this.curClickState) return;\r\n                this.curClickState = true;\r\n                this.allCurTimeout = this.allCurTimeout || [];\r\n                this.allCurTimeout.push(setTimeout(() => {\r\n                    this.curClickState = false;\r\n                }, 500));\r\n            }\r\n        }\r\n\r\n        console.log(`点击了button -> ${buttonName}`);\r\n        switch (buttonName) {\r\n            case \"close_eff\":        //当前界面有播放特长音效的关闭按钮\r\n                glGame.audio.closeCurEffect();\r\n                glGame.audio.playLoadSoundEffectByPath(\"close\");\r\n                break;\r\n            case \"close\":\r\n                glGame.audio.playLoadSoundEffectByPath(\"close\");\r\n                break;\r\n            default:\r\n                if (type == \"select\") glGame.audio.playLoadSoundEffectByPath(\"select\");\r\n                else glGame.audio.playLoadSoundEffectByPath(\"click\");\r\n        }\r\n        this.onClick(buttonName, buttonNode);\r\n    },\r\n});"]}