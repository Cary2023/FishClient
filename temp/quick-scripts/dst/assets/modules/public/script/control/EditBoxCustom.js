
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/modules/public/script/control/EditBoxCustom.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3f972j1EE1CB7CoVi4srrbo', 'EditBoxCustom');
// modules/public/script/control/EditBoxCustom.js

"use strict";

var NORMALCY = 0;
var CHECKED = 1;
cc.Class({
  "extends": cc.Component,
  properties: {
    title: cc.String,
    placeholder: cc.String,
    editbox: cc.EditBox,
    placeholder_label: cc.Label,
    text_label: cc.Label,
    move_label: cc.Label,
    mask_node: cc.Node,
    frame_node: cc.Node,
    frame_spriter: cc.Sprite,
    bottom_spriter: cc.Sprite,
    bottom_pic: [cc.SpriteFrame],
    frame_pic: [cc.SpriteFrame]
  },
  onLoad: function onLoad() {
    var selfNode = this.node;

    this.node.getSelfFunc = function () {
      return selfNode.getComponent("EditBoxCustom");
    };

    this._topmovex = -(this.node.width / 2 - 75);
    this._topmovey = this.node.height / 2 + 5;
    this._topmaskmovex = this.editbox.node.getComponent(cc.Widget).left / 2;
    this._centermovex = -(this.node.width / 2 - 2);
    this._centermovey = 0;
    this._movetime = 0.05;
    this._tet_size = [1.15, 1]; //输入中，输入后    字体大小            

    this.mask_max = 20;
    this.move_label.string = this.title;
    this.placeholder_label.string = this.placeholder;
    this.move_label.node.x = this._centermovex;
    this.move_label.node.y = 0;
    this.mask_node.x = this._centermovex;
    this.mask_node.y = 0;
    this.mask_node.width = this.move_label.node.width + this.mask_max * 2;
    this.endedcall = 0;
    this.move_colos = [cc.color(0x93, 0xae, 0xdf), cc.color(0x32, 0x75, 0xE8)];
    this.bottom_spriter.spriteFrame = this.bottom_pic[NORMALCY];
    this.frame_spriter.spriteFrame = this.frame_pic[NORMALCY];
    this.move_label.node.color = this.move_colos[NORMALCY];
    this.text_label.node.scale = this._tet_size[NORMALCY];
  },
  onBegon: function onBegon() {
    if (this.editbox.string == "") {
      this.move_label.node.active = true;
      this.placeholder_label.string = "";
      this.mask_node.width = this.move_label.node.width + this.mask_max * 2;
      this.move_label.node.runAction(cc.moveTo(this._movetime, this._topmovex, this._topmovey));
      this.mask_node.runAction(cc.moveTo(this._movetime, this._topmovex - this.mask_max + this._topmaskmovex, this._topmovey));
      this.frame_node.runAction(cc.fadeIn(this._movetime));
    }

    this.bottom_spriter.spriteFrame = this.bottom_pic[CHECKED];
    this.frame_spriter.spriteFrame = this.frame_pic[CHECKED];
    this.move_label.node.color = this.move_colos[CHECKED];
    this.text_label.node.scale = this._tet_size[CHECKED];
  },
  onEnded: function onEnded() {
    var _this = this;

    if (this.editbox.string == "") {
      this.move_label.node.active = true;
      this.editbox.placeholder = "";
      this.move_label.node.runAction(cc.sequence(cc.moveTo(this._movetime, this._centermovex, this._centermovey), cc.callFunc(function () {
        _this.move_label.node.active = false;
        _this.placeholder_label.string = _this.placeholder;
      })));
      this.mask_node.runAction(cc.moveTo(this._movetime, this._centermovex, this._centermovey));
      this.frame_node.runAction(cc.fadeOut(this._movetime));
      this.bottom_spriter.spriteFrame = this.bottom_pic[NORMALCY];
    } else this.bottom_spriter.spriteFrame = this.bottom_pic[CHECKED];

    this.frame_spriter.spriteFrame = this.frame_pic[NORMALCY];
    this.move_label.node.color = this.move_colos[NORMALCY];
    this.text_label.node.scale = this._tet_size[NORMALCY];
    if (this.endedcall) this.endedcall();
  },
  setString: function setString(strContent) {
    var _this2 = this;

    if (strContent == "" && this.editbox.string == "") return;

    if (strContent == "" && this.editbox.string != "") {
      this.move_label.node.active = true;
      this.editbox.placeholder = "";
      this.move_label.node.runAction(cc.sequence(cc.moveTo(0, this._centermovex, this._centermovey), cc.callFunc(function () {
        _this2.move_label.node.active = false;
        _this2.placeholder_label.string = _this2.placeholder;
      })));
      this.mask_node.runAction(cc.moveTo(0, this._centermovex, this._centermovey));
      this.frame_node.runAction(cc.fadeOut(0));
    } else if (this.editbox.string == "" && strContent != "") {
      this.move_label.node.active = true;
      this.placeholder_label.string = "";
      this.mask_node.width = this.move_label.node.width + this.mask_max * 2;
      this.move_label.node.runAction(cc.moveTo(0, this._topmovex, this._topmovey));
      this.mask_node.runAction(cc.moveTo(0, this._topmovex - this.mask_max + this._topmaskmovex, this._topmovey));
      this.frame_node.runAction(cc.fadeIn(0));
    }

    this.editbox.string = strContent;
  },
  setPlaceholder: function setPlaceholder(placeholder) {
    if (placeholder == "") return;
    this.placeholder = placeholder;
    this.placeholder_label.string = this.placeholder;
  },
  onEndedCall: function onEndedCall(call) {
    this.endedcall = call;
  },
  update: function update(dt) {}
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcbW9kdWxlc1xccHVibGljXFxzY3JpcHRcXGNvbnRyb2xcXEVkaXRCb3hDdXN0b20uanMiXSwibmFtZXMiOlsiTk9STUFMQ1kiLCJDSEVDS0VEIiwiY2MiLCJDbGFzcyIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJ0aXRsZSIsIlN0cmluZyIsInBsYWNlaG9sZGVyIiwiZWRpdGJveCIsIkVkaXRCb3giLCJwbGFjZWhvbGRlcl9sYWJlbCIsIkxhYmVsIiwidGV4dF9sYWJlbCIsIm1vdmVfbGFiZWwiLCJtYXNrX25vZGUiLCJOb2RlIiwiZnJhbWVfbm9kZSIsImZyYW1lX3Nwcml0ZXIiLCJTcHJpdGUiLCJib3R0b21fc3ByaXRlciIsImJvdHRvbV9waWMiLCJTcHJpdGVGcmFtZSIsImZyYW1lX3BpYyIsIm9uTG9hZCIsInNlbGZOb2RlIiwibm9kZSIsImdldFNlbGZGdW5jIiwiZ2V0Q29tcG9uZW50IiwiX3RvcG1vdmV4Iiwid2lkdGgiLCJfdG9wbW92ZXkiLCJoZWlnaHQiLCJfdG9wbWFza21vdmV4IiwiV2lkZ2V0IiwibGVmdCIsIl9jZW50ZXJtb3ZleCIsIl9jZW50ZXJtb3ZleSIsIl9tb3ZldGltZSIsIl90ZXRfc2l6ZSIsIm1hc2tfbWF4Iiwic3RyaW5nIiwieCIsInkiLCJlbmRlZGNhbGwiLCJtb3ZlX2NvbG9zIiwiY29sb3IiLCJzcHJpdGVGcmFtZSIsInNjYWxlIiwib25CZWdvbiIsImFjdGl2ZSIsInJ1bkFjdGlvbiIsIm1vdmVUbyIsImZhZGVJbiIsIm9uRW5kZWQiLCJzZXF1ZW5jZSIsImNhbGxGdW5jIiwiZmFkZU91dCIsInNldFN0cmluZyIsInN0ckNvbnRlbnQiLCJzZXRQbGFjZWhvbGRlciIsIm9uRW5kZWRDYWxsIiwiY2FsbCIsInVwZGF0ZSIsImR0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLElBQU1BLFFBQVEsR0FBRyxDQUFqQjtBQUNBLElBQU1DLE9BQU8sR0FBRyxDQUFoQjtBQUVBQyxFQUFF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S2hCLFNBQUwsQ0FBZW9DLFNBQWYsQ0FBeUJqRCxFQUFFLENBQUNrRCxNQUFILENBQVUsQ0FBVixFQUFhLEtBQUt2QixTQUFMLEdBQWlCLEtBQUtXLFFBQXRCLEdBQWlDLEtBQUtQLGFBQW5ELEVBQWtFLEtBQUtGLFNBQXZFLENBQXpCO0FBQ0EsV0FBS2QsVUFBTCxDQUFnQmtDLFNBQWhCLENBQTBCakQsRUFBRSxDQUFDbUQsTUFBSCxDQUFVLENBQVYsQ0FBMUI7QUFDSDs7QUFDRCxTQUFLNUMsT0FBTCxDQUFhZ0MsTUFBYixHQUFzQmtCLFVBQXRCO0FBQ0gsR0FuR0k7QUFzR0xDLEVBQUFBLGNBdEdLLDBCQXNHVXBELFdBdEdWLEVBc0d1QjtBQUN4QixRQUFJQSxXQUFXLElBQUksRUFBbkIsRUFBdUI7QUFDdkIsU0FBS0EsV0FBTCxHQUFtQkEsV0FBbkI7QUFDQSxTQUFLRyxpQkFBTCxDQUF1QjhCLE1BQXZCLEdBQWdDLEtBQUtqQyxXQUFyQztBQUNILEdBMUdJO0FBNEdMcUQsRUFBQUEsV0E1R0ssdUJBNEdPQyxJQTVHUCxFQTRHYTtBQUNkLFNBQUtsQixTQUFMLEdBQWlCa0IsSUFBakI7QUFDSCxHQTlHSTtBQWdITEMsRUFBQUEsTUFoSEssa0JBZ0hFQyxFQWhIRixFQWdITSxDQUNWO0FBakhJLENBQVQiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5jb25zdCBOT1JNQUxDWSA9IDA7XHJcbmNvbnN0IENIRUNLRUQgPSAxO1xyXG5cclxuY2MuQ2xhc3Moe1xyXG4gICAgZXh0ZW5kczogY2MuQ29tcG9uZW50LFxyXG4gICAgcHJvcGVydGllczoge1xyXG4gICAgICAgIHRpdGxlOiBjYy5TdHJpbmcsXHJcbiAgICAgICAgcGxhY2Vob2xkZXI6IGNjLlN0cmluZyxcclxuICAgICAgICBlZGl0Ym94OiBjYy5FZGl0Qm94LFxyXG4gICAgICAgIHBsYWNlaG9sZGVyX2xhYmVsOiBjYy5MYWJlbCxcclxuICAgICAgICB0ZXh0X2xhYmVsOiBjYy5MYWJlbCxcclxuICAgICAgICBtb3ZlX2xhYmVsOiBjYy5MYWJlbCxcclxuICAgICAgICBtYXNrX25vZGU6IGNjLk5vZGUsXHJcbiAgICAgICAgZnJhbWVfbm9kZTogY2MuTm9kZSxcclxuICAgICAgICBmcmFtZV9zcHJpdGVyOiBjYy5TcHJpdGUsXHJcbiAgICAgICAgYm90dG9tX3Nwcml0ZXI6IGNjLlNwcml0ZSxcclxuICAgICAgICBib3R0b21fcGljOiBbY2MuU3ByaXRlRnJhbWVdLFxyXG4gICAgICAgIGZyYW1lX3BpYzogW2NjLlNwcml0ZUZyYW1lXSxcclxuICAgIH0sXHJcblxyXG4gICAgb25Mb2FkKCkge1xyXG4gICAgICAgIHZhciBzZWxmTm9kZSA9IHRoaXMubm9kZTtcclxuICAgICAgICB0aGlzLm5vZGUuZ2V0U2VsZkZ1bmMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzZWxmTm9kZS5nZXRDb21wb25lbnQoXCJFZGl0Qm94Q3VzdG9tXCIpOyB9O1xyXG4gICAgICAgIHRoaXMuX3RvcG1vdmV4ID0gLSh0aGlzLm5vZGUud2lkdGggLyAyIC0gNzUpO1xyXG4gICAgICAgIHRoaXMuX3RvcG1vdmV5ID0gdGhpcy5ub2RlLmhlaWdodCAvIDIgKyA1O1xyXG4gICAgICAgIHRoaXMuX3RvcG1hc2ttb3ZleCA9IHRoaXMuZWRpdGJveC5ub2RlLmdldENvbXBvbmVudChjYy5XaWRnZXQpLmxlZnQgLyAyO1xyXG4gICAgICAgIHRoaXMuX2NlbnRlcm1vdmV4ID0gLSh0aGlzLm5vZGUud2lkdGggLyAyIC0gMik7XHJcbiAgICAgICAgdGhpcy5fY2VudGVybW92ZXkgPSAwO1xyXG4gICAgICAgIHRoaXMuX21vdmV0aW1lID0gMC4wNTtcclxuICAgICAgICB0aGlzLl90ZXRfc2l6ZSA9IFsxLjE1LCAxXTsgICAgICAgICAgLy/ovpPlhaXkuK3vvIzovpPlhaXlkI4gICAg5a2X5L2T5aSn5bCPICAgICAgICAgICAgXHJcblxyXG5cclxuICAgICAgICB0aGlzLm1hc2tfbWF4ID0gMjA7XHJcbiAgICAgICAgdGhpcy5tb3ZlX2xhYmVsLnN0cmluZyA9IHRoaXMudGl0bGU7XHJcbiAgICAgICAgdGhpcy5wbGFjZWhvbGRlcl9sYWJlbC5zdHJpbmcgPSB0aGlzLnBsYWNlaG9sZGVyO1xyXG4gICAgICAgIHRoaXMubW92ZV9sYWJlbC5ub2RlLnggPSB0aGlzLl9jZW50ZXJtb3ZleDtcclxuICAgICAgICB0aGlzLm1vdmVfbGFiZWwubm9kZS55ID0gMDtcclxuICAgICAgICB0aGlzLm1hc2tfbm9kZS54ID0gdGhpcy5fY2VudGVybW92ZXg7XHJcbiAgICAgICAgdGhpcy5tYXNrX25vZGUueSA9IDA7XHJcbiAgICAgICAgdGhpcy5tYXNrX25vZGUud2lkdGggPSB0aGlzLm1vdmVfbGFiZWwubm9kZS53aWR0aCArIHRoaXMubWFza19tYXggKiAyO1xyXG4gICAgICAgIHRoaXMuZW5kZWRjYWxsID0gMDtcclxuICAgICAgICB0aGlzLm1vdmVfY29sb3MgPSBbY2MuY29sb3IoMHg5MywgMHhhZSwgMHhkZiksIGNjLmNvbG9yKDB4MzIsIDB4NzUsIDB4RTgpXTtcclxuICAgICAgICB0aGlzLmJvdHRvbV9zcHJpdGVyLnNwcml0ZUZyYW1lID0gdGhpcy5ib3R0b21fcGljW05PUk1BTENZXTtcclxuICAgICAgICB0aGlzLmZyYW1lX3Nwcml0ZXIuc3ByaXRlRnJhbWUgPSB0aGlzLmZyYW1lX3BpY1tOT1JNQUxDWV07XHJcbiAgICAgICAgdGhpcy5tb3ZlX2xhYmVsLm5vZGUuY29sb3IgPSB0aGlzLm1vdmVfY29sb3NbTk9STUFMQ1ldO1xyXG4gICAgICAgIHRoaXMudGV4dF9sYWJlbC5ub2RlLnNjYWxlID0gdGhpcy5fdGV0X3NpemVbTk9STUFMQ1ldO1xyXG4gICAgfSxcclxuXHJcbiAgICBvbkJlZ29uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmVkaXRib3guc3RyaW5nID09IFwiXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlX2xhYmVsLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5wbGFjZWhvbGRlcl9sYWJlbC5zdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgICAgICB0aGlzLm1hc2tfbm9kZS53aWR0aCA9IHRoaXMubW92ZV9sYWJlbC5ub2RlLndpZHRoICsgdGhpcy5tYXNrX21heCAqIDI7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZV9sYWJlbC5ub2RlLnJ1bkFjdGlvbihjYy5tb3ZlVG8odGhpcy5fbW92ZXRpbWUsIHRoaXMuX3RvcG1vdmV4LCB0aGlzLl90b3Btb3ZleSkpO1xyXG4gICAgICAgICAgICB0aGlzLm1hc2tfbm9kZS5ydW5BY3Rpb24oY2MubW92ZVRvKHRoaXMuX21vdmV0aW1lLCB0aGlzLl90b3Btb3ZleCAtIHRoaXMubWFza19tYXggKyB0aGlzLl90b3BtYXNrbW92ZXgsIHRoaXMuX3RvcG1vdmV5KSk7XHJcbiAgICAgICAgICAgIHRoaXMuZnJhbWVfbm9kZS5ydW5BY3Rpb24oY2MuZmFkZUluKHRoaXMuX21vdmV0aW1lKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYm90dG9tX3Nwcml0ZXIuc3ByaXRlRnJhbWUgPSB0aGlzLmJvdHRvbV9waWNbQ0hFQ0tFRF07XHJcbiAgICAgICAgdGhpcy5mcmFtZV9zcHJpdGVyLnNwcml0ZUZyYW1lID0gdGhpcy5mcmFtZV9waWNbQ0hFQ0tFRF07XHJcbiAgICAgICAgdGhpcy5tb3ZlX2xhYmVsLm5vZGUuY29sb3IgPSB0aGlzLm1vdmVfY29sb3NbQ0hFQ0tFRF07XHJcbiAgICAgICAgdGhpcy50ZXh0X2xhYmVsLm5vZGUuc2NhbGUgPSB0aGlzLl90ZXRfc2l6ZVtDSEVDS0VEXTtcclxuICAgIH0sXHJcblxyXG4gICAgb25FbmRlZCgpIHtcclxuICAgICAgICBpZiAodGhpcy5lZGl0Ym94LnN0cmluZyA9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZV9sYWJlbC5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZWRpdGJveC5wbGFjZWhvbGRlciA9IFwiXCI7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZV9sYWJlbC5ub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5tb3ZlVG8odGhpcy5fbW92ZXRpbWUsIHRoaXMuX2NlbnRlcm1vdmV4LCB0aGlzLl9jZW50ZXJtb3ZleSksIGNjLmNhbGxGdW5jKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubW92ZV9sYWJlbC5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGFjZWhvbGRlcl9sYWJlbC5zdHJpbmcgPSB0aGlzLnBsYWNlaG9sZGVyO1xyXG4gICAgICAgICAgICB9KSkpO1xyXG4gICAgICAgICAgICB0aGlzLm1hc2tfbm9kZS5ydW5BY3Rpb24oY2MubW92ZVRvKHRoaXMuX21vdmV0aW1lLCB0aGlzLl9jZW50ZXJtb3ZleCwgdGhpcy5fY2VudGVybW92ZXkpKTtcclxuICAgICAgICAgICAgdGhpcy5mcmFtZV9ub2RlLnJ1bkFjdGlvbihjYy5mYWRlT3V0KHRoaXMuX21vdmV0aW1lKSk7XHJcbiAgICAgICAgICAgIHRoaXMuYm90dG9tX3Nwcml0ZXIuc3ByaXRlRnJhbWUgPSB0aGlzLmJvdHRvbV9waWNbTk9STUFMQ1ldO1xyXG4gICAgICAgIH0gZWxzZSB0aGlzLmJvdHRvbV9zcHJpdGVyLnNwcml0ZUZyYW1lID0gdGhpcy5ib3R0b21fcGljW0NIRUNLRURdO1xyXG5cclxuICAgICAgICB0aGlzLmZyYW1lX3Nwcml0ZXIuc3ByaXRlRnJhbWUgPSB0aGlzLmZyYW1lX3BpY1tOT1JNQUxDWV07XHJcbiAgICAgICAgdGhpcy5tb3ZlX2xhYmVsLm5vZGUuY29sb3IgPSB0aGlzLm1vdmVfY29sb3NbTk9STUFMQ1ldO1xyXG4gICAgICAgIHRoaXMudGV4dF9sYWJlbC5ub2RlLnNjYWxlID0gdGhpcy5fdGV0X3NpemVbTk9STUFMQ1ldO1xyXG4gICAgICAgIGlmICh0aGlzLmVuZGVkY2FsbCkgdGhpcy5lbmRlZGNhbGwoKTtcclxuICAgIH0sXHJcblxyXG4gICAgc2V0U3RyaW5nKHN0ckNvbnRlbnQpIHtcclxuICAgICAgICBpZiAoc3RyQ29udGVudCA9PSBcIlwiICYmIHRoaXMuZWRpdGJveC5zdHJpbmcgPT0gXCJcIikgcmV0dXJuO1xyXG4gICAgICAgIGlmIChzdHJDb250ZW50ID09IFwiXCIgJiYgdGhpcy5lZGl0Ym94LnN0cmluZyAhPSBcIlwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZV9sYWJlbC5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZWRpdGJveC5wbGFjZWhvbGRlciA9IFwiXCI7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZV9sYWJlbC5ub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5tb3ZlVG8oMCwgdGhpcy5fY2VudGVybW92ZXgsIHRoaXMuX2NlbnRlcm1vdmV5KSwgY2MuY2FsbEZ1bmMoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlX2xhYmVsLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYWNlaG9sZGVyX2xhYmVsLnN0cmluZyA9IHRoaXMucGxhY2Vob2xkZXI7XHJcbiAgICAgICAgICAgIH0pKSk7XHJcbiAgICAgICAgICAgIHRoaXMubWFza19ub2RlLnJ1bkFjdGlvbihjYy5tb3ZlVG8oMCwgdGhpcy5fY2VudGVybW92ZXgsIHRoaXMuX2NlbnRlcm1vdmV5KSk7XHJcbiAgICAgICAgICAgIHRoaXMuZnJhbWVfbm9kZS5ydW5BY3Rpb24oY2MuZmFkZU91dCgwKSk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmVkaXRib3guc3RyaW5nID09IFwiXCIgJiYgc3RyQ29udGVudCAhPSBcIlwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZV9sYWJlbC5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMucGxhY2Vob2xkZXJfbGFiZWwuc3RyaW5nID0gXCJcIjtcclxuICAgICAgICAgICAgdGhpcy5tYXNrX25vZGUud2lkdGggPSB0aGlzLm1vdmVfbGFiZWwubm9kZS53aWR0aCArIHRoaXMubWFza19tYXggKiAyO1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVfbGFiZWwubm9kZS5ydW5BY3Rpb24oY2MubW92ZVRvKDAsIHRoaXMuX3RvcG1vdmV4LCB0aGlzLl90b3Btb3ZleSkpO1xyXG4gICAgICAgICAgICB0aGlzLm1hc2tfbm9kZS5ydW5BY3Rpb24oY2MubW92ZVRvKDAsIHRoaXMuX3RvcG1vdmV4IC0gdGhpcy5tYXNrX21heCArIHRoaXMuX3RvcG1hc2ttb3ZleCwgdGhpcy5fdG9wbW92ZXkpKTtcclxuICAgICAgICAgICAgdGhpcy5mcmFtZV9ub2RlLnJ1bkFjdGlvbihjYy5mYWRlSW4oMCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmVkaXRib3guc3RyaW5nID0gc3RyQ29udGVudDtcclxuICAgIH0sXHJcblxyXG5cclxuICAgIHNldFBsYWNlaG9sZGVyKHBsYWNlaG9sZGVyKSB7XHJcbiAgICAgICAgaWYgKHBsYWNlaG9sZGVyID09IFwiXCIpIHJldHVybjtcclxuICAgICAgICB0aGlzLnBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXI7XHJcbiAgICAgICAgdGhpcy5wbGFjZWhvbGRlcl9sYWJlbC5zdHJpbmcgPSB0aGlzLnBsYWNlaG9sZGVyO1xyXG4gICAgfSxcclxuXHJcbiAgICBvbkVuZGVkQ2FsbChjYWxsKSB7XHJcbiAgICAgICAgdGhpcy5lbmRlZGNhbGwgPSBjYWxsO1xyXG4gICAgfSxcclxuXHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgIH1cclxufSk7XHJcbiJdfQ==