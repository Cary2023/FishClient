
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/modules/plaza/script/prefab/up.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '8ff4dnWxlZO3L0mGe4I4JBA', 'up');
// modules/plaza/script/prefab/up.js

"use strict";

var RotateTime = 0.1;
var ScaleTime = 0.2;
glGame.baseclass.extend({
  properties: {
    tourist: cc.Node,
    //游客信息显示
    formalPlayer: cc.Node,
    //正式会员信息显示
    web_label: cc.Label,
    //玩家信息
    head_bg: cc.Node,
    //玩家头像以及红点父节点
    lab_userCoin: cc.Label,
    //玩家金币
    lab_userName: cc.Label,
    //玩家名字
    lab_userVip: cc.Label,
    //玩家vip等级
    userhead: cc.Node,
    //按钮
    btn_recharge: cc.Node,
    //btn_rank: cc.Node,
    // btn_signin: cc.Node,
    btn_more: cc.Node,
    moreButton: cc.Prefab,
    fullscreen: cc.Node,
    //logo
    logo_pos: cc.Node,
    node_logo: cc.Prefab
  },
  onLoad: function onLoad() {
    this.countdown = 0;
    this.webUrl = "";
    this.registerEvent();
    this.showUserInfo();
    this.userurldata();
    this.reqRedDot();
    glGame.panel.showChildPanel(this.node_logo, this.logo_pos);
    this.node.getChildByName("lab_bg").active = false;
    this.node.getChildByName("lab_devDesc").active = false;
    this.node.getChildByName("lab_devVersion").active = false; // this.btn_recharge.active = isEnableHotUpdate;

    if (!this.btn_recharge.active) {
      this.lab_userCoin.node.x = 0;
    } // this.interval = setInterval(()=> {
    //     this.setFullScreenState();
    // }, 500);


    this.setFullScreenState();
  },
  OnDestroy: function OnDestroy() {
    this.unRegisterEvent();
  },
  // 注册界面监听事件
  registerEvent: function registerEvent() {
    glGame.emitter.on("updateReqRebateRecord", this.showPump, this);
    glGame.emitter.on('updateSigninActive', this.showSignin, this);
    glGame.emitter.on("updateUserData", this.showUserInfo, this);
    glGame.emitter.on("showBindPhone", this.click_upgradeacc, this);
    glGame.emitter.on("ReqRedDot", this.reqRedDot, this);
    glGame.emitter.on("userurldata", this.userurldata, this);
  },
  // 销毁界面监听事件
  unRegisterEvent: function unRegisterEvent() {
    glGame.emitter.off("updateReqRebateRecord", this);
    glGame.emitter.off('updateSigninActive', this);
    glGame.emitter.off("updateUserData", this);
    glGame.emitter.off("showBindPhone", this);
    glGame.emitter.off("ReqRedDot", this);
    glGame.emitter.off("userurldata", this);
  },
  //url的显示数据
  userurldata: function userurldata() {
    if (!glGame.user.get("url")) return;
    var webUrl = this.webUrl = glGame.user.get("url").official_url;

    if (webUrl[0] == 'h' && webUrl[1] == 't' && webUrl[2] == 't' && webUrl[3] == 'p' && webUrl[4] == ':') {
      webUrl = webUrl.substr(7);
    }

    if (webUrl[0] == 'h' && webUrl[1] == 't' && webUrl[2] == 't' && webUrl[3] == 'p' && webUrl[4] == 's') {
      webUrl = webUrl.substr(8);
    }

    webUrl = "".concat(webUrl);
    this.web_label.string = webUrl ? webUrl : ""; //this.web_label._updateRenderData(true)

    if (this.web_label.node.width > 150) {
      this.web_label.node.anchorX = 0;
      this.web_label.node.x = -80;
    }
  },
  reqRedDot: function reqRedDot(data) {
    if (!data) data = glGame.user.get('redDotData');
    var count = 0;

    for (var i in data) {
      count++;
    }

    ;
    if (count == 0) return; //this.btn_lucky.getChildByName("redMark").active = data['dialRed'] == 1;
    // this.btn_signin.getChildByName("redMark").active = data['signinReq'] == 1;

    this.head_bg.getChildByName("redMark").active = data['vipReq'] == 1;

    if (data['dialRed'] == 1 && glGame.user.dialSwitch == 1 || data['payingReq'] == 1 || data['signinReq'] == 1) {
      this.btn_more.getChildByName("redMark").active = true;
    } else {
      this.btn_more.getChildByName("redMark").active = false;
    }
  },
  showPump: function showPump() {
    var userPumpRecord = glGame.user.get("userPumpRecord");
    var gameRecord = userPumpRecord;

    if (!gameRecord) {
      return glGame.user.ReqRebateRecord();
    }
  },
  showSignin: function showSignin() {
    var isOpenSign = glGame.user.get("isOpenSign");
    this.signinbtn.active = isOpenSign.sign_state == 1;
  },
  cutFloat: function cutFloat(num) {
    return this.getFloat(Number(num).div(100));
  },
  //浮点型运算取俩位
  getFloat: function getFloat(value) {
    var num = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;
    value = Number(value);
    if (isNaN(value)) return;

    if (~~value === value) {
      return value.toString();
    } else {
      return (Math.floor(value * 100) / 100).toFixed(num);
    }
  },
  // updateUserData 事件回调函数, 刷新玩家信息UI
  showUserInfo: function showUserInfo() {
    if (glGame.user.isTourist()) {
      //是否为游客
      this.tourist.active = true;
      this.formalPlayer.active = false;
    } else {
      this.tourist.active = false;
      this.formalPlayer.active = true;
      this.lab_userCoin.string = glGame.user.GoldTemp(glGame.user.get("coin"));
      this.lab_userName.string = glGame.user.get("nickname");
      glGame.panel.showHeadImage(this.userhead, glGame.user.get("headURL"));
      console.log("头像加载问题", this.head_bg.getChildByName("userHead"), glGame.user.get("headURL"));
      this.lab_userVip.string = glGame.user.get("vip_name");
    }
  },
  // 重写父类按钮点击事件
  onClick: function onClick(name, node) {
    var _this = this;

    switch (name) {
      case "btn_head_bg":
      case "userInfo":
        this.click_head();
        break;

      case "gold":
        this.click_addgold();
        break;

      case "upgradeacc":
      case "btn_zhuce":
        this.click_upgradeacc();
        break;

      case "btn_denglu":
        glGame.panel.showRegister();
        break;

      case "btn_dengluzhuce":
        glGame.panel.showRegister();
        break;

      case "notice":
        this.click_notice();
        break;

      case "setting":
        this.click_setting();
        break;

      case "welfare":
        this.click_welfare();
        break;

      case "btn_setting":
        this.click_setting();
        break;

      case "btn_fuzhi":
        this.click_officialweb();
        break;

      case "btn_service":
        this.click_service();
        break;

      case "btn_more":
        this.click_more();
        break;

      case "btn_fullscreen":
        this.click_fullscreen();
        break;

      case "btn_devVersion":
        if (glGame.isDevelop) {
          this.node.getChildByName("lab_bg").active = true;
          this.node.getChildByName("lab_devDesc").active = true;
          this.node.getChildByName("lab_devVersion").active = true;
          this.node.getChildByName("lab_devVersion").getComponent(cc.Label).string = glGame.devVersion + "";
          this.scheduleOnce(function () {
            _this.node.getChildByName("lab_devDesc").active = false;
            _this.node.getChildByName("lab_devVersion").active = false;
            _this.node.getChildByName("lab_bg").active = false;
          }, 30);
        }

        break;

      case "btn_recharge":
        if (this.countdown == 0) {
          this.countdown = 20;

          var funUp = function funUp() {
            this.countdown--;
            if (this.countdown == 0) this.unschedule(funUp);
          };

          this.schedule(funUp, 1);
          node.runAction(cc.sequence(cc.rotateBy(1, 1080), cc.rotateBy(0, 0)));
          glGame.gameNet.send_msg("http.reqBack", {}, function (route, msg) {});
        } else {
          console.log("现在定时器到时间是：countdown=", this.countdown);
          glGame.panel.showTip("\u64CD\u4F5C\u8FC7\u4E8E\u9891\u7E41\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5");
        }

        break;

      default:
        console.error("no find button name -> %s", name);
    }
  },
  click_more: function click_more() {
    glGame.panel.showPanel(this.moreButton);
  },
  click_fullscreen: function click_fullscreen() {
    var _this2 = this;

    if (this.isFullScreen()) {
      cc.screen.exitFullScreen();
    } else {
      cc.screen.requestFullScreen(null, function () {
        _this2.setFullScreenState();
      }, function () {
        _this2.setFullScreenState();
      });
    }
  },
  click_service: function click_service() {
    glGame.panel.showService();
  },
  click_officialweb: function click_officialweb() {
    glGame.platform.copyToClip(this.webUrl, "官网复制成功");
  },
  click_head: function click_head() {
    if (glGame.user.isTourist()) {
      glGame.panel.showRegisteredGift(true);
      return;
    }

    glGame.panel.showPanelByName("userinfo");
  },
  click_addgold: function click_addgold() {
    if (glGame.user.isTourist()) {
      glGame.panel.showRegisteredGift(true);
      return;
    }

    if (glGame.panel.showSuspicious("recharge")) {
      return;
    }

    glGame.panel.showShop();
  },
  click_upgradeacc: function click_upgradeacc() {
    glGame.panel.showRegistration();
  },
  click_notice: function click_notice() {
    glGame.panel.showPanelByName("notice");
  },
  // click_setting() {
  //     glGame.panel.showSetting(false);
  // },
  click_welfare: function click_welfare() {
    if (glGame.user.isTourist()) {
      glGame.panel.showRegisteredGift(true);
      return;
    }

    glGame.panel.showPanelByName("announcement");
  },
  click_setting: function click_setting() {
    glGame.panel.showPanelByName("settings");
  },
  setFullScreenState: function setFullScreenState() {
    if (!cc.sys.isBrowser || !cc.screen._supportsFullScreen) {
      this.fullscreen.active = false;
      return;
    }

    this.fullscreen.getChildByName("img_fullscreen").active = !this.isFullScreen();
    this.fullscreen.getChildByName("img_window").active = this.isFullScreen();
  },
  isFullScreen: function isFullScreen() {
    if (!cc.sys.isBrowser) {
      return false;
    }

    if (Math.abs(window.screen.width - document.body.scrollWidth) <= 2 && Math.abs(window.screen.height - document.body.scrollHeight) <= 2) {
      return true;
    }

    return false;
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcbW9kdWxlc1xccGxhemFcXHNjcmlwdFxccHJlZmFiXFx1cC5qcyJdLCJuYW1lcyI6WyJSb3RhdGVUaW1lIiwiU2NhbGVUaW1lIiwiZ2xHYW1lIiwiYmFzZWNsYXNzIiwiZXh0ZW5kIiwicHJvcGVydGllcyIsInRvdXJpc3QiLCJjYyIsIk5vZGUiLCJmb3JtYWxQbGF5ZXIiLCJ3ZWJfbGFiZWwiLCJMYWJlbCIsImhlYWRfYmciLCJsYWJfdXNlckNvaW4iLCJsYWJfdXNlck5hbWUiLCJsYWJfdXNlclZpcCIsInVzZXJoZWFkIiwiYnRuX3JlY2hhcmdlIiwiYnRuX21vcmUiLCJtb3JlQnV0dG9uIiwiUHJlZmFiIiwiZnVsbHNjcmVlbiIsImxvZ29fcG9zIiwibm9kZV9sb2dvIiwib25Mb2FkIiwiY291bnRkb3duIiwid2ViVXJsIiwicmVnaXN0ZXJFdmVudCIsInNob3dVc2VySW5mbyIsInVzZXJ1cmxkYXRhIiwicmVxUmVkRG90IiwicGFuZWwiLCJzaG93Q2hpbGRQYW5lbCIsIm5vZGUiLCJnZXRDaGlsZEJ5TmFtZSIsImFjdGl2ZSIsIngiLCJzZXRGdWxsU2NyZWVuU3RhdGUiLCJPbkRlc3Ryb3kiLCJ1blJlZ2lzdGVyRXZlbnQiLCJlbWl0dGVyIiwib24iLCJzaG93UHVtcCIsInNob3dTaWduaW4iLCJjbGlja191cGdyYWRlYWNjIiwib2ZmIiwidXNlciIsImdldCIsIm9mZmljaWFsX3VybCIsInN1YnN0ciIsInN0cmluZyIsIndpZHRoIiwiYW5jaG9yWCIsImRhdGEiLCJjb3VudCIsImkiLCJkaWFsU3dpdGNoIiwidXNlclB1bXBSZWNvcmQiLCJnYW1lUmVjb3JkIiwiUmVxUmViYXRlUmVjb3JkIiwiaXNPcGVuU2lnbiIsInNpZ25pbmJ0biIsInNpZ25fc3RhdGUiLCJjdXRGbG9hdCIsIm51bSIsImdldEZsb2F0IiwiTnVtYmVyIiwiZGl2IiwidmFsdWUiLCJpc05hTiIsInRvU3RyaW5nIiwiTWF0aCIsImZsb29yIiwidG9GaXhlZCIsImlzVG91cmlzdCIsIkdvbGRUZW1wIiwic2hvd0hlYWRJbWFnZSIsImNvbnNvbGUiLCJsb2ciLCJvbkNsaWNrIiwibmFtZSIsImNsaWNrX2hlYWQiLCJjbGlja19hZGRnb2xkIiwic2hvd1JlZ2lzdGVyIiwiY2xpY2tfbm90aWNlIiwiY2xpY2tfc2V0dGluZyIsImNsaWNrX3dlbGZhcmUiLCJjbGlja19vZmZpY2lhbHdlYiIsImNsaWNrX3NlcnZpY2UiLCJjbGlja19tb3JlIiwiY2xpY2tfZnVsbHNjcmVlbiIsImlzRGV2ZWxvcCIsImdldENvbXBvbmVudCIsImRldlZlcnNpb24iLCJzY2hlZHVsZU9uY2UiLCJmdW5VcCIsInVuc2NoZWR1bGUiLCJzY2hlZHVsZSIsInJ1bkFjdGlvbiIsInNlcXVlbmNlIiwicm90YXRlQnkiLCJnYW1lTmV0Iiwic2VuZF9tc2ciLCJyb3V0ZSIsIm1zZyIsInNob3dUaXAiLCJlcnJvciIsInNob3dQYW5lbCIsImlzRnVsbFNjcmVlbiIsInNjcmVlbiIsImV4aXRGdWxsU2NyZWVuIiwicmVxdWVzdEZ1bGxTY3JlZW4iLCJzaG93U2VydmljZSIsInBsYXRmb3JtIiwiY29weVRvQ2xpcCIsInNob3dSZWdpc3RlcmVkR2lmdCIsInNob3dQYW5lbEJ5TmFtZSIsInNob3dTdXNwaWNpb3VzIiwic2hvd1Nob3AiLCJzaG93UmVnaXN0cmF0aW9uIiwic3lzIiwiaXNCcm93c2VyIiwiX3N1cHBvcnRzRnVsbFNjcmVlbiIsImFicyIsIndpbmRvdyIsImRvY3VtZW50IiwiYm9keSIsInNjcm9sbFdpZHRoIiwiaGVpZ2h0Iiwic2Nyb2xsSGVpZ2h0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQU1BLFVBQVUsR0FBRyxHQUFuQjtBQUNBLElBQU1DLFNBQVMsR0FBRyxHQUFsQjtBQUVBQyxNQUFNLENBQUNDLFNBQVAsQ0FBaUJDLE1BQWpCLENBQXdCO0FBQ3BCQyxFQUFBQSxVQUFVLEVBQUU7QUFDUkMsSUFBQUEsT0FBTyxFQUFFQyxFQUFFLENBQUNDLElBREo7QUFD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NkQsQ0FBN0QsSUFDQ3hELElBQUksQ0FBQ29ELEdBQUwsQ0FBU0MsTUFBTSxDQUFDZixNQUFQLENBQWNtQixNQUFkLEdBQXVCSCxRQUFRLENBQUNDLElBQVQsQ0FBY0csWUFBOUMsS0FBK0QsQ0FEbkUsRUFDc0U7QUFDOUQsYUFBTyxJQUFQO0FBQ0g7O0FBRUwsV0FBTyxLQUFQO0FBQ0g7QUFyUm1CLENBQXhCIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBSb3RhdGVUaW1lID0gMC4xXHJcbmNvbnN0IFNjYWxlVGltZSA9IDAuMlxyXG5cclxuZ2xHYW1lLmJhc2VjbGFzcy5leHRlbmQoe1xyXG4gICAgcHJvcGVydGllczoge1xyXG4gICAgICAgIHRvdXJpc3Q6IGNjLk5vZGUsICAgIC8v5ri45a6i5L+h5oGv5pi+56S6XHJcbiAgICAgICAgZm9ybWFsUGxheWVyOiBjYy5Ob2RlLCAvL+ato+W8j+S8muWRmOS/oeaBr+aYvuekulxyXG5cclxuICAgICAgICB3ZWJfbGFiZWw6IGNjLkxhYmVsLFxyXG5cclxuICAgICAgICAvL+eOqeWutuS/oeaBr1xyXG4gICAgICAgIGhlYWRfYmc6IGNjLk5vZGUsLy/njqnlrrblpLTlg4/ku6Xlj4rnuqLngrnniLboioLngrlcclxuICAgICAgICBsYWJfdXNlckNvaW46IGNjLkxhYmVsLC8v546p5a626YeR5biBXHJcbiAgICAgICAgbGFiX3VzZXJOYW1lOiBjYy5MYWJlbCwvL+eOqeWutuWQjeWtl1xyXG4gICAgICAgIGxhYl91c2VyVmlwOiBjYy5MYWJlbCwvL+eOqeWutnZpcOetiee6p1xyXG4gICAgICAgIHVzZXJoZWFkOiBjYy5Ob2RlLFxyXG5cclxuICAgICAgICAvL+aMiemSrlxyXG4gICAgICAgIGJ0bl9yZWNoYXJnZTpjYy5Ob2RlLFxyXG5cclxuICAgICAgICAvL2J0bl9yYW5rOiBjYy5Ob2RlLFxyXG4gICAgICAgIC8vIGJ0bl9zaWduaW46IGNjLk5vZGUsXHJcbiAgICAgICAgYnRuX21vcmU6IGNjLk5vZGUsXHJcblxyXG4gICAgICAgIG1vcmVCdXR0b246IGNjLlByZWZhYixcclxuICAgICAgICBmdWxsc2NyZWVuOiBjYy5Ob2RlLFxyXG4gICAgICAgIC8vbG9nb1xyXG4gICAgICAgIGxvZ29fcG9zOiBjYy5Ob2RlLFxyXG4gICAgICAgIG5vZGVfbG9nbzogY2MuUHJlZmFiLFxyXG4gICAgfSxcclxuXHJcbiAgICBvbkxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5jb3VudGRvd24gPSAwO1xyXG4gICAgICAgIHRoaXMud2ViVXJsID0gXCJcIjtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoKTtcclxuICAgICAgICB0aGlzLnNob3dVc2VySW5mbygpO1xyXG4gICAgICAgIHRoaXMudXNlcnVybGRhdGEoKTtcclxuICAgICAgICB0aGlzLnJlcVJlZERvdCgpO1xyXG4gICAgICAgIGdsR2FtZS5wYW5lbC5zaG93Q2hpbGRQYW5lbCh0aGlzLm5vZGVfbG9nbywgdGhpcy5sb2dvX3Bvcyk7XHJcbiAgICAgICAgdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwibGFiX2JnXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcImxhYl9kZXZEZXNjXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcImxhYl9kZXZWZXJzaW9uXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIC8vIHRoaXMuYnRuX3JlY2hhcmdlLmFjdGl2ZSA9IGlzRW5hYmxlSG90VXBkYXRlO1xyXG4gICAgICAgIGlmICghdGhpcy5idG5fcmVjaGFyZ2UuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFiX3VzZXJDb2luLm5vZGUueCA9IDBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKT0+IHtcclxuICAgICAgICAvLyAgICAgdGhpcy5zZXRGdWxsU2NyZWVuU3RhdGUoKTtcclxuICAgICAgICAvLyB9LCA1MDApO1xyXG5cclxuICAgICAgICB0aGlzLnNldEZ1bGxTY3JlZW5TdGF0ZSgpO1xyXG4gICAgfSxcclxuICAgIE9uRGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLnVuUmVnaXN0ZXJFdmVudCgpO1xyXG4gICAgfSxcclxuICAgIC8vIOazqOWGjOeVjOmdouebkeWQrOS6i+S7tlxyXG4gICAgcmVnaXN0ZXJFdmVudCgpIHtcclxuICAgICAgICBnbEdhbWUuZW1pdHRlci5vbihcInVwZGF0ZVJlcVJlYmF0ZVJlY29yZFwiLCB0aGlzLnNob3dQdW1wLCB0aGlzKTtcclxuICAgICAgICBnbEdhbWUuZW1pdHRlci5vbigndXBkYXRlU2lnbmluQWN0aXZlJywgdGhpcy5zaG93U2lnbmluLCB0aGlzKTtcclxuICAgICAgICBnbEdhbWUuZW1pdHRlci5vbihcInVwZGF0ZVVzZXJEYXRhXCIsIHRoaXMuc2hvd1VzZXJJbmZvLCB0aGlzKTtcclxuICAgICAgICBnbEdhbWUuZW1pdHRlci5vbihcInNob3dCaW5kUGhvbmVcIiwgdGhpcy5jbGlja191cGdyYWRlYWNjLCB0aGlzKTtcclxuICAgICAgICBnbEdhbWUuZW1pdHRlci5vbihcIlJlcVJlZERvdFwiLCB0aGlzLnJlcVJlZERvdCwgdGhpcyk7XHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIub24oXCJ1c2VydXJsZGF0YVwiLCB0aGlzLnVzZXJ1cmxkYXRhLCB0aGlzKTtcclxuXHJcbiAgICB9LFxyXG4gICAgLy8g6ZSA5q+B55WM6Z2i55uR5ZCs5LqL5Lu2XHJcbiAgICB1blJlZ2lzdGVyRXZlbnQoKSB7XHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIub2ZmKFwidXBkYXRlUmVxUmViYXRlUmVjb3JkXCIsIHRoaXMpO1xyXG4gICAgICAgIGdsR2FtZS5lbWl0dGVyLm9mZigndXBkYXRlU2lnbmluQWN0aXZlJywgdGhpcyk7XHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIub2ZmKFwidXBkYXRlVXNlckRhdGFcIiwgdGhpcyk7XHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIub2ZmKFwic2hvd0JpbmRQaG9uZVwiLCB0aGlzKTtcclxuICAgICAgICBnbEdhbWUuZW1pdHRlci5vZmYoXCJSZXFSZWREb3RcIiwgdGhpcyk7XHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIub2ZmKFwidXNlcnVybGRhdGFcIiwgdGhpcyk7XHJcbiAgICB9LFxyXG4gICAgLy91cmznmoTmmL7npLrmlbDmja5cclxuICAgIHVzZXJ1cmxkYXRhKCkge1xyXG4gICAgICAgIGlmICghZ2xHYW1lLnVzZXIuZ2V0KFwidXJsXCIpKSByZXR1cm47XHJcbiAgICAgICAgbGV0IHdlYlVybCA9IHRoaXMud2ViVXJsID0gZ2xHYW1lLnVzZXIuZ2V0KFwidXJsXCIpLm9mZmljaWFsX3VybFxyXG4gICAgICAgIGlmICh3ZWJVcmxbMF0gPT0gJ2gnICYmIHdlYlVybFsxXSA9PSAndCcgJiYgd2ViVXJsWzJdID09ICd0JyAmJiB3ZWJVcmxbM10gPT0gJ3AnICYmIHdlYlVybFs0XSA9PSAnOicpIHtcclxuICAgICAgICAgICAgd2ViVXJsID0gd2ViVXJsLnN1YnN0cig3KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHdlYlVybFswXSA9PSAnaCcgJiYgd2ViVXJsWzFdID09ICd0JyAmJiB3ZWJVcmxbMl0gPT0gJ3QnICYmIHdlYlVybFszXSA9PSAncCcgJiYgd2ViVXJsWzRdID09ICdzJykge1xyXG4gICAgICAgICAgICB3ZWJVcmwgPSB3ZWJVcmwuc3Vic3RyKDgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB3ZWJVcmwgPSBgJHt3ZWJVcmx9YDtcclxuXHJcbiAgICAgICAgdGhpcy53ZWJfbGFiZWwuc3RyaW5nID0gd2ViVXJsID8gd2ViVXJsIDogXCJcIjtcclxuICAgICAgICAvL3RoaXMud2ViX2xhYmVsLl91cGRhdGVSZW5kZXJEYXRhKHRydWUpXHJcbiAgICAgICAgaWYgKHRoaXMud2ViX2xhYmVsLm5vZGUud2lkdGggPiAxNTApIHtcclxuICAgICAgICAgICAgdGhpcy53ZWJfbGFiZWwubm9kZS5hbmNob3JYID0gMDtcclxuICAgICAgICAgICAgdGhpcy53ZWJfbGFiZWwubm9kZS54ID0gLTgwO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZXFSZWREb3QoZGF0YSkge1xyXG4gICAgICAgIGlmICghZGF0YSkgZGF0YSA9IGdsR2FtZS51c2VyLmdldCgncmVkRG90RGF0YScpO1xyXG4gICAgICAgIGxldCBjb3VudCA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaSBpbiBkYXRhKSB7IGNvdW50KysgfTtcclxuICAgICAgICBpZiAoY291bnQgPT0gMCkgcmV0dXJuO1xyXG4gICAgICAgIC8vdGhpcy5idG5fbHVja3kuZ2V0Q2hpbGRCeU5hbWUoXCJyZWRNYXJrXCIpLmFjdGl2ZSA9IGRhdGFbJ2RpYWxSZWQnXSA9PSAxO1xyXG4gICAgICAgIC8vIHRoaXMuYnRuX3NpZ25pbi5nZXRDaGlsZEJ5TmFtZShcInJlZE1hcmtcIikuYWN0aXZlID0gZGF0YVsnc2lnbmluUmVxJ10gPT0gMTtcclxuICAgICAgICB0aGlzLmhlYWRfYmcuZ2V0Q2hpbGRCeU5hbWUoXCJyZWRNYXJrXCIpLmFjdGl2ZSA9IGRhdGFbJ3ZpcFJlcSddID09IDE7XHJcbiAgICAgICAgaWYgKChkYXRhWydkaWFsUmVkJ10gPT0gMSYmZ2xHYW1lLnVzZXIuZGlhbFN3aXRjaCA9PSAxKSB8fCBkYXRhWydwYXlpbmdSZXEnXSA9PSAxIHx8IGRhdGFbJ3NpZ25pblJlcSddID09IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5idG5fbW9yZS5nZXRDaGlsZEJ5TmFtZShcInJlZE1hcmtcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmJ0bl9tb3JlLmdldENoaWxkQnlOYW1lKFwicmVkTWFya1wiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2hvd1B1bXAoKSB7XHJcbiAgICAgICAgbGV0IHVzZXJQdW1wUmVjb3JkID0gZ2xHYW1lLnVzZXIuZ2V0KFwidXNlclB1bXBSZWNvcmRcIik7XHJcbiAgICAgICAgbGV0IGdhbWVSZWNvcmQgPSB1c2VyUHVtcFJlY29yZDtcclxuICAgICAgICBpZiAoIWdhbWVSZWNvcmQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdsR2FtZS51c2VyLlJlcVJlYmF0ZVJlY29yZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzaG93U2lnbmluKCkge1xyXG4gICAgICAgIGxldCBpc09wZW5TaWduID0gZ2xHYW1lLnVzZXIuZ2V0KFwiaXNPcGVuU2lnblwiKTtcclxuICAgICAgICB0aGlzLnNpZ25pbmJ0bi5hY3RpdmUgPSBpc09wZW5TaWduLnNpZ25fc3RhdGUgPT0gMTtcclxuICAgIH0sXHJcbiAgICBjdXRGbG9hdChudW0pIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuZ2V0RmxvYXQoTnVtYmVyKG51bSkuZGl2KDEwMCkpKTtcclxuICAgIH0sXHJcbiAgICAvL+a1rueCueWei+i/kOeul+WPluS/qeS9jVxyXG4gICAgZ2V0RmxvYXQodmFsdWUsIG51bSA9IDIpIHtcclxuICAgICAgICB2YWx1ZSA9IE51bWJlcih2YWx1ZSk7XHJcbiAgICAgICAgaWYgKGlzTmFOKHZhbHVlKSkgcmV0dXJuO1xyXG4gICAgICAgIGlmICh+fnZhbHVlID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gKE1hdGguZmxvb3IodmFsdWUgKiAxMDApIC8gMTAwKS50b0ZpeGVkKG51bSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8vIHVwZGF0ZVVzZXJEYXRhIOS6i+S7tuWbnuiwg+WHveaVsCwg5Yi35paw546p5a625L+h5oGvVUlcclxuICAgIHNob3dVc2VySW5mbygpIHtcclxuICAgICAgICBpZiAoZ2xHYW1lLnVzZXIuaXNUb3VyaXN0KCkpIHsgLy/mmK/lkKbkuLrmuLjlrqJcclxuICAgICAgICAgICAgdGhpcy50b3VyaXN0LmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZm9ybWFsUGxheWVyLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudG91cmlzdC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5mb3JtYWxQbGF5ZXIuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5sYWJfdXNlckNvaW4uc3RyaW5nID0gZ2xHYW1lLnVzZXIuR29sZFRlbXAoZ2xHYW1lLnVzZXIuZ2V0KFwiY29pblwiKSk7XHJcbiAgICAgICAgICAgIHRoaXMubGFiX3VzZXJOYW1lLnN0cmluZyA9IGdsR2FtZS51c2VyLmdldChcIm5pY2tuYW1lXCIpO1xyXG4gICAgICAgICAgICBnbEdhbWUucGFuZWwuc2hvd0hlYWRJbWFnZSh0aGlzLnVzZXJoZWFkLCBnbEdhbWUudXNlci5nZXQoXCJoZWFkVVJMXCIpKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCLlpLTlg4/liqDovb3pl67pophcIiwgdGhpcy5oZWFkX2JnLmdldENoaWxkQnlOYW1lKFwidXNlckhlYWRcIiksIGdsR2FtZS51c2VyLmdldChcImhlYWRVUkxcIikpXHJcbiAgICAgICAgICAgIHRoaXMubGFiX3VzZXJWaXAuc3RyaW5nID0gZ2xHYW1lLnVzZXIuZ2V0KFwidmlwX25hbWVcIilcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgLy8g6YeN5YaZ54i257G75oyJ6ZKu54K55Ye75LqL5Lu2XHJcbiAgICBvbkNsaWNrKG5hbWUsIG5vZGUpIHtcclxuICAgICAgICBzd2l0Y2ggKG5hbWUpIHtcclxuICAgICAgICAgICAgY2FzZSBcImJ0bl9oZWFkX2JnXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCJ1c2VySW5mb1wiOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGlja19oZWFkKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiZ29sZFwiOiB0aGlzLmNsaWNrX2FkZGdvbGQoKTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ1cGdyYWRlYWNjXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCJidG5femh1Y2VcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xpY2tfdXBncmFkZWFjYygpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJidG5fZGVuZ2x1XCI6XHJcbiAgICAgICAgICAgICAgICBnbEdhbWUucGFuZWwuc2hvd1JlZ2lzdGVyKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImJ0bl9kZW5nbHV6aHVjZVwiOiBnbEdhbWUucGFuZWwuc2hvd1JlZ2lzdGVyKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwibm90aWNlXCI6IHRoaXMuY2xpY2tfbm90aWNlKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwic2V0dGluZ1wiOiB0aGlzLmNsaWNrX3NldHRpbmcoKTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ3ZWxmYXJlXCI6IHRoaXMuY2xpY2tfd2VsZmFyZSgpOyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImJ0bl9zZXR0aW5nXCI6IHRoaXMuY2xpY2tfc2V0dGluZygpOyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImJ0bl9mdXpoaVwiOiB0aGlzLmNsaWNrX29mZmljaWFsd2ViKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYnRuX3NlcnZpY2VcIjogdGhpcy5jbGlja19zZXJ2aWNlKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYnRuX21vcmVcIjogdGhpcy5jbGlja19tb3JlKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYnRuX2Z1bGxzY3JlZW5cIjogdGhpcy5jbGlja19mdWxsc2NyZWVuKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYnRuX2RldlZlcnNpb25cIjpcclxuICAgICAgICAgICAgICAgIGlmIChnbEdhbWUuaXNEZXZlbG9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwibGFiX2JnXCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwibGFiX2RldkRlc2NcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJsYWJfZGV2VmVyc2lvblwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcImxhYl9kZXZWZXJzaW9uXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gZ2xHYW1lLmRldlZlcnNpb24gKyBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwibGFiX2RldkRlc2NcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcImxhYl9kZXZWZXJzaW9uXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJsYWJfYmdcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMzApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJidG5fcmVjaGFyZ2VcIjpcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvdW50ZG93biA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb3VudGRvd24gPSAyMDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZnVuVXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY291bnRkb3duLS07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvdW50ZG93biA9PSAwKSB0aGlzLnVuc2NoZWR1bGUoZnVuVXApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlKGZ1blVwLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICBub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5yb3RhdGVCeSgxLCAxMDgwKSwgY2Mucm90YXRlQnkoMCwgMCkpKTtcclxuICAgICAgICAgICAgICAgICAgICBnbEdhbWUuZ2FtZU5ldC5zZW5kX21zZyhcImh0dHAucmVxQmFja1wiLCB7fSwgKHJvdXRlLCBtc2cpID0+IHsgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi546w5Zyo5a6a5pe25Zmo5Yiw5pe26Ze05piv77yaY291bnRkb3duPVwiLCB0aGlzLmNvdW50ZG93bik7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2xHYW1lLnBhbmVsLnNob3dUaXAoYOaTjeS9nOi/h+S6jumikee5ge+8jOivt+eojeWQjuWGjeivlWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IGNvbnNvbGUuZXJyb3IoXCJubyBmaW5kIGJ1dHRvbiBuYW1lIC0+ICVzXCIsIG5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjbGlja19tb3JlKCkge1xyXG4gICAgICAgIGdsR2FtZS5wYW5lbC5zaG93UGFuZWwodGhpcy5tb3JlQnV0dG9uKVxyXG4gICAgfSxcclxuICAgIGNsaWNrX2Z1bGxzY3JlZW4oKSB7XHJcbiAgICAgICAgaWYodGhpcy5pc0Z1bGxTY3JlZW4oKSkge1xyXG4gICAgICAgICAgICBjYy5zY3JlZW4uZXhpdEZ1bGxTY3JlZW4oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjYy5zY3JlZW4ucmVxdWVzdEZ1bGxTY3JlZW4obnVsbCwgKCk9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldEZ1bGxTY3JlZW5TdGF0ZSgpO1xyXG4gICAgICAgICAgICB9LCAoKT0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0RnVsbFNjcmVlblN0YXRlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjbGlja19zZXJ2aWNlKCkge1xyXG4gICAgICAgIGdsR2FtZS5wYW5lbC5zaG93U2VydmljZSgpO1xyXG4gICAgfSxcclxuICAgIGNsaWNrX29mZmljaWFsd2ViKCkge1xyXG4gICAgICAgIGdsR2FtZS5wbGF0Zm9ybS5jb3B5VG9DbGlwKHRoaXMud2ViVXJsLCBcIuWumOe9keWkjeWItuaIkOWKn1wiKTtcclxuICAgIH0sXHJcbiAgICBjbGlja19oZWFkKCkge1xyXG4gICAgICAgIGlmIChnbEdhbWUudXNlci5pc1RvdXJpc3QoKSkge1xyXG4gICAgICAgICAgICBnbEdhbWUucGFuZWwuc2hvd1JlZ2lzdGVyZWRHaWZ0KHRydWUpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdsR2FtZS5wYW5lbC5zaG93UGFuZWxCeU5hbWUoXCJ1c2VyaW5mb1wiKTtcclxuICAgIH0sXHJcbiAgICBjbGlja19hZGRnb2xkKCkge1xyXG4gICAgICAgIGlmIChnbEdhbWUudXNlci5pc1RvdXJpc3QoKSkge1xyXG4gICAgICAgICAgICBnbEdhbWUucGFuZWwuc2hvd1JlZ2lzdGVyZWRHaWZ0KHRydWUpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChnbEdhbWUucGFuZWwuc2hvd1N1c3BpY2lvdXMoXCJyZWNoYXJnZVwiKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdsR2FtZS5wYW5lbC5zaG93U2hvcCgpO1xyXG4gICAgfSxcclxuICAgIGNsaWNrX3VwZ3JhZGVhY2MoKSB7XHJcbiAgICAgICAgZ2xHYW1lLnBhbmVsLnNob3dSZWdpc3RyYXRpb24oKTtcclxuICAgIH0sXHJcbiAgICBjbGlja19ub3RpY2UoKSB7XHJcbiAgICAgICAgZ2xHYW1lLnBhbmVsLnNob3dQYW5lbEJ5TmFtZShcIm5vdGljZVwiKTtcclxuICAgIH0sXHJcbiAgICAvLyBjbGlja19zZXR0aW5nKCkge1xyXG4gICAgLy8gICAgIGdsR2FtZS5wYW5lbC5zaG93U2V0dGluZyhmYWxzZSk7XHJcbiAgICAvLyB9LFxyXG5cclxuICAgIGNsaWNrX3dlbGZhcmUoKSB7XHJcbiAgICAgICAgaWYgKGdsR2FtZS51c2VyLmlzVG91cmlzdCgpKSB7XHJcbiAgICAgICAgICAgIGdsR2FtZS5wYW5lbC5zaG93UmVnaXN0ZXJlZEdpZnQodHJ1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZ2xHYW1lLnBhbmVsLnNob3dQYW5lbEJ5TmFtZShcImFubm91bmNlbWVudFwiKTtcclxuICAgIH0sXHJcbiAgICBjbGlja19zZXR0aW5nKCkge1xyXG4gICAgICAgIGdsR2FtZS5wYW5lbC5zaG93UGFuZWxCeU5hbWUoXCJzZXR0aW5nc1wiKTtcclxuICAgIH0sXHJcbiAgICBzZXRGdWxsU2NyZWVuU3RhdGUoKSB7XHJcbiAgICAgICAgaWYoIWNjLnN5cy5pc0Jyb3dzZXIgfHwgIWNjLnNjcmVlbi5fc3VwcG9ydHNGdWxsU2NyZWVuKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZnVsbHNjcmVlbi5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5mdWxsc2NyZWVuLmdldENoaWxkQnlOYW1lKFwiaW1nX2Z1bGxzY3JlZW5cIikuYWN0aXZlID0gIXRoaXMuaXNGdWxsU2NyZWVuKCk7XHJcbiAgICAgICAgdGhpcy5mdWxsc2NyZWVuLmdldENoaWxkQnlOYW1lKFwiaW1nX3dpbmRvd1wiKS5hY3RpdmUgPSB0aGlzLmlzRnVsbFNjcmVlbigpO1xyXG4gICAgfSxcclxuXHJcbiAgICBpc0Z1bGxTY3JlZW4oKSB7XHJcbiAgICAgICAgaWYoIWNjLnN5cy5pc0Jyb3dzZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoTWF0aC5hYnMod2luZG93LnNjcmVlbi53aWR0aCAtIGRvY3VtZW50LmJvZHkuc2Nyb2xsV2lkdGgpIDw9IDIgJiYgXHJcbiAgICAgICAgICAgIE1hdGguYWJzKHdpbmRvdy5zY3JlZW4uaGVpZ2h0IC0gZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQpIDw9IDIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufSk7XHJcbiJdfQ==