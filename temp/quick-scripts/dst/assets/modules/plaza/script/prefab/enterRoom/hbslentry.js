
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/modules/plaza/script/prefab/enterRoom/hbslentry.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1f6e6gBxeNGKZzUIDk/7jBe', 'hbslentry');
// modules/plaza/script/prefab/enterRoom/hbslentry.js

"use strict";

glGame.baseclass.extend({
  properties: {
    BGM: {
      type: cc.AudioClip,
      "default": null
    },
    gold_count: cc.Label,
    entrance_item: cc.Node,
    scrollView: cc.ScrollView,
    content: cc.Node,
    hbslRecord: cc.Prefab,
    hbslRule: cc.Prefab,
    sp_bg: [sp.SkeletonData],
    font: [cc.Font],
    hbsl_tipAni: cc.Prefab,
    bg_mask: cc.Node,
    fire_node: cc.Node,
    fireworks: cc.Node,
    launchPoint: cc.Node
  },
  // LIFE-CYCLE CALLBACKS:
  onLoad: function onLoad() {
    this.gameid = 0;
    this.node.zIndex = 20;
    glGame.emitter.on(MESSAGE.UI.ROOM_ENTER_SHOW, this.RootNodeShow, this);
    glGame.emitter.on(MESSAGE.UI.ROOM_ENTER_HIDE, this.RootNodeHide, this);
    glGame.emitter.on("nodeRemove", this.click_back, this);
    glGame.emitter.on("updateUserData", this.updateuserInfo, this);
    this.updateuserInfo();
    this.registerEvent();
    this.reqEnterArea();
    this.nodeInfo = {};
    this.initUI();
    this.indexFire = 0;
    this.playFireworks();
  },
  initUI: function initUI() {
    this.scrollView.getComponent(cc.Widget).updateAlignment();
    var s_width = this.scrollView.node.width;
    var item_width = this.entrance_item.width;
    this.spacing_x = (s_width - item_width * 3) / 5; // let c_layout = this.content.getComponent(cc.Layout);
    // c_layout.spacingX = spacing_x * 1.5;
    // c_layout.paddingLeft = spacing_x * 1.25;
    // c_layout.paddingRight = spacing_x * 1.25;
  },
  //事件监听
  registerEvent: function registerEvent() {
    // 监听scrollView的滚动事件
    this.scrollView.node.on("scroll-to-left", this.scrollLeftCb, this);
    this.scrollView.node.on("scroll-to-right", this.scrollRigthCb, this);
    glGame.emitter.on("onGameInfolist_area", this.onGameInfolist, this);
    glGame.emitter.on("onRoomInfo_area", this.onRoomInfo, this);
    glGame.emitter.on("onDeleteRoom_area", this.onDeleteRoom, this);
  },
  //事件销毁
  unregisterEvent: function unregisterEvent() {
    glGame.emitter.off("onGameInfolist_area", this);
    glGame.emitter.off("onRoomInfo_area", this);
    glGame.emitter.off("onDeleteRoom_area", this);
  },
  RootNodeShow: function RootNodeShow() {
    this.node.active = true;
    this.registerEvent();
    this.reqEnterArea();
  },
  RootNodeHide: function RootNodeHide() {
    for (var index = 0; index < this.content.childrenCount; index++) {
      this.content.children[index].active = false;
    }

    this.node.active = false;
    this.unregisterEvent();
  },
  //发包
  reqEnterArea: function reqEnterArea() {
    this.gameID = glGame.scenetag.HBSL;
    glGame.readyroom.reqEnterArea(glGame.scenetag.HBSL);
  },
  scrollLeftCb: function scrollLeftCb(scrollView) {
    // cc.log("**********************************触摸到Left，反弹函数");
    this.node.getChildByName("jiantou_l").active = false;
    this.node.getChildByName("jiantou_r").active = false;
    this.node.getChildByName("jiantou_r").active = true;
  },
  scrollRigthCb: function scrollRigthCb(scrollView) {
    // 回调的参数是 ScrollView 组件
    // do whatever you want with scrollview
    // cc.log("**********************************触摸到Rigth，反弹函数");
    this.node.getChildByName("jiantou_l").active = false;
    this.node.getChildByName("jiantou_r").active = false;
    this.node.getChildByName("jiantou_l").active = true;
  },
  onGameInfolist: function onGameInfolist(msg) {
    var _this = this;

    this.content.removeAllChildren();
    var index = 0;
    var roomlist = glGame.readyroom.roomlist;
    var gameInfoTest = glGame.readyroom.get("gameInfo");
    var spacingX = this.spacing_x * 1.5;
    this.content.width = (this.entrance_item.width + spacingX) * 4 + this.spacing_x * 1.25 * 2 - spacingX;
    this.content.getComponent(cc.Widget).updateAlignment();
    Object.values(gameInfoTest).forEach(function (gameInfo) {
      if (index < 4) {
        var item = cc.instantiate(_this.entrance_item);
        item.parent = _this.content;
        item.active = false;
        item.name = index + 1 + "";
        item.x = _this.spacing_x * 1.25 + _this.entrance_item.width / 2 + (_this.entrance_item.width + spacingX) * index;
        item.y = -_this.content.height / 2; // let bettype = index + 1;
        // let roomid = Object.keys(roomlist[bettype])[0];
        // item.name = roomid;
        // this.nodeInfo[roomid] = {
        //     tag: roomlist[bettype][roomid].roomserverid,
        //     type: bettype
        // }
        // 设置位置和刷新数据

        item.getChildByName("spine").getComponent(sp.Skeleton).skeletonData = _this.sp_bg[index]; // item.getChildByName("spine").getComponent(sp.Skeleton).setAnimation(0,"animation", true);

        item.getChildByName("difen_txt").getComponent(cc.Label).font = _this.font[index];
        var zhunru_txt = item.getChildByName("zhunru_txt").getComponent(cc.Label);
        zhunru_txt.font = _this.font[index];

        var small_num = _this.cutFloat(gameInfo.RedPacketMoney[0]);

        var big_num = _this.cutFloat(gameInfo.RedPacketMoney[gameInfo.RedPacketMoney.length - 1]);

        zhunru_txt.string = "".concat(small_num, "-").concat(big_num);
        index++;
      }
    });
    this.initAni();
  },
  initAni: function initAni() {
    this.renwu_pos = [];

    for (var index = 0; index < this.content.childrenCount; index++) {
      var pos = this.content.children[index].getPosition();
      this.renwu_pos.push(pos);
      this.content.children[index].x = this.node.width / 2 + pos.x;
      this.content.children[index].active = true;
      this.content.children[index].getChildByName("spine").getComponent(sp.Skeleton).setAnimation(0, "animation", true);
    }

    for (var i = 0; i < this.content.childrenCount; i++) {
      this.content.children[i].runAction(cc.sequence(cc.delayTime(i * 0.05), cc.moveTo(0.25, cc.v2(this.renwu_pos[i].x - 40, this.renwu_pos[i].y)), cc.moveTo(0.1, this.renwu_pos[i])));
    }
  },
  playFireworks: function playFireworks() {
    var _this2 = this;

    var time = Math.random() * 2;
    var indextemp = [1, 0, 3, 2];
    var index = indextemp[this.indexFire % 4];
    this.node.runAction(cc.sequence(cc.delayTime(time), cc.callFunc(function () {
      _this2.indexFire++; // console.log("烟花发射111111", index)

      _this2.emissionFire(index);

      _this2.playFireworks();
    })));
  },
  emissionFire: function emissionFire(index) {
    var distance = [this.node.height / 2, this.node.height / 2.5, this.node.height / 2.1, this.node.height / 1.8];
    var aniList = ["bluefireworks", "redfireworks", "yellowfireworks", "bluefireworks"];
    var scaleList = [2.5, 1.7, 1.5, 2];
    var fire_node = cc.instantiate(this.fire_node);
    fire_node.parent = this.bg_mask;
    fire_node.position = this.launchPoint.children[index].position;
    fire_node.active = true;
    var fireworks = cc.instantiate(this.fireworks);
    fireworks.parent = this.bg_mask;
    fireworks.setScale(scaleList[index]);
    fire_node.runAction(cc.sequence(cc.moveBy(1, 0, distance[index]), cc.callFunc(function () {
      fire_node.opacity = 0;
      fireworks.position = fire_node.position;
      fireworks.active = true;
      fireworks.getComponent(cc.Animation).play("".concat(aniList[index]));
    }), cc.delayTime(1.2), cc.callFunc(function () {
      fire_node.destroy();
      fireworks.destroy();
    })));
  },
  onRoomInfo: function onRoomInfo(msg) {},
  onDeleteRoom: function onDeleteRoom(msg) {},
  onClick: function onClick(name, node) {
    switch (name) {
      case "btn_back":
        this.click_back();
        break;

      case "btn_help":
        this.click_help();
        break;

      case "btn_record":
        this.click_record();
        break;

      case "mycoinInfo":
      case "btn_addgold":
        this.click_addgold();
        break;

      case "btn_start":
        this.showTip(name, node);
        break;

      case "jiantou_l":
      case "jiantou_r":
        console.log("点击了按钮");
        this.executionScrollTo(name);
        break;

      default:
        console.error("no find button name -> %s", name);
    }
  },
  executionScrollTo: function executionScrollTo(name) {
    this.node.getChildByName("jiantou_l").active = false;
    this.node.getChildByName("jiantou_r").active = false;

    if (name == "jiantou_l") {
      this.node.getChildByName("jiantou_r").active = true;
      this.scrollView.scrollToLeft(0.1);
    } else {
      this.node.getChildByName("jiantou_l").active = true;
      this.scrollView.scrollToRight(0.1);
    }
  },
  showTip: function showTip(name, node) {
    var _this3 = this;

    var tipAni = glGame.panel.showPanel(this.hbsl_tipAni);
    tipAni.zIndex = 30;
    this.node.runAction(cc.sequence(cc.delayTime(1.5), cc.callFunc(function () {
      glGame.emitter.emit("hbsl.hbsl_close_tip_ani");

      _this3.enterroom(name, node);
    })));
  },
  // 进入游戏的入口
  enterroom: function enterroom(name, node) {
    var _this4 = this;

    // 判断是否是游客
    if (glGame.user.isTourist()) {
      glGame.panel.showRegisteredGift(true);
      return;
    } // （判断用户账号是否异常 && 是否可以玩游戏） || 针对玩家游戏


    if (glGame.user.suspicious == 1 && glGame.user.game == 2 || glGame.user.is_game == 2) {
      glGame.panel.showDialog("", "您的账号数据异常，暂时禁止进入游戏，如有疑问，请联系客服！", function () {
        glGame.panel.showService();
      }, function () {}, "我知道了", "联系客服");
      return;
    }

    glGame.panel.showFieldSelectionJuHua();
    glGame.room.reqMyGameState(this.gameID, node.parent.name).then(function () {
      glGame.readyroom.enterHundredsRoomOther(_this4.gameID, node.parent.name);
    });
  },
  cutFloat: function cutFloat(value) {
    return Number(value).div(100).toString();
  },
  // 刷新金币
  updateuserInfo: function updateuserInfo() {
    var coin = glGame.user.get("coin");
    this.gold_count.string = glGame.user.GoldTemp(coin);
  },
  setGameId: function setGameId(gameid) {
    this.gameid = gameid;
  },
  updateBgInfo: function updateBgInfo() {},
  // 充值
  click_addgold: function click_addgold() {
    glGame.panel.showShop(30);
  },
  // 关闭当前页面
  click_back: function click_back() {
    glGame.readyroom.reqExitArea();
    this.remove();
  },
  // 帮助
  click_help: function click_help() {
    // glGame.panel.showNewGameRule(this.gameid, 30);
    var panel = glGame.panel.showPanel(this.hbslRule);
    panel.zIndex = 30; // this.showTip();
  },
  // 游戏记录
  click_record: function click_record() {
    // glGame.panel.showNewGameRecord(this.gameid, 30);
    var panel = glGame.panel.showPanel(this.hbslRecord);
    panel.zIndex = 30;
  },
  set: function set(key, value) {
    this[key] = value;
  },
  get: function get(key) {
    return this[key];
  },
  OnDestroy: function OnDestroy() {
    glGame.emitter.off(MESSAGE.UI.ROOM_ENTER_SHOW, this);
    glGame.emitter.off(MESSAGE.UI.ROOM_ENTER_HIDE, this);
    glGame.emitter.off("nodeRemove", this);
    glGame.emitter.off("updateUserData", this);
    this.unregisterEvent();
  } // update (dt) {},

});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcbW9kdWxlc1xccGxhemFcXHNjcmlwdFxccHJlZmFiXFxlbnRlclJvb21cXGhic2xlbnRyeS5qcyJdLCJuYW1lcyI6WyJnbEdhbWUiLCJiYXNlY2xhc3MiLCJleHRlbmQiLCJwcm9wZXJ0aWVzIiwiQkdNIiwidHlwZSIsImNjIiwiQXVkaW9DbGlwIiwiZ29sZF9jb3VudCIsIkxhYmVsIiwiZW50cmFuY2VfaXRlbSIsIk5vZGUiLCJzY3JvbGxWaWV3IiwiU2Nyb2xsVmlldyIsImNvbnRlbnQiLCJoYnNsUmVjb3JkIiwiUHJlZmFiIiwiaGJzbFJ1bGUiLCJzcF9iZyIsInNwIiwiU2tlbGV0b25EYXRhIiwiZm9udCIsIkZvbnQiLCJoYnNsX3RpcEFuaSIsImJnX21hc2siLCJmaXJlX25vZGUiLCJmaXJld29ya3MiLCJsYXVuY2hQb2ludCIsIm9uTG9hZCIsImdhbWVpZCIsIm5vZGUiLCJ6SW5kZXgiLCJlbWl0dGVyIiwib24iLCJNRVNTQUdFIiwiVUkiLCJST09NX0VOVEVSX1NIT1ciLCJSb290Tm9kZVNob3ciLCJST09NX0VOVEVSX0hJREUiLCJSb290Tm9kZUhpZGUiLCJjbGlja19iYWNrIiwidXBkYXRldXNlckluZm8iLCJyZWdpc3RlckV2ZW50IiwicmVxRW50ZXJBcmVhIiwibm9kZUluZm8iLCJpbml0VUkiLCJpbmRleEZpcmUiLCJwbGF5RmlyZXdvcmtzIiwiZ2V0Q29tcG9uZW50IiwiV2lkZ2V0IiwidXBkYXRlQWxpZ25tZW50Iiwic193aWR0aCIsIndpZHRoIiwiaXRlbV93aWR0aCIsInNwYWNpbmdfeCIsInNjcm9sbExlZnRDYiIsInNjcm9sbFJpZ3RoQ2IiLCJvbkdhbWVJbmZvbGlzdCIsIm9uUm9vbUluZm8iLCJvbkRlbGV0ZVJvb20iLCJ1bnJlZ2lzdGVyRXZlbnQiLCJvZmYiLCJhY3RpdmUiLCJpbmRleCIsImNoaWxkcmVuQ291bnQiLCJjaGlsZHJlbiIsImdhbWVJRCIsInNjZW5ldGFnIiwiSEJTTCIsInJlYWR5cm9vbSIsImdldENoaWxkQnlOYW1lIiwibXNnIiwicmVtb3ZlQWxsQ2hpbGRyZW4iLCJyb29tbGlzdCIsImdhbWVJbmZvVGVzdCIsImdldCIsInNwYWNpbmdYIiwiT2JqZWN0IiwidmFsdWVzIiwiZm9yRWFjaCIsImdhbWVJbmZvIiwiaXRlbSIsImluc3RhbnRpYXRlIiwicGFyZW50IiwibmFtZSIsIngiLCJ5IiwiaGVpZ2h0IiwiU2tlbGV0b24iLCJza2VsZXRvbkRhdGEiLCJ6aHVucnVfdHh0Iiwic21hbGxfbnVtIiwiY3V0RmxvYXQiLCJSZWRQYWNrZXRNb25leSIsImJpZ19udW0iLCJsZW5ndGgiLCJzdHJpbmciLCJpbml0QW5pIiwicmVud3VfcG9zIiwicG9zIiwiZ2V0UG9zaXRpb24iLCJwdXNoIiwic2V0QW5pbWF0aW9uIiwiaSIsInJ1bkFjdGlvbiIsInNlcXVlbmNlIiwiZGVsYXlUaW1lIiwibW92ZVRvIiwidjIiLCJ0aW1lIiwiTWF0aCIsInJhbmRvbSIsImluZGV4dGVtcCIsImNhbGxGdW5jIiwiZW1pc3Npb25GaXJlIiwiZGlzdGFuY2UiLCJhbmlMaXN0Iiwic2NhbGVMaXN0IiwicG9zaXRpb24iLCJzZXRTY2FsZSIsIm1vdmVCeSIsIm9wYWNpdHkiLCJBbmltYXRpb24iLCJwbGF5IiwiZGVzdHJveSIsIm9uQ2xpY2siLCJjbGlja19oZWxwIiwiY2xpY2tfcmVjb3JkIiwiY2xpY2tfYWRkZ29sZCIsInNob3dUaXAiLCJjb25zb2xlIiwibG9nIiwiZXhlY3V0aW9uU2Nyb2xsVG8iLCJlcnJvciIsInNjcm9sbFRvTGVmdCIsInNjcm9sbFRvUmlnaHQiLCJ0aXBBbmkiLCJwYW5lbCIsInNob3dQYW5lbCIsImVtaXQiLCJlbnRlcnJvb20iLCJ1c2VyIiwiaXNUb3VyaXN0Iiwic2hvd1JlZ2lzdGVyZWRHaWZ0Iiwic3VzcGljaW91cyIsImdhbWUiLCJpc19nYW1lIiwic2hvd0RpYWxvZyIsInNob3dTZXJ2aWNlIiwic2hvd0ZpZWxkU2VsZWN0aW9uSnVIdWEiLCJyb29tIiwicmVxTXlHYW1lU3RhdGUiLCJ0aGVuIiwiZW50ZXJIdW5kcmVkc1Jvb21PdGhlciIsInZhbHVlIiwiTnVtYmVyIiwiZGl2IiwidG9TdHJpbmciLCJjb2luIiwiR29sZFRlbXAiLCJzZXRHYW1lSWQiLCJ1cGRhdGVCZ0luZm8iLCJzaG93U2hvcCIsInJlcUV4aXRBcmVhIiwicmVtb3ZlIiwic2V0Iiwia2V5IiwiT25EZXN0cm95Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBQSxNQUFNLENBQUNDLFNBQVAsQ0FBaUJDLE1BQWpCLENBQXdCO0FBRXBCQyxFQUFBQSxVQUFVLEVBQUU7QUFDUkMsSUFBQUEsR0FBRyxFQUFFO0FBQ0RDLE1BQUFBLElBQUksRUFBRUMsRUFBRSxDQUFDQyxTQURSO0FBRUQsaUJBQVM7QUFGUixLQURHO0FBS1JDLElBQUFBLFVBQVUsRUFBRUYsRUFBRSxDQUFDRyxLQUxQO0FBTVJDLElBQUFBLGFBQWEsRUFBRUosRUFBRSxDQUFDSyxJQU5WO0FBT1JDLElBQUFBLFVBQVUsRUFBRU4sRUFBRSxDQUFDTyxVQVBQO0FBUVJDLElBQUFBLE9BQU8sRUFBRVIsRUFBRSxDQUFDSyxJQVJKO0FBU1JJLElBQUFBLFVBQVUsRUFBRVQsRUFBRSxDQUFDVSxNQVRQO0FBVVJDLElBQUFBLFFBQVEsRUFBRVgsRUFBRSxDQUFDVSxNQVZMO0FBV1JFLElBQUFBLEtBQUssRUFBRSxDQUFDQyxFQUFFLENBQUNDLFlBQUosQ0FYQztBQVlSQyxJQUFBQSxJQUFJLEVBQUUsQ0FBQ2YsRUFBRSxDQUFDZ0IsSUFBSixDQVpFO0FBYVJDLElBQUFBLFdBQVcsRUFBRWpCLEVBQUUsQ0FBQ1UsTUFiUjtBQWNSUSxJQUFBQSxPQUFPLEVBQUVsQixFQUFFLENBQUNLLElBZEo7QUFlUmMsSUFBQUEsU0FBUyxFQUFFbkIsRUFBRSxDQUFDSyxJQWZOO0FBZ0JSZSxJQUFBQSxTQUFTLEVBQUVwQixFQUFFLENBQUNLLElBaEJOO0FBaUJSZ0IsSUFBQUEsV0FBVyxFQUFFckIsRUFBRSxDQUFDSztBQWpCUixHQUZRO0FBc0JwQjtBQUVBaUIs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TUFBTixHQUFlLEVBQWYsQ0FIUyxDQUtUO0FBQ0gsR0FuU21CO0FBb1NwQjtBQUNBZ0csRUFBQUEsWUFyU29CLDBCQXFTTDtBQUNYO0FBQ0EsUUFBSVUsS0FBSyxHQUFHekksTUFBTSxDQUFDeUksS0FBUCxDQUFhQyxTQUFiLENBQXVCLEtBQUszSCxVQUE1QixDQUFaO0FBQ0EwSCxJQUFBQSxLQUFLLENBQUMxRyxNQUFOLEdBQWUsRUFBZjtBQUNILEdBelNtQjtBQTBTcEJzSSxFQUFBQSxHQTFTb0IsZUEwU2hCQyxHQTFTZ0IsRUEwU1haLEtBMVNXLEVBMFNKO0FBQ1osU0FBS1ksR0FBTCxJQUFZWixLQUFaO0FBQ0gsR0E1U21CO0FBNlNwQi9FLEVBQUFBLEdBN1NvQixlQTZTaEIyRixHQTdTZ0IsRUE2U1g7QUFDTCxXQUFPLEtBQUtBLEdBQUwsQ0FBUDtBQUNILEdBL1NtQjtBQWdUcEJDLEVBQUFBLFNBaFRvQix1QkFnVFI7QUFDUnZLLElBQUFBLE1BQU0sQ0FBQ2dDLE9BQVAsQ0FBZTZCLEdBQWYsQ0FBbUIzQixPQUFPLENBQUNDLEVBQVIsQ0FBV0MsZUFBOUIsRUFBK0MsSUFBL0M7QUFDQXBDLElBQUFBLE1BQU0sQ0FBQ2dDLE9BQVAsQ0FBZTZCLEdBQWYsQ0FBbUIzQixPQUFPLENBQUNDLEVBQVIsQ0FBV0csZUFBOUIsRUFBK0MsSUFBL0M7QUFDQXRDLElBQUFBLE1BQU0sQ0FBQ2dDLE9BQVAsQ0FBZTZCLEdBQWYsQ0FBbUIsWUFBbkIsRUFBaUMsSUFBakM7QUFDQTdELElBQUFBLE1BQU0sQ0FBQ2dDLE9BQVAsQ0FBZTZCLEdBQWYsQ0FBbUIsZ0JBQW5CLEVBQXFDLElBQXJDO0FBQ0EsU0FBS0QsZUFBTDtBQUNILEdBdFRtQixDQXVUcEI7O0FBdlRvQixDQUF4QiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiZ2xHYW1lLmJhc2VjbGFzcy5leHRlbmQoe1xyXG5cclxuICAgIHByb3BlcnRpZXM6IHtcclxuICAgICAgICBCR006IHtcclxuICAgICAgICAgICAgdHlwZTogY2MuQXVkaW9DbGlwLFxyXG4gICAgICAgICAgICBkZWZhdWx0OiBudWxsLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ29sZF9jb3VudDogY2MuTGFiZWwsXHJcbiAgICAgICAgZW50cmFuY2VfaXRlbTogY2MuTm9kZSxcclxuICAgICAgICBzY3JvbGxWaWV3OiBjYy5TY3JvbGxWaWV3LFxyXG4gICAgICAgIGNvbnRlbnQ6IGNjLk5vZGUsXHJcbiAgICAgICAgaGJzbFJlY29yZDogY2MuUHJlZmFiLFxyXG4gICAgICAgIGhic2xSdWxlOiBjYy5QcmVmYWIsXHJcbiAgICAgICAgc3BfYmc6IFtzcC5Ta2VsZXRvbkRhdGFdLFxyXG4gICAgICAgIGZvbnQ6IFtjYy5Gb250XSxcclxuICAgICAgICBoYnNsX3RpcEFuaTogY2MuUHJlZmFiLFxyXG4gICAgICAgIGJnX21hc2s6IGNjLk5vZGUsXHJcbiAgICAgICAgZmlyZV9ub2RlOiBjYy5Ob2RlLFxyXG4gICAgICAgIGZpcmV3b3JrczogY2MuTm9kZSxcclxuICAgICAgICBsYXVuY2hQb2ludDogY2MuTm9kZSxcclxuICAgIH0sXHJcblxyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcblxyXG4gICAgb25Mb2FkKCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZWlkID0gMDtcclxuICAgICAgICB0aGlzLm5vZGUuekluZGV4ID0gMjA7XHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIub24oTUVTU0FHRS5VSS5ST09NX0VOVEVSX1NIT1csIHRoaXMuUm9vdE5vZGVTaG93LCB0aGlzKTtcclxuICAgICAgICBnbEdhbWUuZW1pdHRlci5vbihNRVNTQUdFLlVJLlJPT01fRU5URVJfSElERSwgdGhpcy5Sb290Tm9kZUhpZGUsIHRoaXMpO1xyXG4gICAgICAgIGdsR2FtZS5lbWl0dGVyLm9uKFwibm9kZVJlbW92ZVwiLCB0aGlzLmNsaWNrX2JhY2ssIHRoaXMpO1xyXG4gICAgICAgIGdsR2FtZS5lbWl0dGVyLm9uKFwidXBkYXRlVXNlckRhdGFcIiwgdGhpcy51cGRhdGV1c2VySW5mbywgdGhpcyk7XHJcbiAgICAgICAgdGhpcy51cGRhdGV1c2VySW5mbygpO1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJFdmVudCgpO1xyXG4gICAgICAgIHRoaXMucmVxRW50ZXJBcmVhKCk7XHJcbiAgICAgICAgdGhpcy5ub2RlSW5mbyA9IHt9O1xyXG4gICAgICAgIHRoaXMuaW5pdFVJKCk7XHJcbiAgICAgICAgdGhpcy5pbmRleEZpcmUgPSAwO1xyXG4gICAgICAgIHRoaXMucGxheUZpcmV3b3JrcygpO1xyXG4gICAgfSxcclxuICAgIGluaXRVSSgpIHtcclxuICAgICAgICB0aGlzLnNjcm9sbFZpZXcuZ2V0Q29tcG9uZW50KGNjLldpZGdldCkudXBkYXRlQWxpZ25tZW50KCk7XHJcblxyXG4gICAgICAgIGxldCBzX3dpZHRoID0gdGhpcy5zY3JvbGxWaWV3Lm5vZGUud2lkdGg7XHJcbiAgICAgICAgbGV0IGl0ZW1fd2lkdGggPSB0aGlzLmVudHJhbmNlX2l0ZW0ud2lkdGg7XHJcbiAgICAgICAgdGhpcy5zcGFjaW5nX3ggPSAgKHNfd2lkdGggLSBpdGVtX3dpZHRoICogMykgLyA1O1xyXG4gICAgICAgIC8vIGxldCBjX2xheW91dCA9IHRoaXMuY29udGVudC5nZXRDb21wb25lbnQoY2MuTGF5b3V0KTtcclxuICAgICAgICAvLyBjX2xheW91dC5zcGFjaW5nWCA9IHNwYWNpbmdfeCAqIDEuNTtcclxuICAgICAgICAvLyBjX2xheW91dC5wYWRkaW5nTGVmdCA9IHNwYWNpbmdfeCAqIDEuMjU7XHJcbiAgICAgICAgLy8gY19sYXlvdXQucGFkZGluZ1JpZ2h0ID0gc3BhY2luZ194ICogMS4yNTtcclxuICAgIH0sXHJcbiAgICAvL+S6i+S7tuebkeWQrFxyXG4gICAgcmVnaXN0ZXJFdmVudCgpIHtcclxuICAgICAgICAvLyDnm5HlkKxzY3JvbGxWaWV355qE5rua5Yqo5LqL5Lu2XHJcbiAgICAgICAgdGhpcy5zY3JvbGxWaWV3Lm5vZGUub24oXCJzY3JvbGwtdG8tbGVmdFwiLCB0aGlzLnNjcm9sbExlZnRDYiwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5zY3JvbGxWaWV3Lm5vZGUub24oXCJzY3JvbGwtdG8tcmlnaHRcIiwgdGhpcy5zY3JvbGxSaWd0aENiLCB0aGlzKTtcclxuXHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIub24oXCJvbkdhbWVJbmZvbGlzdF9hcmVhXCIsIHRoaXMub25HYW1lSW5mb2xpc3QsIHRoaXMpO1xyXG4gICAgICAgIGdsR2FtZS5lbWl0dGVyLm9uKFwib25Sb29tSW5mb19hcmVhXCIsIHRoaXMub25Sb29tSW5mbywgdGhpcyk7XHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIub24oXCJvbkRlbGV0ZVJvb21fYXJlYVwiLCB0aGlzLm9uRGVsZXRlUm9vbSwgdGhpcyk7XHJcbiAgICB9LFxyXG4gICAgLy/kuovku7bplIDmr4FcclxuICAgIHVucmVnaXN0ZXJFdmVudCgpIHtcclxuICAgICAgICBnbEdhbWUuZW1pdHRlci5vZmYoXCJvbkdhbWVJbmZvbGlzdF9hcmVhXCIsIHRoaXMpO1xyXG4gICAgICAgIGdsR2FtZS5lbWl0dGVyLm9mZihcIm9uUm9vbUluZm9fYXJlYVwiLCB0aGlzKTtcclxuICAgICAgICBnbEdhbWUuZW1pdHRlci5vZmYoXCJvbkRlbGV0ZVJvb21fYXJlYVwiLCB0aGlzKTtcclxuICAgIH0sXHJcbiAgICBSb290Tm9kZVNob3coKSB7XHJcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlckV2ZW50KCk7XHJcbiAgICAgICAgdGhpcy5yZXFFbnRlckFyZWEoKTtcclxuICAgIH0sXHJcbiAgICBSb290Tm9kZUhpZGUoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuY29udGVudC5jaGlsZHJlbkNvdW50OyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGVudC5jaGlsZHJlbltpbmRleF0uYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnVucmVnaXN0ZXJFdmVudCgpO1xyXG4gICAgfSxcclxuICAgIC8v5Y+R5YyFXHJcbiAgICByZXFFbnRlckFyZWEoKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lSUQgPSBnbEdhbWUuc2NlbmV0YWcuSEJTTDtcclxuICAgICAgICBnbEdhbWUucmVhZHlyb29tLnJlcUVudGVyQXJlYShnbEdhbWUuc2NlbmV0YWcuSEJTTCk7XHJcbiAgICB9LFxyXG4gICAgc2Nyb2xsTGVmdENiKHNjcm9sbFZpZXcpe1xyXG4gICAgICAgIC8vIGNjLmxvZyhcIioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKirop6bmkbjliLBMZWZ077yM5Y+N5by55Ye95pWwXCIpO1xyXG4gICAgICAgIHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcImppYW50b3VfbFwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJqaWFudG91X3JcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwiamlhbnRvdV9yXCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICB9LFxyXG4gICAgc2Nyb2xsUmlndGhDYihzY3JvbGxWaWV3KSB7XHJcbiAgICAgICAgLy8g5Zue6LCD55qE5Y+C5pWw5pivIFNjcm9sbFZpZXcg57uE5Lu2XHJcbiAgICAgICAgLy8gZG8gd2hhdGV2ZXIgeW91IHdhbnQgd2l0aCBzY3JvbGx2aWV3XHJcbiAgICAgICAgLy8gY2MubG9nKFwiKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKuinpuaRuOWIsFJpZ3Ro77yM5Y+N5by55Ye95pWwXCIpO1xyXG4gICAgICAgIHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcImppYW50b3VfbFwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJqaWFudG91X3JcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwiamlhbnRvdV9sXCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgfSxcclxuICAgIG9uR2FtZUluZm9saXN0KG1zZykge1xyXG4gICAgICAgIHRoaXMuY29udGVudC5yZW1vdmVBbGxDaGlsZHJlbigpO1xyXG4gICAgICAgIGxldCBpbmRleCA9IDA7XHJcbiAgICAgICAgbGV0IHJvb21saXN0ID0gZ2xHYW1lLnJlYWR5cm9vbS5yb29tbGlzdDtcclxuICAgICAgICBsZXQgZ2FtZUluZm9UZXN0ID0gZ2xHYW1lLnJlYWR5cm9vbS5nZXQoXCJnYW1lSW5mb1wiKTtcclxuICAgICAgICBsZXQgc3BhY2luZ1ggPSB0aGlzLnNwYWNpbmdfeCAqIDEuNTtcclxuICAgICAgICB0aGlzLmNvbnRlbnQud2lkdGggPSAodGhpcy5lbnRyYW5jZV9pdGVtLndpZHRoICsgc3BhY2luZ1gpICogNCAgKyB0aGlzLnNwYWNpbmdfeCAqIDEuMjUgKiAyIC0gc3BhY2luZ1g7XHJcbiAgICAgICAgdGhpcy5jb250ZW50LmdldENvbXBvbmVudChjYy5XaWRnZXQpLnVwZGF0ZUFsaWdubWVudCgpO1xyXG4gICAgICAgIE9iamVjdC52YWx1ZXMoZ2FtZUluZm9UZXN0KS5mb3JFYWNoKGdhbWVJbmZvPT57XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA8IDQpIHtcclxuICAgICAgICAgICAgICAgIGxldCBpdGVtID0gY2MuaW5zdGFudGlhdGUodGhpcy5lbnRyYW5jZV9pdGVtKTtcclxuICAgICAgICAgICAgICAgIGl0ZW0ucGFyZW50ID0gdGhpcy5jb250ZW50O1xyXG4gICAgICAgICAgICAgICAgaXRlbS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGl0ZW0ubmFtZSA9IChpbmRleCArIDEpICsgXCJcIjtcclxuICAgICAgICAgICAgICAgIGl0ZW0ueCA9IHRoaXMuc3BhY2luZ194ICogMS4yNSArIHRoaXMuZW50cmFuY2VfaXRlbS53aWR0aCAvIDIgKyAodGhpcy5lbnRyYW5jZV9pdGVtLndpZHRoICsgc3BhY2luZ1gpICogaW5kZXg7XHJcbiAgICAgICAgICAgICAgICBpdGVtLnkgPSAtdGhpcy5jb250ZW50LmhlaWdodC8yO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGxldCBiZXR0eXBlID0gaW5kZXggKyAxO1xyXG4gICAgICAgICAgICAgICAgLy8gbGV0IHJvb21pZCA9IE9iamVjdC5rZXlzKHJvb21saXN0W2JldHR5cGVdKVswXTtcclxuICAgICAgICAgICAgICAgIC8vIGl0ZW0ubmFtZSA9IHJvb21pZDtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMubm9kZUluZm9bcm9vbWlkXSA9IHtcclxuICAgICAgICAgICAgICAgIC8vICAgICB0YWc6IHJvb21saXN0W2JldHR5cGVdW3Jvb21pZF0ucm9vbXNlcnZlcmlkLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIHR5cGU6IGJldHR5cGVcclxuICAgICAgICAgICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyDorr7nva7kvY3nva7lkozliLfmlrDmlbDmja5cclxuICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJzcGluZVwiKS5nZXRDb21wb25lbnQoc3AuU2tlbGV0b24pLnNrZWxldG9uRGF0YSA9IHRoaXMuc3BfYmdbaW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgLy8gaXRlbS5nZXRDaGlsZEJ5TmFtZShcInNwaW5lXCIpLmdldENvbXBvbmVudChzcC5Ta2VsZXRvbikuc2V0QW5pbWF0aW9uKDAsXCJhbmltYXRpb25cIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwiZGlmZW5fdHh0XCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuZm9udCA9IHRoaXMuZm9udFtpbmRleF07XHJcbiAgICAgICAgICAgICAgICBsZXQgemh1bnJ1X3R4dCA9IGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJ6aHVucnVfdHh0XCIpLmdldENvbXBvbmVudChjYy5MYWJlbCk7XHJcbiAgICAgICAgICAgICAgICB6aHVucnVfdHh0LmZvbnQgPSB0aGlzLmZvbnRbaW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNtYWxsX251bSA9IHRoaXMuY3V0RmxvYXQoZ2FtZUluZm8uUmVkUGFja2V0TW9uZXlbMF0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IGJpZ19udW0gPSB0aGlzLmN1dEZsb2F0KGdhbWVJbmZvLlJlZFBhY2tldE1vbmV5W2dhbWVJbmZvLlJlZFBhY2tldE1vbmV5Lmxlbmd0aC0xXSk7XHJcbiAgICAgICAgICAgICAgICB6aHVucnVfdHh0LnN0cmluZyA9IGAke3NtYWxsX251bX0tJHtiaWdfbnVtfWA7XHJcblxyXG4gICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmluaXRBbmkoKTtcclxuICAgIH0sXHJcbiAgICBpbml0QW5pKCkge1xyXG4gICAgICAgIHRoaXMucmVud3VfcG9zID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuY29udGVudC5jaGlsZHJlbkNvdW50OyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGxldCBwb3MgPSB0aGlzLmNvbnRlbnQuY2hpbGRyZW5baW5kZXhdLmdldFBvc2l0aW9uKClcclxuICAgICAgICAgICAgdGhpcy5yZW53dV9wb3MucHVzaChwb3MpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQuY2hpbGRyZW5baW5kZXhdLnggPSB0aGlzLm5vZGUud2lkdGggLyAyICsgcG9zLng7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGVudC5jaGlsZHJlbltpbmRleF0uYWN0aXZlID0gdHJ1ZVxyXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQuY2hpbGRyZW5baW5kZXhdLmdldENoaWxkQnlOYW1lKFwic3BpbmVcIikuZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKS5zZXRBbmltYXRpb24oMCxcImFuaW1hdGlvblwiLCB0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb250ZW50LmNoaWxkcmVuQ291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQuY2hpbGRyZW5baV0ucnVuQWN0aW9uKGNjLnNlcXVlbmNlKFxyXG4gICAgICAgICAgICAgICAgY2MuZGVsYXlUaW1lKGkgKiAwLjA1KSxcclxuICAgICAgICAgICAgICAgIGNjLm1vdmVUbygwLjI1LCBjYy52Mih0aGlzLnJlbnd1X3Bvc1tpXS54IC0gNDAsIHRoaXMucmVud3VfcG9zW2ldLnkpKSxcclxuICAgICAgICAgICAgICAgIGNjLm1vdmVUbygwLjEsIHRoaXMucmVud3VfcG9zW2ldKVxyXG4gICAgICAgICAgICApKVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBwbGF5RmlyZXdvcmtzKCkge1xyXG4gICAgICAgIGxldCB0aW1lID0gTWF0aC5yYW5kb20oKSAqIDI7XHJcbiAgICAgICAgbGV0IGluZGV4dGVtcCA9IFsxLCAwLCAzLCAyXVxyXG4gICAgICAgIGxldCBpbmRleCA9IGluZGV4dGVtcFt0aGlzLmluZGV4RmlyZSAlIDRdO1xyXG4gICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoXHJcbiAgICAgICAgICAgIGNjLmRlbGF5VGltZSh0aW1lKSxcclxuICAgICAgICAgICAgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5kZXhGaXJlKys7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIueDn+iKseWPkeWwhDExMTExMVwiLCBpbmRleClcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1pc3Npb25GaXJlKGluZGV4KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5RmlyZXdvcmtzKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKSlcclxuICAgIH0sXHJcbiAgICBlbWlzc2lvbkZpcmUoaW5kZXgpIHtcclxuICAgICAgICBsZXQgZGlzdGFuY2UgPSBbdGhpcy5ub2RlLmhlaWdodCAvIDIsIHRoaXMubm9kZS5oZWlnaHQgLyAyLjUsIHRoaXMubm9kZS5oZWlnaHQgLyAyLjEsIHRoaXMubm9kZS5oZWlnaHQgLyAxLjhdO1xyXG4gICAgICAgIGxldCBhbmlMaXN0ID0gW1wiYmx1ZWZpcmV3b3Jrc1wiLFwicmVkZmlyZXdvcmtzXCIsXCJ5ZWxsb3dmaXJld29ya3NcIixcImJsdWVmaXJld29ya3NcIl07XHJcbiAgICAgICAgbGV0IHNjYWxlTGlzdCA9IFsyLjUgLDEuNywgMS41LCAyXTtcclxuXHJcbiAgICAgICAgbGV0IGZpcmVfbm9kZSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuZmlyZV9ub2RlKTtcclxuICAgICAgICBmaXJlX25vZGUucGFyZW50ID0gdGhpcy5iZ19tYXNrO1xyXG4gICAgICAgIGZpcmVfbm9kZS5wb3NpdGlvbiA9IHRoaXMubGF1bmNoUG9pbnQuY2hpbGRyZW5baW5kZXhdLnBvc2l0aW9uO1xyXG4gICAgICAgIGZpcmVfbm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIGxldCBmaXJld29ya3MgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLmZpcmV3b3Jrcyk7XHJcbiAgICAgICAgZmlyZXdvcmtzLnBhcmVudCA9IHRoaXMuYmdfbWFzaztcclxuICAgICAgICBmaXJld29ya3Muc2V0U2NhbGUoc2NhbGVMaXN0W2luZGV4XSk7XHJcbiAgICAgICAgZmlyZV9ub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShcclxuICAgICAgICAgICAgY2MubW92ZUJ5KDEsIDAsIGRpc3RhbmNlW2luZGV4XSksXHJcbiAgICAgICAgICAgIGNjLmNhbGxGdW5jKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGZpcmVfbm9kZS5vcGFjaXR5ID0gMDtcclxuICAgICAgICAgICAgICAgIGZpcmV3b3Jrcy5wb3NpdGlvbiA9IGZpcmVfbm9kZS5wb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgIGZpcmV3b3Jrcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZmlyZXdvcmtzLmdldENvbXBvbmVudChjYy5BbmltYXRpb24pLnBsYXkoYCR7YW5pTGlzdFtpbmRleF19YCk7XHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICBjYy5kZWxheVRpbWUoMS4yKSxcclxuICAgICAgICAgICAgY2MuY2FsbEZ1bmMoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZmlyZV9ub2RlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGZpcmV3b3Jrcy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKSlcclxuICAgIH0sXHJcbiAgICBvblJvb21JbmZvKG1zZykge1xyXG5cclxuICAgIH0sXHJcbiAgICBvbkRlbGV0ZVJvb20obXNnKSB7XHJcblxyXG4gICAgfSxcclxuICAgIG9uQ2xpY2sobmFtZSwgbm9kZSkge1xyXG4gICAgICAgIHN3aXRjaCAobmFtZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiYnRuX2JhY2tcIjogdGhpcy5jbGlja19iYWNrKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYnRuX2hlbHBcIjogdGhpcy5jbGlja19oZWxwKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYnRuX3JlY29yZFwiOiB0aGlzLmNsaWNrX3JlY29yZCgpOyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIm15Y29pbkluZm9cIjpcclxuICAgICAgICAgICAgY2FzZSBcImJ0bl9hZGRnb2xkXCI6IFxyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGlja19hZGRnb2xkKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYnRuX3N0YXJ0XCI6IHRoaXMuc2hvd1RpcChuYW1lLCBub2RlKTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJqaWFudG91X2xcIjpcclxuICAgICAgICAgICAgY2FzZSBcImppYW50b3VfclwiOlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLngrnlh7vkuobmjInpkq5cIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV4ZWN1dGlvblNjcm9sbFRvKG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IGNvbnNvbGUuZXJyb3IoXCJubyBmaW5kIGJ1dHRvbiBuYW1lIC0+ICVzXCIsIG5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBleGVjdXRpb25TY3JvbGxUbyhuYW1lKSB7XHJcbiAgICAgICAgdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwiamlhbnRvdV9sXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcImppYW50b3VfclwiKS5hY3RpdmUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKG5hbWUgPT0gXCJqaWFudG91X2xcIikge1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJqaWFudG91X3JcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGxWaWV3LnNjcm9sbFRvTGVmdCgwLjEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcImppYW50b3VfbFwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbFZpZXcuc2Nyb2xsVG9SaWdodCgwLjEpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzaG93VGlwKG5hbWUsIG5vZGUpe1xyXG4gICAgICAgIGxldCB0aXBBbmkgPSBnbEdhbWUucGFuZWwuc2hvd1BhbmVsKHRoaXMuaGJzbF90aXBBbmkpO1xyXG4gICAgICAgIHRpcEFuaS56SW5kZXggPSAzMDtcclxuICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKFxyXG4gICAgICAgICAgICBjYy5kZWxheVRpbWUoMS41KSxcclxuICAgICAgICAgICAgY2MuY2FsbEZ1bmMoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZ2xHYW1lLmVtaXR0ZXIuZW1pdChcImhic2wuaGJzbF9jbG9zZV90aXBfYW5pXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbnRlcnJvb20obmFtZSwgbm9kZSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKSk7XHJcbiAgICB9LFxyXG4gICAgLy8g6L+b5YWl5ri45oiP55qE5YWl5Y+jXHJcbiAgICBlbnRlcnJvb20obmFtZSwgbm9kZSkge1xyXG4gICAgICAgIC8vIOWIpOaWreaYr+WQpuaYr+a4uOWuolxyXG4gICAgICAgIGlmIChnbEdhbWUudXNlci5pc1RvdXJpc3QoKSkge1xyXG4gICAgICAgICAgICBnbEdhbWUucGFuZWwuc2hvd1JlZ2lzdGVyZWRHaWZ0KHRydWUpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g77yI5Yik5pat55So5oi36LSm5Y+35piv5ZCm5byC5bi4ICYmIOaYr+WQpuWPr+S7peeOqea4uOaIj++8iSB8fCDpkojlr7nnjqnlrrbmuLjmiI9cclxuICAgICAgICBpZigoZ2xHYW1lLnVzZXIuc3VzcGljaW91cyA9PSAxICYmIGdsR2FtZS51c2VyLmdhbWUgPT0gMiApIHx8IGdsR2FtZS51c2VyLmlzX2dhbWUgPT0gMiApe1xyXG4gICAgICAgICAgICBnbEdhbWUucGFuZWwuc2hvd0RpYWxvZyhcIlwiLCBcIuaCqOeahOi0puWPt+aVsOaNruW8guW4uO+8jOaaguaXtuemgeatoui/m+WFpea4uOaIj++8jOWmguacieeWkemXru+8jOivt+iBlOezu+Wuouacje+8gVwiLCAoKSA9PiB7IGdsR2FtZS5wYW5lbC5zaG93U2VydmljZSgpIH0sICgpID0+IHt9LCBcIuaIkeefpemBk+S6hlwiLCBcIuiBlOezu+WuouacjVwiKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnbEdhbWUucGFuZWwuc2hvd0ZpZWxkU2VsZWN0aW9uSnVIdWEoKTtcclxuICAgICAgICBnbEdhbWUucm9vbS5yZXFNeUdhbWVTdGF0ZSh0aGlzLmdhbWVJRCwgbm9kZS5wYXJlbnQubmFtZSkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGdsR2FtZS5yZWFkeXJvb20uZW50ZXJIdW5kcmVkc1Jvb21PdGhlcih0aGlzLmdhbWVJRCwgbm9kZS5wYXJlbnQubmFtZSk7XHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcbiAgICBjdXRGbG9hdCh2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiAoTnVtYmVyKHZhbHVlKS5kaXYoMTAwKSkudG9TdHJpbmcoKTtcclxuICAgIH0sXHJcbiAgICAvLyDliLfmlrDph5HluIFcclxuICAgIHVwZGF0ZXVzZXJJbmZvKCkge1xyXG4gICAgICAgIGxldCBjb2luID0gZ2xHYW1lLnVzZXIuZ2V0KFwiY29pblwiKVxyXG4gICAgICAgIHRoaXMuZ29sZF9jb3VudC5zdHJpbmcgPSBnbEdhbWUudXNlci5Hb2xkVGVtcChjb2luKTtcclxuICAgIH0sXHJcbiAgICBzZXRHYW1lSWQoZ2FtZWlkKSB7XHJcbiAgICAgICAgdGhpcy5nYW1laWQgPSBnYW1laWQ7XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlQmdJbmZvKCkge1xyXG5cclxuICAgIH0sXHJcbiAgICAvLyDlhYXlgLxcclxuICAgIGNsaWNrX2FkZGdvbGQoKSB7XHJcbiAgICAgICAgZ2xHYW1lLnBhbmVsLnNob3dTaG9wKDMwKTtcclxuICAgIH0sXHJcbiAgICAvLyDlhbPpl63lvZPliY3pobXpnaJcclxuICAgIGNsaWNrX2JhY2soKSB7XHJcbiAgICAgICAgZ2xHYW1lLnJlYWR5cm9vbS5yZXFFeGl0QXJlYSgpO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlKCk7XHJcbiAgICB9LFxyXG4gICAgLy8g5biu5YqpXHJcbiAgICBjbGlja19oZWxwKCkge1xyXG4gICAgICAgIC8vIGdsR2FtZS5wYW5lbC5zaG93TmV3R2FtZVJ1bGUodGhpcy5nYW1laWQsIDMwKTtcclxuICAgICAgICBsZXQgcGFuZWwgPSBnbEdhbWUucGFuZWwuc2hvd1BhbmVsKHRoaXMuaGJzbFJ1bGUpO1xyXG4gICAgICAgIHBhbmVsLnpJbmRleCA9IDMwO1xyXG5cclxuICAgICAgICAvLyB0aGlzLnNob3dUaXAoKTtcclxuICAgIH0sXHJcbiAgICAvLyDmuLjmiI/orrDlvZVcclxuICAgIGNsaWNrX3JlY29yZCgpIHtcclxuICAgICAgICAvLyBnbEdhbWUucGFuZWwuc2hvd05ld0dhbWVSZWNvcmQodGhpcy5nYW1laWQsIDMwKTtcclxuICAgICAgICBsZXQgcGFuZWwgPSBnbEdhbWUucGFuZWwuc2hvd1BhbmVsKHRoaXMuaGJzbFJlY29yZCk7XHJcbiAgICAgICAgcGFuZWwuekluZGV4ID0gMzA7XHJcbiAgICB9LFxyXG4gICAgc2V0KGtleSwgdmFsdWUpIHtcclxuICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZTtcclxuICAgIH0sXHJcbiAgICBnZXQoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNba2V5XTtcclxuICAgIH0sXHJcbiAgICBPbkRlc3Ryb3koKSB7XHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIub2ZmKE1FU1NBR0UuVUkuUk9PTV9FTlRFUl9TSE9XLCB0aGlzKTtcclxuICAgICAgICBnbEdhbWUuZW1pdHRlci5vZmYoTUVTU0FHRS5VSS5ST09NX0VOVEVSX0hJREUsIHRoaXMpO1xyXG4gICAgICAgIGdsR2FtZS5lbWl0dGVyLm9mZihcIm5vZGVSZW1vdmVcIiwgdGhpcyk7XHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIub2ZmKFwidXBkYXRlVXNlckRhdGFcIiwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy51bnJlZ2lzdGVyRXZlbnQoKTtcclxuICAgIH0sXHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fSxcclxufSk7XHJcbiJdfQ==