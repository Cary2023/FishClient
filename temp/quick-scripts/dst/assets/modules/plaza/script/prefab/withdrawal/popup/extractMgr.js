
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/modules/plaza/script/prefab/withdrawal/popup/extractMgr.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '386ed3T8QdFmJgPTh+L1dDP', 'extractMgr');
// modules/plaza/script/prefab/withdrawal/popup/extractMgr.js

"use strict";

glGame.baseclass.extend({
  properties: {
    bindbank: cc.Node,
    bindbankSucced: cc.Node,
    bindAlipay: cc.Node,
    bindAlipaySucceed: cc.Node,
    toggle_bankCash: cc.Toggle,
    toggle_alipayCash: cc.Toggle,
    binkContent: cc.Node,
    bankItem: cc.Node,
    scrollView: cc.Node,
    bank_catdType: cc.EditBox,
    btn_openList: cc.Node
  },
  // LIFE-CYCLE CALLBACKS:
  onLoad: function onLoad() {
    glGame.emitter.on("updateUserData", this.updateUserData, this);
    this.fetchJSON();
    this.btn_openList.active = glGame.gamecfg.bankModel == 1;
  },
  updateUserData: function updateUserData() {
    this.initViewData(this.index);
  },
  initViewData: function initViewData(index) {
    this.bindbank.active = true;
    this.bindbankSucced.active = true;
    this.bindAlipay.active = true;
    this.bindAlipaySucceed.active = true;
    var bank_card = glGame.user.get("bankCardNum"),
        alipay = glGame.user.get("alipayAcc"),
        alipayName = glGame.user.get("alipayName"),
        bankCardName = glGame.user.get("bankCardName"),
        bankCardType = glGame.user.get("bankCardType");

    if (bank_card && bank_card != "") {
      this.bankShow = this.bindbankSucced;
      this.bankShow.getChildByName("lab_bankNumber").getComponent(cc.Label).string = bank_card.replace(bank_card.substring(4, 13), "*********");
      this.bankShow.getChildByName("lab_bankName").getComponent(cc.Label).string = bankCardType;
      this.bankShow.getChildByName("lab_userName").getComponent(cc.Label).string = bankCardName;
    } else {
      this.bankShow = this.bindbank;
      var name = bankCardName;

      if (bankCardName == null || bankCardName == "") {
        name = glGame.user.get("name");
      }

      if (name && name != "") {
        var userName = this.bankShow.getChildByName("userName");
        userName.getChildByName("bankMask").active = true;
        userName.getSelfFunc().setString("".concat(name));
      } else {
        var _userName = this.bankShow.getChildByName("userName");

        _userName.getSelfFunc().setString("");
      }
    }

    if (alipay && alipay != "") {
      this.alipayShow = this.bindAlipaySucceed;
      this.alipayShow.getChildByName("lab_alipayNum").getComponent(cc.Label).string = alipay.replace(alipay.substring(3, 7), "****");
      this.alipayShow.getChildByName("lab_username").getComponent(cc.Label).string = alipayName;
    } else {
      this.alipayShow = this.bindAlipay;
      var _name = alipayName;

      if (alipayName == null || alipayName == "") {
        _name = glGame.user.get("name");
      }

      if (_name && _name != "") {
        var _userName2 = this.alipayShow.getChildByName("userName");

        _userName2.getChildByName("alipayMask").active = true;

        _userName2.getSelfFunc().setString("".concat(_name));
      } else {
        var _userName3 = this.alipayShow.getChildByName("userName");

        _userName3.getSelfFunc().setString("");
      }
    }

    this.bindbank.active = false;
    this.bindbankSucced.active = false;
    this.bindAlipay.active = false;
    this.bindAlipaySucceed.active = false;
    this.index = index;
    index == 1 ? this.toggle_alipayCash.check() : this.toggle_bankCash.check();
    index == 1 ? this.alipayShow.active = true : this.bankShow.active = true;
  },
  reqBindBank: function reqBindBank() {
    var bank_id = this.bankShow.getChildByName("bankName").getChildByName("EditBox").getComponent(cc.EditBox).string,
        bank_card = this.bankShow.getChildByName("bankNumber").getChildByName("EditBox").getComponent(cc.EditBox).string,
        userName = this.bankShow.getChildByName("userName").getChildByName("EditBox").getComponent(cc.EditBox).string;
    console.log("这是绑定银行卡的信息", bank_id, bank_card, userName);
    var bankCheck = /[1-9]\d{12,20}/;

    if (bank_card == "") {
      return glGame.panel.showErrorTip(glGame.tips.BIND.NOINVALIDCARD);
    } else if (!bankCheck.test(bank_card)) {
      return glGame.panel.showErrorTip(glGame.tips.BIND.INVALIDCARD);
    }

    if (bank_id == "") {
      return glGame.panel.showErrorTip(glGame.tips.BIND.INVALIDCARDBANKNAME);
    }

    if (userName == "") {
      return glGame.panel.showErrorTip(glGame.tips.BIND.NOINVALIDCARDNAME);
    } else if (!this.checkUserName(userName)) {
      return glGame.panel.showErrorTip(glGame.tips.BIND.INVALIDCARDNAME);
    }

    glGame.user.reqBindBank(bank_id, bank_card, userName);
  },
  reqBindAlipay: function reqBindAlipay() {
    var alipayID = this.alipayShow.getChildByName("alipayNumber").getChildByName("EditBox").getComponent(cc.EditBox).string,
        alipayName = this.alipayShow.getChildByName("userName").getChildByName("EditBox").getComponent(cc.EditBox).string;
    console.log("这是绑定支付宝的信息", alipayID, alipayName);

    if (alipayName.length == 0) {
      return glGame.panel.showErrorTip(glGame.tips.BIND.EMPTYZFBNAME);
    }

    if (!this.checkUserName(alipayName)) {
      return glGame.panel.showErrorTip(glGame.tips.BIND.INVALIDZFBNAME);
    }

    if (alipayID.length == 0) {
      return glGame.panel.showErrorTip(glGame.tips.BIND.EMPTYZFB);
    }

    if (!this.checkAlipay(alipayID)) {
      return glGame.panel.showErrorTip(glGame.tips.BIND.INVALIDZFB);
    }

    glGame.user.reqBindAlipay(alipayID, alipayName);
  },
  fetchJSON: function fetchJSON() {
    var _this = this;

    glGame.fileutil.fetchJSON("bankList").then(function (data) {
      _this.bankList = data.json;
      console.log("这是银行的列表", _this.bankList);
    });
  },
  //字体变化的时候检索银行
  inputChange: function inputChange() {
    console.log("当前文字变化");
    this.binkContent.destroyAllChildren();
    this.scrollView.active = true;

    for (var i = 0; i < this.bankList.length; i++) {
      var str = this.bankList[i].indexOf(this.bank_catdType.string);

      if (str != -1) {
        var Item = cc.instantiate(this.bankItem);
        Item.getChildByName("bankname").getComponent(cc.Label).string = this.bankList[i];
        Item.parent = this.binkContent;
        Item.active = true;
      }
    }
  },
  //显示全部银行
  showAllBank: function showAllBank() {
    this.binkContent.destroyAllChildren();
    this.scrollView.active = true;

    for (var i = 0; i < this.bankList.length; i++) {
      var Item = cc.instantiate(this.bankItem);
      Item.getChildByName("bankname").getComponent(cc.Label).string = this.bankList[i];
      Item.parent = this.binkContent;
      Item.active = true;
    }
  },
  onClick: function onClick(name, node) {
    switch (name) {
      case "btn_close":
        this.remove();
        break;

      case "toggle_bankCash":
        this.bankCash();
        break;

      case "toggle_alipayCash":
        this.alipayCash();
        break;

      case "btn_sure":
        this.sureBind();
        break;

      case "btn_service":
        this.btn_service();
        break;

      case "btn_openList":
        this.showAllBank();
        break;

      case "bankItem":
        this.bank_catdType.node.parent.getSelfFunc().setString(node.getChildByName("bankname").getComponent(cc.Label).string);
        this.scrollView.active = false;
        break;

      case "ScrollViewBg":
        this.scrollView.active = false;
        break;

      case "alipayMask":
        glGame.panel.showErrorTip(glGame.tips.BIND.LOCKZFBNAME);
        break;

      case "bankMask":
        glGame.panel.showErrorTip(glGame.tips.BIND.LOCKCARDNAME);
        break;
    }
  },
  //检测玩家名字是否合法
  checkUserName: function checkUserName(name) {
    var checkName = /^[\u4E00-\u9FA5\uf900-\ufa2d·s]{2,20}$/;

    if (!checkName.test(name)) {
      return false;
    }

    return true;
  },
  //检测支付宝账户
  checkAlipay: function checkAlipay(account) {
    var checkAliAccount = /^(?:1[3-9]\d{9}|[a-zA-Z\d._-]*\@[a-zA-Z\d.-]{1,10}\.[a-zA-Z\d]{1,20})$/;

    if (!checkAliAccount.test(account)) {
      return false;
    }

    return true;
  },
  //检测银行卡号
  checkBankNumber: function checkBankNumber(number) {
    var checkBankNumber = /^[0-9]*$/;

    if (!checkBankNumber.test(number)) {
      return false;
    }

    return true;
  },
  //确认绑定银行卡
  sureBind: function sureBind() {
    this.index == 2 ? this.reqBindBank() : this.reqBindAlipay();
  },
  //联系客服
  btn_service: function btn_service() {
    glGame.panel.showService();
  },
  //银行卡管理
  bankCash: function bankCash() {
    this.index = 2;
    this.bankShow.active = true;
    this.alipayShow.active = false;
  },
  //支付宝管理
  alipayCash: function alipayCash() {
    this.index = 1;
    this.bankShow.active = false;
    this.alipayShow.active = true;
  },
  OnDestroy: function OnDestroy() {
    glGame.emitter.off("updateUserData", this);
  } // update (dt) {},

});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcbW9kdWxlc1xccGxhemFcXHNjcmlwdFxccHJlZmFiXFx3aXRoZHJhd2FsXFxwb3B1cFxcZXh0cmFjdE1nci5qcyJdLCJuYW1lcyI6WyJnbEdhbWUiLCJiYXNlY2xhc3MiLCJleHRlbmQiLCJwcm9wZXJ0aWVzIiwiYmluZGJhbmsiLCJjYyIsIk5vZGUiLCJiaW5kYmFua1N1Y2NlZCIsImJpbmRBbGlwYXkiLCJiaW5kQWxpcGF5U3VjY2VlZCIsInRvZ2dsZV9iYW5rQ2FzaCIsIlRvZ2dsZSIsInRvZ2dsZV9hbGlwYXlDYXNoIiwiYmlua0NvbnRlbnQiLCJiYW5rSXRlbSIsInNjcm9sbFZpZXciLCJiYW5rX2NhdGRUeXBlIiwiRWRpdEJveCIsImJ0bl9vcGVuTGlzdCIsIm9uTG9hZCIsImVtaXR0ZXIiLCJvbiIsInVwZGF0ZVVzZXJEYXRhIiwiZmV0Y2hKU09OIiwiYWN0aXZlIiwiZ2FtZWNmZyIsImJhbmtNb2RlbCIsImluaXRWaWV3RGF0YSIsImluZGV4IiwiYmFua19jYXJkIiwidXNlciIsImdldCIsImFsaXBheSIsImFsaXBheU5hbWUiLCJiYW5rQ2FyZE5hbWUiLCJiYW5rQ2FyZFR5cGUiLCJiYW5rU2hvdyIsImdldENoaWxkQnlOYW1lIiwiZ2V0Q29tcG9uZW50IiwiTGFiZWwiLCJzdHJpbmciLCJyZXBsYWNlIiwic3Vic3RyaW5nIiwibmFtZSIsInVzZXJOYW1lIiwiZ2V0U2VsZkZ1bmMiLCJzZXRTdHJpbmciLCJhbGlwYXlTaG93IiwiY2hlY2siLCJyZXFCaW5kQmFuayIsImJhbmtfaWQiLCJjb25zb2xlIiwibG9nIiwiYmFua0NoZWNrIiwicGFuZWwiLCJzaG93RXJyb3JUaXAiLCJ0aXBzIiwiQklORCIsIk5PSU5WQUxJRENBUkQiLCJ0ZXN0IiwiSU5WQUxJRENBUkQiLCJJTlZBTElEQ0FSREJBTktOQU1FIiwiTk9JTlZBTElEQ0FSRE5BTUUiLCJjaGVja1VzZXJOYW1lIiwiSU5WQUxJRENBUkROQU1FIiwicmVxQmluZEFsaXBheSIsImFsaXBheUlEIiwibGVuZ3RoIiwiRU1QVFlaRkJOQU1FIiwiSU5WQUxJRFpGQk5BTUUiLCJFTVBUWVpGQiIsImNoZWNrQWxpcGF5IiwiSU5WQUxJRFpGQiIsImZpbGV1dGlsIiwidGhlbiIsImRhdGEiLCJiYW5rTGlzdCIsImpzb24iLCJpbnB1dENoYW5nZSIsImRlc3Ryb3lBbGxDaGlsZHJlbiIsImkiLCJzdHIiLCJpbmRleE9mIiwiSXRlbSIsImluc3RhbnRpYXRlIiwicGFyZW50Iiwic2hvd0FsbEJhbmsiLCJvbkNsaWNrIiwibm9kZSIsInJlbW92ZSIsImJhbmtDYXNoIiwiYWxpcGF5Q2FzaCIsInN1cmVCaW5kIiwiYnRuX3NlcnZpY2UiLCJMT0NLWkZCTkFNRSIsIkxPQ0tDQVJETkFNRSIsImNoZWNrTmFtZSIsImFjY291bnQiLCJjaGVja0FsaUFjY291bnQiLCJjaGVja0JhbmtOdW1iZXIiLCJudW1iZXIiLCJzaG93U2VydmljZSIsIk9uRGVzdHJveSIsIm9mZiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQUEsTUFBTSxDQUFDQyxTQUFQLENBQWlCQyxNQUFqQixDQUF3QjtBQUVwQkMsRUFBQUEsVUFBVSxFQUFFO0FBQ1JDLElBQUFBLFFBQVEsRUFBRUMsRUFBRSxDQUFDQyxJQURMO0FBRVJDLElBQUFBLGNBQWMsRUFBRUYsRUFBRSxDQUFDQyxJQUZYO0FBR1JFLElBQUFBLFVBQVUsRUFBRUgsRUFBRSxDQUFDQyxJQUhQO0FBSVJHLElBQUFBLGlCQUFpQixFQUFFSixFQUFFLENBQUNDLElBSmQ7QUFLUkksSUFBQUEsZUFBZSxFQUFFTCxFQUFFLENBQUNNLE1BTFo7QUFNUkMsSUFBQUEsaUJBQWlCLEVBQUVQLEVBQUUsQ0FBQ00sTUFOZDtBQVFSRSxJQUFBQSxXQUFXLEVBQUVSLEVBQUUsQ0FBQ0MsSUFSUjtBQVNSUSxJQUFBQSxRQUFRLEVBQUVULEVBQUUsQ0FBQ0MsSUFUTDtBQVVSUyxJQUFBQSxVQUFVLEVBQUVWLEVBQUUsQ0FBQ0MsSUFWUDtBQVdSVSxJQUFBQSxhQUFh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LENBQWNaLE1BQWQsR0FBdUIsS0FBdkI7QUFDQSxTQUFLdUIsVUFBTCxDQUFnQnZCLE1BQWhCLEdBQXlCLElBQXpCO0FBQ0gsR0F2T21CO0FBd09wQjhFLEVBQUFBLFNBeE9vQix1QkF3T1I7QUFDUnRHLElBQUFBLE1BQU0sQ0FBQ29CLE9BQVAsQ0FBZW1GLEdBQWYsQ0FBbUIsZ0JBQW5CLEVBQXFDLElBQXJDO0FBQ0gsR0ExT21CLENBMk9wQjs7QUEzT29CLENBQXhCIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcclxuZ2xHYW1lLmJhc2VjbGFzcy5leHRlbmQoe1xyXG5cclxuICAgIHByb3BlcnRpZXM6IHtcclxuICAgICAgICBiaW5kYmFuazogY2MuTm9kZSxcclxuICAgICAgICBiaW5kYmFua1N1Y2NlZDogY2MuTm9kZSxcclxuICAgICAgICBiaW5kQWxpcGF5OiBjYy5Ob2RlLFxyXG4gICAgICAgIGJpbmRBbGlwYXlTdWNjZWVkOiBjYy5Ob2RlLFxyXG4gICAgICAgIHRvZ2dsZV9iYW5rQ2FzaDogY2MuVG9nZ2xlLFxyXG4gICAgICAgIHRvZ2dsZV9hbGlwYXlDYXNoOiBjYy5Ub2dnbGUsXHJcblxyXG4gICAgICAgIGJpbmtDb250ZW50OiBjYy5Ob2RlLFxyXG4gICAgICAgIGJhbmtJdGVtOiBjYy5Ob2RlLFxyXG4gICAgICAgIHNjcm9sbFZpZXc6IGNjLk5vZGUsXHJcbiAgICAgICAgYmFua19jYXRkVHlwZTogY2MuRWRpdEJveCxcclxuICAgICAgICBidG5fb3Blbkxpc3Q6Y2MuTm9kZSxcclxuICAgIH0sXHJcblxyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcblxyXG4gICAgb25Mb2FkKCkge1xyXG4gICAgICAgIGdsR2FtZS5lbWl0dGVyLm9uKFwidXBkYXRlVXNlckRhdGFcIiwgdGhpcy51cGRhdGVVc2VyRGF0YSwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5mZXRjaEpTT04oKTtcclxuICAgICAgICB0aGlzLmJ0bl9vcGVuTGlzdC5hY3RpdmUgPSBnbEdhbWUuZ2FtZWNmZy5iYW5rTW9kZWwgPT0gMVxyXG4gICAgfSxcclxuICAgIHVwZGF0ZVVzZXJEYXRhKCkge1xyXG4gICAgICAgIHRoaXMuaW5pdFZpZXdEYXRhKHRoaXMuaW5kZXgpO1xyXG4gICAgfSxcclxuICAgIGluaXRWaWV3RGF0YShpbmRleCkge1xyXG4gICAgICAgIHRoaXMuYmluZGJhbmsuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmJpbmRiYW5rU3VjY2VkLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5iaW5kQWxpcGF5LmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5iaW5kQWxpcGF5U3VjY2VlZC5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIGxldCBiYW5rX2NhcmQgPSBnbEdhbWUudXNlci5nZXQoXCJiYW5rQ2FyZE51bVwiKSxcclxuICAgICAgICAgICAgYWxpcGF5ID0gZ2xHYW1lLnVzZXIuZ2V0KFwiYWxpcGF5QWNjXCIpLFxyXG4gICAgICAgICAgICBhbGlwYXlOYW1lID0gZ2xHYW1lLnVzZXIuZ2V0KFwiYWxpcGF5TmFtZVwiKSxcclxuICAgICAgICAgICAgYmFua0NhcmROYW1lID0gZ2xHYW1lLnVzZXIuZ2V0KFwiYmFua0NhcmROYW1lXCIpLFxyXG4gICAgICAgICAgICBiYW5rQ2FyZFR5cGUgPSBnbEdhbWUudXNlci5nZXQoXCJiYW5rQ2FyZFR5cGVcIik7XHJcbiAgICAgICAgaWYgKGJhbmtfY2FyZCAmJiBiYW5rX2NhcmQgIT0gXCJcIikge1xyXG4gICAgICAgICAgICB0aGlzLmJhbmtTaG93ID0gdGhpcy5iaW5kYmFua1N1Y2NlZDtcclxuICAgICAgICAgICAgdGhpcy5iYW5rU2hvdy5nZXRDaGlsZEJ5TmFtZShcImxhYl9iYW5rTnVtYmVyXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gYmFua19jYXJkLnJlcGxhY2UoYmFua19jYXJkLnN1YnN0cmluZyg0LCAxMyksIFwiKioqKioqKioqXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmJhbmtTaG93LmdldENoaWxkQnlOYW1lKFwibGFiX2JhbmtOYW1lXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gYmFua0NhcmRUeXBlXHJcbiAgICAgICAgICAgIHRoaXMuYmFua1Nob3cuZ2V0Q2hpbGRCeU5hbWUoXCJsYWJfdXNlck5hbWVcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBiYW5rQ2FyZE5hbWVcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmJhbmtTaG93ID0gdGhpcy5iaW5kYmFuaztcclxuICAgICAgICAgICAgbGV0IG5hbWUgPSBiYW5rQ2FyZE5hbWU7XHJcbiAgICAgICAgICAgIGlmKGJhbmtDYXJkTmFtZT09bnVsbCB8fCBiYW5rQ2FyZE5hbWU9PVwiXCIpIHtcclxuICAgICAgICAgICAgICAgIG5hbWUgPSBnbEdhbWUudXNlci5nZXQoXCJuYW1lXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAobmFtZSAmJiBuYW1lICE9IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgIGxldCB1c2VyTmFtZSA9IHRoaXMuYmFua1Nob3cuZ2V0Q2hpbGRCeU5hbWUoXCJ1c2VyTmFtZVwiKTtcclxuICAgICAgICAgICAgICAgIHVzZXJOYW1lLmdldENoaWxkQnlOYW1lKFwiYmFua01hc2tcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHVzZXJOYW1lLmdldFNlbGZGdW5jKCkuc2V0U3RyaW5nKGAke25hbWV9YCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdXNlck5hbWUgPSB0aGlzLmJhbmtTaG93LmdldENoaWxkQnlOYW1lKFwidXNlck5hbWVcIik7XHJcbiAgICAgICAgICAgICAgICB1c2VyTmFtZS5nZXRTZWxmRnVuYygpLnNldFN0cmluZyhcIlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYWxpcGF5ICYmIGFsaXBheSAhPSBcIlwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWxpcGF5U2hvdyA9IHRoaXMuYmluZEFsaXBheVN1Y2NlZWQ7XHJcbiAgICAgICAgICAgIHRoaXMuYWxpcGF5U2hvdy5nZXRDaGlsZEJ5TmFtZShcImxhYl9hbGlwYXlOdW1cIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBhbGlwYXkucmVwbGFjZShhbGlwYXkuc3Vic3RyaW5nKDMsIDcpLCBcIioqKipcIik7XHJcbiAgICAgICAgICAgIHRoaXMuYWxpcGF5U2hvdy5nZXRDaGlsZEJ5TmFtZShcImxhYl91c2VybmFtZVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IGFsaXBheU5hbWVcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmFsaXBheVNob3cgPSB0aGlzLmJpbmRBbGlwYXk7XHJcbiAgICAgICAgICAgIGxldCBuYW1lID0gYWxpcGF5TmFtZTtcclxuICAgICAgICAgICAgaWYoYWxpcGF5TmFtZT09bnVsbCB8fCBhbGlwYXlOYW1lPT1cIlwiKSB7XHJcbiAgICAgICAgICAgICAgICBuYW1lID0gZ2xHYW1lLnVzZXIuZ2V0KFwibmFtZVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYobmFtZSAmJiBuYW1lICE9IFwiXCIpe1xyXG4gICAgICAgICAgICAgICAgbGV0IHVzZXJOYW1lID0gdGhpcy5hbGlwYXlTaG93LmdldENoaWxkQnlOYW1lKFwidXNlck5hbWVcIik7XHJcbiAgICAgICAgICAgICAgICB1c2VyTmFtZS5nZXRDaGlsZEJ5TmFtZShcImFsaXBheU1hc2tcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHVzZXJOYW1lLmdldFNlbGZGdW5jKCkuc2V0U3RyaW5nKGAke25hbWV9YCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdXNlck5hbWUgPSB0aGlzLmFsaXBheVNob3cuZ2V0Q2hpbGRCeU5hbWUoXCJ1c2VyTmFtZVwiKTtcclxuICAgICAgICAgICAgICAgIHVzZXJOYW1lLmdldFNlbGZGdW5jKCkuc2V0U3RyaW5nKFwiXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYmluZGJhbmsuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5iaW5kYmFua1N1Y2NlZC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmJpbmRBbGlwYXkuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5iaW5kQWxpcGF5U3VjY2VlZC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgaW5kZXggPT0gMSA/IHRoaXMudG9nZ2xlX2FsaXBheUNhc2guY2hlY2soKSA6IHRoaXMudG9nZ2xlX2JhbmtDYXNoLmNoZWNrKCk7XHJcbiAgICAgICAgaW5kZXggPT0gMSA/IHRoaXMuYWxpcGF5U2hvdy5hY3RpdmUgPSB0cnVlIDogdGhpcy5iYW5rU2hvdy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgfSxcclxuICAgIHJlcUJpbmRCYW5rKCkge1xyXG4gICAgICAgIGxldCBiYW5rX2lkID0gdGhpcy5iYW5rU2hvdy5nZXRDaGlsZEJ5TmFtZShcImJhbmtOYW1lXCIpLmdldENoaWxkQnlOYW1lKFwiRWRpdEJveFwiKS5nZXRDb21wb25lbnQoY2MuRWRpdEJveCkuc3RyaW5nLFxyXG4gICAgICAgICAgICBiYW5rX2NhcmQgPSB0aGlzLmJhbmtTaG93LmdldENoaWxkQnlOYW1lKFwiYmFua051bWJlclwiKS5nZXRDaGlsZEJ5TmFtZShcIkVkaXRCb3hcIikuZ2V0Q29tcG9uZW50KGNjLkVkaXRCb3gpLnN0cmluZyxcclxuICAgICAgICAgICAgdXNlck5hbWUgPSB0aGlzLmJhbmtTaG93LmdldENoaWxkQnlOYW1lKFwidXNlck5hbWVcIikuZ2V0Q2hpbGRCeU5hbWUoXCJFZGl0Qm94XCIpLmdldENvbXBvbmVudChjYy5FZGl0Qm94KS5zdHJpbmc7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLov5nmmK/nu5Hlrprpk7booYzljaHnmoTkv6Hmga9cIiwgYmFua19pZCwgYmFua19jYXJkLCB1c2VyTmFtZSk7XHJcblxyXG4gICAgICAgIGxldCBiYW5rQ2hlY2sgPSAvWzEtOV1cXGR7MTIsMjB9L1xyXG4gICAgICAgIGlmKGJhbmtfY2FyZCA9PSBcIlwiKXtcclxuICAgICAgICAgICAgcmV0dXJuIGdsR2FtZS5wYW5lbC5zaG93RXJyb3JUaXAoZ2xHYW1lLnRpcHMuQklORC5OT0lOVkFMSURDQVJEKTtcclxuICAgICAgICB9ZWxzZSBpZighYmFua0NoZWNrLnRlc3QoYmFua19jYXJkKSl7XHJcbiAgICAgICAgICAgIHJldHVybiBnbEdhbWUucGFuZWwuc2hvd0Vycm9yVGlwKGdsR2FtZS50aXBzLkJJTkQuSU5WQUxJRENBUkQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihiYW5rX2lkID09IFwiXCIpe1xyXG4gICAgICAgICAgICByZXR1cm4gZ2xHYW1lLnBhbmVsLnNob3dFcnJvclRpcChnbEdhbWUudGlwcy5CSU5ELklOVkFMSURDQVJEQkFOS05BTUUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih1c2VyTmFtZSA9PSBcIlwiKXtcclxuICAgICAgICAgICAgcmV0dXJuIGdsR2FtZS5wYW5lbC5zaG93RXJyb3JUaXAoZ2xHYW1lLnRpcHMuQklORC5OT0lOVkFMSURDQVJETkFNRSk7XHJcbiAgICAgICAgfWVsc2UgaWYoIXRoaXMuY2hlY2tVc2VyTmFtZSh1c2VyTmFtZSkpe1xyXG4gICAgICAgICAgICByZXR1cm4gZ2xHYW1lLnBhbmVsLnNob3dFcnJvclRpcChnbEdhbWUudGlwcy5CSU5ELklOVkFMSURDQVJETkFNRSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIGdsR2FtZS51c2VyLnJlcUJpbmRCYW5rKGJhbmtfaWQsIGJhbmtfY2FyZCwgdXNlck5hbWUpO1xyXG4gICAgfSxcclxuICAgIHJlcUJpbmRBbGlwYXkoKSB7XHJcbiAgICAgICAgbGV0IGFsaXBheUlEID0gdGhpcy5hbGlwYXlTaG93LmdldENoaWxkQnlOYW1lKFwiYWxpcGF5TnVtYmVyXCIpLmdldENoaWxkQnlOYW1lKFwiRWRpdEJveFwiKS5nZXRDb21wb25lbnQoY2MuRWRpdEJveCkuc3RyaW5nLFxyXG4gICAgICAgICAgICBhbGlwYXlOYW1lID0gdGhpcy5hbGlwYXlTaG93LmdldENoaWxkQnlOYW1lKFwidXNlck5hbWVcIikuZ2V0Q2hpbGRCeU5hbWUoXCJFZGl0Qm94XCIpLmdldENvbXBvbmVudChjYy5FZGl0Qm94KS5zdHJpbmc7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLov5nmmK/nu5HlrprmlK/ku5jlrp3nmoTkv6Hmga9cIiwgYWxpcGF5SUQsIGFsaXBheU5hbWUpO1xyXG4gICAgICAgIGlmKGFsaXBheU5hbWUubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdsR2FtZS5wYW5lbC5zaG93RXJyb3JUaXAoZ2xHYW1lLnRpcHMuQklORC5FTVBUWVpGQk5BTUUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoIXRoaXMuY2hlY2tVc2VyTmFtZShhbGlwYXlOYW1lKSl7XHJcbiAgICAgICAgICAgIHJldHVybiBnbEdhbWUucGFuZWwuc2hvd0Vycm9yVGlwKGdsR2FtZS50aXBzLkJJTkQuSU5WQUxJRFpGQk5BTUUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoYWxpcGF5SUQubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdsR2FtZS5wYW5lbC5zaG93RXJyb3JUaXAoZ2xHYW1lLnRpcHMuQklORC5FTVBUWVpGQik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZighdGhpcy5jaGVja0FsaXBheShhbGlwYXlJRCkpe1xyXG4gICAgICAgICAgICByZXR1cm4gZ2xHYW1lLnBhbmVsLnNob3dFcnJvclRpcChnbEdhbWUudGlwcy5CSU5ELklOVkFMSURaRkIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBnbEdhbWUudXNlci5yZXFCaW5kQWxpcGF5KGFsaXBheUlELCBhbGlwYXlOYW1lKTtcclxuICAgIH0sXHJcbiAgICBmZXRjaEpTT04oKSB7XHJcbiAgICAgICAgZ2xHYW1lLmZpbGV1dGlsLmZldGNoSlNPTihcImJhbmtMaXN0XCIpLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYmFua0xpc3QgPSBkYXRhLmpzb25cclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCLov5nmmK/pk7booYznmoTliJfooahcIiwgdGhpcy5iYW5rTGlzdClcclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuICAgIC8v5a2X5L2T5Y+Y5YyW55qE5pe25YCZ5qOA57Si6ZO26KGMXHJcbiAgICBpbnB1dENoYW5nZSgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIuW9k+WJjeaWh+Wtl+WPmOWMllwiKVxyXG4gICAgICAgIHRoaXMuYmlua0NvbnRlbnQuZGVzdHJveUFsbENoaWxkcmVuKCk7XHJcbiAgICAgICAgdGhpcy5zY3JvbGxWaWV3LmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJhbmtMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBzdHIgPSB0aGlzLmJhbmtMaXN0W2ldLmluZGV4T2YodGhpcy5iYW5rX2NhdGRUeXBlLnN0cmluZyk7XHJcbiAgICAgICAgICAgIGlmIChzdHIgIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGxldCBJdGVtID0gY2MuaW5zdGFudGlhdGUodGhpcy5iYW5rSXRlbSk7XHJcbiAgICAgICAgICAgICAgICBJdGVtLmdldENoaWxkQnlOYW1lKFwiYmFua25hbWVcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSB0aGlzLmJhbmtMaXN0W2ldO1xyXG4gICAgICAgICAgICAgICAgSXRlbS5wYXJlbnQgPSB0aGlzLmJpbmtDb250ZW50O1xyXG4gICAgICAgICAgICAgICAgSXRlbS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8v5pi+56S65YWo6YOo6ZO26KGMXHJcbiAgICBzaG93QWxsQmFuaygpe1xyXG4gICAgICAgIHRoaXMuYmlua0NvbnRlbnQuZGVzdHJveUFsbENoaWxkcmVuKCk7XHJcbiAgICAgICAgdGhpcy5zY3JvbGxWaWV3LmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJhbmtMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgSXRlbSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuYmFua0l0ZW0pO1xyXG4gICAgICAgICAgICAgICAgSXRlbS5nZXRDaGlsZEJ5TmFtZShcImJhbmtuYW1lXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gdGhpcy5iYW5rTGlzdFtpXTtcclxuICAgICAgICAgICAgICAgIEl0ZW0ucGFyZW50ID0gdGhpcy5iaW5rQ29udGVudDtcclxuICAgICAgICAgICAgICAgIEl0ZW0uYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgb25DbGljayhuYW1lLCBub2RlKSB7XHJcbiAgICAgICAgc3dpdGNoIChuYW1lKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJidG5fY2xvc2VcIjogdGhpcy5yZW1vdmUoKTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ0b2dnbGVfYmFua0Nhc2hcIjogdGhpcy5iYW5rQ2FzaCgpOyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInRvZ2dsZV9hbGlwYXlDYXNoXCI6IHRoaXMuYWxpcGF5Q2FzaCgpOyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImJ0bl9zdXJlXCI6IHRoaXMuc3VyZUJpbmQoKTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJidG5fc2VydmljZVwiOiB0aGlzLmJ0bl9zZXJ2aWNlKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYnRuX29wZW5MaXN0XCI6IHRoaXMuc2hvd0FsbEJhbmsoKTticmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImJhbmtJdGVtXCI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhbmtfY2F0ZFR5cGUubm9kZS5wYXJlbnQuZ2V0U2VsZkZ1bmMoKS5zZXRTdHJpbmcobm9kZS5nZXRDaGlsZEJ5TmFtZShcImJhbmtuYW1lXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsVmlldy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiU2Nyb2xsVmlld0JnXCI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFZpZXcuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImFsaXBheU1hc2tcIjpcclxuICAgICAgICAgICAgICAgIGdsR2FtZS5wYW5lbC5zaG93RXJyb3JUaXAoZ2xHYW1lLnRpcHMuQklORC5MT0NLWkZCTkFNRSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImJhbmtNYXNrXCI6XHJcbiAgICAgICAgICAgICAgICBnbEdhbWUucGFuZWwuc2hvd0Vycm9yVGlwKGdsR2FtZS50aXBzLkJJTkQuTE9DS0NBUkROQU1FKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvL+ajgOa1i+eOqeWutuWQjeWtl+aYr+WQpuWQiOazlVxyXG4gICAgY2hlY2tVc2VyTmFtZShuYW1lKXtcclxuICAgICAgICBsZXQgY2hlY2tOYW1lID0gL15bXFx1NEUwMC1cXHU5RkE1XFx1ZjkwMC1cXHVmYTJkwrdzXXsyLDIwfSQvXHJcbiAgICAgICAgaWYoIWNoZWNrTmFtZS50ZXN0KG5hbWUpKXtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlXHJcbiAgICB9LFxyXG4gICAgLy/mo4DmtYvmlK/ku5jlrp3otKbmiLdcclxuICAgIGNoZWNrQWxpcGF5KGFjY291bnQpe1xyXG4gICAgICAgIGxldCBjaGVja0FsaUFjY291bnQgPSAvXig/OjFbMy05XVxcZHs5fXxbYS16QS1aXFxkLl8tXSpcXEBbYS16QS1aXFxkLi1dezEsMTB9XFwuW2EtekEtWlxcZF17MSwyMH0pJC87XHJcbiAgICAgICAgaWYoIWNoZWNrQWxpQWNjb3VudC50ZXN0KGFjY291bnQpKXtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlXHJcbiAgICB9LFxyXG4gICAgLy/mo4DmtYvpk7booYzljaHlj7dcclxuICAgIGNoZWNrQmFua051bWJlcihudW1iZXIpe1xyXG4gICAgICAgIGxldCBjaGVja0JhbmtOdW1iZXIgPSAvXlswLTldKiQvXHJcbiAgICAgICAgaWYoIWNoZWNrQmFua051bWJlci50ZXN0KG51bWJlcikpe1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgIH0sXHJcbiAgICAvL+ehruiupOe7keWumumTtuihjOWNoVxyXG4gICAgc3VyZUJpbmQoKSB7XHJcbiAgICAgICAgdGhpcy5pbmRleCA9PSAyID8gdGhpcy5yZXFCaW5kQmFuaygpIDogdGhpcy5yZXFCaW5kQWxpcGF5KCk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8v6IGU57O75a6i5pyNXHJcbiAgICBidG5fc2VydmljZSgpIHtcclxuICAgICAgICBnbEdhbWUucGFuZWwuc2hvd1NlcnZpY2UoKTtcclxuICAgIH0sXHJcblxyXG4gICAgLy/pk7booYzljaHnrqHnkIZcclxuICAgIGJhbmtDYXNoKCkge1xyXG4gICAgICAgIHRoaXMuaW5kZXggPSAyXHJcbiAgICAgICAgdGhpcy5iYW5rU2hvdy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYWxpcGF5U2hvdy5hY3RpdmUgPSBmYWxzZTtcclxuICAgIH0sXHJcbiAgICAvL+aUr+S7mOWuneeuoeeQhlxyXG4gICAgYWxpcGF5Q2FzaCgpIHtcclxuICAgICAgICB0aGlzLmluZGV4ID0gMVxyXG4gICAgICAgIHRoaXMuYmFua1Nob3cuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5hbGlwYXlTaG93LmFjdGl2ZSA9IHRydWU7XHJcbiAgICB9LFxyXG4gICAgT25EZXN0cm95KCkge1xyXG4gICAgICAgIGdsR2FtZS5lbWl0dGVyLm9mZihcInVwZGF0ZVVzZXJEYXRhXCIsIHRoaXMpO1xyXG4gICAgfSxcclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9LFxyXG59KTtcclxuIl19