
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/modules/plaza/script/prefab/signin/signin.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0d99aIBwGZC9YPvmwpA6oy8', 'signin');
// modules/plaza/script/prefab/signin/signin.js

"use strict";

/**
 * 礼物label：当天未签到显示白色，其他显示黄色
 * 礼物labelbg:当前未签到显示深色底，其他显示浅色底。
 */
glGame.baseclass.extend({
  properties: {
    everyday: cc.Node,
    receiveed: cc.Node,
    "interface": cc.Node,
    close: cc.Node,
    lab_hint: cc.Label,
    lab_prompt: cc.Label,
    normalMaterial: cc.Material,
    grayMaterial: cc.Material
  },
  onLoad: function onLoad() {
    glGame.emitter.on(MESSAGE.UI.FORBIDDEN_SIGN, this.onForbbidden, this);
    this.initData();
    this.reqannounceInfo();
    this.designSize = cc.size(1920, 1080);
    this.signMax = 7;
  },
  start: function start() {
    if (this.node.getComponent(cc.Widget)) this.node.getComponent(cc.Widget).updateAlignment();
  },
  initData: function initData() {
    this.rewardInfo = null;
    this.todayIsSign = false;
    this.signTimes = 0;
  },
  //适配
  fitFunc: function fitFunc() {
    var designRate = this.designSize.height / this.designSize.width;
    var winSize = cc.view.getVisibleSize();
    var curRate = winSize.height / winSize.width;
    var scaleRate = curRate < designRate ? winSize.height / this.designSize.height : winSize.width / this.designSize.width;
    this["interface"].setScale(scaleRate);
  },
  //请求签到的信息
  reqannounceInfo: function reqannounceInfo() {
    var _this = this;

    //拉取七天信息
    glGame.gameNet.send_msg("http.reqSigninWeekInfo", {}, function (route, msg) {
      _this.rewardInfo = msg.signinfo; //今日是否领取奖励

      _this.todayIsSign = msg.today_is_sign;
      _this.todayBet = msg.today_bet;
      _this.todayRecharge = msg.today_recharge;
      _this.todayTotalBet = msg.todayTotalBet;
      _this.todayTotalRecharge = msg.todayTotalRecharge;

      _this.updateUi();

      console.log('signinfo', msg);
    });
  },
  initUI: function initUI() {
    for (var i = 0; i < this.signMax; i++) {
      this.everyday.children[i].getChildByName('receive').active = false;
      this.everyday.children[i].getChildByName('getReceive').active = false;
      this.everyday.children[i].getChildByName('today').active = false;
    }
  },
  updateUi: function updateUi() {
    this.initUI();
    this.signTimes = 0;
    var tiplayout;

    for (var i = 0; i < this.rewardInfo.length; i++) {
      tiplayout = this.everyday.children[i].getChildByName("tiplayout"); //是否已签到

      if (this.rewardInfo[i].is_sign) {
        this.everyday.children[this.signTimes].getChildByName('receive').active = true;
        this.everyday.children[this.signTimes].getChildByName('today').active = false;
        this.everyday.children[this.signTimes].getChildByName('getReceive').active = true;
        this.signTimes++;
      }

      tiplayout.active = true; //渲染金币

      var coinframe = tiplayout.getChildByName("coinframe");

      if (this.rewardInfo[i].coin) {
        coinframe.active = true;
        var strCoin = "";

        if (this.rewardInfo[i].coin_range.length == 1) {
          strCoin = this.getFixNumber(this.rewardInfo[i].coin_range[0]);
        } else if (this.rewardInfo[i].coin_range.length == 2) {
          strCoin = this.getFixNumber(this.rewardInfo[i].coin_range[0]) + "~" + this.getFixNumber(this.rewardInfo[i].coin_range[1]);
        }

        coinframe.getChildByName("cointip").getComponent(cc.Label).string = strCoin;
      } else coinframe.active = false; //渲染转盘积分


      var turnframe = tiplayout.getChildByName("turnframe");

      if (this.rewardInfo[i].integral) {
        turnframe.active = true;
        var strTurn = "";

        if (this.rewardInfo[i].integral_range.length == 1) {
          strTurn = this.getFixNumber(this.rewardInfo[i].integral_range[0]);
        } else if (this.rewardInfo[i].integral_range.length == 2) {
          strTurn = this.getFixNumber(this.rewardInfo[i].integral_range[0]) + "~" + this.getFixNumber(this.rewardInfo[i].integral_range[1]);
        }

        turnframe.getChildByName("turntip").getComponent(cc.Label).string = strTurn;
      } else turnframe.active = false;
    }

    if (this.signTimes > 6) this.signTimes = 6; //今日还没签到

    if (!this.todayIsSign) {
      var today = this.everyday.children[this.signTimes].getChildByName('today');
      today.active = true;
      var fadeOut = cc.fadeTo(0.75, 50);
      var fadeIn = cc.fadeTo(0.75, 255);
      var delay = cc.delayTime(0.15);
      var seq = cc.sequence(fadeOut, fadeIn, delay);
      today.runAction(cc.repeatForever(seq));
      this.setButton(this.receiveed, true);
    } else {
      this.setButton(this.receiveed, false);
    }

    this.lab_hint.node.active = true;
    this.lab_prompt.node.active = true;

    if (this.todayBet && this.todayRecharge) {
      this.lab_hint.string = "\u4ECA\u65E5\u7B7E\u5230\u6761\u4EF6\uFF1A\u5145\u503C\u91D1\u989D\u8FBE\u5230 ".concat(this.getFixNumber(this.todayRecharge), " \u5143\uFF0C\u5E76\u4E14\u6253\u7801\u91CF\u8FBE\u5230 ").concat(this.getFixNumber(this.todayBet), " ");
      this.lab_prompt.string = "\u4ECA\u65E5\u5DF2\u5145\u503C:".concat(this.getFixNumber(this.todayTotalRecharge), "\u5143   \u4ECA\u65E5\u6253\u7801\u91CF:").concat(this.getFixNumber(this.todayTotalBet));
    } else if (this.todayBet || this.todayRecharge) {
      this.lab_hint.string = "今日签到条件：";
      this.todayRecharge ? this.lab_hint.string += "\u5145\u503C\u91D1\u989D\u8FBE\u5230 ".concat(this.getFixNumber(this.todayRecharge), "\u5143 ") : "";
      this.todayBet ? this.lab_hint.string += "\u6253\u7801\u91CF\u8FBE\u5230 ".concat(this.getFixNumber(this.todayBet), " ") : "";
      this.todayRecharge ? this.lab_prompt.string = "\u4ECA\u65E5\u5DF2\u5145\u503C:".concat(this.getFixNumber(this.todayTotalRecharge), "\u5143") : "";
      this.todayBet ? this.lab_prompt.string = "\u4ECA\u65E5\u6253\u7801\u91CF:".concat(this.getFixNumber(this.todayTotalBet)) : "";
    } else {
      this.lab_hint.string = "连续签到天数越多,奖励越丰富哟!";
      this.lab_prompt.node.active = false;
    }

    if (this.todayTotalBet >= this.todayBet && this.todayTotalRecharge >= this.todayRecharge) {
      this.lab_hint.string = "签到条件已达成，可领取签到奖励！";
      this.lab_prompt.node.active = false;
    }

    if (this.todayIsSign) {
      this.lab_hint.string = "连续签到天数越多，奖励越丰富呦！";
      this.lab_prompt.node.active = false;
    }
  },
  setButton: function setButton(btnNode, bState) {
    btnNode.getComponent(cc.Button).interactable = bState;

    if (bState) {
      btnNode.getChildByName("img_lingqu").getComponent(cc.RenderComponent).setMaterial(0, this.normalMaterial);
    } else {
      btnNode.getChildByName("img_lingqu").getComponent(cc.RenderComponent).setMaterial(0, this.grayMaterial);
    }
  },
  //金币数量或积分
  sevenInfo: function sevenInfo() {
    var _this2 = this;

    glGame.gameNet.send_msg("http.reqSignin", {}, function (route, msg) {
      _this2.reqannounceInfo();

      var awardlist = [];
      msg.coin != 0 ? awardlist.push({
        type: glGame.awardtype.COIN,
        value: _this2.getFixNumber(msg.coin)
      }) : null;
      msg.integral != 0 ? awardlist.push({
        type: glGame.awardtype.SCORE,
        value: _this2.getFixNumber(msg.integral)
      }) : null;
      glGame.panel.showAwardBox(glGame.tips.SIGNIN.CONGRATULATE, awardlist);
      glGame.user.reqGetCoin();
      glGame.user.ReqRedDot();
    });
  },
  // 重写父类按钮点击事件
  onClick: function onClick(name, node) {
    switch (name) {
      case "one":
      case "two":
      case "three":
      case "four":
      case "five":
      case "six":
      case "seven":
      case "receiveed":
        this.click_receive(name);
        break;
      //领取

      case "close":
        this.click_close();
        break;
      //关闭

      default:
        console.error("no find button name -> %s", name);
    }
  },
  click_close: function click_close() {
    glGame.panel.showFirstEnterPanel();
    this.remove();
  },
  onForbbidden: function onForbbidden() {
    var _this3 = this;

    glGame.user.signinSwitch = 0; // glGame.panel.showMsgBox("该功能暂未开放", "该功能暂未开放",
    //     () => { this.remove(); });

    this.node.runAction(cc.sequence(cc.delayTime(1), cc.callFunc(function () {
      _this3.remove();
    })));
  },
  getFixNumber: function getFixNumber(value) {
    return Number(value).div(100).toString();
  },
  //判断今天星期几，领取后显示相关的奖励
  click_receive: function click_receive(name) {
    if (glGame.user.isTourist()) {
      glGame.panel.showRegisteredGift(true);
      return;
    }

    var draw = false;
    var upDraw = false;

    for (var i = 0; i < this.everyday.childrenCount; i++) {
      if (this.everyday.children[i].name == name) {
        upDraw = this.signTimes > i;

        if (this.todayIsSign && i == this.signTimes - 1 || !this.todayIsSign && i == this.signTimes) {
          draw = true;
          break;
        }
      }
    }

    if (!draw && name != "receiveed") {
      var str = upDraw ? glGame.tips.SIGNIN.HASCHECKED : glGame.tips.SIGNIN.UNREADY;
      glGame.panel.showErrorTip(str);
      return;
    }

    if (!this.todayIsSign) {
      this.sevenInfo();
      this.setButton(this.receiveed, false);
    } else {
      glGame.panel.showErrorTip(glGame.tips.SIGNIN.COMETOMORROW);
    }
  },
  //点击任意位置，关闭界面
  position_recelive: function position_recelive() {
    this.node.destroy();
  },
  OnDestroy: function OnDestroy() {
    glGame.emitter.off(MESSAGE.UI.FORBIDDEN_SIGN, this);
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcbW9kdWxlc1xccGxhemFcXHNjcmlwdFxccHJlZmFiXFxzaWduaW5cXHNpZ25pbi5qcyJdLCJuYW1lcyI6WyJnbEdhbWUiLCJiYXNlY2xhc3MiLCJleHRlbmQiLCJwcm9wZXJ0aWVzIiwiZXZlcnlkYXkiLCJjYyIsIk5vZGUiLCJyZWNlaXZlZWQiLCJjbG9zZSIsImxhYl9oaW50IiwiTGFiZWwiLCJsYWJfcHJvbXB0Iiwibm9ybWFsTWF0ZXJpYWwiLCJNYXRlcmlhbCIsImdyYXlNYXRlcmlhbCIsIm9uTG9hZCIsImVtaXR0ZXIiLCJvbiIsIk1FU1NBR0UiLCJVSSIsIkZPUkJJRERFTl9TSUdOIiwib25Gb3JiYmlkZGVuIiwiaW5pdERhdGEiLCJyZXFhbm5vdW5jZUluZm8iLCJkZXNpZ25TaXplIiwic2l6ZSIsInNpZ25NYXgiLCJzdGFydCIsIm5vZGUiLCJnZXRDb21wb25lbnQiLCJXaWRnZXQiLCJ1cGRhdGVBbGlnbm1lbnQiLCJyZXdhcmRJbmZvIiwidG9kYXlJc1NpZ24iLCJzaWduVGltZXMiLCJmaXRGdW5jIiwiZGVzaWduUmF0ZSIsImhlaWdodCIsIndpZHRoIiwid2luU2l6ZSIsInZpZXciLCJnZXRWaXNpYmxlU2l6ZSIsImN1clJhdGUiLCJzY2FsZVJhdGUiLCJzZXRTY2FsZSIsImdhbWVOZXQiLCJzZW5kX21zZyIsInJvdXRlIiwibXNnIiwic2lnbmluZm8iLCJ0b2RheV9pc19zaWduIiwidG9kYXlCZXQiLCJ0b2RheV9iZXQiLCJ0b2RheVJlY2hhcmdlIiwidG9kYXlfcmVjaGFyZ2UiLCJ0b2RheVRvdGFsQmV0IiwidG9kYXlUb3RhbFJlY2hhcmdlIiwidXBkYXRlVWkiLCJjb25zb2xlIiwibG9nIiwiaW5pdFVJIiwiaSIsImNoaWxkcmVuIiwiZ2V0Q2hpbGRCeU5hbWUiLCJhY3RpdmUiLCJ0aXBsYXlvdXQiLCJsZW5ndGgiLCJpc19zaWduIiwiY29pbmZyYW1lIiwiY29pbiIsInN0ckNvaW4iLCJjb2luX3JhbmdlIiwiZ2V0Rml4TnVtYmVyIiwic3RyaW5nIiwidHVybmZyYW1lIiwiaW50ZWdyYWwiLCJzdHJUdXJuIiwiaW50ZWdyYWxfcmFuZ2UiLCJ0b2RheSIsImZhZGVPdXQiLCJmYWRlVG8iLCJmYWRlSW4iLCJkZWxheSIsImRlbGF5VGltZSIsInNlcSIsInNlcXVlbmNlIiwicnVuQWN0aW9uIiwicmVwZWF0Rm9yZXZlciIsInNldEJ1dHRvbiIsImJ0bk5vZGUiLCJiU3RhdGUiLCJCdXR0b24iLCJpbnRlcmFjdGFibGUiLCJSZW5kZXJDb21wb25lbnQiLCJzZXRNYXRlcmlhbCIsInNldmVuSW5mbyIsImF3YXJkbGlzdCIsInB1c2giLCJ0eXBlIiwiYXdhcmR0eXBlIiwiQ09JTiIsInZhbHVlIiwiU0NPUkUiLCJwYW5lbCIsInNob3dBd2FyZEJveCIsInRpcHMiLCJTSUdOSU4iLCJDT05HUkFUVUxBVEUiLCJ1c2VyIiwicmVxR2V0Q29pbiIsIlJlcVJlZERvdCIsIm9uQ2xpY2siLCJuYW1lIiwiY2xpY2tfcmVjZWl2ZSIsImNsaWNrX2Nsb3NlIiwiZXJyb3IiLCJzaG93Rmlyc3RFbnRlclBhbmVsIiwicmVtb3ZlIiwic2lnbmluU3dpdGNoIiwiY2FsbEZ1bmMiLCJOdW1iZXIiLCJkaXYiLCJ0b1N0cmluZyIsImlzVG91cmlzdCIsInNob3dSZWdpc3RlcmVkR2lmdCIsImRyYXciLCJ1cERyYXciLCJjaGlsZHJlbkNvdW50Iiwic3RyIiwiSEFTQ0hFQ0tFRCIsIlVOUkVBRFkiLCJzaG93RXJyb3JUaXAiLCJDT01FVE9NT1JST1ciLCJwb3NpdGlvbl9yZWNlbGl2ZSIsImRlc3Ryb3kiLCJPbkRlc3Ryb3kiLCJvZmYiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFJQUEsTUFBTSxDQUFDQyxTQUFQLENBQWlCQyxNQUFqQixDQUF3QjtBQUVwQkMsRUFBQUEsVUFBVSxFQUFFO0FBQ1JDLElBQUFBLFFBQVEsRUFBRUMsRUFBRSxDQUFDQyxJQURMO0FBRVJDLElBQUFBLFNBQVMsRUFBRUYsRUFBRSxDQUFDQyxJ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QXdPQTtBQUNoQixTQUFLekcsSUFBTCxDQUFVMEcsT0FBVjtBQUNILEdBMU9tQjtBQTJPcEJDLEVBQUFBLFNBM09vQix1QkEyT1I7QUFDUnZJLElBQUFBLE1BQU0sQ0FBQ2dCLE9BQVAsQ0FBZXdILEdBQWYsQ0FBbUJ0SCxPQUFPLENBQUNDLEVBQVIsQ0FBV0MsY0FBOUIsRUFBOEMsSUFBOUM7QUFDSDtBQTdPbUIsQ0FBeEIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDnpLznialsYWJlbO+8muW9k+WkqeacquetvuWIsOaYvuekuueZveiJsu+8jOWFtuS7luaYvuekuum7hOiJslxyXG4gKiDnpLznialsYWJlbGJnOuW9k+WJjeacquetvuWIsOaYvuekuua3seiJsuW6le+8jOWFtuS7luaYvuekuua1heiJsuW6leOAglxyXG4gKi9cclxuZ2xHYW1lLmJhc2VjbGFzcy5leHRlbmQoe1xyXG5cclxuICAgIHByb3BlcnRpZXM6IHtcclxuICAgICAgICBldmVyeWRheTogY2MuTm9kZSxcclxuICAgICAgICByZWNlaXZlZWQ6IGNjLk5vZGUsXHJcbiAgICAgICAgaW50ZXJmYWNlOiBjYy5Ob2RlLFxyXG4gICAgICAgIGNsb3NlOiBjYy5Ob2RlLFxyXG4gICAgICAgIGxhYl9oaW50OiBjYy5MYWJlbCxcclxuICAgICAgICBsYWJfcHJvbXB0OiBjYy5MYWJlbCxcclxuICAgICAgICBub3JtYWxNYXRlcmlhbDogY2MuTWF0ZXJpYWwsXHJcbiAgICAgICAgZ3JheU1hdGVyaWFsOiBjYy5NYXRlcmlhbCxcclxuICAgIH0sXHJcblxyXG4gICAgb25Mb2FkKCkge1xyXG4gICAgICAgIGdsR2FtZS5lbWl0dGVyLm9uKE1FU1NBR0UuVUkuRk9SQklEREVOX1NJR04sIHRoaXMub25Gb3JiYmlkZGVuLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmluaXREYXRhKCk7XHJcbiAgICAgICAgdGhpcy5yZXFhbm5vdW5jZUluZm8oKTtcclxuICAgICAgICB0aGlzLmRlc2lnblNpemUgPSBjYy5zaXplKDE5MjAsIDEwODApO1xyXG4gICAgICAgIHRoaXMuc2lnbk1heCA9IDc7XHJcbiAgICB9LFxyXG5cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLldpZGdldCkpIHRoaXMubm9kZS5nZXRDb21wb25lbnQoY2MuV2lkZ2V0KS51cGRhdGVBbGlnbm1lbnQoKTtcclxuICAgIH0sXHJcblxyXG4gICAgaW5pdERhdGEoKSB7XHJcbiAgICAgICAgdGhpcy5yZXdhcmRJbmZvID0gbnVsbDtcclxuICAgICAgICB0aGlzLnRvZGF5SXNTaWduID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zaWduVGltZXMgPSAwO1xyXG4gICAgfSxcclxuXHJcbiAgICAvL+mAgumFjVxyXG4gICAgZml0RnVuYygpIHtcclxuICAgICAgICBsZXQgZGVzaWduUmF0ZSA9IHRoaXMuZGVzaWduU2l6ZS5oZWlnaHQgLyB0aGlzLmRlc2lnblNpemUud2lkdGg7XHJcbiAgICAgICAgbGV0IHdpblNpemUgPSBjYy52aWV3LmdldFZpc2libGVTaXplKCk7XHJcbiAgICAgICAgbGV0IGN1clJhdGUgPSB3aW5TaXplLmhlaWdodCAvIHdpblNpemUud2lkdGg7XHJcbiAgICAgICAgbGV0IHNjYWxlUmF0ZSA9IGN1clJhdGUgPCBkZXNpZ25SYXRlID8gd2luU2l6ZS5oZWlnaHQgLyB0aGlzLmRlc2lnblNpemUuaGVpZ2h0IDogd2luU2l6ZS53aWR0aCAvIHRoaXMuZGVzaWduU2l6ZS53aWR0aDtcclxuICAgICAgICB0aGlzLmludGVyZmFjZS5zZXRTY2FsZShzY2FsZVJhdGUpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvL+ivt+axguetvuWIsOeahOS/oeaBr1xyXG4gICAgcmVxYW5ub3VuY2VJbmZvKCkge1xyXG4gICAgICAgIC8v5ouJ5Y+W5LiD5aSp5L+h5oGvXHJcbiAgICAgICAgZ2xHYW1lLmdhbWVOZXQuc2VuZF9tc2coXCJodHRwLnJlcVNpZ25pbldlZWtJbmZvXCIsIHt9LCAocm91dGUsIG1zZykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJld2FyZEluZm8gPSBtc2cuc2lnbmluZm87Ly/ku4rml6XmmK/lkKbpooblj5blpZblirFcclxuICAgICAgICAgICAgdGhpcy50b2RheUlzU2lnbiA9IG1zZy50b2RheV9pc19zaWduO1xyXG4gICAgICAgICAgICB0aGlzLnRvZGF5QmV0ID0gbXNnLnRvZGF5X2JldDtcclxuICAgICAgICAgICAgdGhpcy50b2RheVJlY2hhcmdlID0gbXNnLnRvZGF5X3JlY2hhcmdlO1xyXG4gICAgICAgICAgICB0aGlzLnRvZGF5VG90YWxCZXQgPSBtc2cudG9kYXlUb3RhbEJldDtcclxuICAgICAgICAgICAgdGhpcy50b2RheVRvdGFsUmVjaGFyZ2UgPSBtc2cudG9kYXlUb3RhbFJlY2hhcmdlO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVVpKCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzaWduaW5mbycsIG1zZylcclxuICAgICAgICB9KVxyXG5cclxuICAgIH0sXHJcblxyXG4gICAgaW5pdFVJKCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zaWduTWF4OyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVyeWRheS5jaGlsZHJlbltpXS5nZXRDaGlsZEJ5TmFtZSgncmVjZWl2ZScpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmV2ZXJ5ZGF5LmNoaWxkcmVuW2ldLmdldENoaWxkQnlOYW1lKCdnZXRSZWNlaXZlJykuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlcnlkYXkuY2hpbGRyZW5baV0uZ2V0Q2hpbGRCeU5hbWUoJ3RvZGF5JykuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVwZGF0ZVVpKCkge1xyXG4gICAgICAgIHRoaXMuaW5pdFVJKCk7XHJcbiAgICAgICAgdGhpcy5zaWduVGltZXMgPSAwO1xyXG4gICAgICAgIGxldCB0aXBsYXlvdXQ7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yZXdhcmRJbmZvLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRpcGxheW91dCA9IHRoaXMuZXZlcnlkYXkuY2hpbGRyZW5baV0uZ2V0Q2hpbGRCeU5hbWUoXCJ0aXBsYXlvdXRcIilcclxuXHJcbiAgICAgICAgICAgIC8v5piv5ZCm5bey562+5YiwXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnJld2FyZEluZm9baV0uaXNfc2lnbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVyeWRheS5jaGlsZHJlblt0aGlzLnNpZ25UaW1lc10uZ2V0Q2hpbGRCeU5hbWUoJ3JlY2VpdmUnKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVyeWRheS5jaGlsZHJlblt0aGlzLnNpZ25UaW1lc10uZ2V0Q2hpbGRCeU5hbWUoJ3RvZGF5JykuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZXJ5ZGF5LmNoaWxkcmVuW3RoaXMuc2lnblRpbWVzXS5nZXRDaGlsZEJ5TmFtZSgnZ2V0UmVjZWl2ZScpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpZ25UaW1lcysrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRpcGxheW91dC5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAvL+a4suafk+mHkeW4gVxyXG4gICAgICAgICAgICBsZXQgY29pbmZyYW1lID0gdGlwbGF5b3V0LmdldENoaWxkQnlOYW1lKFwiY29pbmZyYW1lXCIpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5yZXdhcmRJbmZvW2ldLmNvaW4pIHtcclxuICAgICAgICAgICAgICAgIGNvaW5mcmFtZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbGV0IHN0ckNvaW4gPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmV3YXJkSW5mb1tpXS5jb2luX3JhbmdlLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyQ29pbiA9IHRoaXMuZ2V0Rml4TnVtYmVyKHRoaXMucmV3YXJkSW5mb1tpXS5jb2luX3JhbmdlWzBdKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5yZXdhcmRJbmZvW2ldLmNvaW5fcmFuZ2UubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHJDb2luID0gdGhpcy5nZXRGaXhOdW1iZXIodGhpcy5yZXdhcmRJbmZvW2ldLmNvaW5fcmFuZ2VbMF0pICsgXCJ+XCIgKyB0aGlzLmdldEZpeE51bWJlcih0aGlzLnJld2FyZEluZm9baV0uY29pbl9yYW5nZVsxXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb2luZnJhbWUuZ2V0Q2hpbGRCeU5hbWUoXCJjb2ludGlwXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gc3RyQ29pbjtcclxuICAgICAgICAgICAgfSBlbHNlIGNvaW5mcmFtZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy/muLLmn5Povaznm5jnp6/liIZcclxuICAgICAgICAgICAgbGV0IHR1cm5mcmFtZSA9IHRpcGxheW91dC5nZXRDaGlsZEJ5TmFtZShcInR1cm5mcmFtZVwiKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMucmV3YXJkSW5mb1tpXS5pbnRlZ3JhbCkge1xyXG4gICAgICAgICAgICAgICAgdHVybmZyYW1lLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3RyVHVybiA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXdhcmRJbmZvW2ldLmludGVncmFsX3JhbmdlLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyVHVybiA9IHRoaXMuZ2V0Rml4TnVtYmVyKHRoaXMucmV3YXJkSW5mb1tpXS5pbnRlZ3JhbF9yYW5nZVswXSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmV3YXJkSW5mb1tpXS5pbnRlZ3JhbF9yYW5nZS5sZW5ndGggPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0clR1cm4gPSB0aGlzLmdldEZpeE51bWJlcih0aGlzLnJld2FyZEluZm9baV0uaW50ZWdyYWxfcmFuZ2VbMF0pICsgXCJ+XCIgKyB0aGlzLmdldEZpeE51bWJlcih0aGlzLnJld2FyZEluZm9baV0uaW50ZWdyYWxfcmFuZ2VbMV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdHVybmZyYW1lLmdldENoaWxkQnlOYW1lKFwidHVybnRpcFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IHN0clR1cm47XHJcbiAgICAgICAgICAgIH0gZWxzZSB0dXJuZnJhbWUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnNpZ25UaW1lcyA+IDYpIHRoaXMuc2lnblRpbWVzID0gNjtcclxuICAgICAgICAvL+S7iuaXpei/mOayoeetvuWIsFxyXG4gICAgICAgIGlmICghdGhpcy50b2RheUlzU2lnbikge1xyXG4gICAgICAgICAgICBsZXQgdG9kYXkgPSB0aGlzLmV2ZXJ5ZGF5LmNoaWxkcmVuW3RoaXMuc2lnblRpbWVzXS5nZXRDaGlsZEJ5TmFtZSgndG9kYXknKTtcclxuICAgICAgICAgICAgdG9kYXkuYWN0aXZlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGxldCBmYWRlT3V0ID0gY2MuZmFkZVRvKDAuNzUsIDUwKTtcclxuICAgICAgICAgICAgbGV0IGZhZGVJbiA9IGNjLmZhZGVUbygwLjc1LCAyNTUpO1xyXG4gICAgICAgICAgICBsZXQgZGVsYXkgPSBjYy5kZWxheVRpbWUoMC4xNSk7XHJcbiAgICAgICAgICAgIGxldCBzZXEgPSBjYy5zZXF1ZW5jZShmYWRlT3V0LCBmYWRlSW4sIGRlbGF5KTtcclxuICAgICAgICAgICAgdG9kYXkucnVuQWN0aW9uKGNjLnJlcGVhdEZvcmV2ZXIoc2VxKSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNldEJ1dHRvbih0aGlzLnJlY2VpdmVlZCwgdHJ1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRCdXR0b24odGhpcy5yZWNlaXZlZWQsIGZhbHNlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGFiX2hpbnQubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubGFiX3Byb21wdC5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgaWYgKHRoaXMudG9kYXlCZXQgJiYgdGhpcy50b2RheVJlY2hhcmdlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFiX2hpbnQuc3RyaW5nID0gYOS7iuaXpeetvuWIsOadoeS7tu+8muWFheWAvOmHkeminei+vuWIsCAke3RoaXMuZ2V0Rml4TnVtYmVyKHRoaXMudG9kYXlSZWNoYXJnZSl9IOWFg++8jOW5tuS4lOaJk+eggemHj+i+vuWIsCAke3RoaXMuZ2V0Rml4TnVtYmVyKHRoaXMudG9kYXlCZXQpfSBgO1xyXG4gICAgICAgICAgICB0aGlzLmxhYl9wcm9tcHQuc3RyaW5nID0gYOS7iuaXpeW3suWFheWAvDoke3RoaXMuZ2V0Rml4TnVtYmVyKHRoaXMudG9kYXlUb3RhbFJlY2hhcmdlKX3lhYMgICDku4rml6XmiZPnoIHph486JHt0aGlzLmdldEZpeE51bWJlcih0aGlzLnRvZGF5VG90YWxCZXQpfWA7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRvZGF5QmV0IHx8IHRoaXMudG9kYXlSZWNoYXJnZSkge1xyXG4gICAgICAgICAgICB0aGlzLmxhYl9oaW50LnN0cmluZyA9IFwi5LuK5pel562+5Yiw5p2h5Lu277yaXCJcclxuICAgICAgICAgICAgdGhpcy50b2RheVJlY2hhcmdlID8gdGhpcy5sYWJfaGludC5zdHJpbmcgKz0gYOWFheWAvOmHkeminei+vuWIsCAke3RoaXMuZ2V0Rml4TnVtYmVyKHRoaXMudG9kYXlSZWNoYXJnZSl95YWDIGAgOiBcIlwiO1xyXG4gICAgICAgICAgICB0aGlzLnRvZGF5QmV0ID8gdGhpcy5sYWJfaGludC5zdHJpbmcgKz0gYOaJk+eggemHj+i+vuWIsCAke3RoaXMuZ2V0Rml4TnVtYmVyKHRoaXMudG9kYXlCZXQpfSBgIDogXCJcIjtcclxuICAgICAgICAgICAgdGhpcy50b2RheVJlY2hhcmdlID8gdGhpcy5sYWJfcHJvbXB0LnN0cmluZyA9IGDku4rml6Xlt7LlhYXlgLw6JHt0aGlzLmdldEZpeE51bWJlcih0aGlzLnRvZGF5VG90YWxSZWNoYXJnZSl95YWDYCA6IFwiXCI7XHJcbiAgICAgICAgICAgIHRoaXMudG9kYXlCZXQgPyB0aGlzLmxhYl9wcm9tcHQuc3RyaW5nID0gYOS7iuaXpeaJk+eggemHjzoke3RoaXMuZ2V0Rml4TnVtYmVyKHRoaXMudG9kYXlUb3RhbEJldCl9YCA6IFwiXCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sYWJfaGludC5zdHJpbmcgPSBcIui/nue7reetvuWIsOWkqeaVsOi2iuWkmizlpZblirHotorkuLDlr4zlk58hXCI7XHJcbiAgICAgICAgICAgIHRoaXMubGFiX3Byb21wdC5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYodGhpcy50b2RheVRvdGFsQmV0ID49IHRoaXMudG9kYXlCZXQgJiYgdGhpcy50b2RheVRvdGFsUmVjaGFyZ2UgPj0gdGhpcy50b2RheVJlY2hhcmdlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFiX2hpbnQuc3RyaW5nID0gXCLnrb7liLDmnaHku7blt7Lovr7miJDvvIzlj6/pooblj5bnrb7liLDlpZblirHvvIFcIjtcclxuICAgICAgICAgICAgdGhpcy5sYWJfcHJvbXB0Lm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZih0aGlzLnRvZGF5SXNTaWduKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFiX2hpbnQuc3RyaW5nID0gXCLov57nu63nrb7liLDlpKnmlbDotorlpJrvvIzlpZblirHotorkuLDlr4zlkabvvIFcIjtcclxuICAgICAgICAgICAgdGhpcy5sYWJfcHJvbXB0Lm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBzZXRCdXR0b24oYnRuTm9kZSwgYlN0YXRlKSB7XHJcbiAgICAgICAgYnRuTm9kZS5nZXRDb21wb25lbnQoY2MuQnV0dG9uKS5pbnRlcmFjdGFibGUgPSBiU3RhdGU7XHJcbiAgICAgICAgaWYoYlN0YXRlKSB7XHJcbiAgICAgICAgICAgIGJ0bk5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJpbWdfbGluZ3F1XCIpLmdldENvbXBvbmVudChjYy5SZW5kZXJDb21wb25lbnQpLnNldE1hdGVyaWFsKDAsIHRoaXMubm9ybWFsTWF0ZXJpYWwpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGJ0bk5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJpbWdfbGluZ3F1XCIpLmdldENvbXBvbmVudChjYy5SZW5kZXJDb21wb25lbnQpLnNldE1hdGVyaWFsKDAsIHRoaXMuZ3JheU1hdGVyaWFsKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8v6YeR5biB5pWw6YeP5oiW56ev5YiGXHJcbiAgICBzZXZlbkluZm8oKSB7XHJcbiAgICAgICAgZ2xHYW1lLmdhbWVOZXQuc2VuZF9tc2coXCJodHRwLnJlcVNpZ25pblwiLCB7fSwgKHJvdXRlLCBtc2cpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yZXFhbm5vdW5jZUluZm8oKTtcclxuICAgICAgICAgICAgbGV0IGF3YXJkbGlzdCA9IFtdO1xyXG4gICAgICAgICAgICBtc2cuY29pbiAhPSAwID8gYXdhcmRsaXN0LnB1c2goeyB0eXBlOiBnbEdhbWUuYXdhcmR0eXBlLkNPSU4sIHZhbHVlOiB0aGlzLmdldEZpeE51bWJlcihtc2cuY29pbikgfSkgOiBudWxsO1xyXG4gICAgICAgICAgICBtc2cuaW50ZWdyYWwgIT0gMCA/IGF3YXJkbGlzdC5wdXNoKHsgdHlwZTogZ2xHYW1lLmF3YXJkdHlwZS5TQ09SRSwgdmFsdWU6IHRoaXMuZ2V0Rml4TnVtYmVyKG1zZy5pbnRlZ3JhbCkgfSkgOiBudWxsXHJcbiAgICAgICAgICAgIGdsR2FtZS5wYW5lbC5zaG93QXdhcmRCb3goZ2xHYW1lLnRpcHMuU0lHTklOLkNPTkdSQVRVTEFURSwgYXdhcmRsaXN0KTtcclxuICAgICAgICAgICAgZ2xHYW1lLnVzZXIucmVxR2V0Q29pbigpO1xyXG4gICAgICAgICAgICBnbEdhbWUudXNlci5SZXFSZWREb3QoKTtcclxuICAgICAgICB9KVxyXG5cclxuICAgIH0sXHJcblxyXG4gICAgLy8g6YeN5YaZ54i257G75oyJ6ZKu54K55Ye75LqL5Lu2XHJcbiAgICBvbkNsaWNrKG5hbWUsIG5vZGUpIHtcclxuICAgICAgICBzd2l0Y2ggKG5hbWUpIHtcclxuICAgICAgICAgICAgY2FzZSBcIm9uZVwiOiBjYXNlIFwidHdvXCI6IGNhc2UgXCJ0aHJlZVwiOiBjYXNlIFwiZm91clwiOiBjYXNlIFwiZml2ZVwiOlxyXG4gICAgICAgICAgICBjYXNlIFwic2l4XCI6IGNhc2UgXCJzZXZlblwiOlxyXG4gICAgICAgICAgICBjYXNlIFwicmVjZWl2ZWVkXCI6IHRoaXMuY2xpY2tfcmVjZWl2ZShuYW1lKTsgYnJlYWs7IC8v6aKG5Y+WXHJcbiAgICAgICAgICAgIGNhc2UgXCJjbG9zZVwiOiB0aGlzLmNsaWNrX2Nsb3NlKCk7IGJyZWFrOyAgIC8v5YWz6ZetXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IGNvbnNvbGUuZXJyb3IoXCJubyBmaW5kIGJ1dHRvbiBuYW1lIC0+ICVzXCIsIG5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgY2xpY2tfY2xvc2UoKSB7XHJcbiAgICAgICAgZ2xHYW1lLnBhbmVsLnNob3dGaXJzdEVudGVyUGFuZWwoKTtcclxuICAgICAgICB0aGlzLnJlbW92ZSgpO1xyXG4gICAgfSxcclxuXHJcbiAgICBvbkZvcmJiaWRkZW4oKSB7XHJcbiAgICAgICAgZ2xHYW1lLnVzZXIuc2lnbmluU3dpdGNoID0gMDtcclxuICAgICAgICAvLyBnbEdhbWUucGFuZWwuc2hvd01zZ0JveChcIuivpeWKn+iDveaaguacquW8gOaUvlwiLCBcIuivpeWKn+iDveaaguacquW8gOaUvlwiLFxyXG4gICAgICAgIC8vICAgICAoKSA9PiB7IHRoaXMucmVtb3ZlKCk7IH0pO1xyXG5cclxuICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLmRlbGF5VGltZSgxKSwgY2MuY2FsbEZ1bmMoKCk9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKCk7XHJcbiAgICAgICAgfSkpKTtcclxuICAgIH0sXHJcblxyXG4gICAgZ2V0Rml4TnVtYmVyKHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIChOdW1iZXIodmFsdWUpLmRpdigxMDApKS50b1N0cmluZygpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvL+WIpOaWreS7iuWkqeaYn+acn+WHoO+8jOmihuWPluWQjuaYvuekuuebuOWFs+eahOWlluWKsVxyXG4gICAgY2xpY2tfcmVjZWl2ZShuYW1lKSB7XHJcbiAgICAgICAgaWYgKGdsR2FtZS51c2VyLmlzVG91cmlzdCgpKSB7XHJcbiAgICAgICAgICAgIGdsR2FtZS5wYW5lbC5zaG93UmVnaXN0ZXJlZEdpZnQodHJ1ZSk7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZHJhdyA9IGZhbHNlO1xyXG4gICAgICAgIGxldCB1cERyYXcgPSBmYWxzZTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZXZlcnlkYXkuY2hpbGRyZW5Db3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmV2ZXJ5ZGF5LmNoaWxkcmVuW2ldLm5hbWUgPT0gbmFtZSkge1xyXG4gICAgICAgICAgICAgICAgdXBEcmF3ID0gdGhpcy5zaWduVGltZXMgPiBpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLnRvZGF5SXNTaWduICYmIGkgPT0gdGhpcy5zaWduVGltZXMgLSAxKSB8fCAoIXRoaXMudG9kYXlJc1NpZ24gJiYgaSA9PSB0aGlzLnNpZ25UaW1lcykpIHtcclxuICAgICAgICAgICAgICAgICAgICBkcmF3ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWRyYXcgJiYgbmFtZSAhPSBcInJlY2VpdmVlZFwiKSB7XHJcbiAgICAgICAgICAgIGxldCBzdHIgPSB1cERyYXcgPyBnbEdhbWUudGlwcy5TSUdOSU4uSEFTQ0hFQ0tFRCA6IGdsR2FtZS50aXBzLlNJR05JTi5VTlJFQURZO1xyXG4gICAgICAgICAgICBnbEdhbWUucGFuZWwuc2hvd0Vycm9yVGlwKHN0cik7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMudG9kYXlJc1NpZ24pIHtcclxuICAgICAgICAgICAgdGhpcy5zZXZlbkluZm8oKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRCdXR0b24odGhpcy5yZWNlaXZlZWQsIGZhbHNlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBnbEdhbWUucGFuZWwuc2hvd0Vycm9yVGlwKGdsR2FtZS50aXBzLlNJR05JTi5DT01FVE9NT1JST1cpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLy/ngrnlh7vku7vmhI/kvY3nva7vvIzlhbPpl63nlYzpnaJcclxuICAgIHBvc2l0aW9uX3JlY2VsaXZlKCkge1xyXG4gICAgICAgIHRoaXMubm9kZS5kZXN0cm95KCk7XHJcbiAgICB9LFxyXG4gICAgT25EZXN0cm95KCkge1xyXG4gICAgICAgIGdsR2FtZS5lbWl0dGVyLm9mZihNRVNTQUdFLlVJLkZPUkJJRERFTl9TSUdOLCB0aGlzKTtcclxuICAgIH0sXHJcblxyXG59KTtcclxuIl19