
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/modules/plaza/script/prefab/enterRoom/ebgentry.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b19589lBNtJnbc0xvJhwdy3', 'ebgentry');
// modules/plaza/script/prefab/enterRoom/ebgentry.js

"use strict";

glGame.baseclass.extend({
  properties: {
    goldCount: cc.Label,
    ebg_record: cc.Prefab,
    ebg_gamerule: cc.Prefab,
    level: {
      type: cc.Node,
      "default": []
    },
    dizhu: {
      type: cc.Node,
      "default": []
    },
    zhunru: {
      type: cc.Node,
      "default": []
    },
    BGM: {
      type: cc.AudioClip,
      "default": null
    }
  },
  // LIFE-CYCLE CALLBACKS:
  onLoad: function onLoad() {
    this.gameid = 0;
    this.node.zIndex = 20;
    glGame.emitter.on(MESSAGE.UI.ROOM_ENTER_SHOW, this.RootNodeShow, this);
    glGame.emitter.on(MESSAGE.UI.ROOM_ENTER_HIDE, this.RootNodeHide, this);
    glGame.emitter.on("nodeRemove", this.click_back, this);
    glGame.emitter.on("updateUserData", this.updateuserInfo, this);
    this.updateuserInfo();
    this.registerEvent();
    this.reqEnterArea();
  },
  onClick: function onClick(name, node) {
    switch (name) {
      case "btn_back":
        this.click_back();
        break;

      case "btn_help":
        this.click_help();
        break;

      case "btn_record":
        this.click_record();
        break;

      case "mycoinInfo":
        this.click_addgold();
        break;

      case "headbg":
        this.click_userinfo();
        break;

      case "btn_chongzhi":
        this.click_addgold();
        break;

      case "primary":
        this.enterGame(99);
        break;

      case "intermediate":
        this.enterGame(1);
        break;

      case "senior":
        this.enterGame(2);
        break;

      case "tuhao":
        this.enterGame(3);
        break;

      case "supremacy":
        this.enterGame(4);
        break;

      case "volvo":
        this.enterGame(5);
        break;

      default:
        console.error("no find button name -> %s", name);
    }
  },
  reqEnterArea: function reqEnterArea() {
    this.gameID = glGame.scenetag.EBG;
    glGame.readyroom.reqEnterArea(glGame.scenetag.EBG);
  },
  RootNodeShow: function RootNodeShow() {
    this.node.active = true;
    this.registerEvent();
    this.reqEnterArea();
  },
  RootNodeHide: function RootNodeHide() {
    this.node.active = false;
    this.resetView();
    this.unregisterEvent();
  },
  //事件监听
  registerEvent: function registerEvent() {
    glGame.emitter.on("goldOnlineNum", this.goldOnlineNum, this);
    glGame.emitter.on("onGameConfig", this.onGameConfig, this);
  },
  //事件销毁
  unregisterEvent: function unregisterEvent() {
    glGame.emitter.off("goldOnlineNum", this);
    glGame.emitter.off("onGameConfig", this);
  },
  onGameConfig: function onGameConfig(msg) {
    this.gameConfig = msg;
    this.initUI();
  },
  goldOnlineNum: function goldOnlineNum(msg) {
    console.log("这是在线人数的消息", msg);
    var count = this.level.length;

    for (var i = 0; i < count; i++) {
      if (msg[i + 1]) {
        this.level[i].getChildByName("people_num").getComponent(cc.Label).string = msg[i + 1];
      }
    }
  },
  initUI: function initUI() {
    var _this = this;

    var configure = this.gameConfig;
    var count = this.level.length;

    for (var i = 1; i < 4; i++) {
      this.dizhu[i].getComponent(cc.Label).string = this.cutFloat(configure[i].BaseChips);
      this.zhunru[i].getComponent(cc.Label).string = this.cutFloat(configure[i].EntranceRestrictions);
    }

    var animation = [];

    var _loop = function _loop(_i) {
      animation.push(cc.delayTime(0.05 * _i), cc.callFunc(function () {
        _this.level[_i].active = true;

        _this.level[_i].runAction(cc.sequence(cc.callFunc(function () {
          _this.level[_i].getChildByName("spine").getComponent(sp.Skeleton).setAnimation(0, "idle3", false);

          _this.level[_i].getChildByName("spine").getComponent(sp.Skeleton).setCompleteListener(function (trackEntry, loopCount) {
            var name = trackEntry.animation ? trackEntry.animation.name : "";

            if (name == "idle3") {
              _this.level[_i].getChildByName("spine").getComponent(sp.Skeleton).setAnimation(0, "idle2", true);
            }
          });
        }), cc.delayTime(0.3), cc.callFunc(function () {
          if (_this.level[_i].getChildByName("zhunrulayout")) _this.level[_i].getChildByName("zhunrulayout").active = true;
          if (_this.level[_i].getChildByName("dizhulaout")) _this.level[_i].getChildByName("dizhulaout").active = true;
        })));
      }));
    };

    for (var _i = 0; _i < 4; _i++) {
      _loop(_i);
    }

    this.node.runAction(cc.sequence(animation));
  },
  resetView: function resetView() {
    for (var i = 0; i < 4; i++) {
      this.level[i].active = false;
      if (this.level[i].getChildByName("zhunrulayout")) this.level[i].getChildByName("zhunrulayout").active = false;
      if (this.level[i].getChildByName("dizhulaout")) this.level[i].getChildByName("dizhulaout").active = false;
    }
  },

  /**
  * 进入金币场房间
  * @param level 场次类型 1:初级场 2:中级场 3:高级场 4:土豪场 5:至尊场
  */
  enterGame: function enterGame(level) {
    var _this2 = this;

    glGame.room.reqMyGameState(this.gameID, level).then(function () {
      var gameID = _this2.gameID;

      if (_this2.gameConfig[level] == null) {
        glGame.panel.showMsgBox('提示', '该房间尚未开放，请尝试其他房间。');
        return;
      }

      if (glGame.user.isTourist()) {
        if (level != 99) {
          glGame.panel.showRegisteredGift(true);
          return;
        }
      }

      if (glGame.user.suspicious == 1 && glGame.user.game == 2 || glGame.user.is_game == 2) {
        glGame.panel.showDialog("", "您的账号数据异常，暂时禁止进入游戏，如有疑问，请联系客服！", function () {
          glGame.panel.showService();
        }, function () {}, "我知道了", "联系客服");
        return;
      }

      if (_this2.gameConfig[level].EntranceRestrictions > glGame.user.get("coin")) {
        console.log("这是当前的房间限制", _this2.gameConfig);
        var string = "<color=#99C7FF>\u60A8\u7684\u91D1\u5E01\u4E0D\u8DB3\uFF0C\u8BE5\u623F\u95F4\u9700\u8981</c> <color=#ff0000> ".concat(_this2.cutFloat(_this2.gameConfig[level].EntranceRestrictions), "  </c><color=#99C7FF>\u91D1\u5E01\u624D\u53EF\u4E0B\u6CE8\uFF0C\u662F\u5426\u9A6C\u4E0A\u524D\u5F80\u5145\u503C\uFF1F</c>");
        glGame.panel.showDialog("", string, function () {
          glGame.panel.showShop(100);
        }, function () {}, "取消", "充值");
        return;
      }

      glGame.panel.showJuHua(); // glGame.readyroom.reqExitArea();

      _this2.node.runAction(cc.sequence(cc.delayTime(15), cc.callFunc(function () {
        glGame.panel.closeJuHua();
      }))); // TODO
      // reqGoldRoomVerify为旧的进入房间方法，需要先请求验证，再进入房间
      // setGoldRoomInfo 新的进入房间方法，无需验证，设置游戏类型以及房间信息后，直接进入房间
      // if (glGame.enterRoomVerification) {
      //     glGame.room.reqGoldRoomVerify(gameID, level);
      // } else {
      //     glGame.room.setGoldRoomInfo(gameID, level);
      // }


      glGame.room.setGoldRoomInfo(gameID, level);
    });
  },

  /**
   * 检查玩家金币是否足够
   * @returns {boolean}
   */
  checkGold: function checkGold(coin, minCion) {
    console.log("金币检测", coin, minCion);

    if (parseInt(coin) < parseInt(minCion)) {
      glGame.panel.showDialog(glGame.i18n.t("USER.GOLDLACK.TITLE"), glGame.i18n.t("USER.GOLDLACK.CONTENT"), function () {
        glGame.panel.showPanelByName("shop");
      }, null);
      return false;
    }

    return true;
  },
  cutFloat: function cutFloat(value) {
    return Number(value).div(100).toString();
  },
  showUserInfo: function showUserInfo() {
    glGame.panel.showRemoteImage(this.Playerhead, glGame.user.get("headURL"));
  },
  updateuserInfo: function updateuserInfo() {
    var coin = glGame.user.get("coin");
    this.goldCount.string = glGame.user.cutFloat(coin);
  },
  setGameId: function setGameId(gameid) {
    this.gameid = gameid;
  },
  updateBgInfo: function updateBgInfo() {},
  click_userinfo: function click_userinfo() {
    glGame.panel.showPanelByName("userinfo");
  },
  click_addgold: function click_addgold() {
    glGame.panel.showShop(30);
  },
  click_back: function click_back() {
    glGame.readyroom.reqExitArea();
    this.remove();
  },
  click_help: function click_help() {
    var ebg_gamerule = glGame.panel.showPanel(this.ebg_gamerule);
    ebg_gamerule.zIndex = 30;
  },
  click_record: function click_record() {
    //glGame.panel.showNewGameRecord(this.gameid,30);
    var ebg_record = glGame.panel.showPanel(this.ebg_record);
    ebg_record.zIndex = 30;
  },
  set: function set(key, value) {
    this[key] = value;
  },
  get: function get(key) {
    return this[key];
  },
  OnDestroy: function OnDestroy() {
    glGame.emitter.off(MESSAGE.UI.ROOM_ENTER_SHOW, this);
    glGame.emitter.off(MESSAGE.UI.ROOM_ENTER_HIDE, this);
    glGame.emitter.off("nodeRemove", this);
    glGame.emitter.off("updateUserData", this);
    this.unregisterEvent();
  } // update (dt) {},

});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcbW9kdWxlc1xccGxhemFcXHNjcmlwdFxccHJlZmFiXFxlbnRlclJvb21cXGViZ2VudHJ5LmpzIl0sIm5hbWVzIjpbImdsR2FtZSIsImJhc2VjbGFzcyIsImV4dGVuZCIsInByb3BlcnRpZXMiLCJnb2xkQ291bnQiLCJjYyIsIkxhYmVsIiwiZWJnX3JlY29yZCIsIlByZWZhYiIsImViZ19nYW1lcnVsZSIsImxldmVsIiwidHlwZSIsIk5vZGUiLCJkaXpodSIsInpodW5ydSIsIkJHTSIsIkF1ZGlvQ2xpcCIsIm9uTG9hZCIsImdhbWVpZCIsIm5vZGUiLCJ6SW5kZXgiLCJlbWl0dGVyIiwib24iLCJNRVNTQUdFIiwiVUkiLCJST09NX0VOVEVSX1NIT1ciLCJSb290Tm9kZVNob3ciLCJST09NX0VOVEVSX0hJREUiLCJSb290Tm9kZUhpZGUiLCJjbGlja19iYWNrIiwidXBkYXRldXNlckluZm8iLCJyZWdpc3RlckV2ZW50IiwicmVxRW50ZXJBcmVhIiwib25DbGljayIsIm5hbWUiLCJjbGlja19oZWxwIiwiY2xpY2tfcmVjb3JkIiwiY2xpY2tfYWRkZ29sZCIsImNsaWNrX3VzZXJpbmZvIiwiZW50ZXJHYW1lIiwiY29uc29sZSIsImVycm9yIiwiZ2FtZUlEIiwic2NlbmV0YWciLCJFQkciLCJyZWFkeXJvb20iLCJhY3RpdmUiLCJyZXNldFZpZXciLCJ1bnJlZ2lzdGVyRXZlbnQiLCJnb2xkT25saW5lTnVtIiwib25HYW1lQ29uZmlnIiwib2ZmIiwibXNnIiwiZ2FtZUNvbmZpZyIsImluaXRVSSIsImxvZyIsImNvdW50IiwibGVuZ3RoIiwiaSIsImdldENoaWxkQnlOYW1lIiwiZ2V0Q29tcG9uZW50Iiwic3RyaW5nIiwiY29uZmlndXJlIiwiY3V0RmxvYXQiLCJCYXNlQ2hpcHMiLCJFbnRyYW5jZVJlc3RyaWN0aW9ucyIsImFuaW1hdGlvbiIsInB1c2giLCJkZWxheVRpbWUiLCJjYWxsRnVuYyIsInJ1bkFjdGlvbiIsInNlcXVlbmNlIiwic3AiLCJTa2VsZXRvbiIsInNldEFuaW1hdGlvbiIsInNldENvbXBsZXRlTGlzdGVuZXIiLCJ0cmFja0VudHJ5IiwibG9vcENvdW50Iiwicm9vbSIsInJlcU15R2FtZVN0YXRlIiwidGhlbiIsInBhbmVsIiwic2hvd01zZ0JveCIsInVzZXIiLCJpc1RvdXJpc3QiLCJzaG93UmVnaXN0ZXJlZEdpZnQiLCJzdXNwaWNpb3VzIiwiZ2FtZSIsImlzX2dhbWUiLCJzaG93RGlhbG9nIiwic2hvd1NlcnZpY2UiLCJnZXQiLCJzaG93U2hvcCIsInNob3dKdUh1YSIsImNsb3NlSnVIdWEiLCJzZXRHb2xkUm9vbUluZm8iLCJjaGVja0dvbGQiLCJjb2luIiwibWluQ2lvbiIsInBhcnNlSW50IiwiaTE4biIsInQiLCJzaG93UGFuZWxCeU5hbWUiLCJ2YWx1ZSIsIk51bWJlciIsImRpdiIsInRvU3RyaW5nIiwic2hvd1VzZXJJbmZvIiwic2hvd1JlbW90ZUltYWdlIiwiUGxheWVyaGVhZCIsInNldEdhbWVJZCIsInVwZGF0ZUJnSW5mbyIsInJlcUV4aXRBcmVhIiwicmVtb3ZlIiwic2hvd1BhbmVsIiwic2V0Iiwia2V5IiwiT25EZXN0cm95Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBQSxNQUFNLENBQUNDLFNBQVAsQ0FBaUJDLE1BQWpCLENBQXdCO0FBRXBCQyxFQUFBQSxVQUFVLEVBQUU7QUFDUkMsSUFBQUEsU0FBUyxFQUFFQyxFQUFFLENBQUNDLEtBRE47QUFFUkMsSUFBQUEsVUFBVSxFQUFDRixFQUFFLENBQUNHLE1BRk47QUFHUkMsSUFBQUEsWUFBWSxFQUFDSixFQUFFLENBQUNHLE1BSFI7QUFJUkUsSUFBQUEsS0FBSyxFQUFFO0FBQ0hDLE1BQUFBLElBQUksRUFBRU4sRUFBRSxDQUFDTyxJQUROO0FBRUgsaUJBQVM7QUFGTixLQUpDO0FBUVJDLElBQUFBLEtBQUssRUFBQztBQUNGRixNQUFBQSxJQUFJLEVBQUVOLEVBQUUsQ0FBQ08sSUFEUDtBQUVGLGlCQUFTO0FBRlAsS0FSRTtBQVlSRSxJQUFBQSxNQUFNLEVBQUM7QUFDSEgsTUFBQUEsSUFBSSxFQUFFTixFQUFFLENBQUNPLElBRE47QUFFSCxpQkFBUztBQUZOLEtBWkM7QUFnQlJHLElBQUFBLEdBQUcsRUFBRTtBQUNESixNQUFBQSxJQUFJLEVBQUVOLEVBQUUsQ0FBQ1csU0FEUjtBQUVELGlCQUFTO0FBRlI7QUFoQkcsR0FGUTtBQXdCcEI7QUFFQUMsRUFBQUEsTUExQm9CLG9CQTBCWDtBQUNMLFNBQUtDLE1BQUwsR0FBYyxDQUFkO0FBQ0EsU0FBS0MsSUFBTCxDQUFVQyxNQUFWLEdBQW1CLEVBQW5CO0FBQ0FwQixJQUFBQSxNQUFNLENBQUNxQixPQUFQLENBQWVDLEVBQWYsQ0FBa0JDLE9BQU8sQ0FBQ0MsRUFBUixDQUFXQyxlQUE3QixFQUE4QyxLQUFLQyxZQUFuRCxFQUFpRSxJQUFqRTtBQUNBMUIsSUFBQUEsTUFBTSxDQUFDcUIsT0FBUCxDQUFlQyxFQUFmLENBQWtCQyxPQUFPLENBQUNDLEVBQVIsQ0FBV0csZUFBN0IsRUFBOEMsS0FBS0MsWUFBbkQsRUFBaUUsSUFBakU7QUFDQTVCLElBQUFBLE1BQU0sQ0FBQ3FCLE9BQVAsQ0FBZUMsRUFBZixDQUFrQixZQUFsQixFQUFnQyxLQUFLTyxVQUFyQyxFQUFpRCxJQUFqRDtBQUNBN0IsSUFBQUEsTUFBTSxDQUFDcUIsT0FBUCxDQUFlQyxFQUFmLENBQWtCLGdCQUFsQixFQUFvQyxLQUFLUSxjQUF6QyxFQUF5RCxJQUF6RDtBQUNBLFNBQUtBLGNBQUw7QUFDQSxTQUFLQyxhQUFMO0FBQ0EsU0FBS0MsWUFBTDtBQUNILEdBcENtQjtBQXFDcEJDLEVBQUFBLE9BckNvQixtQkFxQ1pDLElBckNZLEVBcUNOZixJQXJDTSxFQXFDQTtBQUNoQixZQUFRZSxJQUFSO0FBQ0ksV0FBSyxVQUFMO0FBQWlCLGFBQUtMLFVBQUw7QUFBbUI7O0FBQ3BDLFdBQUssVUFBTDtBQUFpQixhQUFLTSxVQUFMO0FBQW1COztBQUNwQyxXQUFLLFlBQUw7QUFBbUIsYUFBS0MsWUFBTDtBQUFxQjs7QUFDeEMsV0FBSyxZQUFMO0FBQW1CLGFBQUtDLGFBQUw7QUFBc0I7O0FBQ3pDLFdBQUssUUFBTDtBQUFlLGFBQUtDLGNBQUw7QUFBdUI7O0FBQ3RDLFdBQUssY0FBTDtBQUFxQixhQUFLRCxhQUFMO0FBQXNCOztBQUMzQyxXQUFLLFNBQUw7QUFBZ0IsYUFBS0UsU0FBTCxDQUFlLEVBQWY7QUFBb0I7O0FBQ3BDLFdBQUssY0FBTDtBQUFxQixhQUFLQSxTQUFMLENBQWUsQ0FBZjtBQUFtQjs7QUFDeEMsV0FBSyxRQUFMO0FBQWUsYUFBS0EsU0FBTCxDQUFlLENBQWY7QUFBbUI7O0FBQ2xDLFdBQUssT0FBTDtBQUFjLGFBQUtBLFNBQUwsQ0FBZSxDQUFmO0FBQW1COztBQUNqQyxXQUFLLFdBQUw7QUFBa0IsYUFBS0EsU0FBTCxDQUFlLENBQWY7QUFBbUI7O0FBQ3JDLFdBQUssT0FBTDtBQUFjLGFBQUtBLFNBQUwsQ0FBZSxDQUFmO0FBQW1COztBQUNqQztBQUFTQyxRQUFBQSxPQUFPLENBQUNDLEtBQVIsQ0FBYywyQkFBZCxFQUEyQ1AsSUFBM0M7QUFiYjtBQWVILEdBckRtQjtBQXNEcEJGLEVBQUFBLFlBdERvQiwwQkFzREw7QUFDWCxTQUFLVSxNQUFMLEdBQWMxQyxNQUFNLENBQUMyQyxRQUFQLENBQWdCQyxHQUE5QjtBQUNBNUMsSUFBQUEsTUFBTSxDQUFDNkMsU0FBUCxDQUFpQmIsWUFBakIsQ0FBOEJoQyxNQUFNLENBQUMyQyxRQUFQLENBQWdCQyxHQUE5QztBQUVILEdBMURtQjtBQTJEcEJsQixFQUFBQSxZQTNEb0IsMEJBMkROO0FBQ1YsU0FBS1AsSUFBTCxDQUFVMkIsTUFBVixHQUFtQixJQUFuQjtBQUNBLFNBQUtmLGFBQUw7QUFDQSxTQUFLQyxZQUFMO0FBQ0gsR0EvRG1CO0FBZ0VwQkosRUFBQUEsWUFoRW9CLDBCQWdFTjtBQUNWLFNBQUtULElBQUwsQ0FBVTJCLE1BQVYsR0FBbUIsS0FBbkI7QUFDQSxTQUFLQyxTQUFMO0FBQ0EsU0FBS0MsZUFBTDtBQUNILEdBcEVtQjtBQXFFbkI7QUFDQWpCLEVBQUFBLGFBdEVtQiwyQkFzRUg7QUFDYi9CLElBQUFBLE1BQU0sQ0FBQ3FCLE9BQVAsQ0FBZUMsRUFBZixDQUFrQixlQUFsQixFQUFtQyxLQUFLMkIsYUFBeEMsRUFBdUQsSUFBdkQ7QUFDQWpELElBQUFBLE1BQU0sQ0FBQ3FCLE9BQVAsQ0FBZUMsRUFBZixDQUFrQixjQUFsQixFQUFrQyxLQUFLNEIsWUFBdkMsRUFBcUQsSUFBckQ7QUFDSCxHQXpFbUI7QUEwRXBCO0FBQ0FGLEVBQUFBLGVBM0VvQiw2QkEyRUY7QUFDZGhELElBQUFBLE1BQU0sQ0FBQ3FCLE9BQVAsQ0FBZThCLEdBQWYsQ0FBbUIsZUFBbkIsRUFBb0MsSUFBcEM7QUFDQW5ELElBQUFBLE1BQU0sQ0FBQ3FCLE9BQVAsQ0FBZThCLEdBQWYsQ0FBbUIsY0FBbkIsRUFBbUMsSUFBbkM7QUFDSCxHQTlFbUI7QUErRXBCRCxFQUFBQSxZQS9Fb0Isd0JBK0VQRSxHQS9FTyxFQStFRjtBQUNkLFNBQUtDLFVBQUwsR0FBa0JELEdBQWxCO0FBQ0EsU0FBS0UsTUFBTDtBQUNILEdBbEZtQjtBQW1GcEJMLEVBQUFBLGFBbkZvQix5QkFtRk5HLEdBbkZNLEVBbUZEO0FBQ2ZaLElBQUFBLE9BQU8sQ0FBQ2UsR0FBUixDQUFZLFdBQVosRUFBeUJILEdBQXpCO0FBQ0EsUUFBSUksS0FBSyxHQUFHLEtBQUs5QyxLQUFMLENBQVcrQyxNQUF2Qjs7QUFDQSxTQUFLLElBQUlDLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdGLEtBQXBCLEVBQTJCRSxDQUFDLEVBQTVCLEVBQWdDO0FBQzVCLFVBQUlOLEdBQUcsQ0FBQ00sQ0FBQyxHQUFHLENBQUwsQ0FBUCxFQUFnQjtBQUNaLGFBQUtoRCxLQUFMLENBQVdnRCxDQUFYLEVBQWNDLGNBQWQsQ0FBNkIsWUFBN0IsRUFBMkNDLFlBQTNDLENBQXdEdkQsRUFBRSxDQUFDQyxLQUEzRCxFQUFrRXVELE1BQWxFLEdBQTJFVCxHQUFHLENBQUNNLENBQUMsR0FBRyxDQUFMLENBQTlFO0FBQ0g7QUFDSjtBQUNKLEdBM0ZtQjtBQTRGcEJKLEVBQUFBLE1BNUZvQixvQkE0Rlg7QUFBQTs7QUFDTCxRQUFJUSxTQUFTLEdBQUcsS0FBS1QsVUFBckI7QUFDQSxRQUFJRyxLQUFLLEdBQUcsS0FBSzlDLEtBQUwsQ0FBVytDLE1BQXZCOztBQUNBLFNBQUssSUFBSUMsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBRyxDQUFwQixFQUF1QkEsQ0FBQyxFQUF4QixFQUE0QjtBQUN4QixXQUFLN0MsS0FBTCxDQUFXNkMsQ0FBWCxFQUFjRSxZQUFkLENBQTJCdkQsRUFBRSxDQUFDQyxLQUE5QixFQUFxQ3VELE1BQXJDLEdBQThDLEtBQUtFLFFBQUwsQ0FBY0QsU0FBUyxDQUFDSixDQUFELENBQVQsQ0FBYU0sU0FBM0IsQ0FBOUM7QUFDQSxXQUFLbEQsTUFBTCxDQUFZNEMsQ0FBWixFQUFlRSxZQUFmLENBQTRCdkQsRUFBRSxDQUFDQyxLQUEvQixFQUFzQ3VELE1BQXRDLEdBQStDLEtBQUtFLFFBQUwsQ0FBY0QsU0FBUyxDQUFDSixDQUFELENBQVQsQ0FBYU8sb0JBQTNCLENBQS9DO0FBQ0g7O0FBRUQsUUFBSUMsU0FBUyxHQUFHLEVBQWhCOztBQVJLLCtCQVNJUixFQVRKO0FBVURRLE1BQUFBLFNBQVMsQ0FBQ0MsSUFBVixDQUNJOUQsRUFBRSxDQUFDK0QsU0FBSCxDQUFhLE9BQU9WLEVBQXBCLENBREosRUFFSXJELEVBQUUsQ0FBQ2dFLFFBQUgsQ0FBWSxZQUFNO0FBQ2QsUUFBQSxLQUFJLENBQUMzRCxLQUFMLENBQVdnRCxFQUFYLEVBQWNaLE1BQWQsR0FBdUIsSUFBdkI7O0FBQ0EsUUFBQSxLQUFJLENBQUNwQyxLQUFMLENBQVdnRCxFQUFYLEVBQWNZLFNBQWQsQ0FBd0JqRSxFQUFFLENBQUNrRSxRQUFILENBQ3BCbEUsRUFBRSxDQUFDZ0UsUUFBSCxDQUFZLFlBQU07QUFDZCxVQUFBLEtBQUksQ0FBQzNELEtBQUwsQ0FBV2dELEVBQVgsRUFBY0MsY0FBZCxDQUE2QixPQUE3QixFQUFzQ0MsWUFBdEMsQ0FBbURZLEVBQUUsQ0FBQ0MsUUFBdEQsRUFBZ0VDLFlBQWhFLENBQTZFLENBQTdFLEVBQWdGLE9BQWhGLEVBQXlGLEtBQXpGOztBQUNBLFVBQUEsS0FBSSxDQUFDaEUsS0FBTCxDQUFXZ0QsRUFBWCxFQUFjQyxjQUFkLENBQTZCLE9BQTdCLEVBQXNDQyxZQUF0QyxDQUFtRFksRUFBRSxDQUFDQyxRQUF0RCxFQUFnRUUsbUJBQWhFLENBQW9GLFVBQUNDLFVBQUQsRUFBYUMsU0FBYixFQUEyQjtBQUMzRyxnQkFBSTNDLElBQUksR0FBRzBDLFVBQVUsQ0FBQ1YsU0FBWCxHQUF1QlUsVUFBVSxDQUFDVixTQUFYLENBQXFCaEMsSUFBNUMsR0FBbUQsRUFBOUQ7O0FBQ0EsZ0JBQUlBLElBQUksSUFBSSxPQUFaLEVBQXFCO0FBQ2pCLGNBQUEsS0FBSSxDQUFDeEIsS0FBTCxDQUFXZ0QsRUFBWCxFQUFjQyxjQUFkLENBQTZCLE9BQTdCLEVBQXNDQyxZQUF0QyxDQUFtRFksRUFBRSxDQUFDQyxRQUF0RCxFQUFnRUMsWUFBaEUsQ0FBNkUsQ0FBN0UsRUFBZ0YsT0FBaEYsRUFBeUYsSUFBekY7QUFDSDtBQUNKLFdBTEQ7QUFNSCxTQVJELENBRG9CLEVBVXBCckUsRUFBRSxDQUFDK0QsU0FBSCxDQUFhLEdBQWIsQ0FWb0IsRUFXcEIvRCxFQUFFLENBQUNnRSxRQUFILENBQVksWUFBTTtBQUNkLGNBQUcsS0FBSSxDQUFDM0QsS0FBTCxDQUFXZ0QsRUFBWCxFQUFjQyxjQUFkLENBQTZCLGNBQTdCLENBQUgsRUFBZ0QsS0FBSSxDQUFDakQsS0FBTCxDQUFXZ0QsRUFBWCxFQUFjQyxjQUFkLENBQTZCLGNBQTdCLEVBQTZDYixNQUE3QyxHQUFzRCxJQUF0RDtBQUNoRCxjQUFHLEtBQUksQ0FBQ3BDLEtBQUwsQ0FBV2dELEVBQVgsRUFBY0MsY0FBZCxDQUE2QixZQUE3QixDQUFILEVBQThDLEtBQUksQ0FBQ2pELEtBQUwsQ0FBV2dELEVBQVgsRUFBY0MsY0FBZCxDQUE2QixZQUE3QixFQUEyQ2IsTUFBM0MsR0FBb0QsSUFBcEQ7QUFDakQsU0FIRCxDQVhvQixDQUF4QjtBQWdCSCxPQWxCRCxDQUZKO0FBVkM7O0FBU0wsU0FBSyxJQUFJWSxFQUFDLEdBQUcsQ0FBYixFQUFnQkEsRUFBQyxHQUFHLENBQXBCLEVBQXVCQSxFQUFDLEVBQXhCLEVBQTRCO0FBQUEsWUFBbkJBLEVBQW1CO0FBdUIzQjs7QUFDRCxTQUFLdkMsSUFBTCxDQUFVbUQsU0FBVixDQUFvQmpFLEVBQUUsQ0FBQ2tFLFFBQUgsQ0FBWUwsU0FBWixDQUFwQjtBQUNILEdBOUhtQjtBQStIcEJuQixFQUFBQSxTQS9Ib0IsdUJBK0hUO0FBQ1AsU0FBSyxJQUFJVyxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHLENBQXBCLEVBQXVCQSxDQUFDLEVBQXhCLEVBQTRCO0FBQ3hCLFdBQUtoRCxLQUFMLENBQVdnRCxDQUFYLEVBQWNaLE1BQWQsR0FBdUIsS0FBdkI7QUFDQSxVQUFHLEtBQUtwQyxLQUFMLENBQVdnRCxDQUFYLEVBQWNDLGNBQWQsQ0FBNkIsY0FBN0IsQ0FBSCxFQUFnRCxLQUFLakQsS0FBTCxDQUFXZ0QsQ0FBWCxFQUFjQyxjQUFkLENBQTZCLGNBQTdCLEVBQTZDYixNQUE3QyxHQUFzRCxLQUF0RDtBQUNoRCxVQUFHLEtBQUtwQyxLQUFMLENBQVdnRCxDQUFYLEVBQWNDLGNBQWQsQ0FBNkIsWUFBN0IsQ0FBSCxFQUE4QyxLQUFLakQsS0FBTCxDQUFXZ0QsQ0FBWCxFQUFjQyxjQUFkLENBQTZCLFlBQTdCLEVBQTJDYixNQUEzQyxHQUFvRCxLQUFwRDtBQUNqRDtBQUNKLEdBckltQjs7QUFzSW5COzs7O0FBSURQLEVBQUFBLFNBMUlvQixxQkEwSVY3QixLQTFJVSxFQTBJSDtBQUFBOztBQUNiVixJQUFBQSxNQUFNLENBQUM4RSxJQUFQLENBQVlDLGNBQVosQ0FBMkIsS0FBS3JDLE1BQWhDLEVBQXdDaEMsS0FBeEMsRUFBK0NzRSxJQUEvQyxDQUFvRCxZQUFNO0FBQ3RELFVBQUl0QyxNQUFNLEdBQUcsTUFBSSxDQUFDQSxNQUFsQjs7QUFDQSxVQUFJLE1BQUksQ0FBQ1csVUFBTCxDQUFnQjNDLEtBQWhCLEtBQTBCLElBQTlCLEVBQW9DO0FBQ2hDVixRQUFBQSxNQUFNLENBQUNpRixLQUFQLENBQWFDLFVBQWIsQ0FBd0IsSUFBeEIsRUFBOEIsa0JBQTlCO0FBQ0E7QUFDSDs7QUFDRCxVQUFJbEYsTUFBTSxDQUFDbUYsSUFBUCxDQUFZQyxTQUFaLEVBQUosRUFBNkI7QUFDekIsWUFBSTFFLEtBQUssSUFBSSxFQUFiLEVBQWlCO0FBQ2JWLFVBQUFBLE1BQU0sQ0FBQ2lGLEtBQVAsQ0FBYUksa0JBQWIsQ0FBZ0MsSUFBaEM7QUFDQTtBQUNIO0FBQ0o7O0FBQ0QsVUFBSXJGLE1BQU0sQ0FBQ21GLElBQVAsQ0FBWUcsVUFBWixJQUEwQixDQUExQixJQUE4QnRGLE1BQU0sQ0FBQ21GLElBQVAsQ0FBWUksSUFBWixJQUFvQixDQUFuRCxJQUEwRHZGLE1BQU0sQ0FBQ21GLElBQVAsQ0FBWUssT0FBWixJQUF1QixDQUFwRixFQUF1RjtBQUNuRnhGLFFBQUFBLE1BQU0sQ0FBQ2lGLEtBQVAsQ0FBYVEsVUFBYixDQUF3QixFQUF4QixFQUE0QiwrQkFBNUIsRUFBNkQsWUFBTTtBQUFFekYsVUFBQUEsTUFBTSxDQUFDaUYsS0FBUCxDQUFhUyxXQUFiO0FBQTRCLFNBQWpHLEVBQW1HLFlBQU0sQ0FBRSxDQUEzRyxFQUE2RyxNQUE3RyxFQUFxSCxNQUFySDtBQUNBO0FBQ0g7O0FBQ0QsVUFBSSxNQUFJLENBQUNyQyxVQUFMLENBQWdCM0MsS0FBaEIsRUFBdUJ1RCxvQkFBdkIsR0FBOENqRSxNQUFNLENBQUNtRixJQUFQLENBQVlRLEdBQVosQ0FBZ0IsTUFBaEIsQ0FBbEQsRUFBMkU7QUFDdkVuRCxRQUFBQSxPQUFPLENBQUNlLEdBQVIsQ0FBWSxXQUFaLEVBQXlCLE1BQUksQ0FBQ0YsVUFBOUI7QUFDQSxZQUFJUSxNQUFNLHlIQUFzRCxNQUFJLENBQUNFLFFBQUwsQ0FBYyxNQUFJLENBQUNWLFVBQUwsQ0FBZ0IzQyxLQUFoQixFQUF1QnVELG9CQUFyQyxDQUF0RCw4SEFBVjtBQUNBakUsUUFBQUEsTUFBTSxDQUFDaUYsS0FBUCxDQUFhUSxVQUFiLENBQXdCLEVBQXhCLEVBQTRCNUIsTUFBNUIsRUFBb0MsWUFBTTtBQUFFN0QsVUFBQUEsTUFBTSxDQUFDaUYsS0FBUCxDQUFhVyxRQUFiLENBQXNCLEdBQXRCO0FBQTRCLFNBQXhFLEVBQTBFLFlBQU0sQ0FBRyxDQUFuRixFQUFxRixJQUFyRixFQUEyRixJQUEzRjtBQUNBO0FBQ0g7O0FBQ0Q1RixNQUFBQSxNQUFNLENBQUNpRixLQUFQLENBQWFZLFNBQWIsR0F0QnNELENBdUJ0RDs7QUFDQSxNQUFBLE1BQUksQ0FBQzFFLElBQUwsQ0FBVW1ELFNBQVYsQ0FBb0JqRSxFQUFFLENBQUNrRSxRQUFILENBQ2hCbEUsRUFBRSxDQUFDK0QsU0FBSCxDQUFhLEVBQWIsQ0FEZ0IsRUFFaEIvRCxFQUFFLENBQUNnRSxRQUFILENBQVksWUFBTTtBQUNkckUsUUFBQUEsTUFBTSxDQUFDaUYsS0FBUCxDQUFhYSxVQUFiO0FBQ0gsT0FGRCxDQUZnQixDQUFwQixFQXhCc0QsQ0E4QnREO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBOUYsTUFBQUEsTUFBTSxDQUFDOEUsSUFBUCxDQUFZaUIsZUFBWixDQUE0QnJELE1BQTVCLEVBQW9DaEMsS0FBcEM7QUFDSCxLQXZDRDtBQXdDSCxHQW5MbUI7O0FBb0xwQjs7OztBQUlBc0YsRUFBQUEsU0F4TG9CLHFCQXdMVkMsSUF4TFUsRUF3TEpDLE9BeExJLEVBd0xLO0FBQ3JCMUQsSUFBQUEsT0FBTyxDQUFDZSxHQUFSLENBQVksTUFBWixFQUFvQjBDLElBQXBCLEVBQTBCQyxPQUExQjs7QUFDQSxRQUFJQyxRQUFRLENBQUNGLElBQUQsQ0FBUixHQUFpQkUsUUFBUSxDQUFDRCxPQUFELENBQTdCLEVBQXdDO0FBQ3BDbEcsTUFBQUEsTUFBTSxDQUFDaUYsS0FBUCxDQUFhUSxVQUFiLENBQXdCekYsTUFBTSxDQUFDb0csSUFBUCxDQUFZQyxDQUFaLENBQWMscUJBQWQsQ0FBeEIsRUFBOERyRyxNQUFNLENBQUNvRyxJQUFQLENBQVlDLENBQVosQ0FBYyx1QkFBZCxDQUE5RCxFQUFzRyxZQUFNO0FBQ3hHckcsUUFBQUEsTUFBTSxDQUFDaUYsS0FBUCxDQUFhcUIsZUFBYixDQUE2QixNQUE3QjtBQUNILE9BRkQsRUFFRyxJQUZIO0FBR0EsYUFBTyxLQUFQO0FBQ0g7O0FBQ0QsV0FBTyxJQUFQO0FBQ0gsR0FqTW1CO0FBa01wQnZDLEVBQUFBLFFBbE1vQixvQkFrTVh3QyxLQWxNVyxFQWtNSjtBQUNaLFdBQVFDLE1BQU0sQ0FBQ0QsS0FBRCxDQUFOLENBQWNFLEdBQWQsQ0FBa0IsR0FBbEIsQ0FBRCxDQUF5QkMsUUFBekIsRUFBUDtBQUNILEdBcE1tQjtBQXFNcEJDLEVBQUFBLFlBck1vQiwwQkFxTUw7QUFDWDNHLElBQUFBLE1BQU0sQ0FBQ2lGLEtBQVAsQ0FBYTJCLGVBQWIsQ0FBNkIsS0FBS0MsVUFBbEMsRUFBOEM3RyxNQUFNLENBQUNtRixJQUFQLENBQVlRLEdBQVosQ0FBZ0IsU0FBaEIsQ0FBOUM7QUFDSCxHQXZNbUI7QUF3TXBCN0QsRUFBQUEsY0F4TW9CLDRCQXdNSDtBQUNiLFFBQUltRSxJQUFJLEdBQUdqRyxNQUFNLENBQUNtRixJQUFQLENBQVlRLEdBQVosQ0FBZ0IsTUFBaEIsQ0FBWDtBQUNBLFNBQUt2RixTQUFMLENBQWV5RCxNQUFmLEdBQXdCN0QsTUFBTSxDQUFDbUYsSUFBUCxDQUFZcEIsUUFBWixDQUFxQmtDLElBQXJCLENBQXhCO0FBQ0gsR0EzTW1CO0FBNk1wQmEsRUFBQUEsU0E3TW9CLHFCQTZNVjVGLE1BN01VLEVBNk1GO0FBQ2QsU0FBS0EsTUFBTCxHQUFjQSxNQUFkO0FBQ0gsR0EvTW1CO0FBaU5wQjZGLEVBQUFBLFlBak5vQiwwQkFpTkwsQ0FFZCxDQW5ObUI7QUFvTnBCekUsRUFBQUEsY0FwTm9CLDRCQW9OSDtBQUNidEMsSUFBQUEsTUFBTSxDQUFDaUYsS0FBUCxDQUFhcUIsZUFBYixDQUE2QixVQUE3QjtBQUNILEdBdE5tQjtBQXVOcEJqRSxFQUFBQSxhQXZOb0IsMkJBdU5KO0FBQ1pyQyxJQUFBQSxNQUFNLENBQUNpRixLQUFQLENBQWFXLFFBQWIsQ0FBc0IsRUFBdEI7QUFDSCxHQXpObUI7QUEwTnBCL0QsRUFBQUEsVUExTm9CLHdCQTBOUDtBQUNUN0IsSUFBQUEsTUFBTSxDQUFDNkMsU0FBUCxDQUFpQm1FLFdBQWpCO0FBQ0EsU0FBS0MsTUFBTDtBQUNILEdBN05tQjtBQThOcEI5RSxFQUFBQSxVQTlOb0Isd0JBOE5QO0FBQ1QsUUFBSTFCLFlBQVksR0FBR1QsTUFBTSxDQUFDaUYsS0FBUCxDQUFhaUMsU0FBYixDQUF1QixLQUFLekcsWUFBNUIsQ0FBbkI7QUFDQUEsSUFBQUEsWUFBWSxDQUFDVyxNQUFiLEdBQXNCLEVBQXRCO0FBQ0gsR0FqT21CO0FBa09wQmdCLEVBQUFBLFlBbE9vQiwwQkFrT0w7QUFDWDtBQUNBLFFBQUk3QixVQUFVLEdBQUdQLE1BQU0sQ0FBQ2lGLEtBQVAsQ0FBYWlDLFNBQWIsQ0FBdUIsS0FBSzNHLFVBQTVCLENBQWpCO0FBQ0FBLElBQUFBLFVBQVUsQ0FBQ2EsTUFBWCxHQUFvQixFQUFwQjtBQUNILEdBdE9tQjtBQXdPcEIrRixFQUFBQSxHQXhPb0IsZUF3T2hCQyxHQXhPZ0IsRUF3T1hiLEtBeE9XLEVBd09KO0FBQ1osU0FBS2EsR0FBTCxJQUFZYixLQUFaO0FBQ0gsR0ExT21CO0FBMk9wQlosRUFBQUEsR0EzT29CLGVBMk9oQnlCLEdBM09nQixFQTJPWDtBQUNMLFdBQU8sS0FBS0EsR0FBTCxDQUFQO0FBQ0gsR0E3T21CO0FBOE9wQkMsRUFBQUEsU0E5T29CLHVCQThPUjtBQUNSckgsSUFBQUEsTUFBTSxDQUFDcUIsT0FBUCxDQUFlOEIsR0FBZixDQUFtQjVCLE9BQU8sQ0FBQ0MsRUFBUixDQUFXQyxlQUE5QixFQUE4QyxJQUE5QztBQUNBekIsSUFBQUEsTUFBTSxDQUFDcUIsT0FBUCxDQUFlOEIsR0FBZixDQUFtQjVCLE9BQU8sQ0FBQ0MsRUFBUixDQUFXRyxlQUE5QixFQUE4QyxJQUE5QztBQUNBM0IsSUFBQUEsTUFBTSxDQUFDcUIsT0FBUCxDQUFlOEIsR0FBZixDQUFtQixZQUFuQixFQUFpQyxJQUFqQztBQUNBbkQsSUFBQUEsTUFBTSxDQUFDcUIsT0FBUCxDQUFlOEIsR0FBZixDQUFtQixnQkFBbkIsRUFBb0MsSUFBcEM7QUFDQSxTQUFLSCxlQUFMO0FBQ0gsR0FwUG1CLENBcVBwQjs7QUFyUG9CLENBQXhCIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJnbEdhbWUuYmFzZWNsYXNzLmV4dGVuZCh7XHJcblxyXG4gICAgcHJvcGVydGllczoge1xyXG4gICAgICAgIGdvbGRDb3VudDogY2MuTGFiZWwsXHJcbiAgICAgICAgZWJnX3JlY29yZDpjYy5QcmVmYWIsXHJcbiAgICAgICAgZWJnX2dhbWVydWxlOmNjLlByZWZhYixcclxuICAgICAgICBsZXZlbDoge1xyXG4gICAgICAgICAgICB0eXBlOiBjYy5Ob2RlLFxyXG4gICAgICAgICAgICBkZWZhdWx0OiBbXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGl6aHU6e1xyXG4gICAgICAgICAgICB0eXBlOiBjYy5Ob2RlLFxyXG4gICAgICAgICAgICBkZWZhdWx0OiBbXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgemh1bnJ1OntcclxuICAgICAgICAgICAgdHlwZTogY2MuTm9kZSxcclxuICAgICAgICAgICAgZGVmYXVsdDogW11cclxuICAgICAgICB9LFxyXG4gICAgICAgIEJHTToge1xyXG4gICAgICAgICAgICB0eXBlOiBjYy5BdWRpb0NsaXAsXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcblxyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcblxyXG4gICAgb25Mb2FkKCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZWlkID0gMDtcclxuICAgICAgICB0aGlzLm5vZGUuekluZGV4ID0gMjA7XHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIub24oTUVTU0FHRS5VSS5ST09NX0VOVEVSX1NIT1csIHRoaXMuUm9vdE5vZGVTaG93LCB0aGlzKTtcclxuICAgICAgICBnbEdhbWUuZW1pdHRlci5vbihNRVNTQUdFLlVJLlJPT01fRU5URVJfSElERSwgdGhpcy5Sb290Tm9kZUhpZGUsIHRoaXMpO1xyXG4gICAgICAgIGdsR2FtZS5lbWl0dGVyLm9uKFwibm9kZVJlbW92ZVwiLCB0aGlzLmNsaWNrX2JhY2ssIHRoaXMpO1xyXG4gICAgICAgIGdsR2FtZS5lbWl0dGVyLm9uKFwidXBkYXRlVXNlckRhdGFcIiwgdGhpcy51cGRhdGV1c2VySW5mbywgdGhpcyk7XHJcbiAgICAgICAgdGhpcy51cGRhdGV1c2VySW5mbygpO1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJFdmVudCgpO1xyXG4gICAgICAgIHRoaXMucmVxRW50ZXJBcmVhKCk7XHJcbiAgICB9LFxyXG4gICAgb25DbGljayhuYW1lLCBub2RlKSB7XHJcbiAgICAgICAgc3dpdGNoIChuYW1lKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJidG5fYmFja1wiOiB0aGlzLmNsaWNrX2JhY2soKTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJidG5faGVscFwiOiB0aGlzLmNsaWNrX2hlbHAoKTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJidG5fcmVjb3JkXCI6IHRoaXMuY2xpY2tfcmVjb3JkKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwibXljb2luSW5mb1wiOiB0aGlzLmNsaWNrX2FkZGdvbGQoKTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJoZWFkYmdcIjogdGhpcy5jbGlja191c2VyaW5mbygpOyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImJ0bl9jaG9uZ3poaVwiOiB0aGlzLmNsaWNrX2FkZGdvbGQoKTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJwcmltYXJ5XCI6IHRoaXMuZW50ZXJHYW1lKDk5KTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJpbnRlcm1lZGlhdGVcIjogdGhpcy5lbnRlckdhbWUoMSk7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwic2VuaW9yXCI6IHRoaXMuZW50ZXJHYW1lKDIpOyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInR1aGFvXCI6IHRoaXMuZW50ZXJHYW1lKDMpOyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInN1cHJlbWFjeVwiOiB0aGlzLmVudGVyR2FtZSg0KTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ2b2x2b1wiOiB0aGlzLmVudGVyR2FtZSg1KTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IGNvbnNvbGUuZXJyb3IoXCJubyBmaW5kIGJ1dHRvbiBuYW1lIC0+ICVzXCIsIG5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZXFFbnRlckFyZWEoKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lSUQgPSBnbEdhbWUuc2NlbmV0YWcuRUJHO1xyXG4gICAgICAgIGdsR2FtZS5yZWFkeXJvb20ucmVxRW50ZXJBcmVhKGdsR2FtZS5zY2VuZXRhZy5FQkcpO1xyXG5cclxuICAgIH0sXHJcbiAgICBSb290Tm9kZVNob3coKXtcclxuICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoKTtcclxuICAgICAgICB0aGlzLnJlcUVudGVyQXJlYSgpO1xyXG4gICAgfSxcclxuICAgIFJvb3ROb2RlSGlkZSgpe1xyXG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnJlc2V0VmlldygpO1xyXG4gICAgICAgIHRoaXMudW5yZWdpc3RlckV2ZW50KCk7XHJcbiAgICB9LFxyXG4gICAgIC8v5LqL5Lu255uR5ZCsXHJcbiAgICAgcmVnaXN0ZXJFdmVudCgpIHtcclxuICAgICAgICBnbEdhbWUuZW1pdHRlci5vbihcImdvbGRPbmxpbmVOdW1cIiwgdGhpcy5nb2xkT25saW5lTnVtLCB0aGlzKTtcclxuICAgICAgICBnbEdhbWUuZW1pdHRlci5vbihcIm9uR2FtZUNvbmZpZ1wiLCB0aGlzLm9uR2FtZUNvbmZpZywgdGhpcyk7XHJcbiAgICB9LFxyXG4gICAgLy/kuovku7bplIDmr4FcclxuICAgIHVucmVnaXN0ZXJFdmVudCgpIHtcclxuICAgICAgICBnbEdhbWUuZW1pdHRlci5vZmYoXCJnb2xkT25saW5lTnVtXCIsIHRoaXMpO1xyXG4gICAgICAgIGdsR2FtZS5lbWl0dGVyLm9mZihcIm9uR2FtZUNvbmZpZ1wiLCB0aGlzKTtcclxuICAgIH0sXHJcbiAgICBvbkdhbWVDb25maWcobXNnKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lQ29uZmlnID0gbXNnO1xyXG4gICAgICAgIHRoaXMuaW5pdFVJKCk7XHJcbiAgICB9LFxyXG4gICAgZ29sZE9ubGluZU51bShtc2cpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIui/meaYr+WcqOe6v+S6uuaVsOeahOa2iOaBr1wiLCBtc2cpXHJcbiAgICAgICAgbGV0IGNvdW50ID0gdGhpcy5sZXZlbC5sZW5ndGg7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChtc2dbaSArIDFdKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxldmVsW2ldLmdldENoaWxkQnlOYW1lKFwicGVvcGxlX251bVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IG1zZ1tpICsgMV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBpbml0VUkoKSB7XHJcbiAgICAgICAgbGV0IGNvbmZpZ3VyZSA9IHRoaXMuZ2FtZUNvbmZpZztcclxuICAgICAgICBsZXQgY291bnQgPSB0aGlzLmxldmVsLmxlbmd0aDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmRpemh1W2ldLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gdGhpcy5jdXRGbG9hdChjb25maWd1cmVbaV0uQmFzZUNoaXBzKTtcclxuICAgICAgICAgICAgdGhpcy56aHVucnVbaV0uZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSB0aGlzLmN1dEZsb2F0KGNvbmZpZ3VyZVtpXS5FbnRyYW5jZVJlc3RyaWN0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICBcclxuICAgICAgICBsZXQgYW5pbWF0aW9uID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcclxuICAgICAgICAgICAgYW5pbWF0aW9uLnB1c2goXHJcbiAgICAgICAgICAgICAgICBjYy5kZWxheVRpbWUoMC4wNSAqIGkpLFxyXG4gICAgICAgICAgICAgICAgY2MuY2FsbEZ1bmMoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxbaV0uYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsW2ldLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2MuY2FsbEZ1bmMoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sZXZlbFtpXS5nZXRDaGlsZEJ5TmFtZShcInNwaW5lXCIpLmdldENvbXBvbmVudChzcC5Ta2VsZXRvbikuc2V0QW5pbWF0aW9uKDAsIFwiaWRsZTNcIiwgZmFsc2UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsW2ldLmdldENoaWxkQnlOYW1lKFwic3BpbmVcIikuZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKS5zZXRDb21wbGV0ZUxpc3RlbmVyKCh0cmFja0VudHJ5LCBsb29wQ291bnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IHRyYWNrRW50cnkuYW5pbWF0aW9uID8gdHJhY2tFbnRyeS5hbmltYXRpb24ubmFtZSA6IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUgPT0gXCJpZGxlM1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxbaV0uZ2V0Q2hpbGRCeU5hbWUoXCJzcGluZVwiKS5nZXRDb21wb25lbnQoc3AuU2tlbGV0b24pLnNldEFuaW1hdGlvbigwLCBcImlkbGUyXCIsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYy5kZWxheVRpbWUoMC4zKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2MuY2FsbEZ1bmMoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5sZXZlbFtpXS5nZXRDaGlsZEJ5TmFtZShcInpodW5ydWxheW91dFwiKSl0aGlzLmxldmVsW2ldLmdldENoaWxkQnlOYW1lKFwiemh1bnJ1bGF5b3V0XCIpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmxldmVsW2ldLmdldENoaWxkQnlOYW1lKFwiZGl6aHVsYW91dFwiKSl0aGlzLmxldmVsW2ldLmdldENoaWxkQnlOYW1lKFwiZGl6aHVsYW91dFwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICkpXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoYW5pbWF0aW9uKSlcclxuICAgIH0sXHJcbiAgICByZXNldFZpZXcoKXtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmxldmVsW2ldLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZih0aGlzLmxldmVsW2ldLmdldENoaWxkQnlOYW1lKFwiemh1bnJ1bGF5b3V0XCIpKXRoaXMubGV2ZWxbaV0uZ2V0Q2hpbGRCeU5hbWUoXCJ6aHVucnVsYXlvdXRcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmKHRoaXMubGV2ZWxbaV0uZ2V0Q2hpbGRCeU5hbWUoXCJkaXpodWxhb3V0XCIpKXRoaXMubGV2ZWxbaV0uZ2V0Q2hpbGRCeU5hbWUoXCJkaXpodWxhb3V0XCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAgLyoqXHJcbiAgICAgKiDov5vlhaXph5HluIHlnLrmiL/pl7RcclxuICAgICAqIEBwYXJhbSBsZXZlbCDlnLrmrKHnsbvlnosgMTrliJ3nuqflnLogMjrkuK3nuqflnLogMzrpq5jnuqflnLogNDrlnJ/osarlnLogNTroh7PlsIrlnLpcclxuICAgICAqL1xyXG4gICAgZW50ZXJHYW1lKGxldmVsKSB7XHJcbiAgICAgICAgZ2xHYW1lLnJvb20ucmVxTXlHYW1lU3RhdGUodGhpcy5nYW1lSUQsIGxldmVsKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGdhbWVJRCA9IHRoaXMuZ2FtZUlEO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nYW1lQ29uZmlnW2xldmVsXSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBnbEdhbWUucGFuZWwuc2hvd01zZ0JveCgn5o+Q56S6JywgJ+ivpeaIv+mXtOWwmuacquW8gOaUvu+8jOivt+WwneivleWFtuS7luaIv+mXtOOAgicpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChnbEdhbWUudXNlci5pc1RvdXJpc3QoKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxldmVsICE9IDk5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2xHYW1lLnBhbmVsLnNob3dSZWdpc3RlcmVkR2lmdCh0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZigoZ2xHYW1lLnVzZXIuc3VzcGljaW91cyA9PSAxICYmZ2xHYW1lLnVzZXIuZ2FtZSA9PSAyICkgfHwgZ2xHYW1lLnVzZXIuaXNfZ2FtZSA9PSAyICl7XHJcbiAgICAgICAgICAgICAgICBnbEdhbWUucGFuZWwuc2hvd0RpYWxvZyhcIlwiLCBcIuaCqOeahOi0puWPt+aVsOaNruW8guW4uO+8jOaaguaXtuemgeatoui/m+WFpea4uOaIj++8jOWmguacieeWkemXru+8jOivt+iBlOezu+Wuouacje+8gVwiLCAoKSA9PiB7IGdsR2FtZS5wYW5lbC5zaG93U2VydmljZSgpIH0sICgpID0+IHt9LCBcIuaIkeefpemBk+S6hlwiLCBcIuiBlOezu+WuouacjVwiKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdhbWVDb25maWdbbGV2ZWxdLkVudHJhbmNlUmVzdHJpY3Rpb25zID4gZ2xHYW1lLnVzZXIuZ2V0KFwiY29pblwiKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLov5nmmK/lvZPliY3nmoTmiL/pl7TpmZDliLZcIiwgdGhpcy5nYW1lQ29uZmlnKVxyXG4gICAgICAgICAgICAgICAgbGV0IHN0cmluZyA9IGA8Y29sb3I9Izk5QzdGRj7mgqjnmoTph5HluIHkuI3otrPvvIzor6XmiL/pl7TpnIDopoE8L2M+IDxjb2xvcj0jZmYwMDAwPiAke3RoaXMuY3V0RmxvYXQodGhpcy5nYW1lQ29uZmlnW2xldmVsXS5FbnRyYW5jZVJlc3RyaWN0aW9ucyl9ICA8L2M+PGNvbG9yPSM5OUM3RkY+6YeR5biB5omN5Y+v5LiL5rOo77yM5piv5ZCm6ams5LiK5YmN5b6A5YWF5YC877yfPC9jPmBcclxuICAgICAgICAgICAgICAgIGdsR2FtZS5wYW5lbC5zaG93RGlhbG9nKFwiXCIsIHN0cmluZywgKCkgPT4geyBnbEdhbWUucGFuZWwuc2hvd1Nob3AoMTAwKSB9LCAoKSA9PiB7IH0sIFwi5Y+W5raIXCIsIFwi5YWF5YC8XCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZ2xHYW1lLnBhbmVsLnNob3dKdUh1YSgpO1xyXG4gICAgICAgICAgICAvLyBnbEdhbWUucmVhZHlyb29tLnJlcUV4aXRBcmVhKCk7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoXHJcbiAgICAgICAgICAgICAgICBjYy5kZWxheVRpbWUoMTUpLFxyXG4gICAgICAgICAgICAgICAgY2MuY2FsbEZ1bmMoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGdsR2FtZS5wYW5lbC5jbG9zZUp1SHVhKCk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICApKVxyXG4gICAgICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgICAgIC8vIHJlcUdvbGRSb29tVmVyaWZ55Li65pen55qE6L+b5YWl5oi/6Ze05pa55rOV77yM6ZyA6KaB5YWI6K+35rGC6aqM6K+B77yM5YaN6L+b5YWl5oi/6Ze0XHJcbiAgICAgICAgICAgIC8vIHNldEdvbGRSb29tSW5mbyDmlrDnmoTov5vlhaXmiL/pl7Tmlrnms5XvvIzml6DpnIDpqozor4HvvIzorr7nva7muLjmiI/nsbvlnovku6Xlj4rmiL/pl7Tkv6Hmga/lkI7vvIznm7TmjqXov5vlhaXmiL/pl7RcclxuICAgICAgICAgICAgLy8gaWYgKGdsR2FtZS5lbnRlclJvb21WZXJpZmljYXRpb24pIHtcclxuICAgICAgICAgICAgLy8gICAgIGdsR2FtZS5yb29tLnJlcUdvbGRSb29tVmVyaWZ5KGdhbWVJRCwgbGV2ZWwpO1xyXG4gICAgICAgICAgICAvLyB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyAgICAgZ2xHYW1lLnJvb20uc2V0R29sZFJvb21JbmZvKGdhbWVJRCwgbGV2ZWwpO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIGdsR2FtZS5yb29tLnNldEdvbGRSb29tSW5mbyhnYW1lSUQsIGxldmVsKTtcclxuICAgICAgICB9KVxyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICog5qOA5p+l546p5a626YeR5biB5piv5ZCm6Laz5aSfXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgY2hlY2tHb2xkKGNvaW4sIG1pbkNpb24pIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIumHkeW4geajgOa1i1wiLCBjb2luLCBtaW5DaW9uKTtcclxuICAgICAgICBpZiAocGFyc2VJbnQoY29pbikgPCBwYXJzZUludChtaW5DaW9uKSkge1xyXG4gICAgICAgICAgICBnbEdhbWUucGFuZWwuc2hvd0RpYWxvZyhnbEdhbWUuaTE4bi50KFwiVVNFUi5HT0xETEFDSy5USVRMRVwiKSwgZ2xHYW1lLmkxOG4udChcIlVTRVIuR09MRExBQ0suQ09OVEVOVFwiKSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZ2xHYW1lLnBhbmVsLnNob3dQYW5lbEJ5TmFtZShcInNob3BcIik7XHJcbiAgICAgICAgICAgIH0sIG51bGwpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSxcclxuICAgIGN1dEZsb2F0KHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIChOdW1iZXIodmFsdWUpLmRpdigxMDApKS50b1N0cmluZygpO1xyXG4gICAgfSxcclxuICAgIHNob3dVc2VySW5mbygpIHtcclxuICAgICAgICBnbEdhbWUucGFuZWwuc2hvd1JlbW90ZUltYWdlKHRoaXMuUGxheWVyaGVhZCwgZ2xHYW1lLnVzZXIuZ2V0KFwiaGVhZFVSTFwiKSk7XHJcbiAgICB9LFxyXG4gICAgdXBkYXRldXNlckluZm8oKSB7XHJcbiAgICAgICAgbGV0IGNvaW4gPSBnbEdhbWUudXNlci5nZXQoXCJjb2luXCIpXHJcbiAgICAgICAgdGhpcy5nb2xkQ291bnQuc3RyaW5nID0gZ2xHYW1lLnVzZXIuY3V0RmxvYXQoY29pbik7XHJcbiAgICB9LFxyXG5cclxuICAgIHNldEdhbWVJZChnYW1laWQpIHtcclxuICAgICAgICB0aGlzLmdhbWVpZCA9IGdhbWVpZDtcclxuICAgIH0sXHJcblxyXG4gICAgdXBkYXRlQmdJbmZvKCkge1xyXG4gICAgICAgIFxyXG4gICAgfSxcclxuICAgIGNsaWNrX3VzZXJpbmZvKCkge1xyXG4gICAgICAgIGdsR2FtZS5wYW5lbC5zaG93UGFuZWxCeU5hbWUoXCJ1c2VyaW5mb1wiKTtcclxuICAgIH0sXHJcbiAgICBjbGlja19hZGRnb2xkKCkge1xyXG4gICAgICAgIGdsR2FtZS5wYW5lbC5zaG93U2hvcCgzMCk7XHJcbiAgICB9LFxyXG4gICAgY2xpY2tfYmFjaygpIHtcclxuICAgICAgICBnbEdhbWUucmVhZHlyb29tLnJlcUV4aXRBcmVhKCk7XHJcbiAgICAgICAgdGhpcy5yZW1vdmUoKTtcclxuICAgIH0sXHJcbiAgICBjbGlja19oZWxwKCkge1xyXG4gICAgICAgIGxldCBlYmdfZ2FtZXJ1bGUgPSBnbEdhbWUucGFuZWwuc2hvd1BhbmVsKHRoaXMuZWJnX2dhbWVydWxlKTtcclxuICAgICAgICBlYmdfZ2FtZXJ1bGUuekluZGV4ID0gMzA7XHJcbiAgICB9LFxyXG4gICAgY2xpY2tfcmVjb3JkKCkge1xyXG4gICAgICAgIC8vZ2xHYW1lLnBhbmVsLnNob3dOZXdHYW1lUmVjb3JkKHRoaXMuZ2FtZWlkLDMwKTtcclxuICAgICAgICBsZXQgZWJnX3JlY29yZCA9IGdsR2FtZS5wYW5lbC5zaG93UGFuZWwodGhpcy5lYmdfcmVjb3JkKTtcclxuICAgICAgICBlYmdfcmVjb3JkLnpJbmRleCA9IDMwO1xyXG4gICAgfSxcclxuXHJcbiAgICBzZXQoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIHRoaXNba2V5XSA9IHZhbHVlO1xyXG4gICAgfSxcclxuICAgIGdldChrZXkpIHtcclxuICAgICAgICByZXR1cm4gdGhpc1trZXldO1xyXG4gICAgfSxcclxuICAgIE9uRGVzdHJveSgpIHtcclxuICAgICAgICBnbEdhbWUuZW1pdHRlci5vZmYoTUVTU0FHRS5VSS5ST09NX0VOVEVSX1NIT1csdGhpcyk7XHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIub2ZmKE1FU1NBR0UuVUkuUk9PTV9FTlRFUl9ISURFLHRoaXMpO1xyXG4gICAgICAgIGdsR2FtZS5lbWl0dGVyLm9mZihcIm5vZGVSZW1vdmVcIiwgdGhpcyk7XHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIub2ZmKFwidXBkYXRlVXNlckRhdGFcIix0aGlzKTtcclxuICAgICAgICB0aGlzLnVucmVnaXN0ZXJFdmVudCgpO1xyXG4gICAgfSxcclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9LFxyXG59KTtcclxuIl19