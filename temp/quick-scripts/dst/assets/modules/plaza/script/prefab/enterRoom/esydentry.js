
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/modules/plaza/script/prefab/enterRoom/esydentry.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3f1e34gKfNNjrdaGRD6g2wu', 'esydentry');
// modules/plaza/script/prefab/enterRoom/esydentry.js

"use strict";

glGame.baseclass.extend({
  properties: {
    BGM: {
      type: cc.AudioClip,
      "default": null
    },
    goldCount: cc.Label,
    level: {
      type: cc.Node,
      "default": []
    },
    record: cc.Prefab,
    rule: cc.Prefab,
    sp_game_logo: sp.Skeleton,
    sp_deng: sp.Skeleton
  },
  // LIFE-CYCLE CALLBACKS:
  onLoad: function onLoad() {
    this.gameid = 0;
    this.node.zIndex = 20;
    this.node.getChildByName("esydselect").active = false;
    glGame.emitter.on(MESSAGE.UI.ROOM_ENTER_SHOW, this.RootNodeShow, this);
    glGame.emitter.on(MESSAGE.UI.ROOM_ENTER_HIDE, this.RootNodeHide, this);
    glGame.emitter.on("nodeRemove", this.click_back, this);
    glGame.emitter.on("updateUserData", this.updateuserInfo, this);
    this.updateuserInfo();
    this.registerEvent();
    this.reqEnterArea();
  },
  initAni: function initAni() {
    this.renwu_pos = [];

    for (var index = 0; index < this.level.length; index++) {
      var pos = this.level[index].getPosition();
      this.renwu_pos.push(pos);

      if (index > 1) {
        this.level[index].x = this.node.width / 2 + pos.x;
      } else {
        this.level[index].x = pos.x - this.node.width / 2;
      }

      this.level[index].active = true;
    }

    var _fadeTo = cc.sequence(cc.fadeTo(0.1, 130), cc.delayTime(0.1), cc.fadeTo(0.05, 220));

    var _callFunc = cc.callFunc(function () {
      this.playShow();
      this.playMove();
      this.aniEvent();
    }, this);

    this.node.runAction(_callFunc);
  },
  // 任务渐变出来
  playShow: function playShow() {
    var _index = 0; // let action_node = [2, 1, 3, 0];

    var action_node = [1, 2, 0, 3];
    var roomSelect = this.node.getChildByName("girls");
    action_node.forEach(function (i) {
      roomSelect.children[i].runAction(cc.sequence(cc.delayTime(_index * 0.15), cc.tintTo(0.1, 255, 255, 255)));
      _index++;
    });
  },
  //打开界面的图标移动动作
  playMove: function playMove() {
    // let roomSelect = this.node.getChildByName("qznnselect");
    // for (let i = 0; i < roomSelect.childrenCount; i++) {
    for (var i = 0; i < this.level.length; i++) {
      if (i < 4) {
        var time = i * 0.1;

        switch (i) {
          case 0:
            time = (i + 1) * 0.1;
            break;

          case 1:
            time = 0;
            break;
        }

        this.level[i].runAction(cc.sequence(cc.delayTime(time), cc.moveTo(0.15, cc.v2(this.renwu_pos[i].x - 40, this.renwu_pos[i].y)), cc.moveTo(0.07, this.renwu_pos[i])));
      }
    }
  },
  //骨骼动画播放结束的回调
  aniEvent: function aniEvent() {
    var _this = this;

    this.sp_game_logo.setAnimation(0, "animation1", false);
    this.sp_game_logo.setCompleteListener(function (trackEntry, loopCount) {
      var name = trackEntry.animation ? trackEntry.animation.name : "";

      if (name == "animation1") {
        _this.sp_game_logo.setAnimation(0, "animation2", true);
      }
    });
  },
  onClick: function onClick(name, node) {
    switch (name) {
      case "btn_back":
        this.click_back();
        break;

      case "btn_help":
        this.click_help();
        break;

      case "btn_record":
        this.click_record();
        break;

      case "mycoinInfo":
        this.click_addgold();
        break;

      case "headbg":
        this.click_userinfo();
        break;

      case "btn_chongzhi":
        this.click_addgold();
        break;

      case "btn_start":
        this.enterGame(name, node);
        break;

      default:
        console.error("no find button name -> %s", name);
    }
  },
  RootNodeShow: function RootNodeShow() {
    this.node.active = true;
    this.registerEvent();
    this.reqEnterArea();
  },
  RootNodeHide: function RootNodeHide() {
    this.node.active = false;
    this.unregisterEvent();
  },
  //事件监听
  registerEvent: function registerEvent() {
    glGame.emitter.on("goldOnlineNum", this.goldOnlineNum, this);
    glGame.emitter.on("onGameConfig", this.onGameConfig, this);
  },
  //事件销毁
  unregisterEvent: function unregisterEvent() {
    glGame.emitter.off("goldOnlineNum", this);
    glGame.emitter.off("onGameConfig", this);
  },
  cutFloat: function cutFloat(value) {
    return Number(value).div(100).toString();
  },
  showUserInfo: function showUserInfo() {
    glGame.panel.showRemoteImage(this.Playerhead, glGame.user.get("headURL"));
  },
  updateuserInfo: function updateuserInfo() {
    var coin = glGame.user.get("coin");
    this.goldCount.string = glGame.user.GoldTemp(coin);
  },
  setGameId: function setGameId(gameid) {
    this.gameid = gameid;
  },
  updateBgInfo: function updateBgInfo() {},
  click_userinfo: function click_userinfo() {
    glGame.panel.showPanelByName("userinfo");
  },
  click_addgold: function click_addgold() {
    glGame.panel.showShop(30);
  },
  click_back: function click_back() {
    glGame.readyroom.reqExitArea();
    this.remove();
  },
  click_help: function click_help() {
    // glGame.panel.showNewGameRule(this.gameid,30);
    var panel = glGame.panel.showPanel(this.rule);
    panel.zIndex = 30;
  },
  click_record: function click_record() {
    // glGame.panel.showNewGameRecord(this.gameid,30);
    var panel = glGame.panel.showPanel(this.record);
    panel.zIndex = 30;
  },
  set: function set(key, value) {
    this[key] = value;
  },
  get: function get(key) {
    return this[key];
  },
  onGameConfig: function onGameConfig(msg) {
    this.gameConfig = msg;
    this.initUI();
  },
  reqEnterArea: function reqEnterArea() {
    this.gameID = glGame.scenetag.ESYD;
    glGame.readyroom.reqEnterArea(glGame.scenetag.ESYD);
  },
  goldOnlineNum: function goldOnlineNum(msg) {
    console.log("这是在线人数的消息", msg);
    var count = this.level.length;

    for (var i = 0; i < count; i++) {
      if (msg[i + 1]) {
        this.level[i].getChildByName("people_num").getComponent(cc.Label).string = msg[i + 1];
      }
    }
  },
  initUI: function initUI() {
    this.node.getChildByName("esydselect").active = true;
    var configure = this.gameConfig;
    var count = this.level.length;

    for (var i = 1; i < count; i++) {
      this.level[i].getChildByName("dizhulaout").getChildByName("dizhu_num").getComponent(cc.Label).string = this.cutFloat(configure[i].BaseChips);
      this.level[i].getChildByName("zhunrulayout").getChildByName("zhunru_num").getComponent(cc.Label).string = this.cutFloat(configure[i].EntranceRestrictions);
    }

    this.initAni();
  },

  /**
   * 进入金币场房间
   * @param level 场次类型 1:初级场 2:中级场 3:高级场 4:土豪场 5:至尊场
   */
  enterGame: function enterGame(name, node) {
    var _this2 = this;

    var level = Number(node.parent.name);
    glGame.room.reqMyGameState(this.gameID, level).then(function () {
      var gameID = _this2.gameID;

      if (_this2.gameConfig[level] == null) {
        glGame.panel.showMsgBox('提示', '该房间尚未开放，请尝试其他房间。');
        return;
      }

      if (glGame.user.isTourist()) {
        if (level != 99) {
          glGame.panel.showRegisteredGift(true);
          return;
        }
      }

      if (glGame.user.suspicious == 1 && glGame.user.game == 2 || glGame.user.is_game == 2) {
        glGame.panel.showDialog("", "您的账号数据异常，暂时禁止进入游戏，如有疑问，请联系客服！", function () {
          glGame.panel.showService();
        }, function () {}, "我知道了", "联系客服");
        return;
      }

      if (_this2.gameConfig[level].EntranceRestrictions > glGame.user.get("coin")) {
        console.log("这是当前的房间限制", _this2.gameConfig);
        var string = "<color=#99C7FF>\u60A8\u7684\u91D1\u5E01\u4E0D\u8DB3\uFF0C\u8BE5\u623F\u95F4\u9700\u8981</c> <color=#ff0000> ".concat(_this2.cutFloat(_this2.gameConfig[level].EntranceRestrictions), "  </c><color=#99C7FF>\u91D1\u5E01\u624D\u53EF\u4E0B\u6CE8\uFF0C\u662F\u5426\u9A6C\u4E0A\u524D\u5F80\u5145\u503C\uFF1F</c>");
        glGame.panel.showDialog("", string, function () {
          glGame.panel.showShop(100);
        }, function () {}, "取消", "充值");
        return;
      }

      glGame.panel.showJuHua(); // glGame.readyroom.reqExitArea();

      _this2.node.runAction(cc.sequence(cc.delayTime(15), cc.callFunc(function () {
        glGame.panel.closeJuHua();
      }))); // TODO
      // reqGoldRoomVerify为旧的进入房间方法，需要先请求验证，再进入房间
      // setGoldRoomInfo 新的进入房间方法，无需验证，设置游戏类型以及房间信息后，直接进入房间
      // if (glGame.enterRoomVerification) {
      //     glGame.room.reqGoldRoomVerify(gameID, level);
      // } else {
      //     glGame.room.setGoldRoomInfo(gameID, level);
      // }


      glGame.room.setGoldRoomInfo(gameID, level);
    });
  },

  /**
   * 检查玩家金币是否足够
   * @returns {boolean}
   */
  checkGold: function checkGold(coin, minCion) {
    console.log("金币检测", coin, minCion);

    if (parseInt(coin) < parseInt(minCion)) {
      glGame.panel.showDialog(glGame.i18n.t("USER.GOLDLACK.TITLE"), glGame.i18n.t("USER.GOLDLACK.CONTENT"), function () {
        glGame.panel.showPanelByName("shop");
      }, null);
      return false;
    }

    return true;
  },
  OnDestroy: function OnDestroy() {
    glGame.emitter.off(MESSAGE.UI.ROOM_ENTER_SHOW, this);
    glGame.emitter.off(MESSAGE.UI.ROOM_ENTER_HIDE, this);
    glGame.emitter.off("nodeRemove", this);
    glGame.emitter.off("updateUserData", this);
    this.unregisterEvent();
  } // update (dt) {},

});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcbW9kdWxlc1xccGxhemFcXHNjcmlwdFxccHJlZmFiXFxlbnRlclJvb21cXGVzeWRlbnRyeS5qcyJdLCJuYW1lcyI6WyJnbEdhbWUiLCJiYXNlY2xhc3MiLCJleHRlbmQiLCJwcm9wZXJ0aWVzIiwiQkdNIiwidHlwZSIsImNjIiwiQXVkaW9DbGlwIiwiZ29sZENvdW50IiwiTGFiZWwiLCJsZXZlbCIsIk5vZGUiLCJyZWNvcmQiLCJQcmVmYWIiLCJydWxlIiwic3BfZ2FtZV9sb2dvIiwic3AiLCJTa2VsZXRvbiIsInNwX2RlbmciLCJvbkxvYWQiLCJnYW1laWQiLCJub2RlIiwiekluZGV4IiwiZ2V0Q2hpbGRCeU5hbWUiLCJhY3RpdmUiLCJlbWl0dGVyIiwib24iLCJNRVNTQUdFIiwiVUkiLCJST09NX0VOVEVSX1NIT1ciLCJSb290Tm9kZVNob3ciLCJST09NX0VOVEVSX0hJREUiLCJSb290Tm9kZUhpZGUiLCJjbGlja19iYWNrIiwidXBkYXRldXNlckluZm8iLCJyZWdpc3RlckV2ZW50IiwicmVxRW50ZXJBcmVhIiwiaW5pdEFuaSIsInJlbnd1X3BvcyIsImluZGV4IiwibGVuZ3RoIiwicG9zIiwiZ2V0UG9zaXRpb24iLCJwdXNoIiwieCIsIndpZHRoIiwiX2ZhZGVUbyIsInNlcXVlbmNlIiwiZmFkZVRvIiwiZGVsYXlUaW1lIiwiX2NhbGxGdW5jIiwiY2FsbEZ1bmMiLCJwbGF5U2hvdyIsInBsYXlNb3ZlIiwiYW5pRXZlbnQiLCJydW5BY3Rpb24iLCJfaW5kZXgiLCJhY3Rpb25fbm9kZSIsInJvb21TZWxlY3QiLCJmb3JFYWNoIiwiaSIsImNoaWxkcmVuIiwidGludFRvIiwidGltZSIsIm1vdmVUbyIsInYyIiwieSIsInNldEFuaW1hdGlvbiIsInNldENvbXBsZXRlTGlzdGVuZXIiLCJ0cmFja0VudHJ5IiwibG9vcENvdW50IiwibmFtZSIsImFuaW1hdGlvbiIsIm9uQ2xpY2siLCJjbGlja19oZWxwIiwiY2xpY2tfcmVjb3JkIiwiY2xpY2tfYWRkZ29sZCIsImNsaWNrX3VzZXJpbmZvIiwiZW50ZXJHYW1lIiwiY29uc29sZSIsImVycm9yIiwidW5yZWdpc3RlckV2ZW50IiwiZ29sZE9ubGluZU51bSIsIm9uR2FtZUNvbmZpZyIsIm9mZiIsImN1dEZsb2F0IiwidmFsdWUiLCJOdW1iZXIiLCJkaXYiLCJ0b1N0cmluZyIsInNob3dVc2VySW5mbyIsInBhbmVsIiwic2hvd1JlbW90ZUltYWdlIiwiUGxheWVyaGVhZCIsInVzZXIiLCJnZXQiLCJjb2luIiwic3RyaW5nIiwiR29sZFRlbXAiLCJzZXRHYW1lSWQiLCJ1cGRhdGVCZ0luZm8iLCJzaG93UGFuZWxCeU5hbWUiLCJzaG93U2hvcCIsInJlYWR5cm9vbSIsInJlcUV4aXRBcmVhIiwicmVtb3ZlIiwic2hvd1BhbmVsIiwic2V0Iiwia2V5IiwibXNnIiwiZ2FtZUNvbmZpZyIsImluaXRVSSIsImdhbWVJRCIsInNjZW5ldGFnIiwiRVNZRCIsImxvZyIsImNvdW50IiwiZ2V0Q29tcG9uZW50IiwiY29uZmlndXJlIiwiQmFzZUNoaXBzIiwiRW50cmFuY2VSZXN0cmljdGlvbnMiLCJwYXJlbnQiLCJyb29tIiwicmVxTXlHYW1lU3RhdGUiLCJ0aGVuIiwic2hvd01zZ0JveCIsImlzVG91cmlzdCIsInNob3dSZWdpc3RlcmVkR2lmdCIsInN1c3BpY2lvdXMiLCJnYW1lIiwiaXNfZ2FtZSIsInNob3dEaWFsb2ciLCJzaG93U2VydmljZSIsInNob3dKdUh1YSIsImNsb3NlSnVIdWEiLCJzZXRHb2xkUm9vbUluZm8iLCJjaGVja0dvbGQiLCJtaW5DaW9uIiwicGFyc2VJbnQiLCJpMThuIiwidCIsIk9uRGVzdHJveSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQUEsTUFBTSxDQUFDQyxTQUFQLENBQWlCQyxNQUFqQixDQUF3QjtBQUVwQkMsRUFBQUEsVUFBVSxFQUFFO0FBQ1JDLElBQUFBLEdBQUcsRUFBRTtBQUNEQyxNQUFBQSxJQUFJLEVBQUVDLEVBQUUsQ0FBQ0MsU0FEUjtBQUVELGlC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LElBQWpDO0FBQ0FwRixJQUFBQSxNQUFNLENBQUN5QixPQUFQLENBQWUyRCxHQUFmLENBQW1CLGdCQUFuQixFQUFvQyxJQUFwQztBQUNBLFNBQUtILGVBQUw7QUFDSCxHQW5SbUIsQ0FvUnBCOztBQXBSb0IsQ0FBeEIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImdsR2FtZS5iYXNlY2xhc3MuZXh0ZW5kKHtcclxuXHJcbiAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAgQkdNOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IGNjLkF1ZGlvQ2xpcCxcclxuICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdvbGRDb3VudDogY2MuTGFiZWwsXHJcbiAgICAgICAgbGV2ZWw6IHtcclxuICAgICAgICAgICAgdHlwZTogY2MuTm9kZSxcclxuICAgICAgICAgICAgZGVmYXVsdDogW11cclxuICAgICAgICB9LFxyXG4gICAgICAgIHJlY29yZDpjYy5QcmVmYWIsXHJcbiAgICAgICAgcnVsZTpjYy5QcmVmYWIsXHJcbiAgICAgICAgc3BfZ2FtZV9sb2dvOiBzcC5Ta2VsZXRvbixcclxuICAgICAgICBzcF9kZW5nOiBzcC5Ta2VsZXRvbixcclxuICAgIH0sXHJcblxyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcblxyXG4gICAgb25Mb2FkKCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZWlkID0gMDtcclxuICAgICAgICB0aGlzLm5vZGUuekluZGV4ID0gMjA7XHJcbiAgICAgICAgdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwiZXN5ZHNlbGVjdFwiKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICBnbEdhbWUuZW1pdHRlci5vbihNRVNTQUdFLlVJLlJPT01fRU5URVJfU0hPVywgdGhpcy5Sb290Tm9kZVNob3csIHRoaXMpO1xyXG4gICAgICAgIGdsR2FtZS5lbWl0dGVyLm9uKE1FU1NBR0UuVUkuUk9PTV9FTlRFUl9ISURFLCB0aGlzLlJvb3ROb2RlSGlkZSwgdGhpcyk7XHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIub24oXCJub2RlUmVtb3ZlXCIsIHRoaXMuY2xpY2tfYmFjaywgdGhpcyk7XHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIub24oXCJ1cGRhdGVVc2VyRGF0YVwiLCB0aGlzLnVwZGF0ZXVzZXJJbmZvLCB0aGlzKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZXVzZXJJbmZvKCk7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlckV2ZW50KCk7XHJcbiAgICAgICAgdGhpcy5yZXFFbnRlckFyZWEoKTtcclxuICAgIH0sXHJcblxyXG4gICAgaW5pdEFuaSgpIHtcclxuICAgICAgICB0aGlzLnJlbnd1X3BvcyA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLmxldmVsLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICBsZXQgcG9zID0gdGhpcy5sZXZlbFtpbmRleF0uZ2V0UG9zaXRpb24oKVxyXG4gICAgICAgICAgICB0aGlzLnJlbnd1X3Bvcy5wdXNoKHBvcyk7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxbaW5kZXhdLnggPSB0aGlzLm5vZGUud2lkdGgvMiArIHBvcy54O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sZXZlbFtpbmRleF0ueCA9IHBvcy54IC0gdGhpcy5ub2RlLndpZHRoLzI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5sZXZlbFtpbmRleF0uYWN0aXZlID0gdHJ1ZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IF9mYWRlVG8gPSBjYy5zZXF1ZW5jZShjYy5mYWRlVG8oMC4xLCAxMzApLCBjYy5kZWxheVRpbWUoMC4xKSwgY2MuZmFkZVRvKDAuMDUsIDIyMCkpO1xyXG4gICAgICAgIGxldCBfY2FsbEZ1bmMgPSBjYy5jYWxsRnVuYyhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheVNob3coKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5TW92ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmFuaUV2ZW50KCk7XHJcbiAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5ub2RlLnJ1bkFjdGlvbihfY2FsbEZ1bmMpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyDku7vliqHmuJDlj5jlh7rmnaVcclxuICAgIHBsYXlTaG93KCkge1xyXG4gICAgICAgIGxldCBfaW5kZXggPSAwO1xyXG4gICAgICAgIC8vIGxldCBhY3Rpb25fbm9kZSA9IFsyLCAxLCAzLCAwXTtcclxuICAgICAgICBsZXQgYWN0aW9uX25vZGUgPSBbMSwgMiwgMCwgM107XHJcbiAgICAgICAgbGV0IHJvb21TZWxlY3QgPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJnaXJsc1wiKTtcclxuICAgICAgICBhY3Rpb25fbm9kZS5mb3JFYWNoKGkgPT4ge1xyXG4gICAgICAgICAgICByb29tU2VsZWN0LmNoaWxkcmVuW2ldLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZSggY2MuZGVsYXlUaW1lKF9pbmRleCAqIDAuMTUpLCBjYy50aW50VG8oMC4xLCAyNTUsIDI1NSwgMjU1KSkpO1xyXG4gICAgICAgICAgICBfaW5kZXgrKztcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgLy/miZPlvIDnlYzpnaLnmoTlm77moIfnp7vliqjliqjkvZxcclxuICAgIHBsYXlNb3ZlKCkge1xyXG4gICAgICAgIC8vIGxldCByb29tU2VsZWN0ID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwicXpubnNlbGVjdFwiKTtcclxuICAgICAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IHJvb21TZWxlY3QuY2hpbGRyZW5Db3VudDsgaSsrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxldmVsLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChpIDwgNCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRpbWUgPSBpICogMC4xO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lID0gKGkgKyAxKSAqIDAuMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxldmVsW2ldLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShcclxuICAgICAgICAgICAgICAgICAgICBjYy5kZWxheVRpbWUodGltZSksXHJcbiAgICAgICAgICAgICAgICAgICAgY2MubW92ZVRvKDAuMTUsIGNjLnYyKHRoaXMucmVud3VfcG9zW2ldLnggLSA0MCwgdGhpcy5yZW53dV9wb3NbaV0ueSkpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNjLm1vdmVUbygwLjA3LCB0aGlzLnJlbnd1X3Bvc1tpXSlcclxuICAgICAgICAgICAgICAgICkpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8v6aqo6aq85Yqo55S75pKt5pS+57uT5p2f55qE5Zue6LCDXHJcbiAgICBhbmlFdmVudCgpIHtcclxuICAgICAgICB0aGlzLnNwX2dhbWVfbG9nby5zZXRBbmltYXRpb24oMCwgXCJhbmltYXRpb24xXCIsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLnNwX2dhbWVfbG9nby5zZXRDb21wbGV0ZUxpc3RlbmVyKCh0cmFja0VudHJ5LCBsb29wQ291bnQpID0+IHtcclxuICAgICAgICAgICAgbGV0IG5hbWUgPSB0cmFja0VudHJ5LmFuaW1hdGlvbiA/IHRyYWNrRW50cnkuYW5pbWF0aW9uLm5hbWUgOiBcIlwiO1xyXG4gICAgICAgICAgICBpZiAobmFtZSA9PSBcImFuaW1hdGlvbjFcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcF9nYW1lX2xvZ28uc2V0QW5pbWF0aW9uKDAsIFwiYW5pbWF0aW9uMlwiLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG5cclxuICAgIG9uQ2xpY2sobmFtZSwgbm9kZSkge1xyXG4gICAgICAgIHN3aXRjaCAobmFtZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiYnRuX2JhY2tcIjogdGhpcy5jbGlja19iYWNrKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYnRuX2hlbHBcIjogdGhpcy5jbGlja19oZWxwKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYnRuX3JlY29yZFwiOiB0aGlzLmNsaWNrX3JlY29yZCgpOyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIm15Y29pbkluZm9cIjogdGhpcy5jbGlja19hZGRnb2xkKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiaGVhZGJnXCI6IHRoaXMuY2xpY2tfdXNlcmluZm8oKTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJidG5fY2hvbmd6aGlcIjogdGhpcy5jbGlja19hZGRnb2xkKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYnRuX3N0YXJ0XCI6IHRoaXMuZW50ZXJHYW1lKG5hbWUsIG5vZGUpOyBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDogY29uc29sZS5lcnJvcihcIm5vIGZpbmQgYnV0dG9uIG5hbWUgLT4gJXNcIiwgbmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIFJvb3ROb2RlU2hvdygpe1xyXG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJFdmVudCgpO1xyXG4gICAgICAgIHRoaXMucmVxRW50ZXJBcmVhKCk7XHJcbiAgICB9LFxyXG4gICAgUm9vdE5vZGVIaWRlKCl7XHJcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudW5yZWdpc3RlckV2ZW50KCk7XHJcbiAgICB9LFxyXG4gICAgLy/kuovku7bnm5HlkKxcclxuICAgIHJlZ2lzdGVyRXZlbnQoKSB7XHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIub24oXCJnb2xkT25saW5lTnVtXCIsIHRoaXMuZ29sZE9ubGluZU51bSwgdGhpcyk7XHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIub24oXCJvbkdhbWVDb25maWdcIiwgdGhpcy5vbkdhbWVDb25maWcsIHRoaXMpO1xyXG4gICAgfSxcclxuICAgIC8v5LqL5Lu26ZSA5q+BXHJcbiAgICB1bnJlZ2lzdGVyRXZlbnQoKSB7XHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIub2ZmKFwiZ29sZE9ubGluZU51bVwiLCB0aGlzKTtcclxuICAgICAgICBnbEdhbWUuZW1pdHRlci5vZmYoXCJvbkdhbWVDb25maWdcIiwgdGhpcyk7XHJcbiAgICB9LFxyXG4gICAgY3V0RmxvYXQodmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gKE51bWJlcih2YWx1ZSkuZGl2KDEwMCkpLnRvU3RyaW5nKCk7XHJcbiAgICB9LFxyXG4gICAgc2hvd1VzZXJJbmZvKCkge1xyXG4gICAgICAgIGdsR2FtZS5wYW5lbC5zaG93UmVtb3RlSW1hZ2UodGhpcy5QbGF5ZXJoZWFkLCBnbEdhbWUudXNlci5nZXQoXCJoZWFkVVJMXCIpKTtcclxuICAgIH0sXHJcbiAgICB1cGRhdGV1c2VySW5mbygpIHtcclxuICAgICAgICBsZXQgY29pbiA9IGdsR2FtZS51c2VyLmdldChcImNvaW5cIilcclxuICAgICAgICB0aGlzLmdvbGRDb3VudC5zdHJpbmcgPSBnbEdhbWUudXNlci5Hb2xkVGVtcChjb2luKTtcclxuICAgIH0sXHJcblxyXG4gICAgc2V0R2FtZUlkKGdhbWVpZCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZWlkID0gZ2FtZWlkO1xyXG4gICAgfSxcclxuXHJcbiAgICB1cGRhdGVCZ0luZm8oKSB7XHJcbiAgICAgICAgXHJcbiAgICB9LFxyXG4gICAgY2xpY2tfdXNlcmluZm8oKSB7XHJcbiAgICAgICAgZ2xHYW1lLnBhbmVsLnNob3dQYW5lbEJ5TmFtZShcInVzZXJpbmZvXCIpO1xyXG4gICAgfSxcclxuICAgIGNsaWNrX2FkZGdvbGQoKSB7XHJcbiAgICAgICAgZ2xHYW1lLnBhbmVsLnNob3dTaG9wKDMwKTtcclxuICAgIH0sXHJcbiAgICBjbGlja19iYWNrKCkge1xyXG4gICAgICAgIGdsR2FtZS5yZWFkeXJvb20ucmVxRXhpdEFyZWEoKTtcclxuICAgICAgICB0aGlzLnJlbW92ZSgpO1xyXG4gICAgfSxcclxuICAgIGNsaWNrX2hlbHAoKSB7XHJcbiAgICAgICAgLy8gZ2xHYW1lLnBhbmVsLnNob3dOZXdHYW1lUnVsZSh0aGlzLmdhbWVpZCwzMCk7XHJcbiAgICAgICAgbGV0IHBhbmVsID0gZ2xHYW1lLnBhbmVsLnNob3dQYW5lbCh0aGlzLnJ1bGUpO1xyXG4gICAgICAgIHBhbmVsLnpJbmRleCA9IDMwO1xyXG4gICAgfSxcclxuICAgIGNsaWNrX3JlY29yZCgpIHtcclxuICAgICAgICAvLyBnbEdhbWUucGFuZWwuc2hvd05ld0dhbWVSZWNvcmQodGhpcy5nYW1laWQsMzApO1xyXG4gICAgICAgIGxldCBwYW5lbCA9IGdsR2FtZS5wYW5lbC5zaG93UGFuZWwodGhpcy5yZWNvcmQpO1xyXG4gICAgICAgIHBhbmVsLnpJbmRleCA9IDMwO1xyXG4gICAgfSxcclxuXHJcbiAgICBzZXQoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIHRoaXNba2V5XSA9IHZhbHVlO1xyXG4gICAgfSxcclxuICAgIGdldChrZXkpIHtcclxuICAgICAgICByZXR1cm4gdGhpc1trZXldO1xyXG4gICAgfSxcclxuICAgIG9uR2FtZUNvbmZpZyhtc2cpIHtcclxuICAgICAgICB0aGlzLmdhbWVDb25maWcgPSBtc2c7XHJcbiAgICAgICAgdGhpcy5pbml0VUkoKTtcclxuICAgIH0sXHJcbiAgICByZXFFbnRlckFyZWEoKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lSUQgPSBnbEdhbWUuc2NlbmV0YWcuRVNZRDtcclxuICAgICAgICBnbEdhbWUucmVhZHlyb29tLnJlcUVudGVyQXJlYShnbEdhbWUuc2NlbmV0YWcuRVNZRCk7XHJcbiAgICB9LFxyXG4gICAgZ29sZE9ubGluZU51bShtc2cpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIui/meaYr+WcqOe6v+S6uuaVsOeahOa2iOaBr1wiLCBtc2cpXHJcbiAgICAgICAgbGV0IGNvdW50ID0gdGhpcy5sZXZlbC5sZW5ndGg7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChtc2dbaSArIDFdKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxldmVsW2ldLmdldENoaWxkQnlOYW1lKFwicGVvcGxlX251bVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IG1zZ1tpICsgMV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBpbml0VUkoKSB7XHJcbiAgICAgICAgdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwiZXN5ZHNlbGVjdFwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIGxldCBjb25maWd1cmUgPSB0aGlzLmdhbWVDb25maWc7XHJcbiAgICAgICAgbGV0IGNvdW50ID0gdGhpcy5sZXZlbC5sZW5ndGg7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBjb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGV2ZWxbaV0uZ2V0Q2hpbGRCeU5hbWUoXCJkaXpodWxhb3V0XCIpLmdldENoaWxkQnlOYW1lKFwiZGl6aHVfbnVtXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gdGhpcy5jdXRGbG9hdChjb25maWd1cmVbaV0uQmFzZUNoaXBzKTtcclxuICAgICAgICAgICAgdGhpcy5sZXZlbFtpXS5nZXRDaGlsZEJ5TmFtZShcInpodW5ydWxheW91dFwiKS5nZXRDaGlsZEJ5TmFtZShcInpodW5ydV9udW1cIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSB0aGlzLmN1dEZsb2F0KGNvbmZpZ3VyZVtpXS5FbnRyYW5jZVJlc3RyaWN0aW9ucyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmluaXRBbmkoKTtcclxuICAgIH0sXHJcbiAgXHJcbiAgICAvKipcclxuICAgICAqIOi/m+WFpemHkeW4geWcuuaIv+mXtFxyXG4gICAgICogQHBhcmFtIGxldmVsIOWcuuasoeexu+WeiyAxOuWInee6p+WcuiAyOuS4ree6p+WcuiAzOumrmOe6p+WcuiA0OuWcn+ixquWcuiA1OuiHs+WwiuWculxyXG4gICAgICovXHJcbiAgICBlbnRlckdhbWUobmFtZSwgbm9kZSkge1xyXG4gICAgICAgIGxldCBsZXZlbCA9IE51bWJlcihub2RlLnBhcmVudC5uYW1lKTtcclxuICAgICAgICBnbEdhbWUucm9vbS5yZXFNeUdhbWVTdGF0ZSh0aGlzLmdhbWVJRCwgbGV2ZWwpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgZ2FtZUlEID0gdGhpcy5nYW1lSUQ7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdhbWVDb25maWdbbGV2ZWxdID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGdsR2FtZS5wYW5lbC5zaG93TXNnQm94KCfmj5DnpLonLCAn6K+l5oi/6Ze05bCa5pyq5byA5pS+77yM6K+35bCd6K+V5YW25LuW5oi/6Ze044CCJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGdsR2FtZS51c2VyLmlzVG91cmlzdCgpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGV2ZWwgIT0gOTkpIHtcclxuICAgICAgICAgICAgICAgICAgICBnbEdhbWUucGFuZWwuc2hvd1JlZ2lzdGVyZWRHaWZ0KHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKChnbEdhbWUudXNlci5zdXNwaWNpb3VzID09IDEgJiZnbEdhbWUudXNlci5nYW1lID09IDIgKSB8fCBnbEdhbWUudXNlci5pc19nYW1lID09IDIgKXtcclxuICAgICAgICAgICAgICAgIGdsR2FtZS5wYW5lbC5zaG93RGlhbG9nKFwiXCIsIFwi5oKo55qE6LSm5Y+35pWw5o2u5byC5bi477yM5pqC5pe256aB5q2i6L+b5YWl5ri45oiP77yM5aaC5pyJ55aR6Zeu77yM6K+36IGU57O75a6i5pyN77yBXCIsICgpID0+IHsgZ2xHYW1lLnBhbmVsLnNob3dTZXJ2aWNlKCkgfSwgKCkgPT4ge30sIFwi5oiR55+l6YGT5LqGXCIsIFwi6IGU57O75a6i5pyNXCIpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZUNvbmZpZ1tsZXZlbF0uRW50cmFuY2VSZXN0cmljdGlvbnMgPiBnbEdhbWUudXNlci5nZXQoXCJjb2luXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIui/meaYr+W9k+WJjeeahOaIv+mXtOmZkOWItlwiLCB0aGlzLmdhbWVDb25maWcpXHJcbiAgICAgICAgICAgICAgICBsZXQgc3RyaW5nID0gYDxjb2xvcj0jOTlDN0ZGPuaCqOeahOmHkeW4geS4jei2s++8jOivpeaIv+mXtOmcgOimgTwvYz4gPGNvbG9yPSNmZjAwMDA+ICR7dGhpcy5jdXRGbG9hdCh0aGlzLmdhbWVDb25maWdbbGV2ZWxdLkVudHJhbmNlUmVzdHJpY3Rpb25zKX0gIDwvYz48Y29sb3I9Izk5QzdGRj7ph5HluIHmiY3lj6/kuIvms6jvvIzmmK/lkKbpqazkuIrliY3lvoDlhYXlgLzvvJ88L2M+YFxyXG4gICAgICAgICAgICAgICAgZ2xHYW1lLnBhbmVsLnNob3dEaWFsb2coXCJcIiwgc3RyaW5nLCAoKSA9PiB7IGdsR2FtZS5wYW5lbC5zaG93U2hvcCgxMDApIH0sICgpID0+IHsgfSwgXCLlj5bmtohcIiwgXCLlhYXlgLxcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBnbEdhbWUucGFuZWwuc2hvd0p1SHVhKCk7XHJcbiAgICAgICAgICAgIC8vIGdsR2FtZS5yZWFkeXJvb20ucmVxRXhpdEFyZWEoKTtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShcclxuICAgICAgICAgICAgICAgIGNjLmRlbGF5VGltZSgxNSksXHJcbiAgICAgICAgICAgICAgICBjYy5jYWxsRnVuYygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2xHYW1lLnBhbmVsLmNsb3NlSnVIdWEoKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICkpXHJcbiAgICAgICAgICAgIC8vIFRPRE9cclxuICAgICAgICAgICAgLy8gcmVxR29sZFJvb21WZXJpZnnkuLrml6fnmoTov5vlhaXmiL/pl7Tmlrnms5XvvIzpnIDopoHlhYjor7fmsYLpqozor4HvvIzlho3ov5vlhaXmiL/pl7RcclxuICAgICAgICAgICAgLy8gc2V0R29sZFJvb21JbmZvIOaWsOeahOi/m+WFpeaIv+mXtOaWueazle+8jOaXoOmcgOmqjOivge+8jOiuvue9rua4uOaIj+exu+Wei+S7peWPiuaIv+mXtOS/oeaBr+WQju+8jOebtOaOpei/m+WFpeaIv+mXtFxyXG4gICAgICAgICAgICAvLyBpZiAoZ2xHYW1lLmVudGVyUm9vbVZlcmlmaWNhdGlvbikge1xyXG4gICAgICAgICAgICAvLyAgICAgZ2xHYW1lLnJvb20ucmVxR29sZFJvb21WZXJpZnkoZ2FtZUlELCBsZXZlbCk7XHJcbiAgICAgICAgICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vICAgICBnbEdhbWUucm9vbS5zZXRHb2xkUm9vbUluZm8oZ2FtZUlELCBsZXZlbCk7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgZ2xHYW1lLnJvb20uc2V0R29sZFJvb21JbmZvKGdhbWVJRCwgbGV2ZWwpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiDmo4Dmn6Xnjqnlrrbph5HluIHmmK/lkKbotrPlpJ9cclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAgICovXHJcbiAgICBjaGVja0dvbGQoY29pbiwgbWluQ2lvbikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi6YeR5biB5qOA5rWLXCIsIGNvaW4sIG1pbkNpb24pO1xyXG4gICAgICAgIGlmIChwYXJzZUludChjb2luKSA8IHBhcnNlSW50KG1pbkNpb24pKSB7XHJcbiAgICAgICAgICAgIGdsR2FtZS5wYW5lbC5zaG93RGlhbG9nKGdsR2FtZS5pMThuLnQoXCJVU0VSLkdPTERMQUNLLlRJVExFXCIpLCBnbEdhbWUuaTE4bi50KFwiVVNFUi5HT0xETEFDSy5DT05URU5UXCIpLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBnbEdhbWUucGFuZWwuc2hvd1BhbmVsQnlOYW1lKFwic2hvcFwiKTtcclxuICAgICAgICAgICAgfSwgbnVsbCk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9LFxyXG4gICBcclxuICAgIE9uRGVzdHJveSgpIHtcclxuICAgICAgICBnbEdhbWUuZW1pdHRlci5vZmYoTUVTU0FHRS5VSS5ST09NX0VOVEVSX1NIT1csdGhpcyk7XHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIub2ZmKE1FU1NBR0UuVUkuUk9PTV9FTlRFUl9ISURFLHRoaXMpO1xyXG4gICAgICAgIGdsR2FtZS5lbWl0dGVyLm9mZihcIm5vZGVSZW1vdmVcIiwgdGhpcyk7XHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIub2ZmKFwidXBkYXRlVXNlckRhdGFcIix0aGlzKTtcclxuICAgICAgICB0aGlzLnVucmVnaXN0ZXJFdmVudCgpO1xyXG4gICAgfSxcclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9LFxyXG59KTtcclxuIl19