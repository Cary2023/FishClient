
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/modules/plaza/script/prefab/room/sonGame/qznnCreate.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ef2d7nnqwtEfJfT6rDGv0Nh', 'qznnCreate');
// modules/plaza/script/prefab/room/sonGame/qznnCreate.js

"use strict";

var ROOM_MODE = {
  RoomCharge_OwnerPay: "房主支付：创建房间时，房主一次性支付房费$钻石。",
  //房主支付模式
  RoomCharge_Average: "平摊房费：加入房间时，每人需支付房费$钻石。",
  //平摊房费模式
  RoomCharge_WinnerApportion: "赢家分摊：结算时，赢家需按赢钱比例支付房费。（总房费：$钻石）" //赢家分摊模式

}; //与服务端协商的映射关系 宏

var ROOM_MODE_INDEX = {
  RoomCharge_OwnerPay: 1,
  //房主支付模式
  RoomCharge_Average: 2,
  //平摊房费模式
  RoomCharge_WinnerApportion: 3,
  //赢家分摊模式
  Action_Free: 4 //免费

};
var Action_Free = "免费：活动期间，房费全免。";
var ROOM_TYPE = {
  PAY: 1,
  //付费模式
  FREE: 2 //免费模式

};
var modeRegex = /\$/gi;
glGame.baseclass.extend({
  properties: {
    // 选择局数
    turnsList: cc.Node,
    turnsItem: cc.Node,
    // 选择人数
    seatsList: cc.Node,
    seatsItem: cc.Node,
    nodeMask: cc.Node,
    //列表遮罩
    //抢庄时间
    labGrab: cc.Label,
    grabList: cc.Node,
    grabItem: cc.Node,
    //下注时间
    labBet: cc.Label,
    betList: cc.Node,
    betItem: cc.Node,
    //房费模式
    labMode: cc.Label,
    modeList: cc.Node,
    modeItem: cc.Node,
    btnMode: cc.Button
  },
  // LIFE-CYCLE CALLBACKS:
  onLoad: function onLoad() {
    var _this = this;

    this.gameId = glGame.scenetag.RQZNN;
    this.gameData = null;
    this.turnsIndex = 0;
    this.seats = 0;
    this.ratioIndex = 0;
    this.grabTime = 0;
    this.betTime = 0;
    this.modeIndex = null;
    this.registerEvent();
    glGame.gameNet.send_msg('http.ReqRoomGameConfig', {
      id: this.gameId
    }, function (route, msg) {
      _this.gameData = msg.result;
      console.log("qznnCreate ===> 从网络获取", _this.gameData);

      _this.initUi();
    });
  },
  start: function start() {},
  // 注册界面监听事件
  registerEvent: function registerEvent() {
    glGame.emitter.on("roomgameupdateend", this.createRoom, this);
  },
  // 销毁界面监听事件
  unRegisterEvent: function unRegisterEvent() {
    glGame.emitter.off("roomgameupdateend", this);
  },
  onClick: function onClick(name, node) {
    switch (name) {
      case "mask":
        this.click_mask();
        break;

      case "btn_grab":
        this.click_grabOpen();
        break;

      case "btn_betTime":
        this.click_betOpen();
        break;

      case "btn_mode":
        this.click_modeOpen();
        break;

      case "btn_create":
        this.click_createRoom();
        break;

      default:
        if (name.indexOf("turns_") > -1) this.click_Turns(name);
        if (name.indexOf("seats_") > -1) this.click_Seats(name);
        if (name.indexOf("ratio_") > -1) this.click_Ratio(name);
        if (name.indexOf("grab_") > -1) this.click_GrabTime(name);
        if (name.indexOf("bet_") > -1) this.click_BetTime(name);
        if (name.indexOf("mode_") > -1) this.click_Mode(name);
        break;
    }
  },
  initUi: function initUi() {
    this.initTurns();
    this.initSeats();
    this.initGrabTimes();
    this.initBetTimes();
    this.initGameMode();
  },
  // 设置牌局初始化
  initTurns: function initTurns() {
    var TurnsData = this.gameData.configure.Innings;

    for (var key in TurnsData) {
      var item = cc.instantiate(this.turnsItem);
      item.active = true;
      item.name = "turns_".concat(key);
      this.setToggleText(item, "".concat(TurnsData[key], "\u5C40"));
      this.turnsList.addChild(item);
    }
  },
  // 设置人数初始化
  initSeats: function initSeats() {
    var SeatsData = this.gameData.configure.Seats;

    for (var key in SeatsData) {
      var item = cc.instantiate(this.seatsItem);
      item.active = true;
      item.name = "seats_".concat(key);
      this.setToggleText(item, "".concat(SeatsData[key], "\u4EBA"));
      this.seatsList.addChild(item);
    }

    this.seats = SeatsData[0];
  },
  setToggleText: function setToggleText(node, strData) {
    node.getChildByName("Background").getChildByName("text").getComponent(cc.Label).string = strData;
    node.getChildByName("checkmark").getChildByName("text").getComponent(cc.Label).string = strData;
  },
  // 设置抢庄时间初始化
  initGrabTimes: function initGrabTimes() {
    var bankerTimes = this.gameData.configure.BankerTimes;

    for (var key in bankerTimes) {
      var item = cc.instantiate(this.grabItem);
      item.active = true;
      item.name = "grab_".concat(key);
      item.getChildByName("text").getComponent(cc.Label).string = "".concat(bankerTimes[key], "\u79D2");
      this.grabList.addChild(item);
    }

    this.grabTime = bankerTimes[0];
    this.labGrab.string = "".concat(this.grabTime, "\u79D2");
  },
  // 设置下注时间初始化
  initBetTimes: function initBetTimes() {
    var betTimes = this.gameData.configure.BetTimes;

    for (var key in betTimes) {
      var item = cc.instantiate(this.betItem);
      item.active = true;
      item.name = "bet_".concat(key);
      item.getChildByName("text").getComponent(cc.Label).string = "".concat(betTimes[key], "\u79D2");
      this.betList.addChild(item);
    }

    this.betTime = betTimes[0];
    this.labBet.string = "".concat(this.betTime, "\u79D2");
  },
  // 设置房间模式初始化
  initGameMode: function initGameMode() {
    if (this.gameData.costFlag == ROOM_TYPE.FREE) {
      this.labMode.string = Action_Free;
      this.modeIndex = "Action_Free";
      this.btnMode.interactable = false;
      this.btnMode.node.getChildByName("img_jiantou").active = false;
    } else {
      this.modeList.removeAllChildren();
      var gameMode = this.gameData.configure;
      var index = 0;

      for (var key in ROOM_MODE) {
        if (gameMode[key] != 1) continue;
        if (!this.modeIndex) this.modeIndex = key;
        var item = cc.instantiate(this.modeItem);
        item.active = true;
        item.name = "mode_".concat(key);
        item.getChildByName("text").getComponent(cc.Label).string = ROOM_MODE[key].replace(modeRegex, "".concat(this.getModeDiamonds(key)));
        this.modeList.addChild(item);

        if (index++ == 0) {
          item.getChildByName("img_linesmall").active = false;
        }
      }

      this.labMode.string = ROOM_MODE[this.modeIndex].replace(modeRegex, "".concat(this.getModeDiamonds(this.modeIndex)));
    }
  },
  getModeDiamonds: function getModeDiamonds(key) {
    var gameMode = this.gameData.configure,
        diamonds = 0,
        SeatsData = gameMode.Seats;

    if (key == "RoomCharge_Average") {
      diamonds = Math.ceil(gameMode.Prices[this.turnsIndex] / SeatsData[SeatsData.length - 1]);
    } else {
      diamonds = Math.ceil(gameMode.Prices[this.turnsIndex] / SeatsData[SeatsData.length - 1] * this.seats);
    }

    return this.getFixNumber(diamonds);
  },
  // 
  click_Turns: function click_Turns(name) {
    var string = name.substring(6);
    this.turnsIndex = Number(string);
    this.initGameMode();
  },
  click_Seats: function click_Seats(name) {
    var string = name.substring(6);
    var SeatsData = this.gameData.configure.Seats;
    this.seats = SeatsData[Number(string)];
    this.initGameMode();
  },
  click_Ratio: function click_Ratio(name) {
    var string = name.substring(6);
    this.ratioIndex = Number(string);
  },
  click_GrabTime: function click_GrabTime(name) {
    var string = name.substring(5);
    var bankerTimes = this.gameData.configure.BankerTimes;
    this.grabTime = bankerTimes[Number(string)];
    this.labGrab.string = "".concat(this.grabTime, "\u79D2");
    this.click_mask();
  },
  click_BetTime: function click_BetTime(name) {
    var string = name.substring(4);
    var betTimes = this.gameData.configure.BetTimes;
    this.betTime = betTimes[Number(string)];
    this.labBet.string = "".concat(this.betTime, "\u79D2");
    this.click_mask();
  },
  click_Mode: function click_Mode(name) {
    var string = name.substring(5);
    this.modeIndex = string;
    this.labMode.string = ROOM_MODE[this.modeIndex].replace(modeRegex, "".concat(this.getModeDiamonds(this.modeIndex)));
    this.click_mask();
  },
  click_mask: function click_mask() {
    this.nodeMask.active = false;
    this.grabList.active = false;
    this.betList.active = false;
    this.modeList.active = false;
  },
  click_grabOpen: function click_grabOpen() {
    this.grabList.active = !this.grabList.active;
    this.nodeMask.active = this.grabList.active;
    this.betList.active = false;
    this.modeList.active = false;
  },
  click_betOpen: function click_betOpen() {
    this.betList.active = !this.betList.active;
    this.nodeMask.active = this.betList.active;
    this.grabList.active = false;
    this.modeList.active = false;
  },
  click_modeOpen: function click_modeOpen() {
    this.modeList.active = !this.modeList.active;
    this.nodeMask.active = this.modeList.active;
    this.grabList.active = false;
    this.betList.active = false;
  },
  createRoom: function createRoom() {
    var msg = {};
    msg.RentType = ROOM_MODE_INDEX[this.modeIndex];
    msg.Seat = this.seats;
    msg.BetTime = this.betTime;
    msg.BankerTime = this.grabTime;
    msg.CardTimesIndex = this.ratioIndex;
    var TurnsData = this.gameData.configure.Innings;
    msg.Inning = TurnsData[this.turnsIndex];
    glGame.room.CreateRoom(this.gameId, msg);
  },
  // 创建房间
  click_createRoom: function click_createRoom() {
    var _this2 = this;

    glGame.room.reqMyGameState(this.gameId).then(function () {
      if (glGame.user.suspicious == 1 && glGame.user.game == 2 || glGame.user.is_game == 2) {
        glGame.panel.showDialog("", "您的账号数据异常，暂时禁止进入游戏，如有疑问，请联系客服！", function () {
          glGame.panel.showService();
        }, function () {}, "我知道了", "联系客服");
        return;
      }

      _this2.createRoom(); // if (this.gameConfig.EntranceRestrictions > glGame.user.get("coin")) {
      //     console.log("这是当前的房间限制", this.gameConfig)
      //     let string = `<color=#99C7FF>您的金币不足，该房间需要</c> <color=#ff0000> ${this.getFloat(this.gameConfig.EntranceRestrictions)}  </c><color=#99C7FF>金币才可下注，是否马上前往充值？</c>`
      //     glGame.panel.showDialog("", string, () => { glGame.panel.showShop(100) }, () => { }, "取消", "充值");
      //     return
      // }

    });
  },
  getFixNumber: function getFixNumber(value) {
    var value1 = Number(value).div(10);
    value = Number(value).div(100);
    if (isNaN(value)) return;

    if (~~value === value) {
      return value.toString();
    } else if (~~value1 === value1) {
      return value.toFixed(1);
    } else {
      return value.toFixed(2);
    }
  },
  OnDestroy: function OnDestroy() {
    this.unRegisterEvent();
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcbW9kdWxlc1xccGxhemFcXHNjcmlwdFxccHJlZmFiXFxyb29tXFxzb25HYW1lXFxxem5uQ3JlYXRlLmpzIl0sIm5hbWVzIjpbIlJPT01fTU9ERSIsIlJvb21DaGFyZ2VfT3duZXJQYXkiLCJSb29tQ2hhcmdlX0F2ZXJhZ2UiLCJSb29tQ2hhcmdlX1dpbm5lckFwcG9ydGlvbiIsIlJPT01fTU9ERV9JTkRFWCIsIkFjdGlvbl9GcmVlIiwiUk9PTV9UWVBFIiwiUEFZIiwiRlJFRSIsIm1vZGVSZWdleCIsImdsR2FtZSIsImJhc2VjbGFzcyIsImV4dGVuZCIsInByb3BlcnRpZXMiLCJ0dXJuc0xpc3QiLCJjYyIsIk5vZGUiLCJ0dXJuc0l0ZW0iLCJzZWF0c0xpc3QiLCJzZWF0c0l0ZW0iLCJub2RlTWFzayIsImxhYkdyYWIiLCJMYWJlbCIsImdyYWJMaXN0IiwiZ3JhYkl0ZW0iLCJsYWJCZXQiLCJiZXRMaXN0IiwiYmV0SXRlbSIsImxhYk1vZGUiLCJtb2RlTGlzdCIsIm1vZGVJdGVtIiwiYnRuTW9kZSIsIkJ1dHRvbiIsIm9uTG9hZCIsImdhbWVJZCIsInNjZW5ldGFnIiwiUlFaTk4iLCJnYW1lRGF0YSIsInR1cm5zSW5kZXgiLCJzZWF0cyIsInJhdGlvSW5kZXgiLCJncmFiVGltZSIsImJldFRpbWUiLCJtb2RlSW5kZXgiLCJyZWdpc3RlckV2ZW50IiwiZ2FtZU5ldCIsInNlbmRfbXNnIiwiaWQiLCJyb3V0ZSIsIm1zZyIsInJlc3VsdCIsImNvbnNvbGUiLCJsb2ciLCJpbml0VWkiLCJzdGFydCIsImVtaXR0ZXIiLCJvbiIsImNyZWF0ZVJvb20iLCJ1blJlZ2lzdGVyRXZlbnQiLCJvZmYiLCJvbkNsaWNrIiwibmFtZSIsIm5vZGUiLCJjbGlja19tYXNrIiwiY2xpY2tfZ3JhYk9wZW4iLCJjbGlja19iZXRPcGVuIiwiY2xpY2tfbW9kZU9wZW4iLCJjbGlja19jcmVhdGVSb29tIiwiaW5kZXhPZiIsImNsaWNrX1R1cm5zIiwiY2xpY2tfU2VhdHMiLCJjbGlja19SYXRpbyIsImNsaWNrX0dyYWJUaW1lIiwiY2xpY2tfQmV0VGltZSIsImNsaWNrX01vZGUiLCJpbml0VHVybnMiLCJpbml0U2VhdHMiLCJpbml0R3JhYlRpbWVzIiwiaW5pdEJldFRpbWVzIiwiaW5pdEdhbWVNb2RlIiwiVHVybnNEYXRhIiwiY29uZmlndXJlIiwiSW5uaW5ncyIsImtleSIsIml0ZW0iLCJpbnN0YW50aWF0ZSIsImFjdGl2ZSIsInNldFRvZ2dsZVRleHQiLCJhZGRDaGlsZCIsIlNlYXRzRGF0YSIsIlNlYXRzIiwic3RyRGF0YSIsImdldENoaWxkQnlOYW1lIiwiZ2V0Q29tcG9uZW50Iiwic3RyaW5nIiwiYmFua2VyVGltZXMiLCJCYW5rZXJUaW1lcyIsImJldFRpbWVzIiwiQmV0VGltZXMiLCJjb3N0RmxhZyIsImludGVyYWN0YWJsZSIsInJlbW92ZUFsbENoaWxkcmVuIiwiZ2FtZU1vZGUiLCJpbmRleCIsInJlcGxhY2UiLCJnZXRNb2RlRGlhbW9uZHMiLCJkaWFtb25kcyIsIk1hdGgiLCJjZWlsIiwiUHJpY2VzIiwibGVuZ3RoIiwiZ2V0Rml4TnVtYmVyIiwic3Vic3RyaW5nIiwiTnVtYmVyIiwiUmVudFR5cGUiLCJTZWF0IiwiQmV0VGltZSIsIkJhbmtlclRpbWUiLCJDYXJkVGltZXNJbmRleCIsIklubmluZyIsInJvb20iLCJDcmVhdGVSb29tIiwicmVxTXlHYW1lU3RhdGUiLCJ0aGVuIiwidXNlciIsInN1c3BpY2lvdXMiLCJnYW1lIiwiaXNfZ2FtZSIsInBhbmVsIiwic2hvd0RpYWxvZyIsInNob3dTZXJ2aWNlIiwidmFsdWUiLCJ2YWx1ZTEiLCJkaXYiLCJpc05hTiIsInRvU3RyaW5nIiwidG9GaXhlZCIsIk9uRGVzdHJveSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFNQSxTQUFTLEdBQUc7QUFDZEMsRUFBQUEsbUJBQW1CLEVBQUUsMEJBRFA7QUFDK0Q7QUFDN0VDLEVBQUFBLGtCQUFrQixFQUFFLHdCQUZOO0FBRWlFO0FBQy9FQyxFQUFBQSwwQkFBMEIsRUFBRSxpQ0FIZCxDQUd3RDs7QUFIeEQsQ0FBbEIsRUFNQTs7QUFDQSxJQUFNQyxlQUFlLEdBQUc7QUFDcEJILEVBQUFBLG1CQUFtQixFQUFFLENBREQ7QUFDZ0I7QUFDcENDLEVBQUFBLGtCQUFrQixFQUFFLENBRkE7QUFFZ0I7QUFDcENDLEVBQUFBLDBCQUEwQixFQUFFLENBSFI7QUFHZ0I7QUFDcENFLEVBQUFBLFdBQVcsRUFBRSxDQUpPLENBSWdCOztBQUpoQixDQUF4QjtBQU9BLElBQU1BLFdBQVcsR0FBRyxlQUFwQjtBQUVBLElBQU1DLFNBQVMsR0FBRztBQUNkQyxFQUFBQSxHQUFHLEVBQUUsQ0FEUztBQUNDO0FBQ2ZDLEVBQUFBLElBQUksRUFBRSxDQUZRLENBRUM7O0FBRkQsQ0FBbEI7QUFNQSxJQUFNQyxTQUFTLEdBQUcsTUFBbEI7QUFFQUMsTUFBTSxDQUFDQyxTQUFQLENBQWlCQyxNQUFqQixDQUF3QjtBQUVwQkMsRUFBQUEsVUFBVSxFQUFFO0FBRVI7QUFDQUMsSUFBQUEsU0FBUyxFQUFFQyxFQUFFLENBQUNDLElBSE47QUFJUkMsSUFBQUEsU0FBUyxFQUFFRixFQUFFLENBQUNDLElBSk47QUFNUjtBQUNBRSxJQUFBQSxTQUFTLEVBQUVILEVBQUUsQ0FBQ0MsSUFQTjtBQVFSRyxJQUFBQSxTQUFTLEVBQUVKLEVBQUUsQ0FBQ0MsSUFSTjtBQVVSSSxJQUFBQSxRQUFRLEVBQUVMLEVBQUUsQ0FBQ0MsSUFWTDtBQVVlO0FBQ3ZCO0FBQ0FLLElBQUFBLE9BQU8sRUFBRU4sRUFBRSxDQUFDTyxLQVpKO0FBYVJDLElBQUFBLFFBQVEsRUFBRVIsRUFBRSxDQUFDQyxJQWJMO0FBY1JRLElBQUFBLFFBQVEsRUFBRVQsRUFBRSxDQUFDQyxJQWRMO0FBZ0JSO0FBQ0FTLElBQUFBLE1BQU0sRUFBRVYsRUFBRSxDQUFDTyxLQWpCSDtBQWtCUkksSUFBQUEsT0FBTyxFQUFFWCxFQUFFLENBQUNDLElBbEJKO0FBbUJSVyxJQUFBQSxPQUFPLEVBQUVaLEVBQUUsQ0FBQ0MsSUFuQko7QUFvQlI7QUFDQVksSUFBQUEsT0FBTyxFQUFFYixFQUFFLENBQUNPLEtBckJKO0FBc0JSTyxJQUFBQSxRQUFRLEVBQUVkLEVBQUUsQ0FBQ0MsSUF0Qkw7QUF1QlJjLElBQUFBLFFBQVEsRUFBRWYsRUFBRSxDQUFDQyxJQXZCTDtBQXdCUmUsSUFBQUEsT0FBTyxFQUFFaEIsRUFBRSxDQUFDaUI7QUF4QkosR0FGUTtBQTZCcEI7QUFDQUMsRUFBQUEsTUE5Qm9CLG9CQThCWDtBQUFBOztBQUNMLFNBQUtDLE1BQUwsR0FBY3hCLE1BQU0sQ0FBQ3lCLFFBQVAsQ0FBZ0JDLEtBQTlCO0FBQ0EsU0FBS0MsUUFBTCxHQUFnQixJQUFoQjtBQUNBLFNBQUtDLFVBQUwsR0FBa0IsQ0FBbEI7QUFDQSxTQUFLQyxLQUFMLEdBQWEsQ0FBYjtBQUNBLFNBQUtDLFVBQUwsR0FBa0IsQ0FBbEI7QUFDQSxTQUFLQyxRQUFMLEdBQWdCLENBQWhCO0FBQ0EsU0FBS0MsT0FBTCxHQUFlLENBQWY7QUFDQSxTQUFLQyxTQUFMLEdBQWlCLElBQWpCO0FBQ0EsU0FBS0MsYUFBTDtBQUNBbEMsSUFBQUEsTUFBTSxDQUFDbUMsT0FBUCxDQUFlQyxRQUFmLENBQXdCLHdCQUF4QixFQUFrRDtBQUFFQyxNQUFBQSxFQUFFLEVBQUUsS0FBS2I7QUFBWCxLQUFsRCxFQUF1RSxVQUFDYyxLQUFELEVBQVFDLEdBQVIsRUFBZ0I7QUFDbkYsTUFBQSxLQUFJLENBQUNaLFFBQUwsR0FBZ0JZLEdBQUcsQ0FBQ0MsTUFBcEI7QUFDQUMsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksdUJBQVosRUFBcUMsS0FBSSxDQUFDZixRQUExQzs7QUFFQSxNQUFBLEtBQUksQ0FBQ2dCLE1BQUw7QUFDSCxLQUxEO0FBTUgsR0E5Q21CO0FBK0NwQkMsRUFBQUEsS0EvQ29CLG1CQStDWixDQUVQLENBakRtQjtBQW1EcEI7QUFDQVYsRUFBQUEsYUFwRG9CLDJCQW9ESjtBQUNabEMsSUFBQUEsTUFBTSxDQUFDNkMsT0FBUCxDQUFlQyxFQUFmLENBQWtCLG1CQUFsQixFQUF1QyxLQUFLQyxVQUE1QyxFQUF3RCxJQUF4RDtBQUNILEdBdERtQjtBQXVEcEI7QUFDQUMsRUFBQUEsZUF4RG9CLDZCQXdERjtBQUNkaEQsSUFBQUEsTUFBTSxDQUFDNkMsT0FBUCxDQUFlSSxHQUFmLENBQW1CLG1CQUFuQixFQUF3QyxJQUF4QztBQUNILEdBMURtQjtBQTZEcEJDLEVBQUFBLE9BN0RvQixtQkE2RFpDLElBN0RZLEVBNkROQyxJQTdETSxFQTZEQTtBQUNoQixZQUFRRCxJQUFSO0FBQ0ksV0FBSyxNQUFMO0FBQWEsYUFBS0UsVUFBTDtBQUFtQjs7QUFDaEMsV0FBSyxVQUFMO0FBQWlCLGFBQUtDLGNBQUw7QUFBdUI7O0FBQ3hDLFdBQUssYUFBTDtBQUFvQixhQUFLQyxhQUFMO0FBQXNCOztBQUMxQyxXQUFLLFVBQUw7QUFBaUIsYUFBS0MsY0FBTDtBQUF1Qjs7QUFDeEMsV0FBSyxZQUFMO0FBQW1CLGFBQUtDLGdCQUFMO0FBQXlCOztBQUM1QztBQUNJLFlBQUlOLElBQUksQ0FBQ08sT0FBTCxDQUFhLFFBQWIsSUFBeUIsQ0FBQyxDQUE5QixFQUFpQyxLQUFLQyxXQUFMLENBQWlCUixJQUFqQjtBQUNqQyxZQUFJQSxJQUFJLENBQUNPLE9BQUwsQ0FBYSxRQUFiLElBQXlCLENBQUMsQ0FBOUIsRUFBaUMsS0FBS0UsV0FBTCxDQUFpQlQsSUFBakI7QUFDakMsWUFBSUEsSUFBSSxDQUFDTyxPQUFMLENBQWEsUUFBYixJQUF5QixDQUFDLENBQTlCLEVBQWlDLEtBQUtHLFdBQUwsQ0FBaUJWLElBQWpCO0FBQ2pDLFlBQUlBLElBQUksQ0FBQ08sT0FBTCxDQUFhLE9BQWIsSUFBd0IsQ0FBQyxDQUE3QixFQUFnQyxLQUFLSSxjQUFMLENBQW9CWCxJQUFwQjtBQUNoQyxZQUFJQSxJQUFJLENBQUNPLE9BQUwsQ0FBYSxNQUFiLElBQXVCLENBQUMsQ0FBNUIsRUFBK0IsS0FBS0ssYUFBTCxDQUFtQlosSUFBbkI7QUFDL0IsWUFBSUEsSUFBSSxDQUFDTyxPQUFMLENBQWEsT0FBYixJQUF3QixDQUFDLENBQTdCLEVBQWdDLEtBQUtNLFVBQUwsQ0FBZ0JiLElBQWhCO0FBQ2hDO0FBYlI7QUFlSCxHQTdFbUI7QUErRXBCUixFQUFBQSxNQS9Fb0Isb0JBK0VYO0FBQ0wsU0FBS3NCLFNBQUw7QUFDQSxTQUFLQyxTQUFMO0FBQ0EsU0FBS0MsYUFBTDtBQUNBLFNBQUtDLFlBQUw7QUFDQSxTQUFLQyxZQUFMO0FBQ0gsR0FyRm1CO0FBc0ZwQjtBQUNBSixFQUFBQSxTQXZGb0IsdUJBdUZSO0FBQ1IsUUFBSUssU0FBUyxHQUFHLEtBQUszQyxRQUFMLENBQWM0QyxTQUFkLENBQXdCQyxPQUF4Qzs7QUFDQSxTQUFLLElBQUlDLEdBQVQsSUFBZ0JILFNBQWhCLEVBQTJCO0FBQ3ZCLFVBQUlJLElBQUksR0FBR3JFLEVBQUUsQ0FBQ3NFLFdBQUgsQ0FBZSxLQUFLcEUsU0FBcEIsQ0FBWDtBQUNBbUUsTUFBQUEsSUFBSSxDQUFDRSxNQUFMLEdBQWMsSUFBZDtBQUNBRixNQUFBQSxJQUFJLENBQUN2QixJQUFMLG1CQUFxQnNCLEdBQXJCO0FBQ0EsV0FBS0ksYUFBTCxDQUFtQkgsSUFBbkIsWUFBNEJKLFNBQVMsQ0FBQ0csR0FBRCxDQUFyQztBQUNBLFdBQUtyRSxTQUFMLENBQWUwRSxRQUFmLENBQXdCSixJQUF4QjtBQUNIO0FBQ0osR0FoR21CO0FBaUdwQjtBQUNBUixFQUFBQSxTQWxHb0IsdUJBa0dSO0FBQ1IsUUFBSWEsU0FBUyxHQUFHLEtBQUtwRCxRQUFMLENBQWM0QyxTQUFkLENBQXdCUyxLQUF4Qzs7QUFDQSxTQUFLLElBQUlQLEdBQVQsSUFBZ0JNLFNBQWhCLEVBQTJCO0FBQ3ZCLFVBQUlMLElBQUksR0FBR3JFLEVBQUUsQ0FBQ3NFLFdBQUgsQ0FBZSxLQUFLbEUsU0FBcEIsQ0FBWDtBQUNBaUUsTUFBQUEsSUFBSSxDQUFDRSxNQUFMLEdBQWMsSUFBZDtBQUNBRixNQUFBQSxJQUFJLENBQUN2QixJQUFMLG1CQUFxQnNCLEdBQXJCO0FBQ0EsV0FBS0ksYUFBTCxDQUFtQkgsSUFBbkIsWUFBNEJLLFNBQVMsQ0FBQ04sR0FBRCxDQUFyQztBQUNBLFdBQUtqRSxTQUFMLENBQWVzRSxRQUFmLENBQXdCSixJQUF4QjtBQUNIOztBQUNELFNBQUs3QyxLQUFMLEdBQWFrRCxTQUFTLENBQUMsQ0FBRCxDQUF0QjtBQUNILEdBNUdtQjtBQThHcEJGLEVBQUFBLGFBOUdvQix5QkE4R056QixJQTlHTSxFQThHQTZCLE9BOUdBLEVBOEdRO0FBQ3hCN0IsSUFBQUEsSUFBSSxDQUFDOEIsY0FBTCxDQUFvQixZQUFwQixFQUFrQ0EsY0FBbEMsQ0FBaUQsTUFBakQsRUFBeURDLFlBQXpELENBQXNFOUUsRUFBRSxDQUFDTyxLQUF6RSxFQUFnRndFLE1BQWhGLEdBQXlGSCxPQUF6RjtBQUNBN0IsSUFBQUEsSUFBSSxDQUFDOEIsY0FBTCxDQUFvQixXQUFwQixFQUFpQ0EsY0FBakMsQ0FBZ0QsTUFBaEQsRUFBd0RDLFlBQXhELENBQXFFOUUsRUFBRSxDQUFDTyxLQUF4RSxFQUErRXdFLE1BQS9FLEdBQXdGSCxPQUF4RjtBQUNILEdBakhtQjtBQW1IcEI7QUFDQWQsRUFBQUEsYUFwSG9CLDJCQW9ISjtBQUNaLFFBQUlrQixXQUFXLEdBQUcsS0FBSzFELFFBQUwsQ0FBYzRDLFNBQWQsQ0FBd0JlLFdBQTFDOztBQUNBLFNBQUssSUFBSWIsR0FBVCxJQUFnQlksV0FBaEIsRUFBNkI7QUFDekIsVUFBSVgsSUFBSSxHQUFHckUsRUFBRSxDQUFDc0UsV0FBSCxDQUFlLEtBQUs3RCxRQUFwQixDQUFYO0FBQ0E0RCxNQUFBQSxJQUFJLENBQUNFLE1BQUwsR0FBYyxJQUFkO0FBQ0FGLE1BQUFBLElBQUksQ0FBQ3ZCLElBQUwsa0JBQW9Cc0IsR0FBcEI7QUFDQUMsTUFBQUEsSUFBSSxDQUFDUSxjQUFMLENBQW9CLE1BQXBCLEVBQTRCQyxZQUE1QixDQUF5QzlFLEVBQUUsQ0FBQ08sS0FBNUMsRUFBbUR3RSxNQUFuRCxhQUErREMsV0FBVyxDQUFDWixHQUFELENBQTFFO0FBQ0EsV0FBSzVELFFBQUwsQ0FBY2lFLFFBQWQsQ0FBdUJKLElBQXZCO0FBQ0g7O0FBQ0QsU0FBSzNDLFFBQUwsR0FBZ0JzRCxXQUFXLENBQUMsQ0FBRCxDQUEzQjtBQUNBLFNBQUsxRSxPQUFMLENBQWF5RSxNQUFiLGFBQXlCLEtBQUtyRCxRQUE5QjtBQUNILEdBL0htQjtBQWlJcEI7QUFDQXFDLEVBQUFBLFlBbElvQiwwQkFrSUw7QUFDWCxRQUFJbUIsUUFBUSxHQUFHLEtBQUs1RCxRQUFMLENBQWM0QyxTQUFkLENBQXdCaUIsUUFBdkM7O0FBQ0EsU0FBSyxJQUFJZixHQUFULElBQWdCYyxRQUFoQixFQUEwQjtBQUN0QixVQUFJYixJQUFJLEdBQUdyRSxFQUFFLENBQUNzRSxXQUFILENBQWUsS0FBSzFELE9BQXBCLENBQVg7QUFDQXlELE1BQUFBLElBQUksQ0FBQ0UsTUFBTCxHQUFjLElBQWQ7QUFDQUYsTUFBQUEsSUFBSSxDQUFDdkIsSUFBTCxpQkFBbUJzQixHQUFuQjtBQUNBQyxNQUFBQSxJQUFJLENBQUNRLGNBQUwsQ0FBb0IsTUFBcEIsRUFBNEJDLFlBQTVCLENBQXlDOUUsRUFBRSxDQUFDTyxLQUE1QyxFQUFtRHdFLE1BQW5ELGFBQStERyxRQUFRLENBQUNkLEdBQUQsQ0FBdkU7QUFDQSxXQUFLekQsT0FBTCxDQUFhOEQsUUFBYixDQUFzQkosSUFBdEI7QUFDSDs7QUFDRCxTQUFLMUMsT0FBTCxHQUFldUQsUUFBUSxDQUFDLENBQUQsQ0FBdkI7QUFDQSxTQUFLeEUsTUFBTCxDQUFZcUUsTUFBWixhQUF3QixLQUFLcEQsT0FBN0I7QUFDSCxHQTdJbUI7QUErSXBCO0FBQ0FxQyxFQUFBQSxZQWhKb0IsMEJBZ0pMO0FBQ1gsUUFBSSxLQUFLMUMsUUFBTCxDQUFjOEQsUUFBZCxJQUEwQjdGLFNBQVMsQ0FBQ0UsSUFBeEMsRUFBOEM7QUFDMUMsV0FBS29CLE9BQUwsQ0FBYWtFLE1BQWIsR0FBc0J6RixXQUF0QjtBQUNBLFdBQUtzQyxTQUFMLEdBQWlCLGFBQWpCO0FBQ0EsV0FBS1osT0FBTCxDQUFhcUUsWUFBYixHQUE0QixLQUE1QjtBQUNBLFdBQUtyRSxPQUFMLENBQWErQixJQUFiLENBQWtCOEIsY0FBbEIsQ0FBaUMsYUFBakMsRUFBZ0ROLE1BQWhELEdBQXlELEtBQXpEO0FBQ0gsS0FMRCxNQUtPO0FBQ0gsV0FBS3pELFFBQUwsQ0FBY3dFLGlCQUFkO0FBQ0EsVUFBSUMsUUFBUSxHQUFHLEtBQUtqRSxRQUFMLENBQWM0QyxTQUE3QjtBQUNBLFVBQUlzQixLQUFLLEdBQUcsQ0FBWjs7QUFDQSxXQUFLLElBQUlwQixHQUFULElBQWdCbkYsU0FBaEIsRUFBMkI7QUFDdkIsWUFBSXNHLFFBQVEsQ0FBQ25CLEdBQUQsQ0FBUixJQUFpQixDQUFyQixFQUF3QjtBQUN4QixZQUFJLENBQUMsS0FBS3hDLFNBQVYsRUFBcUIsS0FBS0EsU0FBTCxHQUFpQndDLEdBQWpCO0FBQ3JCLFlBQUlDLElBQUksR0FBR3JFLEVBQUUsQ0FBQ3NFLFdBQUgsQ0FBZSxLQUFLdkQsUUFBcEIsQ0FBWDtBQUNBc0QsUUFBQUEsSUFBSSxDQUFDRSxNQUFMLEdBQWMsSUFBZDtBQUNBRixRQUFBQSxJQUFJLENBQUN2QixJQUFMLGtCQUFvQnNCLEdBQXBCO0FBQ0FDLFFBQUFBLElBQUksQ0FBQ1EsY0FBTCxDQUFvQixNQUFwQixFQUE0QkMsWUFBNUIsQ0FBeUM5RSxFQUFFLENBQUNPLEtBQTVDLEVBQW1Ed0UsTUFBbkQsR0FBNEQ5RixTQUFTLENBQUNtRixHQUFELENBQVQsQ0FBZXFCLE9BQWYsQ0FBdUIvRixTQUF2QixZQUFxQyxLQUFLZ0csZUFBTCxDQUFxQnRCLEdBQXJCLENBQXJDLEVBQTVEO0FBQ0EsYUFBS3RELFFBQUwsQ0FBYzJELFFBQWQsQ0FBdUJKLElBQXZCOztBQUVBLFlBQUdtQixLQUFLLE1BQU0sQ0FBZCxFQUFpQjtBQUNibkIsVUFBQUEsSUFBSSxDQUFDUSxjQUFMLENBQW9CLGVBQXBCLEVBQXFDTixNQUFyQyxHQUE4QyxLQUE5QztBQUNIO0FBQ0o7O0FBRUQsV0FBSzFELE9BQUwsQ0FBYWtFLE1BQWIsR0FBc0I5RixTQUFTLENBQUMsS0FBSzJDLFNBQU4sQ0FBVCxDQUEwQjZELE9BQTFCLENBQWtDL0YsU0FBbEMsWUFBZ0QsS0FBS2dHLGVBQUwsQ0FBcUIsS0FBSzlELFNBQTFCLENBQWhELEVBQXRCO0FBQ0g7QUFDSixHQTFLbUI7QUE0S3BCOEQsRUFBQUEsZUE1S29CLDJCQTRLSnRCLEdBNUtJLEVBNEtDO0FBQ2pCLFFBQUltQixRQUFRLEdBQUcsS0FBS2pFLFFBQUwsQ0FBYzRDLFNBQTdCO0FBQUEsUUFDSXlCLFFBQVEsR0FBRyxDQURmO0FBQUEsUUFFSWpCLFNBQVMsR0FBR2EsUUFBUSxDQUFDWixLQUZ6Qjs7QUFHQSxRQUFJUCxHQUFHLElBQUksb0JBQVgsRUFBaUM7QUFDN0J1QixNQUFBQSxRQUFRLEdBQUdDLElBQUksQ0FBQ0MsSUFBTCxDQUFVTixRQUFRLENBQUNPLE1BQVQsQ0FBZ0IsS0FBS3ZFLFVBQXJCLElBQW1DbUQsU0FBUyxDQUFDQSxTQUFTLENBQUNxQixNQUFWLEdBQW1CLENBQXBCLENBQXRELENBQVg7QUFDSCxLQUZELE1BRU87QUFDSEosTUFBQUEsUUFBUSxHQUFHQyxJQUFJLENBQUNDLElBQUwsQ0FBVU4sUUFBUSxDQUFDTyxNQUFULENBQWdCLEtBQUt2RSxVQUFyQixJQUFtQ21ELFNBQVMsQ0FBQ0EsU0FBUyxDQUFDcUIsTUFBVixHQUFtQixDQUFwQixDQUE1QyxHQUFxRSxLQUFLdkUsS0FBcEYsQ0FBWDtBQUVIOztBQUNELFdBQU8sS0FBS3dFLFlBQUwsQ0FBa0JMLFFBQWxCLENBQVA7QUFDSCxHQXZMbUI7QUF5THBCO0FBQ0FyQyxFQUFBQSxXQTFMb0IsdUJBMExSUixJQTFMUSxFQTBMRjtBQUNkLFFBQUlpQyxNQUFNLEdBQUdqQyxJQUFJLENBQUNtRCxTQUFMLENBQWUsQ0FBZixDQUFiO0FBQ0EsU0FBSzFFLFVBQUwsR0FBa0IyRSxNQUFNLENBQUNuQixNQUFELENBQXhCO0FBQ0EsU0FBS2YsWUFBTDtBQUNILEdBOUxtQjtBQWdNcEJULEVBQUFBLFdBaE1vQix1QkFnTVJULElBaE1RLEVBZ01GO0FBQ2QsUUFBSWlDLE1BQU0sR0FBR2pDLElBQUksQ0FBQ21ELFNBQUwsQ0FBZSxDQUFmLENBQWI7QUFDQSxRQUFJdkIsU0FBUyxHQUFHLEtBQUtwRCxRQUFMLENBQWM0QyxTQUFkLENBQXdCUyxLQUF4QztBQUNBLFNBQUtuRCxLQUFMLEdBQWFrRCxTQUFTLENBQUN3QixNQUFNLENBQUNuQixNQUFELENBQVAsQ0FBdEI7QUFDQSxTQUFLZixZQUFMO0FBQ0gsR0FyTW1CO0FBdU1wQlIsRUFBQUEsV0F2TW9CLHVCQXVNUlYsSUF2TVEsRUF1TUY7QUFDZCxRQUFJaUMsTUFBTSxHQUFHakMsSUFBSSxDQUFDbUQsU0FBTCxDQUFlLENBQWYsQ0FBYjtBQUNBLFNBQUt4RSxVQUFMLEdBQWtCeUUsTUFBTSxDQUFDbkIsTUFBRCxDQUF4QjtBQUNILEdBMU1tQjtBQTRNcEJ0QixFQUFBQSxjQTVNb0IsMEJBNE1MWCxJQTVNSyxFQTRNQztBQUNqQixRQUFJaUMsTUFBTSxHQUFHakMsSUFBSSxDQUFDbUQsU0FBTCxDQUFlLENBQWYsQ0FBYjtBQUNBLFFBQUlqQixXQUFXLEdBQUcsS0FBSzFELFFBQUwsQ0FBYzRDLFNBQWQsQ0FBd0JlLFdBQTFDO0FBQ0EsU0FBS3ZELFFBQUwsR0FBZ0JzRCxXQUFXLENBQUNrQixNQUFNLENBQUNuQixNQUFELENBQVAsQ0FBM0I7QUFDQSxTQUFLekUsT0FBTCxDQUFheUUsTUFBYixhQUF5QixLQUFLckQsUUFBOUI7QUFDQSxTQUFLc0IsVUFBTDtBQUNILEdBbE5tQjtBQW9OcEJVLEVBQUFBLGFBcE5vQix5QkFvTk5aLElBcE5NLEVBb05BO0FBQ2hCLFFBQUlpQyxNQUFNLEdBQUdqQyxJQUFJLENBQUNtRCxTQUFMLENBQWUsQ0FBZixDQUFiO0FBQ0EsUUFBSWYsUUFBUSxHQUFHLEtBQUs1RCxRQUFMLENBQWM0QyxTQUFkLENBQXdCaUIsUUFBdkM7QUFDQSxTQUFLeEQsT0FBTCxHQUFldUQsUUFBUSxDQUFDZ0IsTUFBTSxDQUFDbkIsTUFBRCxDQUFQLENBQXZCO0FBQ0EsU0FBS3JFLE1BQUwsQ0FBWXFFLE1BQVosYUFBd0IsS0FBS3BELE9BQTdCO0FBQ0EsU0FBS3FCLFVBQUw7QUFFSCxHQTNObUI7QUE2TnBCVyxFQUFBQSxVQTdOb0Isc0JBNk5UYixJQTdOUyxFQTZOSDtBQUNiLFFBQUlpQyxNQUFNLEdBQUdqQyxJQUFJLENBQUNtRCxTQUFMLENBQWUsQ0FBZixDQUFiO0FBQ0EsU0FBS3JFLFNBQUwsR0FBaUJtRCxNQUFqQjtBQUNBLFNBQUtsRSxPQUFMLENBQWFrRSxNQUFiLEdBQXNCOUYsU0FBUyxDQUFDLEtBQUsyQyxTQUFOLENBQVQsQ0FBMEI2RCxPQUExQixDQUFrQy9GLFNBQWxDLFlBQWdELEtBQUtnRyxlQUFMLENBQXFCLEtBQUs5RCxTQUExQixDQUFoRCxFQUF0QjtBQUNBLFNBQUtvQixVQUFMO0FBQ0gsR0FsT21CO0FBcU9wQkEsRUFBQUEsVUFyT29CLHdCQXFPUDtBQUNULFNBQUszQyxRQUFMLENBQWNrRSxNQUFkLEdBQXVCLEtBQXZCO0FBQ0EsU0FBSy9ELFFBQUwsQ0FBYytELE1BQWQsR0FBdUIsS0FBdkI7QUFDQSxTQUFLNUQsT0FBTCxDQUFhNEQsTUFBYixHQUFzQixLQUF0QjtBQUNBLFNBQUt6RCxRQUFMLENBQWN5RCxNQUFkLEdBQXVCLEtBQXZCO0FBQ0gsR0ExT21CO0FBNE9wQnRCLEVBQUFBLGNBNU9vQiw0QkE0T0g7QUFDYixTQUFLekMsUUFBTCxDQUFjK0QsTUFBZCxHQUF1QixDQUFDLEtBQUsvRCxRQUFMLENBQWMrRCxNQUF0QztBQUNBLFNBQUtsRSxRQUFMLENBQWNrRSxNQUFkLEdBQXVCLEtBQUsvRCxRQUFMLENBQWMrRCxNQUFyQztBQUVBLFNBQUs1RCxPQUFMLENBQWE0RCxNQUFiLEdBQXNCLEtBQXRCO0FBQ0EsU0FBS3pELFFBQUwsQ0FBY3lELE1BQWQsR0FBdUIsS0FBdkI7QUFDSCxHQWxQbUI7QUFvUHBCckIsRUFBQUEsYUFwUG9CLDJCQW9QSjtBQUNaLFNBQUt2QyxPQUFMLENBQWE0RCxNQUFiLEdBQXNCLENBQUMsS0FBSzVELE9BQUwsQ0FBYTRELE1BQXBDO0FBQ0EsU0FBS2xFLFFBQUwsQ0FBY2tFLE1BQWQsR0FBdUIsS0FBSzVELE9BQUwsQ0FBYTRELE1BQXBDO0FBRUEsU0FBSy9ELFFBQUwsQ0FBYytELE1BQWQsR0FBdUIsS0FBdkI7QUFDQSxTQUFLekQsUUFBTCxDQUFjeUQsTUFBZCxHQUF1QixLQUF2QjtBQUNILEdBMVBtQjtBQTRQcEJwQixFQUFBQSxjQTVQb0IsNEJBNFBIO0FBQ2IsU0FBS3JDLFFBQUwsQ0FBY3lELE1BQWQsR0FBdUIsQ0FBQyxLQUFLekQsUUFBTCxDQUFjeUQsTUFBdEM7QUFDQSxTQUFLbEUsUUFBTCxDQUFja0UsTUFBZCxHQUF1QixLQUFLekQsUUFBTCxDQUFjeUQsTUFBckM7QUFFQSxTQUFLL0QsUUFBTCxDQUFjK0QsTUFBZCxHQUF1QixLQUF2QjtBQUNBLFNBQUs1RCxPQUFMLENBQWE0RCxNQUFiLEdBQXNCLEtBQXRCO0FBQ0gsR0FsUW1CO0FBb1FwQjdCLEVBQUFBLFVBcFFvQix3QkFvUVA7QUFDVCxRQUFJUixHQUFHLEdBQUcsRUFBVjtBQUNBQSxJQUFBQSxHQUFHLENBQUNpRSxRQUFKLEdBQWU5RyxlQUFlLENBQUMsS0FBS3VDLFNBQU4sQ0FBOUI7QUFDQU0sSUFBQUEsR0FBRyxDQUFDa0UsSUFBSixHQUFXLEtBQUs1RSxLQUFoQjtBQUNBVSxJQUFBQSxHQUFHLENBQUNtRSxPQUFKLEdBQWMsS0FBSzFFLE9BQW5CO0FBQ0FPLElBQUFBLEdBQUcsQ0FBQ29FLFVBQUosR0FBaUIsS0FBSzVFLFFBQXRCO0FBQ0FRLElBQUFBLEdBQUcsQ0FBQ3FFLGNBQUosR0FBcUIsS0FBSzlFLFVBQTFCO0FBQ0EsUUFBSXdDLFNBQVMsR0FBRyxLQUFLM0MsUUFBTCxDQUFjNEMsU0FBZCxDQUF3QkMsT0FBeEM7QUFDQWpDLElBQUFBLEdBQUcsQ0FBQ3NFLE1BQUosR0FBYXZDLFNBQVMsQ0FBQyxLQUFLMUMsVUFBTixDQUF0QjtBQUNBNUIsSUFBQUEsTUFBTSxDQUFDOEcsSUFBUCxDQUFZQyxVQUFaLENBQXVCLEtBQUt2RixNQUE1QixFQUFvQ2UsR0FBcEM7QUFDSCxHQTlRbUI7QUErUXBCO0FBQ0FrQixFQUFBQSxnQkFoUm9CLDhCQWdSRDtBQUFBOztBQUNmekQsSUFBQUEsTUFBTSxDQUFDOEcsSUFBUCxDQUFZRSxjQUFaLENBQTJCLEtBQUt4RixNQUFoQyxFQUF3Q3lGLElBQXhDLENBQTZDLFlBQU07QUFDL0MsVUFBS2pILE1BQU0sQ0FBQ2tILElBQVAsQ0FBWUMsVUFBWixJQUEwQixDQUExQixJQUErQm5ILE1BQU0sQ0FBQ2tILElBQVAsQ0FBWUUsSUFBWixJQUFvQixDQUFwRCxJQUEwRHBILE1BQU0sQ0FBQ2tILElBQVAsQ0FBWUcsT0FBWixJQUF1QixDQUFyRixFQUF3RjtBQUNwRnJILFFBQUFBLE1BQU0sQ0FBQ3NILEtBQVAsQ0FBYUMsVUFBYixDQUF3QixFQUF4QixFQUE0QiwrQkFBNUIsRUFBNkQsWUFBTTtBQUFFdkgsVUFBQUEsTUFBTSxDQUFDc0gsS0FBUCxDQUFhRSxXQUFiO0FBQTRCLFNBQWpHLEVBQW1HLFlBQU0sQ0FBRyxDQUE1RyxFQUE4RyxNQUE5RyxFQUFzSCxNQUF0SDtBQUNBO0FBQ0g7O0FBQ0QsTUFBQSxNQUFJLENBQUN6RSxVQUFMLEdBTCtDLENBTS9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDSCxLQVpEO0FBYUgsR0E5Um1CO0FBZ1NwQnNELEVBQUFBLFlBaFNvQix3QkFnU1BvQixLQWhTTyxFQWdTQTtBQUNoQixRQUFJQyxNQUFNLEdBQUduQixNQUFNLENBQUNrQixLQUFELENBQU4sQ0FBY0UsR0FBZCxDQUFrQixFQUFsQixDQUFiO0FBQ0FGLElBQUFBLEtBQUssR0FBR2xCLE1BQU0sQ0FBQ2tCLEtBQUQsQ0FBTixDQUFjRSxHQUFkLENBQWtCLEdBQWxCLENBQVI7QUFDQSxRQUFJQyxLQUFLLENBQUNILEtBQUQsQ0FBVCxFQUFrQjs7QUFDbEIsUUFBSSxDQUFDLENBQUNBLEtBQUYsS0FBWUEsS0FBaEIsRUFBdUI7QUFDbkIsYUFBT0EsS0FBSyxDQUFDSSxRQUFOLEVBQVA7QUFDSCxLQUZELE1BRU8sSUFBSSxDQUFDLENBQUNILE1BQUYsS0FBYUEsTUFBakIsRUFBeUI7QUFDNUIsYUFBT0QsS0FBSyxDQUFDSyxPQUFOLENBQWMsQ0FBZCxDQUFQO0FBQ0gsS0FGTSxNQUVBO0FBQ0gsYUFBT0wsS0FBSyxDQUFDSyxPQUFOLENBQWMsQ0FBZCxDQUFQO0FBQ0g7QUFDSixHQTNTbUI7QUE2U3BCQyxFQUFBQSxTQTdTb0IsdUJBNlNSO0FBQ1IsU0FBSy9FLGVBQUw7QUFDSDtBQS9TbUIsQ0FBeEIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFJPT01fTU9ERSA9IHtcclxuICAgIFJvb21DaGFyZ2VfT3duZXJQYXk6IFwi5oi/5Li75pSv5LuY77ya5Yib5bu65oi/6Ze05pe277yM5oi/5Li75LiA5qyh5oCn5pSv5LuY5oi/6LS5JOmSu+efs+OAglwiLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/miL/kuLvmlK/ku5jmqKHlvI9cclxuICAgIFJvb21DaGFyZ2VfQXZlcmFnZTogXCLlubPmkYrmiL/otLnvvJrliqDlhaXmiL/pl7Tml7bvvIzmr4/kurrpnIDmlK/ku5jmiL/otLkk6ZK755+z44CCXCIsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5bmz5pGK5oi/6LS55qih5byPXHJcbiAgICBSb29tQ2hhcmdlX1dpbm5lckFwcG9ydGlvbjogXCLotaLlrrbliIbmkYrvvJrnu5Pnrpfml7bvvIzotaLlrrbpnIDmjInotaLpkrHmr5TkvovmlK/ku5jmiL/otLnjgILvvIjmgLvmiL/otLnvvJok6ZK755+z77yJXCIsICAgICAgICAvL+i1ouWutuWIhuaRiuaooeW8j1xyXG59XHJcblxyXG4vL+S4juacjeWKoeerr+WNj+WVhueahOaYoOWwhOWFs+ezuyDlro9cclxuY29uc3QgUk9PTV9NT0RFX0lOREVYID0ge1xyXG4gICAgUm9vbUNoYXJnZV9Pd25lclBheTogMSwgICAgICAgICAgICAgLy/miL/kuLvmlK/ku5jmqKHlvI9cclxuICAgIFJvb21DaGFyZ2VfQXZlcmFnZTogMiwgICAgICAgICAgICAgIC8v5bmz5pGK5oi/6LS55qih5byPXHJcbiAgICBSb29tQ2hhcmdlX1dpbm5lckFwcG9ydGlvbjogMywgICAgICAvL+i1ouWutuWIhuaRiuaooeW8j1xyXG4gICAgQWN0aW9uX0ZyZWU6IDQsICAgICAgICAgICAgICAgICAgICAgLy/lhY3otLlcclxufVxyXG5cclxuY29uc3QgQWN0aW9uX0ZyZWUgPSBcIuWFjei0ue+8mua0u+WKqOacn+mXtO+8jOaIv+i0ueWFqOWFjeOAglwiO1xyXG5cclxuY29uc3QgUk9PTV9UWVBFID0ge1xyXG4gICAgUEFZOiAxLCAgICAgICAgLy/ku5jotLnmqKHlvI9cclxuICAgIEZSRUU6IDIsICAgICAgIC8v5YWN6LS55qih5byPXHJcbn1cclxuXHJcblxyXG5jb25zdCBtb2RlUmVnZXggPSAvXFwkL2dpO1xyXG5cclxuZ2xHYW1lLmJhc2VjbGFzcy5leHRlbmQoe1xyXG5cclxuICAgIHByb3BlcnRpZXM6IHtcclxuXHJcbiAgICAgICAgLy8g6YCJ5oup5bGA5pWwXHJcbiAgICAgICAgdHVybnNMaXN0OiBjYy5Ob2RlLFxyXG4gICAgICAgIHR1cm5zSXRlbTogY2MuTm9kZSxcclxuXHJcbiAgICAgICAgLy8g6YCJ5oup5Lq65pWwXHJcbiAgICAgICAgc2VhdHNMaXN0OiBjYy5Ob2RlLFxyXG4gICAgICAgIHNlYXRzSXRlbTogY2MuTm9kZSxcclxuXHJcbiAgICAgICAgbm9kZU1hc2s6IGNjLk5vZGUsICAgICAvL+WIl+ihqOmBrue9qVxyXG4gICAgICAgIC8v5oqi5bqE5pe26Ze0XHJcbiAgICAgICAgbGFiR3JhYjogY2MuTGFiZWwsXHJcbiAgICAgICAgZ3JhYkxpc3Q6IGNjLk5vZGUsXHJcbiAgICAgICAgZ3JhYkl0ZW06IGNjLk5vZGUsXHJcblxyXG4gICAgICAgIC8v5LiL5rOo5pe26Ze0XHJcbiAgICAgICAgbGFiQmV0OiBjYy5MYWJlbCxcclxuICAgICAgICBiZXRMaXN0OiBjYy5Ob2RlLFxyXG4gICAgICAgIGJldEl0ZW06IGNjLk5vZGUsXHJcbiAgICAgICAgLy/miL/otLnmqKHlvI9cclxuICAgICAgICBsYWJNb2RlOiBjYy5MYWJlbCxcclxuICAgICAgICBtb2RlTGlzdDogY2MuTm9kZSxcclxuICAgICAgICBtb2RlSXRlbTogY2MuTm9kZSxcclxuICAgICAgICBidG5Nb2RlOiBjYy5CdXR0b24sXHJcbiAgICB9LFxyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG4gICAgb25Mb2FkKCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZUlkID0gZ2xHYW1lLnNjZW5ldGFnLlJRWk5OO1xyXG4gICAgICAgIHRoaXMuZ2FtZURhdGEgPSBudWxsO1xyXG4gICAgICAgIHRoaXMudHVybnNJbmRleCA9IDA7XHJcbiAgICAgICAgdGhpcy5zZWF0cyA9IDA7XHJcbiAgICAgICAgdGhpcy5yYXRpb0luZGV4ID0gMDtcclxuICAgICAgICB0aGlzLmdyYWJUaW1lID0gMDtcclxuICAgICAgICB0aGlzLmJldFRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMubW9kZUluZGV4ID0gbnVsbDtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoKTtcclxuICAgICAgICBnbEdhbWUuZ2FtZU5ldC5zZW5kX21zZygnaHR0cC5SZXFSb29tR2FtZUNvbmZpZycsIHsgaWQ6IHRoaXMuZ2FtZUlkIH0sIChyb3V0ZSwgbXNnKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZURhdGEgPSBtc2cucmVzdWx0O1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInF6bm5DcmVhdGUgPT09PiDku47nvZHnu5zojrflj5ZcIiwgdGhpcy5nYW1lRGF0YSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLmluaXRVaSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgc3RhcnQoKSB7XHJcblxyXG4gICAgfSxcclxuXHJcbiAgICAvLyDms6jlhoznlYzpnaLnm5HlkKzkuovku7ZcclxuICAgIHJlZ2lzdGVyRXZlbnQoKSB7XHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIub24oXCJyb29tZ2FtZXVwZGF0ZWVuZFwiLCB0aGlzLmNyZWF0ZVJvb20sIHRoaXMpO1xyXG4gICAgfSxcclxuICAgIC8vIOmUgOavgeeVjOmdouebkeWQrOS6i+S7tlxyXG4gICAgdW5SZWdpc3RlckV2ZW50KCkge1xyXG4gICAgICAgIGdsR2FtZS5lbWl0dGVyLm9mZihcInJvb21nYW1ldXBkYXRlZW5kXCIsIHRoaXMpO1xyXG4gICAgfSxcclxuXHJcblxyXG4gICAgb25DbGljayhuYW1lLCBub2RlKSB7XHJcbiAgICAgICAgc3dpdGNoIChuYW1lKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJtYXNrXCI6IHRoaXMuY2xpY2tfbWFzaygpOyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImJ0bl9ncmFiXCI6IHRoaXMuY2xpY2tfZ3JhYk9wZW4oKTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJidG5fYmV0VGltZVwiOiB0aGlzLmNsaWNrX2JldE9wZW4oKTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJidG5fbW9kZVwiOiB0aGlzLmNsaWNrX21vZGVPcGVuKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYnRuX2NyZWF0ZVwiOiB0aGlzLmNsaWNrX2NyZWF0ZVJvb20oKTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBpZiAobmFtZS5pbmRleE9mKFwidHVybnNfXCIpID4gLTEpIHRoaXMuY2xpY2tfVHVybnMobmFtZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobmFtZS5pbmRleE9mKFwic2VhdHNfXCIpID4gLTEpIHRoaXMuY2xpY2tfU2VhdHMobmFtZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobmFtZS5pbmRleE9mKFwicmF0aW9fXCIpID4gLTEpIHRoaXMuY2xpY2tfUmF0aW8obmFtZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobmFtZS5pbmRleE9mKFwiZ3JhYl9cIikgPiAtMSkgdGhpcy5jbGlja19HcmFiVGltZShuYW1lKTtcclxuICAgICAgICAgICAgICAgIGlmIChuYW1lLmluZGV4T2YoXCJiZXRfXCIpID4gLTEpIHRoaXMuY2xpY2tfQmV0VGltZShuYW1lKTtcclxuICAgICAgICAgICAgICAgIGlmIChuYW1lLmluZGV4T2YoXCJtb2RlX1wiKSA+IC0xKSB0aGlzLmNsaWNrX01vZGUobmFtZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIGluaXRVaSgpIHtcclxuICAgICAgICB0aGlzLmluaXRUdXJucygpO1xyXG4gICAgICAgIHRoaXMuaW5pdFNlYXRzKCk7XHJcbiAgICAgICAgdGhpcy5pbml0R3JhYlRpbWVzKCk7XHJcbiAgICAgICAgdGhpcy5pbml0QmV0VGltZXMoKTtcclxuICAgICAgICB0aGlzLmluaXRHYW1lTW9kZSgpO1xyXG4gICAgfSxcclxuICAgIC8vIOiuvue9rueJjOWxgOWIneWni+WMllxyXG4gICAgaW5pdFR1cm5zKCkge1xyXG4gICAgICAgIGxldCBUdXJuc0RhdGEgPSB0aGlzLmdhbWVEYXRhLmNvbmZpZ3VyZS5Jbm5pbmdzO1xyXG4gICAgICAgIGZvciAobGV0IGtleSBpbiBUdXJuc0RhdGEpIHtcclxuICAgICAgICAgICAgbGV0IGl0ZW0gPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnR1cm5zSXRlbSk7XHJcbiAgICAgICAgICAgIGl0ZW0uYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgaXRlbS5uYW1lID0gYHR1cm5zXyR7a2V5fWBcclxuICAgICAgICAgICAgdGhpcy5zZXRUb2dnbGVUZXh0KGl0ZW0sIGAke1R1cm5zRGF0YVtrZXldfeWxgGApO1xyXG4gICAgICAgICAgICB0aGlzLnR1cm5zTGlzdC5hZGRDaGlsZChpdGVtKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgLy8g6K6+572u5Lq65pWw5Yid5aeL5YyWXHJcbiAgICBpbml0U2VhdHMoKSB7XHJcbiAgICAgICAgbGV0IFNlYXRzRGF0YSA9IHRoaXMuZ2FtZURhdGEuY29uZmlndXJlLlNlYXRzO1xyXG4gICAgICAgIGZvciAobGV0IGtleSBpbiBTZWF0c0RhdGEpIHtcclxuICAgICAgICAgICAgbGV0IGl0ZW0gPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnNlYXRzSXRlbSk7XHJcbiAgICAgICAgICAgIGl0ZW0uYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgaXRlbS5uYW1lID0gYHNlYXRzXyR7a2V5fWBcclxuICAgICAgICAgICAgdGhpcy5zZXRUb2dnbGVUZXh0KGl0ZW0sIGAke1NlYXRzRGF0YVtrZXldfeS6umApO1xyXG4gICAgICAgICAgICB0aGlzLnNlYXRzTGlzdC5hZGRDaGlsZChpdGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZWF0cyA9IFNlYXRzRGF0YVswXTtcclxuICAgIH0sXHJcblxyXG4gICAgc2V0VG9nZ2xlVGV4dChub2RlLCBzdHJEYXRhKXtcclxuICAgICAgICBub2RlLmdldENoaWxkQnlOYW1lKFwiQmFja2dyb3VuZFwiKS5nZXRDaGlsZEJ5TmFtZShcInRleHRcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBzdHJEYXRhO1xyXG4gICAgICAgIG5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJjaGVja21hcmtcIikuZ2V0Q2hpbGRCeU5hbWUoXCJ0ZXh0XCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gc3RyRGF0YTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8g6K6+572u5oqi5bqE5pe26Ze05Yid5aeL5YyWXHJcbiAgICBpbml0R3JhYlRpbWVzKCkge1xyXG4gICAgICAgIGxldCBiYW5rZXJUaW1lcyA9IHRoaXMuZ2FtZURhdGEuY29uZmlndXJlLkJhbmtlclRpbWVzO1xyXG4gICAgICAgIGZvciAobGV0IGtleSBpbiBiYW5rZXJUaW1lcykge1xyXG4gICAgICAgICAgICBsZXQgaXRlbSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuZ3JhYkl0ZW0pO1xyXG4gICAgICAgICAgICBpdGVtLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGl0ZW0ubmFtZSA9IGBncmFiXyR7a2V5fWBcclxuICAgICAgICAgICAgaXRlbS5nZXRDaGlsZEJ5TmFtZShcInRleHRcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBgJHtiYW5rZXJUaW1lc1trZXldfeenkmA7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JhYkxpc3QuYWRkQ2hpbGQoaXRlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ3JhYlRpbWUgPSBiYW5rZXJUaW1lc1swXTtcclxuICAgICAgICB0aGlzLmxhYkdyYWIuc3RyaW5nID0gYCR7dGhpcy5ncmFiVGltZX3np5JgO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyDorr7nva7kuIvms6jml7bpl7TliJ3lp4vljJZcclxuICAgIGluaXRCZXRUaW1lcygpIHtcclxuICAgICAgICBsZXQgYmV0VGltZXMgPSB0aGlzLmdhbWVEYXRhLmNvbmZpZ3VyZS5CZXRUaW1lcztcclxuICAgICAgICBmb3IgKGxldCBrZXkgaW4gYmV0VGltZXMpIHtcclxuICAgICAgICAgICAgbGV0IGl0ZW0gPSBjYy5pbnN0YW50aWF0ZSh0aGlzLmJldEl0ZW0pO1xyXG4gICAgICAgICAgICBpdGVtLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGl0ZW0ubmFtZSA9IGBiZXRfJHtrZXl9YFxyXG4gICAgICAgICAgICBpdGVtLmdldENoaWxkQnlOYW1lKFwidGV4dFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IGAke2JldFRpbWVzW2tleV1956eSYDtcclxuICAgICAgICAgICAgdGhpcy5iZXRMaXN0LmFkZENoaWxkKGl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmJldFRpbWUgPSBiZXRUaW1lc1swXTtcclxuICAgICAgICB0aGlzLmxhYkJldC5zdHJpbmcgPSBgJHt0aGlzLmJldFRpbWV956eSYDtcclxuICAgIH0sXHJcblxyXG4gICAgLy8g6K6+572u5oi/6Ze05qih5byP5Yid5aeL5YyWXHJcbiAgICBpbml0R2FtZU1vZGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZURhdGEuY29zdEZsYWcgPT0gUk9PTV9UWVBFLkZSRUUpIHtcclxuICAgICAgICAgICAgdGhpcy5sYWJNb2RlLnN0cmluZyA9IEFjdGlvbl9GcmVlO1xyXG4gICAgICAgICAgICB0aGlzLm1vZGVJbmRleCA9IFwiQWN0aW9uX0ZyZWVcIjtcclxuICAgICAgICAgICAgdGhpcy5idG5Nb2RlLmludGVyYWN0YWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmJ0bk1vZGUubm9kZS5nZXRDaGlsZEJ5TmFtZShcImltZ19qaWFudG91XCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZUxpc3QucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgbGV0IGdhbWVNb2RlID0gdGhpcy5nYW1lRGF0YS5jb25maWd1cmU7XHJcbiAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBST09NX01PREUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChnYW1lTW9kZVtrZXldICE9IDEpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm1vZGVJbmRleCkgdGhpcy5tb2RlSW5kZXggPSBrZXk7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IGNjLmluc3RhbnRpYXRlKHRoaXMubW9kZUl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5uYW1lID0gYG1vZGVfJHtrZXl9YDtcclxuICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJ0ZXh0XCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gUk9PTV9NT0RFW2tleV0ucmVwbGFjZShtb2RlUmVnZXgsIGAke3RoaXMuZ2V0TW9kZURpYW1vbmRzKGtleSl9YCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVMaXN0LmFkZENoaWxkKGl0ZW0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKGluZGV4KysgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJpbWdfbGluZXNtYWxsXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxhYk1vZGUuc3RyaW5nID0gUk9PTV9NT0RFW3RoaXMubW9kZUluZGV4XS5yZXBsYWNlKG1vZGVSZWdleCwgYCR7dGhpcy5nZXRNb2RlRGlhbW9uZHModGhpcy5tb2RlSW5kZXgpfWApO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgZ2V0TW9kZURpYW1vbmRzKGtleSkge1xyXG4gICAgICAgIGxldCBnYW1lTW9kZSA9IHRoaXMuZ2FtZURhdGEuY29uZmlndXJlLFxyXG4gICAgICAgICAgICBkaWFtb25kcyA9IDAsXHJcbiAgICAgICAgICAgIFNlYXRzRGF0YSA9IGdhbWVNb2RlLlNlYXRzO1xyXG4gICAgICAgIGlmIChrZXkgPT0gXCJSb29tQ2hhcmdlX0F2ZXJhZ2VcIikge1xyXG4gICAgICAgICAgICBkaWFtb25kcyA9IE1hdGguY2VpbChnYW1lTW9kZS5QcmljZXNbdGhpcy50dXJuc0luZGV4XSAvIFNlYXRzRGF0YVtTZWF0c0RhdGEubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGRpYW1vbmRzID0gTWF0aC5jZWlsKGdhbWVNb2RlLlByaWNlc1t0aGlzLnR1cm5zSW5kZXhdIC8gU2VhdHNEYXRhW1NlYXRzRGF0YS5sZW5ndGggLSAxXSAqIHRoaXMuc2VhdHMpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Rml4TnVtYmVyKGRpYW1vbmRzKTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gXHJcbiAgICBjbGlja19UdXJucyhuYW1lKSB7XHJcbiAgICAgICAgbGV0IHN0cmluZyA9IG5hbWUuc3Vic3RyaW5nKDYpO1xyXG4gICAgICAgIHRoaXMudHVybnNJbmRleCA9IE51bWJlcihzdHJpbmcpO1xyXG4gICAgICAgIHRoaXMuaW5pdEdhbWVNb2RlKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIGNsaWNrX1NlYXRzKG5hbWUpIHtcclxuICAgICAgICBsZXQgc3RyaW5nID0gbmFtZS5zdWJzdHJpbmcoNik7XHJcbiAgICAgICAgbGV0IFNlYXRzRGF0YSA9IHRoaXMuZ2FtZURhdGEuY29uZmlndXJlLlNlYXRzO1xyXG4gICAgICAgIHRoaXMuc2VhdHMgPSBTZWF0c0RhdGFbTnVtYmVyKHN0cmluZyldO1xyXG4gICAgICAgIHRoaXMuaW5pdEdhbWVNb2RlKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIGNsaWNrX1JhdGlvKG5hbWUpIHtcclxuICAgICAgICBsZXQgc3RyaW5nID0gbmFtZS5zdWJzdHJpbmcoNik7XHJcbiAgICAgICAgdGhpcy5yYXRpb0luZGV4ID0gTnVtYmVyKHN0cmluZyk7XHJcbiAgICB9LFxyXG5cclxuICAgIGNsaWNrX0dyYWJUaW1lKG5hbWUpIHtcclxuICAgICAgICBsZXQgc3RyaW5nID0gbmFtZS5zdWJzdHJpbmcoNSk7XHJcbiAgICAgICAgbGV0IGJhbmtlclRpbWVzID0gdGhpcy5nYW1lRGF0YS5jb25maWd1cmUuQmFua2VyVGltZXM7XHJcbiAgICAgICAgdGhpcy5ncmFiVGltZSA9IGJhbmtlclRpbWVzW051bWJlcihzdHJpbmcpXVxyXG4gICAgICAgIHRoaXMubGFiR3JhYi5zdHJpbmcgPSBgJHt0aGlzLmdyYWJUaW1lfeenkmBcclxuICAgICAgICB0aGlzLmNsaWNrX21hc2soKTtcclxuICAgIH0sXHJcblxyXG4gICAgY2xpY2tfQmV0VGltZShuYW1lKSB7XHJcbiAgICAgICAgbGV0IHN0cmluZyA9IG5hbWUuc3Vic3RyaW5nKDQpO1xyXG4gICAgICAgIGxldCBiZXRUaW1lcyA9IHRoaXMuZ2FtZURhdGEuY29uZmlndXJlLkJldFRpbWVzO1xyXG4gICAgICAgIHRoaXMuYmV0VGltZSA9IGJldFRpbWVzW051bWJlcihzdHJpbmcpXTtcclxuICAgICAgICB0aGlzLmxhYkJldC5zdHJpbmcgPSBgJHt0aGlzLmJldFRpbWV956eSYFxyXG4gICAgICAgIHRoaXMuY2xpY2tfbWFzaygpO1xyXG5cclxuICAgIH0sXHJcblxyXG4gICAgY2xpY2tfTW9kZShuYW1lKSB7XHJcbiAgICAgICAgbGV0IHN0cmluZyA9IG5hbWUuc3Vic3RyaW5nKDUpO1xyXG4gICAgICAgIHRoaXMubW9kZUluZGV4ID0gc3RyaW5nO1xyXG4gICAgICAgIHRoaXMubGFiTW9kZS5zdHJpbmcgPSBST09NX01PREVbdGhpcy5tb2RlSW5kZXhdLnJlcGxhY2UobW9kZVJlZ2V4LCBgJHt0aGlzLmdldE1vZGVEaWFtb25kcyh0aGlzLm1vZGVJbmRleCl9YCk7XHJcbiAgICAgICAgdGhpcy5jbGlja19tYXNrKCk7XHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICBjbGlja19tYXNrKCkge1xyXG4gICAgICAgIHRoaXMubm9kZU1hc2suYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ncmFiTGlzdC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmJldExpc3QuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5tb2RlTGlzdC5hY3RpdmUgPSBmYWxzZTtcclxuICAgIH0sXHJcblxyXG4gICAgY2xpY2tfZ3JhYk9wZW4oKSB7XHJcbiAgICAgICAgdGhpcy5ncmFiTGlzdC5hY3RpdmUgPSAhdGhpcy5ncmFiTGlzdC5hY3RpdmU7XHJcbiAgICAgICAgdGhpcy5ub2RlTWFzay5hY3RpdmUgPSB0aGlzLmdyYWJMaXN0LmFjdGl2ZTtcclxuXHJcbiAgICAgICAgdGhpcy5iZXRMaXN0LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubW9kZUxpc3QuYWN0aXZlID0gZmFsc2U7XHJcbiAgICB9LFxyXG5cclxuICAgIGNsaWNrX2JldE9wZW4oKSB7XHJcbiAgICAgICAgdGhpcy5iZXRMaXN0LmFjdGl2ZSA9ICF0aGlzLmJldExpc3QuYWN0aXZlO1xyXG4gICAgICAgIHRoaXMubm9kZU1hc2suYWN0aXZlID0gdGhpcy5iZXRMaXN0LmFjdGl2ZTtcclxuXHJcbiAgICAgICAgdGhpcy5ncmFiTGlzdC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm1vZGVMaXN0LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgfSxcclxuXHJcbiAgICBjbGlja19tb2RlT3BlbigpIHtcclxuICAgICAgICB0aGlzLm1vZGVMaXN0LmFjdGl2ZSA9ICF0aGlzLm1vZGVMaXN0LmFjdGl2ZTtcclxuICAgICAgICB0aGlzLm5vZGVNYXNrLmFjdGl2ZSA9IHRoaXMubW9kZUxpc3QuYWN0aXZlO1xyXG5cclxuICAgICAgICB0aGlzLmdyYWJMaXN0LmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYmV0TGlzdC5hY3RpdmUgPSBmYWxzZTtcclxuICAgIH0sXHJcblxyXG4gICAgY3JlYXRlUm9vbSgpIHtcclxuICAgICAgICBsZXQgbXNnID0ge307XHJcbiAgICAgICAgbXNnLlJlbnRUeXBlID0gUk9PTV9NT0RFX0lOREVYW3RoaXMubW9kZUluZGV4XTtcclxuICAgICAgICBtc2cuU2VhdCA9IHRoaXMuc2VhdHM7XHJcbiAgICAgICAgbXNnLkJldFRpbWUgPSB0aGlzLmJldFRpbWU7XHJcbiAgICAgICAgbXNnLkJhbmtlclRpbWUgPSB0aGlzLmdyYWJUaW1lO1xyXG4gICAgICAgIG1zZy5DYXJkVGltZXNJbmRleCA9IHRoaXMucmF0aW9JbmRleDtcclxuICAgICAgICBsZXQgVHVybnNEYXRhID0gdGhpcy5nYW1lRGF0YS5jb25maWd1cmUuSW5uaW5ncztcclxuICAgICAgICBtc2cuSW5uaW5nID0gVHVybnNEYXRhW3RoaXMudHVybnNJbmRleF07XHJcbiAgICAgICAgZ2xHYW1lLnJvb20uQ3JlYXRlUm9vbSh0aGlzLmdhbWVJZCwgbXNnKTtcclxuICAgIH0sXHJcbiAgICAvLyDliJvlu7rmiL/pl7RcclxuICAgIGNsaWNrX2NyZWF0ZVJvb20oKSB7XHJcbiAgICAgICAgZ2xHYW1lLnJvb20ucmVxTXlHYW1lU3RhdGUodGhpcy5nYW1lSWQpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoKGdsR2FtZS51c2VyLnN1c3BpY2lvdXMgPT0gMSAmJiBnbEdhbWUudXNlci5nYW1lID09IDIpIHx8IGdsR2FtZS51c2VyLmlzX2dhbWUgPT0gMikge1xyXG4gICAgICAgICAgICAgICAgZ2xHYW1lLnBhbmVsLnNob3dEaWFsb2coXCJcIiwgXCLmgqjnmoTotKblj7fmlbDmja7lvILluLjvvIzmmoLml7bnpoHmraLov5vlhaXmuLjmiI/vvIzlpoLmnInnlpHpl67vvIzor7fogZTns7vlrqLmnI3vvIFcIiwgKCkgPT4geyBnbEdhbWUucGFuZWwuc2hvd1NlcnZpY2UoKSB9LCAoKSA9PiB7IH0sIFwi5oiR55+l6YGT5LqGXCIsIFwi6IGU57O75a6i5pyNXCIpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVSb29tKCk7XHJcbiAgICAgICAgICAgIC8vIGlmICh0aGlzLmdhbWVDb25maWcuRW50cmFuY2VSZXN0cmljdGlvbnMgPiBnbEdhbWUudXNlci5nZXQoXCJjb2luXCIpKSB7XHJcbiAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhcIui/meaYr+W9k+WJjeeahOaIv+mXtOmZkOWItlwiLCB0aGlzLmdhbWVDb25maWcpXHJcbiAgICAgICAgICAgIC8vICAgICBsZXQgc3RyaW5nID0gYDxjb2xvcj0jOTlDN0ZGPuaCqOeahOmHkeW4geS4jei2s++8jOivpeaIv+mXtOmcgOimgTwvYz4gPGNvbG9yPSNmZjAwMDA+ICR7dGhpcy5nZXRGbG9hdCh0aGlzLmdhbWVDb25maWcuRW50cmFuY2VSZXN0cmljdGlvbnMpfSAgPC9jPjxjb2xvcj0jOTlDN0ZGPumHkeW4geaJjeWPr+S4i+azqO+8jOaYr+WQpumprOS4iuWJjeW+gOWFheWAvO+8nzwvYz5gXHJcbiAgICAgICAgICAgIC8vICAgICBnbEdhbWUucGFuZWwuc2hvd0RpYWxvZyhcIlwiLCBzdHJpbmcsICgpID0+IHsgZ2xHYW1lLnBhbmVsLnNob3dTaG9wKDEwMCkgfSwgKCkgPT4geyB9LCBcIuWPlua2iFwiLCBcIuWFheWAvFwiKTtcclxuICAgICAgICAgICAgLy8gICAgIHJldHVyblxyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcblxyXG4gICAgZ2V0Rml4TnVtYmVyKHZhbHVlKSB7XHJcbiAgICAgICAgbGV0IHZhbHVlMSA9IE51bWJlcih2YWx1ZSkuZGl2KDEwKTtcclxuICAgICAgICB2YWx1ZSA9IE51bWJlcih2YWx1ZSkuZGl2KDEwMCk7XHJcbiAgICAgICAgaWYgKGlzTmFOKHZhbHVlKSkgcmV0dXJuO1xyXG4gICAgICAgIGlmICh+fnZhbHVlID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKH5+dmFsdWUxID09PSB2YWx1ZTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRvRml4ZWQoMSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRvRml4ZWQoMik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBPbkRlc3Ryb3koKSB7XHJcbiAgICAgICAgdGhpcy51blJlZ2lzdGVyRXZlbnQoKTtcclxuICAgIH0sXHJcbn0pIl19