
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/modules/plaza/script/prefab/enterRoom/dzpkentry.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '45747rvQrdI0ofeuaIL5mlh', 'dzpkentry');
// modules/plaza/script/prefab/enterRoom/dzpkentry.js

"use strict";

//德州扑克 入口
glGame.baseclass.extend({
  properties: {
    goldCount: cc.Label,
    level: {
      type: cc.Node,
      "default": []
    },
    rulePrefab: cc.Prefab,
    recordPrefab: cc.Prefab,
    buttonList: [cc.Node],
    scrollView: cc.ScrollView,
    BGM: {
      //背景声音
      type: cc.AudioClip,
      "default": null
    }
  },
  onLoad: function onLoad() {
    this.gameid = 0;
    this.node.zIndex = 20;
    glGame.emitter.on(MESSAGE.UI.ROOM_ENTER_SHOW, this.RootNodeShow, this);
    glGame.emitter.on(MESSAGE.UI.ROOM_ENTER_HIDE, this.RootNodeHide, this);
    glGame.emitter.on("nodeRemove", this.click_back, this);
    glGame.emitter.on("updateUserData", this.updateuserInfo, this);
    this.updateuserInfo();
    this.registerEvent();
    this.reqEnterArea();
    var old_width = this.scrollView.node.width;
    this.scrollView.getComponent(cc.Widget).updateAlignment();
    var new_width = this.scrollView.node.width;
    console.log("old_width=", old_width, ",new_width=", new_width);
    this.spacing_x = new_width / old_width;
  },
  start: function start() {
    this.startMove();
  },
  //动画
  startMove: function startMove() {
    var _this = this;

    var content = this.scrollView.node.getChildByName("view").getChildByName("content");
    content.width = content.width * this.spacing_x;
    content.getComponent(cc.Widget).updateAlignment();
    content.opacity = 255;
    content.getComponent(cc.Widget).enabled = false;
    content.getComponent(cc.Layout).enabled = false;
    var posList = [];
    var index = 0;

    for (var i = 0; i < this.buttonList.length; i++) {
      var item = this.buttonList[i];
      item.getComponent(cc.Widget).updateAlignment();
      posList.push(cc.v2(item.position.x, item.position.y));
    }

    var _loop = function _loop(_i) {
      var item = _this.buttonList[_i];
      item.x += posList[posList.length - 1].x + Math.random() * 30;
      item.stopAllActions();
      var t = 0.1 * _i;
      item.runAction(cc.sequence(cc.delayTime(t), cc.moveTo(0.2, cc.v2(posList[_i].x - 40, posList[_i].y)), cc.callFunc(function () {
        item.stopAllActions();
        item.runAction(cc.sequence(cc.moveTo(0.1, posList[_i]), cc.callFunc(function () {
          index++;

          if (index == 4) {
            content.getComponent(cc.Widget).enabled = true;
          }
        })));
      })));
    };

    for (var _i = 0; _i < posList.length; _i++) {
      _loop(_i);
    }

    var game_logo = this.node.getChildByName("Bg").getChildByName("game_logomask").getChildByName("game_logo");
    game_logo.x = this.node.getChildByName("point2").x;
    game_logo.y = this.node.getChildByName("point2").y;
    game_logo.opacity = 255;
    var go2 = cc.moveTo(0.2, this.node.getChildByName("point3").position);
    var back2 = cc.moveTo(0.1, this.node.getChildByName("point4").position);
    game_logo.runAction(cc.sequence(go2, back2));
  },
  //事件监听
  registerEvent: function registerEvent() {
    // 监听scrollView的滚动事件
    this.scrollView.node.on("scroll-to-left", this.scrollLeftCb, this);
    this.scrollView.node.on("scroll-to-right", this.scrollRigthCb, this);
    glGame.emitter.on("goldOnlineNum", this.goldOnlineNum, this);
    glGame.emitter.on("onGameConfig", this.onGameConfig, this);
  },
  //事件销毁
  unregisterEvent: function unregisterEvent() {
    glGame.emitter.off("goldOnlineNum", this);
    glGame.emitter.off("onGameConfig", this);
  },
  scrollLeftCb: function scrollLeftCb(scrollView) {
    // cc.log("**********************************触摸到Left，反弹函数");
    this.node.getChildByName("jiantou_l").active = false;
    this.node.getChildByName("jiantou_r").active = false;
    this.node.getChildByName("jiantou_r").active = true;
  },
  scrollRigthCb: function scrollRigthCb(scrollView) {
    // 回调的参数是 ScrollView 组件
    // do whatever you want with scrollview
    // cc.log("**********************************触摸到Rigth，反弹函数");
    this.node.getChildByName("jiantou_l").active = false;
    this.node.getChildByName("jiantou_r").active = false;
    this.node.getChildByName("jiantou_l").active = true;
  },
  reqEnterArea: function reqEnterArea() {
    this.gameID = glGame.scenetag.DZPK;
    glGame.readyroom.reqEnterArea(glGame.scenetag.DZPK);
  },
  onClick: function onClick(name, node) {
    switch (name) {
      case "btn_back":
        this.click_back();
        break;

      case "btn_help":
        this.click_help();
        break;

      case "btn_record":
        this.click_record();
        break;

      case "mycoinInfo":
        this.click_addgold();
        break;

      case "headbg":
        this.click_userinfo();
        break;

      case "btn_chongzhi":
        this.click_addgold();
        break;

      case "primary":
        this.enterGame(99);
        break;

      case "intermediate":
        this.enterGame(1);
        break;

      case "senior":
        this.enterGame(2);
        break;

      case "tuhao":
        this.enterGame(3);
        break;

      case "supremacy":
        this.enterGame(4);
        break;

      case "volvo":
        this.enterGame(5);
        break;

      case "jiantou_l":
      case "jiantou_r":
        console.log("点击了按钮");
        this.executionScrollTo(name);
        break;

      default:
        console.error("no find button name -> %s", name);
    }
  },
  executionScrollTo: function executionScrollTo(name) {
    this.node.getChildByName("jiantou_l").active = false;
    this.node.getChildByName("jiantou_r").active = false;

    if (name == "jiantou_l") {
      this.node.getChildByName("jiantou_r").active = true;
      this.scrollView.scrollToLeft(0.1);
    } else {
      this.node.getChildByName("jiantou_l").active = true;
      this.scrollView.scrollToRight(0.1);
    }
  },
  enterGame: function enterGame(level) {
    var _this2 = this;

    glGame.room.reqMyGameState(this.gameID, level).then(function () {
      var gameID = _this2.gameID;

      if (_this2.gameConfig[level] == null) {
        glGame.panel.showMsgBox('提示', '该房间尚未开放，请尝试其他房间。');
        return;
      }

      if (glGame.user.isTourist()) {
        if (level != 99) {
          glGame.panel.showRegisteredGift(true);
          return;
        }
      }

      if (glGame.user.suspicious == 1 && glGame.user.game == 2 || glGame.user.is_game == 2) {
        glGame.panel.showDialog("", "您的账号数据异常，暂时禁止进入游戏，如有疑问，请联系客服！", function () {
          glGame.panel.showService();
        }, function () {}, "我知道了", "联系客服");
        return;
      }

      if (_this2.gameConfig[level].EntranceRestrictions > glGame.user.get("coin")) {
        console.log("这是当前的房间限制", _this2.gameConfig);
        var string = " <color=#99C7FF>\u60A8\u7684\u91D1\u5E01\u4E0D\u8DB3\uFF0C\u8BE5\u623F\u95F4\u9700\u8981</c> <color=#ff0000> ".concat(_this2.getFloat(_this2.gameConfig[level].EntranceRestrictions), "  </c><color=#99C7FF>\u91D1\u5E01\u624D\u53EF\u4E0B\u6CE8\uFF0C\u662F\u5426\u9A6C\u4E0A\u524D\u5F80\u5145\u503C\uFF1F</c>");
        glGame.panel.showDialog("", string, function () {
          glGame.panel.showShop(100);
        }, function () {}, "取消", "充值");
        return;
      }

      glGame.panel.showJuHua();

      _this2.node.runAction(cc.sequence(cc.delayTime(15), cc.callFunc(function () {
        glGame.panel.closeJuHua();
      }))); // TODO
      // reqGoldRoomVerify为旧的进入房间方法，需要先请求验证，再进入房间
      // setGoldRoomInfo 新的进入房间方法，无需验证，设置游戏类型以及房间信息后，直接进入房间
      // if (glGame.enterRoomVerification) {
      //     glGame.room.reqGoldRoomVerify(gameID, level);
      // } else {
      //     glGame.room.setGoldRoomInfo(gameID, level);
      // }


      glGame.room.setGoldRoomInfo(gameID, level);
    });
  },
  getFloat: function getFloat(value) {
    return Number(value).div(100);
  },

  /**
   * 检查玩家金币是否足够
   * @returns {boolean}
   */
  checkGold: function checkGold(coin, minCion) {
    console.log("金币检测", coin, minCion);

    if (parseInt(coin) < parseInt(minCion)) {
      glGame.panel.showDialog(glGame.i18n.t("USER.GOLDLACK.TITLE"), glGame.i18n.t("USER.GOLDLACK.CONTENT"), function () {
        glGame.panel.showPanelByName("shop");
      }, null);
      return false;
    }

    return true;
  },
  goldOnlineNum: function goldOnlineNum() {},
  onGameConfig: function onGameConfig(msg) {
    this.gameConfig = msg;
    this.initUI();
  },
  initUI: function initUI() {
    this.node.active = true;
    var configure = this.gameConfig;
    var count = this.level.length;

    for (var i = 1; i < 4; i++) {
      this.level[i].getChildByName("dizhulaout").getChildByName('dizhu_numbig').getComponent(cc.Label).string = "".concat(this.cutFloat(configure[i].SmallBaseChips), "/").concat(this.cutFloat(configure[i].BaseChips));
      this.level[i].getChildByName("zhunrulayout").getChildByName("zhunru_num").getComponent(cc.Label).string = this.cutFloat(configure[i].EntranceRestrictions);
    }
  },
  RootNodeShow: function RootNodeShow() {
    this.node.active = true;
    this.registerEvent();
    this.reqEnterArea();
  },
  RootNodeHide: function RootNodeHide() {
    this.node.active = false;
    this.unregisterEvent();
  },
  cutFloat: function cutFloat(value) {
    return Number(value).div(100).toString();
  },
  showUserInfo: function showUserInfo() {
    glGame.panel.showRemoteImage(this.Playerhead, glGame.user.get("headURL"));
  },
  updateuserInfo: function updateuserInfo() {
    var coin = glGame.user.get("coin");
    this.goldCount.string = glGame.user.GoldTemp(coin);
  },
  setGameId: function setGameId(gameid) {
    this.gameid = gameid;
  },
  updateBgInfo: function updateBgInfo() {},
  click_userinfo: function click_userinfo() {
    glGame.panel.showPanelByName("userinfo");
  },
  click_addgold: function click_addgold() {
    glGame.panel.showShop(30);
  },
  click_back: function click_back() {
    glGame.readyroom.reqExitArea();
    this.remove();
  },
  click_help: function click_help() {
    glGame.panel.showPanel(this.rulePrefab).zIndex = 30;
  },
  click_record: function click_record() {
    glGame.panel.showPanel(this.recordPrefab).zIndex = 30;
  },
  set: function set(key, value) {
    this[key] = value;
  },
  get: function get(key) {
    return this[key];
  },
  OnDestroy: function OnDestroy() {
    glGame.emitter.off(MESSAGE.UI.ROOM_ENTER_SHOW, this);
    glGame.emitter.off(MESSAGE.UI.ROOM_ENTER_HIDE, this);
    glGame.emitter.off("nodeRemove", this);
    glGame.emitter.off("updateUserData", this);
    this.unregisterEvent();
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcbW9kdWxlc1xccGxhemFcXHNjcmlwdFxccHJlZmFiXFxlbnRlclJvb21cXGR6cGtlbnRyeS5qcyJdLCJuYW1lcyI6WyJnbEdhbWUiLCJiYXNlY2xhc3MiLCJleHRlbmQiLCJwcm9wZXJ0aWVzIiwiZ29sZENvdW50IiwiY2MiLCJMYWJlbCIsImxldmVsIiwidHlwZSIsIk5vZGUiLCJydWxlUHJlZmFiIiwiUHJlZmFiIiwicmVjb3JkUHJlZmFiIiwiYnV0dG9uTGlzdCIsInNjcm9sbFZpZXciLCJTY3JvbGxWaWV3IiwiQkdNIiwiQXVkaW9DbGlwIiwib25Mb2FkIiwiZ2FtZWlkIiwibm9kZSIsInpJbmRleCIsImVtaXR0ZXIiLCJvbiIsIk1FU1NBR0UiLCJVSSIsIlJPT01fRU5URVJfU0hPVyIsIlJvb3ROb2RlU2hvdyIsIlJPT01fRU5URVJfSElERSIsIlJvb3ROb2RlSGlkZSIsImNsaWNrX2JhY2siLCJ1cGRhdGV1c2VySW5mbyIsInJlZ2lzdGVyRXZlbnQiLCJyZXFFbnRlckFyZWEiLCJvbGRfd2lkdGgiLCJ3aWR0aCIsImdldENvbXBvbmVudCIsIldpZGdldCIsInVwZGF0ZUFsaWdubWVudCIsIm5ld193aWR0aCIsImNvbnNvbGUiLCJsb2ciLCJzcGFjaW5nX3giLCJzdGFydCIsInN0YXJ0TW92ZSIsImNvbnRlbnQiLCJnZXRDaGlsZEJ5TmFtZSIsIm9wYWNpdHkiLCJlbmFibGVkIiwiTGF5b3V0IiwicG9zTGlzdCIsImluZGV4IiwiaSIsImxlbmd0aCIsIml0ZW0iLCJwdXNoIiwidjIiLCJwb3NpdGlvbiIsIngiLCJ5IiwiTWF0aCIsInJhbmRvbSIsInN0b3BBbGxBY3Rpb25zIiwidCIsInJ1bkFjdGlvbiIsInNlcXVlbmNlIiwiZGVsYXlUaW1lIiwibW92ZVRvIiwiY2FsbEZ1bmMiLCJnYW1lX2xvZ28iLCJnbzIiLCJiYWNrMiIsInNjcm9sbExlZnRDYiIsInNjcm9sbFJpZ3RoQ2IiLCJnb2xkT25saW5lTnVtIiwib25HYW1lQ29uZmlnIiwidW5yZWdpc3RlckV2ZW50Iiwib2ZmIiwiYWN0aXZlIiwiZ2FtZUlEIiwic2NlbmV0YWciLCJEWlBLIiwicmVhZHlyb29tIiwib25DbGljayIsIm5hbWUiLCJjbGlja19oZWxwIiwiY2xpY2tfcmVjb3JkIiwiY2xpY2tfYWRkZ29sZCIsImNsaWNrX3VzZXJpbmZvIiwiZW50ZXJHYW1lIiwiZXhlY3V0aW9uU2Nyb2xsVG8iLCJlcnJvciIsInNjcm9sbFRvTGVmdCIsInNjcm9sbFRvUmlnaHQiLCJyb29tIiwicmVxTXlHYW1lU3RhdGUiLCJ0aGVuIiwiZ2FtZUNvbmZpZyIsInBhbmVsIiwic2hvd01zZ0JveCIsInVzZXIiLCJpc1RvdXJpc3QiLCJzaG93UmVnaXN0ZXJlZEdpZnQiLCJzdXNwaWNpb3VzIiwiZ2FtZSIsImlzX2dhbWUiLCJzaG93RGlhbG9nIiwic2hvd1NlcnZpY2UiLCJFbnRyYW5jZVJlc3RyaWN0aW9ucyIsImdldCIsInN0cmluZyIsImdldEZsb2F0Iiwic2hvd1Nob3AiLCJzaG93SnVIdWEiLCJjbG9zZUp1SHVhIiwic2V0R29sZFJvb21JbmZvIiwidmFsdWUiLCJOdW1iZXIiLCJkaXYiLCJjaGVja0dvbGQiLCJjb2luIiwibWluQ2lvbiIsInBhcnNlSW50IiwiaTE4biIsInNob3dQYW5lbEJ5TmFtZSIsIm1zZyIsImluaXRVSSIsImNvbmZpZ3VyZSIsImNvdW50IiwiY3V0RmxvYXQiLCJTbWFsbEJhc2VDaGlwcyIsIkJhc2VDaGlwcyIsInRvU3RyaW5nIiwic2hvd1VzZXJJbmZvIiwic2hvd1JlbW90ZUltYWdlIiwiUGxheWVyaGVhZCIsIkdvbGRUZW1wIiwic2V0R2FtZUlkIiwidXBkYXRlQmdJbmZvIiwicmVxRXhpdEFyZWEiLCJyZW1vdmUiLCJzaG93UGFuZWwiLCJzZXQiLCJrZXkiLCJPbkRlc3Ryb3kiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQUEsTUFBTSxDQUFDQyxTQUFQLENBQWlCQyxNQUFqQixDQUF3QjtBQUNwQkMsRUFBQUEsVUFBVSxF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LFlBQTVCLEVBQTBDUyxNQUExQyxHQUFtRCxFQUFuRDtBQUNILEdBalFtQjtBQW1RcEJ5SCxFQUFBQSxHQW5Rb0IsZUFtUWhCQyxHQW5RZ0IsRUFtUVgzQixLQW5RVyxFQW1RSjtBQUNaLFNBQUsyQixHQUFMLElBQVkzQixLQUFaO0FBQ0gsR0FyUW1CO0FBc1FwQlAsRUFBQUEsR0F0UW9CLGVBc1FoQmtDLEdBdFFnQixFQXNRWDtBQUNMLFdBQU8sS0FBS0EsR0FBTCxDQUFQO0FBQ0gsR0F4UW1CO0FBeVFwQkMsRUFBQUEsU0F6UW9CLHVCQXlRUjtBQUNSaEosSUFBQUEsTUFBTSxDQUFDc0IsT0FBUCxDQUFldUQsR0FBZixDQUFtQnJELE9BQU8sQ0FBQ0MsRUFBUixDQUFXQyxlQUE5QixFQUE4QyxJQUE5QztBQUNBMUIsSUFBQUEsTUFBTSxDQUFDc0IsT0FBUCxDQUFldUQsR0FBZixDQUFtQnJELE9BQU8sQ0FBQ0MsRUFBUixDQUFXRyxlQUE5QixFQUE4QyxJQUE5QztBQUNBNUIsSUFBQUEsTUFBTSxDQUFDc0IsT0FBUCxDQUFldUQsR0FBZixDQUFtQixZQUFuQixFQUFpQyxJQUFqQztBQUNBN0UsSUFBQUEsTUFBTSxDQUFDc0IsT0FBUCxDQUFldUQsR0FBZixDQUFtQixnQkFBbkIsRUFBb0MsSUFBcEM7QUFDQSxTQUFLRCxlQUFMO0FBQ0g7QUEvUW1CLENBQXhCIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvL+W+t+W3nuaJkeWFiyDlhaXlj6NcclxuZ2xHYW1lLmJhc2VjbGFzcy5leHRlbmQoe1xyXG4gICAgcHJvcGVydGllczoge1xyXG4gICAgICAgIGdvbGRDb3VudDogY2MuTGFiZWwsXHJcbiAgICAgICAgbGV2ZWw6IHtcclxuICAgICAgICAgICAgdHlwZTogY2MuTm9kZSxcclxuICAgICAgICAgICAgZGVmYXVsdDogW11cclxuICAgICAgICB9LFxyXG4gICAgICAgIHJ1bGVQcmVmYWIgOiBjYy5QcmVmYWIsXHJcbiAgICAgICAgcmVjb3JkUHJlZmFiIDogY2MuUHJlZmFiLFxyXG4gICAgICAgIGJ1dHRvbkxpc3QgOiBbY2MuTm9kZV0sXHJcbiAgICAgICAgc2Nyb2xsVmlldzogY2MuU2Nyb2xsVmlldyxcclxuICAgICAgICBCR006IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+iDjOaZr+WjsOmfs1xyXG4gICAgICAgICAgICB0eXBlOmNjLkF1ZGlvQ2xpcCxcclxuICAgICAgICAgICAgZGVmYXVsdDpudWxsLFxyXG4gICAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgb25Mb2FkKCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZWlkID0gMDtcclxuICAgICAgICB0aGlzLm5vZGUuekluZGV4ID0gMjA7XHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIub24oTUVTU0FHRS5VSS5ST09NX0VOVEVSX1NIT1csIHRoaXMuUm9vdE5vZGVTaG93LCB0aGlzKTtcclxuICAgICAgICBnbEdhbWUuZW1pdHRlci5vbihNRVNTQUdFLlVJLlJPT01fRU5URVJfSElERSwgdGhpcy5Sb290Tm9kZUhpZGUsIHRoaXMpO1xyXG4gICAgICAgIGdsR2FtZS5lbWl0dGVyLm9uKFwibm9kZVJlbW92ZVwiLCB0aGlzLmNsaWNrX2JhY2ssIHRoaXMpO1xyXG4gICAgICAgIGdsR2FtZS5lbWl0dGVyLm9uKFwidXBkYXRlVXNlckRhdGFcIiwgdGhpcy51cGRhdGV1c2VySW5mbywgdGhpcyk7XHJcbiAgICAgICAgdGhpcy51cGRhdGV1c2VySW5mbygpO1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJFdmVudCgpO1xyXG4gICAgICAgIHRoaXMucmVxRW50ZXJBcmVhKCk7XHJcblxyXG4gICAgICAgIGxldCBvbGRfd2lkdGggPSB0aGlzLnNjcm9sbFZpZXcubm9kZS53aWR0aDtcclxuICAgICAgICB0aGlzLnNjcm9sbFZpZXcuZ2V0Q29tcG9uZW50KGNjLldpZGdldCkudXBkYXRlQWxpZ25tZW50KCk7XHJcbiAgICAgICAgbGV0IG5ld193aWR0aCA9IHRoaXMuc2Nyb2xsVmlldy5ub2RlLndpZHRoO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwib2xkX3dpZHRoPVwiLCBvbGRfd2lkdGgsIFwiLG5ld193aWR0aD1cIiwgbmV3X3dpZHRoKVxyXG4gICAgICAgIHRoaXMuc3BhY2luZ194ID0gIG5ld193aWR0aCAvIG9sZF93aWR0aDtcclxuICAgIH0sXHJcbiAgICBzdGFydCgpe1xyXG4gICAgICAgIHRoaXMuc3RhcnRNb3ZlKCk7XHJcbiAgICB9LFxyXG4gICAgLy/liqjnlLtcclxuICAgIHN0YXJ0TW92ZSgpIHtcclxuICAgICAgICBsZXQgY29udGVudCA9IHRoaXMuc2Nyb2xsVmlldy5ub2RlLmdldENoaWxkQnlOYW1lKFwidmlld1wiKS5nZXRDaGlsZEJ5TmFtZShcImNvbnRlbnRcIik7XHJcbiAgICAgICAgY29udGVudC53aWR0aCA9IGNvbnRlbnQud2lkdGggKiB0aGlzLnNwYWNpbmdfeDtcclxuICAgICAgICBjb250ZW50LmdldENvbXBvbmVudChjYy5XaWRnZXQpLnVwZGF0ZUFsaWdubWVudCgpO1xyXG4gICAgICAgIGNvbnRlbnQub3BhY2l0eSA9IDI1NTtcclxuICAgICAgICBjb250ZW50LmdldENvbXBvbmVudChjYy5XaWRnZXQpLmVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICBjb250ZW50LmdldENvbXBvbmVudChjYy5MYXlvdXQpLmVuYWJsZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgbGV0IHBvc0xpc3QgPSBbXTtcclxuICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG4gICAgICAgIGZvciAobGV0IGk9MDtpPHRoaXMuYnV0dG9uTGlzdC5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLmJ1dHRvbkxpc3RbaV07XHJcbiAgICAgICAgICAgIGl0ZW0uZ2V0Q29tcG9uZW50KGNjLldpZGdldCkudXBkYXRlQWxpZ25tZW50KCk7XHJcbiAgICAgICAgICAgIHBvc0xpc3QucHVzaChjYy52MihpdGVtLnBvc2l0aW9uLngsaXRlbS5wb3NpdGlvbi55KSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGxldCBpPTA7aTxwb3NMaXN0Lmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICBsZXQgaXRlbSA9IHRoaXMuYnV0dG9uTGlzdFtpXTtcclxuICAgICAgICAgICAgaXRlbS54ICs9IHBvc0xpc3RbcG9zTGlzdC5sZW5ndGgtMV0ueCArIChNYXRoLnJhbmRvbSgpICogMzApO1xyXG4gICAgICAgICAgICBpdGVtLnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgICAgIGxldCB0ID0gMC4xKmk7XHJcbiAgICAgICAgICAgIGl0ZW0ucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLmRlbGF5VGltZSh0KSxjYy5tb3ZlVG8oMC4yLGNjLnYyKHBvc0xpc3RbaV0ueCAtIDQwLCBwb3NMaXN0W2ldLnkpKSwgY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgICAgIGl0ZW0uc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICAgICAgICAgIGl0ZW0ucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLm1vdmVUbygwLjEsIHBvc0xpc3RbaV0pLGNjLmNhbGxGdW5jKCgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgICAgICBpZihpbmRleCA9PSA0KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudC5nZXRDb21wb25lbnQoY2MuV2lkZ2V0KS5lbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSkpO1xyXG4gICAgICAgICAgICB9KSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZ2FtZV9sb2dvID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwiQmdcIikuZ2V0Q2hpbGRCeU5hbWUoXCJnYW1lX2xvZ29tYXNrXCIpLmdldENoaWxkQnlOYW1lKFwiZ2FtZV9sb2dvXCIpO1xyXG4gICAgICAgIGdhbWVfbG9nby54ID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwicG9pbnQyXCIpLng7XHJcbiAgICAgICAgZ2FtZV9sb2dvLnkgPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJwb2ludDJcIikueTtcclxuICAgICAgICBnYW1lX2xvZ28ub3BhY2l0eSA9IDI1NTtcclxuICAgICAgICBsZXQgZ28yID0gY2MubW92ZVRvKDAuMix0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJwb2ludDNcIikucG9zaXRpb24pO1xyXG4gICAgICAgIGxldCBiYWNrMiA9IGNjLm1vdmVUbygwLjEsdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwicG9pbnQ0XCIpLnBvc2l0aW9uKTtcclxuICAgICAgICBnYW1lX2xvZ28ucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGdvMixiYWNrMikpO1xyXG4gICAgfSxcclxuICAgICAvL+S6i+S7tuebkeWQrFxyXG4gICAgIHJlZ2lzdGVyRXZlbnQoKSB7XHJcbiAgICAgICAgLy8g55uR5ZCsc2Nyb2xsVmlld+eahOa7muWKqOS6i+S7tlxyXG4gICAgICAgIHRoaXMuc2Nyb2xsVmlldy5ub2RlLm9uKFwic2Nyb2xsLXRvLWxlZnRcIiwgdGhpcy5zY3JvbGxMZWZ0Q2IsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsVmlldy5ub2RlLm9uKFwic2Nyb2xsLXRvLXJpZ2h0XCIsIHRoaXMuc2Nyb2xsUmlndGhDYiwgdGhpcyk7XHJcblxyXG4gICAgICAgIGdsR2FtZS5lbWl0dGVyLm9uKFwiZ29sZE9ubGluZU51bVwiLCB0aGlzLmdvbGRPbmxpbmVOdW0sIHRoaXMpO1xyXG4gICAgICAgIGdsR2FtZS5lbWl0dGVyLm9uKFwib25HYW1lQ29uZmlnXCIsIHRoaXMub25HYW1lQ29uZmlnLCB0aGlzKTtcclxuICAgIH0sXHJcbiAgICAvL+S6i+S7tumUgOavgVxyXG4gICAgdW5yZWdpc3RlckV2ZW50KCkge1xyXG4gICAgICAgIGdsR2FtZS5lbWl0dGVyLm9mZihcImdvbGRPbmxpbmVOdW1cIiwgdGhpcyk7XHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIub2ZmKFwib25HYW1lQ29uZmlnXCIsIHRoaXMpO1xyXG4gICAgfSxcclxuICAgIHNjcm9sbExlZnRDYihzY3JvbGxWaWV3KXtcclxuICAgICAgICAvLyBjYy5sb2coXCIqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq6Kem5pG45YiwTGVmdO+8jOWPjeW8ueWHveaVsFwiKTtcclxuICAgICAgICB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJqaWFudG91X2xcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwiamlhbnRvdV9yXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcImppYW50b3VfclwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgfSxcclxuICAgIHNjcm9sbFJpZ3RoQ2Ioc2Nyb2xsVmlldykge1xyXG4gICAgICAgIC8vIOWbnuiwg+eahOWPguaVsOaYryBTY3JvbGxWaWV3IOe7hOS7tlxyXG4gICAgICAgIC8vIGRvIHdoYXRldmVyIHlvdSB3YW50IHdpdGggc2Nyb2xsdmlld1xyXG4gICAgICAgIC8vIGNjLmxvZyhcIioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKirop6bmkbjliLBSaWd0aO+8jOWPjeW8ueWHveaVsFwiKTtcclxuICAgICAgICB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJqaWFudG91X2xcIikuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwiamlhbnRvdV9yXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcImppYW50b3VfbFwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgIH0sXHJcbiAgICByZXFFbnRlckFyZWEoKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lSUQgPSBnbEdhbWUuc2NlbmV0YWcuRFpQSztcclxuICAgICAgICBnbEdhbWUucmVhZHlyb29tLnJlcUVudGVyQXJlYShnbEdhbWUuc2NlbmV0YWcuRFpQSyk7XHJcbiAgICB9LFxyXG4gICAgb25DbGljayhuYW1lLCBub2RlKSB7XHJcbiAgICAgICAgc3dpdGNoIChuYW1lKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJidG5fYmFja1wiOiB0aGlzLmNsaWNrX2JhY2soKTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJidG5faGVscFwiOiB0aGlzLmNsaWNrX2hlbHAoKTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJidG5fcmVjb3JkXCI6IHRoaXMuY2xpY2tfcmVjb3JkKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwibXljb2luSW5mb1wiOiB0aGlzLmNsaWNrX2FkZGdvbGQoKTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJoZWFkYmdcIjogdGhpcy5jbGlja191c2VyaW5mbygpOyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImJ0bl9jaG9uZ3poaVwiOiB0aGlzLmNsaWNrX2FkZGdvbGQoKTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJwcmltYXJ5XCI6IHRoaXMuZW50ZXJHYW1lKDk5KTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJpbnRlcm1lZGlhdGVcIjogdGhpcy5lbnRlckdhbWUoMSk7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwic2VuaW9yXCI6IHRoaXMuZW50ZXJHYW1lKDIpOyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInR1aGFvXCI6IHRoaXMuZW50ZXJHYW1lKDMpOyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInN1cHJlbWFjeVwiOiB0aGlzLmVudGVyR2FtZSg0KTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ2b2x2b1wiOiB0aGlzLmVudGVyR2FtZSg1KTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJqaWFudG91X2xcIjpcclxuICAgICAgICAgICAgY2FzZSBcImppYW50b3VfclwiOlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLngrnlh7vkuobmjInpkq5cIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV4ZWN1dGlvblNjcm9sbFRvKG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IGNvbnNvbGUuZXJyb3IoXCJubyBmaW5kIGJ1dHRvbiBuYW1lIC0+ICVzXCIsIG5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBleGVjdXRpb25TY3JvbGxUbyhuYW1lKSB7XHJcbiAgICAgICAgdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwiamlhbnRvdV9sXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcImppYW50b3VfclwiKS5hY3RpdmUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKG5hbWUgPT0gXCJqaWFudG91X2xcIikge1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJqaWFudG91X3JcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGxWaWV3LnNjcm9sbFRvTGVmdCgwLjEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcImppYW50b3VfbFwiKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbFZpZXcuc2Nyb2xsVG9SaWdodCgwLjEpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBlbnRlckdhbWUobGV2ZWwpIHtcclxuICAgICAgICBnbEdhbWUucm9vbS5yZXFNeUdhbWVTdGF0ZSh0aGlzLmdhbWVJRCwgbGV2ZWwpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgZ2FtZUlEID0gdGhpcy5nYW1lSUQ7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdhbWVDb25maWdbbGV2ZWxdID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGdsR2FtZS5wYW5lbC5zaG93TXNnQm94KCfmj5DnpLonLCAn6K+l5oi/6Ze05bCa5pyq5byA5pS+77yM6K+35bCd6K+V5YW25LuW5oi/6Ze044CCJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGdsR2FtZS51c2VyLmlzVG91cmlzdCgpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGV2ZWwgIT0gOTkpIHtcclxuICAgICAgICAgICAgICAgICAgICBnbEdhbWUucGFuZWwuc2hvd1JlZ2lzdGVyZWRHaWZ0KHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKChnbEdhbWUudXNlci5zdXNwaWNpb3VzID09IDEgJiZnbEdhbWUudXNlci5nYW1lID09IDIgKSB8fCBnbEdhbWUudXNlci5pc19nYW1lID09IDIgKXtcclxuICAgICAgICAgICAgICAgIGdsR2FtZS5wYW5lbC5zaG93RGlhbG9nKFwiXCIsIFwi5oKo55qE6LSm5Y+35pWw5o2u5byC5bi477yM5pqC5pe256aB5q2i6L+b5YWl5ri45oiP77yM5aaC5pyJ55aR6Zeu77yM6K+36IGU57O75a6i5pyN77yBXCIsICgpID0+IHsgZ2xHYW1lLnBhbmVsLnNob3dTZXJ2aWNlKCkgfSwgKCkgPT4ge30sIFwi5oiR55+l6YGT5LqGXCIsIFwi6IGU57O75a6i5pyNXCIpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZUNvbmZpZ1tsZXZlbF0uRW50cmFuY2VSZXN0cmljdGlvbnMgPiBnbEdhbWUudXNlci5nZXQoXCJjb2luXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIui/meaYr+W9k+WJjeeahOaIv+mXtOmZkOWItlwiLCB0aGlzLmdhbWVDb25maWcpXHJcbiAgICAgICAgICAgICAgICBsZXQgc3RyaW5nID0gYCA8Y29sb3I9Izk5QzdGRj7mgqjnmoTph5HluIHkuI3otrPvvIzor6XmiL/pl7TpnIDopoE8L2M+IDxjb2xvcj0jZmYwMDAwPiAke3RoaXMuZ2V0RmxvYXQodGhpcy5nYW1lQ29uZmlnW2xldmVsXS5FbnRyYW5jZVJlc3RyaWN0aW9ucyl9ICA8L2M+PGNvbG9yPSM5OUM3RkY+6YeR5biB5omN5Y+v5LiL5rOo77yM5piv5ZCm6ams5LiK5YmN5b6A5YWF5YC877yfPC9jPmBcclxuICAgICAgICAgICAgICAgIGdsR2FtZS5wYW5lbC5zaG93RGlhbG9nKFwiXCIsIHN0cmluZywgKCkgPT4geyBnbEdhbWUucGFuZWwuc2hvd1Nob3AoMTAwKSB9LCAoKSA9PiB7IH0sIFwi5Y+W5raIXCIsIFwi5YWF5YC8XCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZ2xHYW1lLnBhbmVsLnNob3dKdUh1YSgpO1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKFxyXG4gICAgICAgICAgICAgICAgY2MuZGVsYXlUaW1lKDE1KSxcclxuICAgICAgICAgICAgICAgIGNjLmNhbGxGdW5jKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBnbEdhbWUucGFuZWwuY2xvc2VKdUh1YSgpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgKSlcclxuICAgICAgICAgICAgLy8gVE9ET1xyXG4gICAgICAgICAgICAvLyByZXFHb2xkUm9vbVZlcmlmeeS4uuaXp+eahOi/m+WFpeaIv+mXtOaWueazle+8jOmcgOimgeWFiOivt+axgumqjOivge+8jOWGjei/m+WFpeaIv+mXtFxyXG4gICAgICAgICAgICAvLyBzZXRHb2xkUm9vbUluZm8g5paw55qE6L+b5YWl5oi/6Ze05pa55rOV77yM5peg6ZyA6aqM6K+B77yM6K6+572u5ri45oiP57G75Z6L5Lul5Y+K5oi/6Ze05L+h5oGv5ZCO77yM55u05o6l6L+b5YWl5oi/6Ze0XHJcbiAgICAgICAgICAgIC8vIGlmIChnbEdhbWUuZW50ZXJSb29tVmVyaWZpY2F0aW9uKSB7XHJcbiAgICAgICAgICAgIC8vICAgICBnbEdhbWUucm9vbS5yZXFHb2xkUm9vbVZlcmlmeShnYW1lSUQsIGxldmVsKTtcclxuICAgICAgICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gICAgIGdsR2FtZS5yb29tLnNldEdvbGRSb29tSW5mbyhnYW1lSUQsIGxldmVsKTtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICBnbEdhbWUucm9vbS5zZXRHb2xkUm9vbUluZm8oZ2FtZUlELCBsZXZlbCk7XHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcbiAgICBnZXRGbG9hdCh2YWx1ZSl7XHJcbiAgICAgICAgcmV0dXJuIE51bWJlcih2YWx1ZSkuZGl2KDEwMCk7XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiDmo4Dmn6Xnjqnlrrbph5HluIHmmK/lkKbotrPlpJ9cclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAgICovXHJcbiAgICBjaGVja0dvbGQoY29pbiwgbWluQ2lvbikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi6YeR5biB5qOA5rWLXCIsIGNvaW4sIG1pbkNpb24pO1xyXG4gICAgICAgIGlmIChwYXJzZUludChjb2luKSA8IHBhcnNlSW50KG1pbkNpb24pKSB7XHJcbiAgICAgICAgICAgIGdsR2FtZS5wYW5lbC5zaG93RGlhbG9nKGdsR2FtZS5pMThuLnQoXCJVU0VSLkdPTERMQUNLLlRJVExFXCIpLCBnbEdhbWUuaTE4bi50KFwiVVNFUi5HT0xETEFDSy5DT05URU5UXCIpLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBnbEdhbWUucGFuZWwuc2hvd1BhbmVsQnlOYW1lKFwic2hvcFwiKTtcclxuICAgICAgICAgICAgfSwgbnVsbCk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9LFxyXG4gICAgZ29sZE9ubGluZU51bSgpe1xyXG5cclxuICAgIH0sXHJcbiAgICBvbkdhbWVDb25maWcobXNnKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lQ29uZmlnID0gbXNnO1xyXG4gICAgICAgIHRoaXMuaW5pdFVJKCk7XHJcbiAgICB9LFxyXG4gICAgaW5pdFVJKCkge1xyXG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIGxldCBjb25maWd1cmUgPSB0aGlzLmdhbWVDb25maWc7XHJcbiAgICAgICAgbGV0IGNvdW50ID0gdGhpcy5sZXZlbC5sZW5ndGg7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCA0OyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5sZXZlbFtpXS5nZXRDaGlsZEJ5TmFtZShcImRpemh1bGFvdXRcIikuZ2V0Q2hpbGRCeU5hbWUoJ2Rpemh1X251bWJpZycpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gYCR7dGhpcy5jdXRGbG9hdChjb25maWd1cmVbaV0uU21hbGxCYXNlQ2hpcHMpfS8ke3RoaXMuY3V0RmxvYXQoY29uZmlndXJlW2ldLkJhc2VDaGlwcyl9YFxyXG4gICAgICAgICAgICB0aGlzLmxldmVsW2ldLmdldENoaWxkQnlOYW1lKFwiemh1bnJ1bGF5b3V0XCIpLmdldENoaWxkQnlOYW1lKFwiemh1bnJ1X251bVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IHRoaXMuY3V0RmxvYXQoY29uZmlndXJlW2ldLkVudHJhbmNlUmVzdHJpY3Rpb25zKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIFJvb3ROb2RlU2hvdygpe1xyXG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJFdmVudCgpO1xyXG4gICAgICAgIHRoaXMucmVxRW50ZXJBcmVhKCk7XHJcbiAgICB9LFxyXG4gICAgUm9vdE5vZGVIaWRlKCl7XHJcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudW5yZWdpc3RlckV2ZW50KCk7XHJcbiAgICB9LFxyXG4gICAgY3V0RmxvYXQodmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gKE51bWJlcih2YWx1ZSkuZGl2KDEwMCkpLnRvU3RyaW5nKCk7XHJcbiAgICB9LFxyXG4gICAgc2hvd1VzZXJJbmZvKCkge1xyXG4gICAgICAgIGdsR2FtZS5wYW5lbC5zaG93UmVtb3RlSW1hZ2UodGhpcy5QbGF5ZXJoZWFkLCBnbEdhbWUudXNlci5nZXQoXCJoZWFkVVJMXCIpKTtcclxuICAgIH0sXHJcbiAgICB1cGRhdGV1c2VySW5mbygpIHtcclxuICAgICAgICBsZXQgY29pbiA9IGdsR2FtZS51c2VyLmdldChcImNvaW5cIilcclxuICAgICAgICB0aGlzLmdvbGRDb3VudC5zdHJpbmcgPSBnbEdhbWUudXNlci5Hb2xkVGVtcChjb2luKTtcclxuICAgIH0sXHJcbiAgICBzZXRHYW1lSWQoZ2FtZWlkKSB7XHJcbiAgICAgICAgdGhpcy5nYW1laWQgPSBnYW1laWQ7XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlQmdJbmZvKCkge1xyXG4gICAgICAgXHJcbiAgICB9LFxyXG4gICAgY2xpY2tfdXNlcmluZm8oKSB7XHJcbiAgICAgICAgZ2xHYW1lLnBhbmVsLnNob3dQYW5lbEJ5TmFtZShcInVzZXJpbmZvXCIpO1xyXG4gICAgfSxcclxuICAgIGNsaWNrX2FkZGdvbGQoKSB7XHJcbiAgICAgICAgZ2xHYW1lLnBhbmVsLnNob3dTaG9wKDMwKTtcclxuICAgIH0sXHJcbiAgICBjbGlja19iYWNrKCkge1xyXG4gICAgICAgIGdsR2FtZS5yZWFkeXJvb20ucmVxRXhpdEFyZWEoKTtcclxuICAgICAgICB0aGlzLnJlbW92ZSgpO1xyXG4gICAgfSxcclxuICAgIGNsaWNrX2hlbHAoKSB7XHJcbiAgICAgICAgZ2xHYW1lLnBhbmVsLnNob3dQYW5lbCh0aGlzLnJ1bGVQcmVmYWIpLnpJbmRleCA9IDMwO1xyXG4gICAgfSxcclxuICAgIGNsaWNrX3JlY29yZCgpIHtcclxuICAgICAgICBnbEdhbWUucGFuZWwuc2hvd1BhbmVsKHRoaXMucmVjb3JkUHJlZmFiKS56SW5kZXggPSAzMDtcclxuICAgIH0sXHJcblxyXG4gICAgc2V0KGtleSwgdmFsdWUpIHtcclxuICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZTtcclxuICAgIH0sXHJcbiAgICBnZXQoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNba2V5XTtcclxuICAgIH0sXHJcbiAgICBPbkRlc3Ryb3koKSB7XHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIub2ZmKE1FU1NBR0UuVUkuUk9PTV9FTlRFUl9TSE9XLHRoaXMpO1xyXG4gICAgICAgIGdsR2FtZS5lbWl0dGVyLm9mZihNRVNTQUdFLlVJLlJPT01fRU5URVJfSElERSx0aGlzKTtcclxuICAgICAgICBnbEdhbWUuZW1pdHRlci5vZmYoXCJub2RlUmVtb3ZlXCIsIHRoaXMpO1xyXG4gICAgICAgIGdsR2FtZS5lbWl0dGVyLm9mZihcInVwZGF0ZVVzZXJEYXRhXCIsdGhpcyk7XHJcbiAgICAgICAgdGhpcy51bnJlZ2lzdGVyRXZlbnQoKTtcclxuICAgIH0sXHJcbn0pOyJdfQ==