
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/modules/plaza/script/prefab/room/record/roomRecord.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3178etbRQNNY54YlPrnn/MD', 'roomRecord');
// modules/plaza/script/prefab/room/record/roomRecord.js

"use strict";

var GAME_ITEM_NAME = "itemGame";
var GAME_STRIP_NAME = "gamestrip";
var GAME_NAME = {
  45: "rqznn"
};
glGame.baseclass.extend({
  properties: {
    //游戏分类
    nodeRoomList: cc.Node,
    nodeGameRecord: cc.Node,
    nodeRoundRecord: cc.Node,
    //游戏选择
    gameitem: cc.Node,
    gameScr: cc.Node,
    game_lab: cc.Label,
    gameContent: cc.Node,
    mask: cc.Node,
    //记录查看
    content: cc.Node,
    item: cc.Node,
    labPage: cc.Label,
    norecord: cc.Node
  },
  onLoad: function onLoad() {
    this.PageIndex = 1;
    this.pageCount = 1;
    this.gameId = 0;
    this.recordList = {};
    this.gamelist = {};
    this.selectName = "";
    this.registerEvent();
    this.reqRoomGameList();
    this.reqRoomGameRecordList();
  },
  // 注册界面监听事件
  registerEvent: function registerEvent() {
    glGame.emitter.on("openRoomList", this.openRoomList, this);
    glGame.emitter.on("openGameRecord", this.openGameRecord, this);
    glGame.emitter.on("openRoomRound", this.openRoomRound, this);
  },
  // 销毁界面监听事件
  unRegisterEvent: function unRegisterEvent() {
    glGame.emitter.off("openRoomList", this);
    glGame.emitter.off("openGameRecord", this);
    glGame.emitter.off("openRoomRound", this);
  },
  OnDestroy: function OnDestroy() {
    this.unRegisterEvent();
  },
  openRoomList: function openRoomList() {
    this.nodeRoomList.active = true;
    this.nodeGameRecord.active = false;
    var count = this.nodeGameRecord.childrenCount;

    for (var i = 0; i < count; i++) {
      this.nodeGameRecord.children[i].active = false;
    }
  },
  openGameRecord: function openGameRecord() {
    this.nodeGameRecord.active = true;
    this.nodeRoundRecord.active = false;
    var count = this.nodeRoundRecord.childrenCount;

    for (var i = 0; i < count; i++) {
      this.nodeRoundRecord.children[i].active = false;
    }
  },
  openRoomRound: function openRoomRound(list) {
    var _this = this;

    this.nodeGameRecord.active = false;
    this.nodeRoundRecord.active = true;
    var string = this.selectName.substring(GAME_STRIP_NAME.length);
    var data = this.recordList[this.gameId][this.PageIndex][Number(string)];
    var panelName = "".concat(GAME_NAME[data.gameId], "RoomRound");

    if (this.nodeRoundRecord.getChildByName(panelName)) {
      this.nodeRoundRecord.getChildByName(panelName).active = true;
      var panelData = this.nodeRoundRecord.getChildByName(panelName);
      var script = panelData.getComponent(panelData.name);
      script.initData(data, list);
      return;
    }

    glGame.panel.getPanelByName(panelName).then(function (panelData) {
      panelData.parent = _this.nodeRoundRecord;
      var script = panelData.getComponent(panelData.name);
      script.initData(data, list);
    });
  },
  onClick: function onClick(name, node) {
    switch (name) {
      case "btn_close":
        this.remove();
        break;

      case "btn_selectType":
        this.selectGame_cb();
        break;

      case "mask":
        this.mask_cb();
        break;

      case "btn_lastPage":
        this.lastPage_cb();
        break;

      case "btn_nextPage":
        this.nextPage_cb();
        break;

      default:
        if (name.indexOf(GAME_ITEM_NAME) > -1) return this.click_itemGame(name);
        if (name.indexOf(GAME_STRIP_NAME) > -1) return this.click_gameStrip(name);
        break;
    }
  },
  lastPage_cb: function lastPage_cb() {
    if (this.PageIndex == 1 || this.PageIndex == 0) return glGame.panel.showTip("已经是第一页了！");
    this.PageIndex--;
    this.reqRoomGameRecordList();
  },
  nextPage_cb: function nextPage_cb() {
    if (this.PageIndex >= this.pageCount || this.PageIndex == 0) return glGame.panel.showTip("已经是最后一页了！");
    this.PageIndex++;
    this.reqRoomGameRecordList();
  },
  click_itemGame: function click_itemGame(name) {
    var string = name.substring(GAME_ITEM_NAME.length);
    this.PageIndex = 1;
    this.game_lab.string = string == "All" ? "全部" : this.gamelist[string];
    this.gameScr.active = this.mask.active = false;
    this.gameId = string == "All" ? 0 : Number(string);
    this.reqRoomGameRecordList();
  },
  click_gameStrip: function click_gameStrip(name) {
    var _this2 = this;

    this.selectName = name;
    var string = name.substring(GAME_STRIP_NAME.length);
    this.nodeRoomList.active = false;
    this.nodeGameRecord.active = true;
    var data = this.recordList[this.gameId][this.PageIndex][Number(string)];
    var panelName = "".concat(GAME_NAME[data.gameId], "GameRecord");

    if (this.nodeGameRecord.getChildByName(panelName)) {
      this.nodeGameRecord.getChildByName(panelName).active = true;
      var panelData = this.nodeGameRecord.getChildByName(panelName);
      var script = panelData.getComponent(panelData.name);
      script.initData(data);
      return;
    }

    glGame.panel.getPanelByName(panelName).then(function (panelData) {
      panelData.parent = _this2.nodeGameRecord;
      var script = panelData.getComponent(panelData.name);
      script.initData(data);
    });
  },
  selectGame_cb: function selectGame_cb() {
    this.gameScr.active = !this.gameScr.active;
    if (this.gameScr.active) this.mask.active = true;
  },
  mask_cb: function mask_cb() {
    this.gameScr.active = this.mask.active = false;
  },
  reqRoomGameRecordList: function reqRoomGameRecordList() {
    var _this3 = this;

    var msg = {};
    msg.page = this.PageIndex;
    msg.pageSize = 8;
    if (this.gameId != 0) msg.gameId = this.gameId;

    if (this.recordList[this.gameId] && this.recordList[this.gameId][this.PageIndex]) {
      this.initRecordUI(this.recordList[this.gameId][this.PageIndex]);
    } else {
      glGame.gameNet.send_msg('http.ReqRoomGameRecordList', msg, function (route, data) {
        var result = data.result;
        _this3.pageCount = result.totalPage;
        _this3.recordList[_this3.gameId] ? null : _this3.recordList[_this3.gameId] = {};
        _this3.recordList[_this3.gameId][_this3.PageIndex] = result.data;

        _this3.initRecordUI(result.data);
      });
    }
  },
  reqRoomGameList: function reqRoomGameList() {
    var _this4 = this;

    glGame.gameNet.send_msg('http.ReqRoomGameList', {}, function (route, data) {
      _this4.gamelist = data.result;

      _this4.initgameItemUI();
    });
  },
  //初始化游戏列表
  initgameItemUI: function initgameItemUI() {
    var gameItem = cc.instantiate(this.gameitem);
    gameItem.name = "".concat(GAME_ITEM_NAME, "All");
    gameItem.getChildByName("label").getComponent(cc.Label).string = '全部';
    gameItem.parent = this.gameContent;
    gameItem.active = true;

    for (var gameid in this.gamelist) {
      if (!this.gamelist[gameid]) continue;

      var _gameItem = cc.instantiate(this.gameitem);

      _gameItem.name = "".concat(GAME_ITEM_NAME).concat(gameid);
      _gameItem.getChildByName("label").getComponent(cc.Label).string = "".concat(this.gamelist[gameid]);
      _gameItem.parent = this.gameContent;
      _gameItem.active = true;
    }

    var string = this.gameContent.children[0].name.substring(8);
    this.gameId = string == "All" ? 0 : Number(string);
    this.game_lab.string = this.gameId == 0 ? "\u5168\u90E8" : "".concat(this.gamelist[string]);
  },
  hiadShowNode: function hiadShowNode(isBool) {
    this.nodeRoomList.getChildByName("btn_lastPage").active = isBool;
    this.nodeRoomList.getChildByName("btn_nextPage").active = isBool;
    this.nodeRoomList.getChildByName("pageIndex").active = isBool;
    this.nodeRoomList.getChildByName("downtips").active = isBool;
  },
  //渲染牌局记录
  initRecordUI: function initRecordUI(list) {
    this.content.removeAllChildren(); // if (list.length == 0) {
    //     this.labPage.string = '第0/0页';
    //     return;
    // }

    var count = list.length;

    if (count == 0) {
      this.norecord.active = true;
      return;
    }

    this.hiadShowNode(count > 0);
    this.labPage.string = "\u7B2C".concat(this.PageIndex, "/").concat(this.pageCount, "\u9875");

    for (var i = 0; i < list.length; i++) {
      var node = cc.instantiate(this.item);
      node.name = "".concat(GAME_STRIP_NAME).concat(i);
      node.getChildByName("bg").active = i % 2 != 0;
      node.parent = this.content;
      node.active = true;
      node.getChildByName("number").getComponent(cc.Label).string = list[i].summaryId;
      var timeStamp = new Date(list[i].createTime);
      var strTime = "".concat(timeStamp.getFullYear(), "/").concat(timeStamp.getMonth() + 1 >= 10 ? timeStamp.getMonth() + 1 : "0" + (timeStamp.getMonth() + 1), "/").concat(timeStamp.getDate() >= 10 ? timeStamp.getDate() : '0' + timeStamp.getDate());
      strTime += "\uFF08".concat(glGame.tips.WEEKNAME[timeStamp.getDay()], "\uFF09");
      strTime += "".concat(timeStamp.getHours() >= 10 ? timeStamp.getHours() : "0" + timeStamp.getHours(), ":");
      strTime += "".concat(timeStamp.getMinutes() >= 10 ? timeStamp.getMinutes() : "0" + timeStamp.getMinutes(), ":");
      strTime += "".concat(timeStamp.getSeconds() >= 10 ? timeStamp.getSeconds() : "0" + timeStamp.getSeconds());
      node.getChildByName("time").getComponent(cc.Label).string = strTime;
      node.getChildByName("game").getComponent(cc.Label).string = list[i].gameName;
      node.getChildByName("round").getComponent(cc.Label).string = list[i].totalRound;
      node.getChildByName("score").getComponent(cc.Label).string = this.getFixNumber(list[i].score);
      node.getChildByName("score").color = list[i].score > 0 ? cc.color(0x48, 0xd4, 0xa8) : cc.color(0xf4, 0xc4, 0x04);
    }
  },
  getFixNumber: function getFixNumber(value) {
    var value1 = Number(value).div(10);
    value = Number(value).div(100);
    if (isNaN(value)) return;

    if (~~value === value) {
      return value.toString();
    } else if (~~value1 === value1) {
      return value.toFixed(1);
    } else {
      return value.toFixed(2);
    }
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcbW9kdWxlc1xccGxhemFcXHNjcmlwdFxccHJlZmFiXFxyb29tXFxyZWNvcmRcXHJvb21SZWNvcmQuanMiXSwibmFtZXMiOlsiR0FNRV9JVEVNX05BTUUiLCJHQU1FX1NUUklQX05BTUUiLCJHQU1FX05BTUUiLCJnbEdhbWUiLCJiYXNlY2xhc3MiLCJleHRlbmQiLCJwcm9wZXJ0aWVzIiwibm9kZVJvb21MaXN0IiwiY2MiLCJOb2RlIiwibm9kZUdhbWVSZWNvcmQiLCJub2RlUm91bmRSZWNvcmQiLCJnYW1laXRlbSIsImdhbWVTY3IiLCJnYW1lX2xhYiIsIkxhYmVsIiwiZ2FtZUNvbnRlbnQiLCJtYXNrIiwiY29udGVudCIsIml0ZW0iLCJsYWJQYWdlIiwibm9yZWNvcmQiLCJvbkxvYWQiLCJQYWdlSW5kZXgiLCJwYWdlQ291bnQiLCJnYW1lSWQiLCJyZWNvcmRMaXN0IiwiZ2FtZWxpc3QiLCJzZWxlY3ROYW1lIiwicmVnaXN0ZXJFdmVudCIsInJlcVJvb21HYW1lTGlzdCIsInJlcVJvb21HYW1lUmVjb3JkTGlzdCIsImVtaXR0ZXIiLCJvbiIsIm9wZW5Sb29tTGlzdCIsIm9wZW5HYW1lUmVjb3JkIiwib3BlblJvb21Sb3VuZCIsInVuUmVnaXN0ZXJFdmVudCIsIm9mZiIsIk9uRGVzdHJveSIsImFjdGl2ZSIsImNvdW50IiwiY2hpbGRyZW5Db3VudCIsImkiLCJjaGlsZHJlbiIsImxpc3QiLCJzdHJpbmciLCJzdWJzdHJpbmciLCJsZW5ndGgiLCJkYXRhIiwiTnVtYmVyIiwicGFuZWxOYW1lIiwiZ2V0Q2hpbGRCeU5hbWUiLCJwYW5lbERhdGEiLCJzY3JpcHQiLCJnZXRDb21wb25lbnQiLCJuYW1lIiwiaW5pdERhdGEiLCJwYW5lbCIsImdldFBhbmVsQnlOYW1lIiwidGhlbiIsInBhcmVudCIsIm9uQ2xpY2siLCJub2RlIiwicmVtb3ZlIiwic2VsZWN0R2FtZV9jYiIsIm1hc2tfY2IiLCJsYXN0UGFnZV9jYiIsIm5leHRQYWdlX2NiIiwiaW5kZXhPZiIsImNsaWNrX2l0ZW1HYW1lIiwiY2xpY2tfZ2FtZVN0cmlwIiwic2hvd1RpcCIsIm1zZyIsInBhZ2UiLCJwYWdlU2l6ZSIsImluaXRSZWNvcmRVSSIsImdhbWVOZXQiLCJzZW5kX21zZyIsInJvdXRlIiwicmVzdWx0IiwidG90YWxQYWdlIiwiaW5pdGdhbWVJdGVtVUkiLCJnYW1lSXRlbSIsImluc3RhbnRpYXRlIiwiZ2FtZWlkIiwiaGlhZFNob3dOb2RlIiwiaXNCb29sIiwicmVtb3ZlQWxsQ2hpbGRyZW4iLCJzdW1tYXJ5SWQiLCJ0aW1lU3RhbXAiLCJEYXRlIiwiY3JlYXRlVGltZSIsInN0clRpbWUiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsInRpcHMiLCJXRUVLTkFNRSIsImdldERheSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImdldFNlY29uZHMiLCJnYW1lTmFtZSIsInRvdGFsUm91bmQiLCJnZXRGaXhOdW1iZXIiLCJzY29yZSIsImNvbG9yIiwidmFsdWUiLCJ2YWx1ZTEiLCJkaXYiLCJpc05hTiIsInRvU3RyaW5nIiwidG9GaXhlZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFNQSxjQUFjLEdBQUcsVUFBdkI7QUFDQSxJQUFNQyxlQUFlLEdBQUcsV0FBeEI7QUFDQSxJQUFNQyxTQUFTLEdBQUc7QUFDZCxNQUFJO0FBRFUsQ0FBbEI7QUFJQUMsTUFBTSxDQUFDQyxTQUFQLENBQWlCQyxNQUFqQixDQUF3QjtBQUNwQkMsRUFBQUEsVUFBVSxFQUFFO0FBQ1I7QUFDQUMsSUFBQUEsWUFBWSxFQUFFQyxFQUFFLENBQUNDLElBRlQ7QUFHUkMsSUFBQUEsY0FBYyxFQUFFRixFQUFFLENBQUNDLElBSFg7QUFJUkUsSUFBQUEsZUFBZSxFQUFFSCxFQUFFLENBQUNDLElBSlo7QUFLUjtBQUNBRyxJQUFBQSxRQUFRLEVBQUVKLEVBQUUsQ0FBQ0MsSUFOTDtBQU9SSSxJQUFBQSxPQUFPLEVBQUVMLEVBQUUsQ0FBQ0MsSUFQSjtBQVFSSyxJQUFB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TCxLQUFLLENBQUNLLE9BQU4sQ0FBYyxDQUFkLENBQVA7QUFDSDtBQUNKO0FBclFtQixDQUF4QiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgR0FNRV9JVEVNX05BTUUgPSBcIml0ZW1HYW1lXCI7XHJcbmNvbnN0IEdBTUVfU1RSSVBfTkFNRSA9IFwiZ2FtZXN0cmlwXCI7XHJcbmNvbnN0IEdBTUVfTkFNRSA9IHtcclxuICAgIDQ1OiBcInJxem5uXCJcclxufVxyXG5cclxuZ2xHYW1lLmJhc2VjbGFzcy5leHRlbmQoe1xyXG4gICAgcHJvcGVydGllczoge1xyXG4gICAgICAgIC8v5ri45oiP5YiG57G7XHJcbiAgICAgICAgbm9kZVJvb21MaXN0OiBjYy5Ob2RlLFxyXG4gICAgICAgIG5vZGVHYW1lUmVjb3JkOiBjYy5Ob2RlLFxyXG4gICAgICAgIG5vZGVSb3VuZFJlY29yZDogY2MuTm9kZSxcclxuICAgICAgICAvL+a4uOaIj+mAieaLqVxyXG4gICAgICAgIGdhbWVpdGVtOiBjYy5Ob2RlLFxyXG4gICAgICAgIGdhbWVTY3I6IGNjLk5vZGUsXHJcbiAgICAgICAgZ2FtZV9sYWI6IGNjLkxhYmVsLFxyXG4gICAgICAgIGdhbWVDb250ZW50OiBjYy5Ob2RlLFxyXG4gICAgICAgIG1hc2s6IGNjLk5vZGUsXHJcbiAgICAgICAgLy/orrDlvZXmn6XnnItcclxuICAgICAgICBjb250ZW50OiBjYy5Ob2RlLFxyXG4gICAgICAgIGl0ZW06IGNjLk5vZGUsXHJcbiAgICAgICAgbGFiUGFnZTogY2MuTGFiZWwsXHJcblxyXG4gICAgICAgIG5vcmVjb3JkOiBjYy5Ob2RlLFxyXG4gICAgfSxcclxuICAgIG9uTG9hZCgpIHtcclxuICAgICAgICB0aGlzLlBhZ2VJbmRleCA9IDE7XHJcbiAgICAgICAgdGhpcy5wYWdlQ291bnQgPSAxO1xyXG4gICAgICAgIHRoaXMuZ2FtZUlkID0gMDtcclxuICAgICAgICB0aGlzLnJlY29yZExpc3QgPSB7fTtcclxuICAgICAgICB0aGlzLmdhbWVsaXN0ID0ge307XHJcbiAgICAgICAgdGhpcy5zZWxlY3ROYW1lID0gXCJcIjtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoKTtcclxuICAgICAgICB0aGlzLnJlcVJvb21HYW1lTGlzdCgpO1xyXG4gICAgICAgIHRoaXMucmVxUm9vbUdhbWVSZWNvcmRMaXN0KCk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIOazqOWGjOeVjOmdouebkeWQrOS6i+S7tlxyXG4gICAgcmVnaXN0ZXJFdmVudCgpIHtcclxuICAgICAgICBnbEdhbWUuZW1pdHRlci5vbihcIm9wZW5Sb29tTGlzdFwiLCB0aGlzLm9wZW5Sb29tTGlzdCwgdGhpcyk7XHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIub24oXCJvcGVuR2FtZVJlY29yZFwiLCB0aGlzLm9wZW5HYW1lUmVjb3JkLCB0aGlzKTtcclxuICAgICAgICBnbEdhbWUuZW1pdHRlci5vbihcIm9wZW5Sb29tUm91bmRcIiwgdGhpcy5vcGVuUm9vbVJvdW5kLCB0aGlzKTtcclxuICAgIH0sXHJcbiAgICAvLyDplIDmr4HnlYzpnaLnm5HlkKzkuovku7ZcclxuICAgIHVuUmVnaXN0ZXJFdmVudCgpIHtcclxuICAgICAgICBnbEdhbWUuZW1pdHRlci5vZmYoXCJvcGVuUm9vbUxpc3RcIiwgdGhpcyk7XHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIub2ZmKFwib3BlbkdhbWVSZWNvcmRcIiwgdGhpcyk7XHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIub2ZmKFwib3BlblJvb21Sb3VuZFwiLCB0aGlzKTtcclxuICAgIH0sXHJcbiAgICBPbkRlc3Ryb3koKSB7XHJcbiAgICAgICAgdGhpcy51blJlZ2lzdGVyRXZlbnQoKTtcclxuICAgIH0sXHJcblxyXG4gICAgb3BlblJvb21MaXN0KCkge1xyXG4gICAgICAgIHRoaXMubm9kZVJvb21MaXN0LmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5ub2RlR2FtZVJlY29yZC5hY3RpdmUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgbGV0IGNvdW50ID0gdGhpcy5ub2RlR2FtZVJlY29yZC5jaGlsZHJlbkNvdW50O1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKyl7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZUdhbWVSZWNvcmQuY2hpbGRyZW5baV0uYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBvcGVuR2FtZVJlY29yZCgpIHtcclxuICAgICAgICB0aGlzLm5vZGVHYW1lUmVjb3JkLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5ub2RlUm91bmRSZWNvcmQuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IGNvdW50ID0gdGhpcy5ub2RlUm91bmRSZWNvcmQuY2hpbGRyZW5Db3VudDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspe1xyXG4gICAgICAgICAgICB0aGlzLm5vZGVSb3VuZFJlY29yZC5jaGlsZHJlbltpXS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIG9wZW5Sb29tUm91bmQobGlzdCl7XHJcbiAgICAgICAgdGhpcy5ub2RlR2FtZVJlY29yZC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm5vZGVSb3VuZFJlY29yZC5hY3RpdmUgPSB0cnVlO1xyXG5cclxuICAgICAgICBsZXQgc3RyaW5nID0gdGhpcy5zZWxlY3ROYW1lLnN1YnN0cmluZyhHQU1FX1NUUklQX05BTUUubGVuZ3RoKTtcclxuICAgICAgICBsZXQgZGF0YSA9IHRoaXMucmVjb3JkTGlzdFt0aGlzLmdhbWVJZF1bdGhpcy5QYWdlSW5kZXhdW051bWJlcihzdHJpbmcpXTtcclxuXHJcbiAgICAgICAgbGV0IHBhbmVsTmFtZSA9IGAke0dBTUVfTkFNRVtkYXRhLmdhbWVJZF19Um9vbVJvdW5kYDtcclxuICAgICAgICBpZiAodGhpcy5ub2RlUm91bmRSZWNvcmQuZ2V0Q2hpbGRCeU5hbWUocGFuZWxOYW1lKSkge1xyXG4gICAgICAgICAgICB0aGlzLm5vZGVSb3VuZFJlY29yZC5nZXRDaGlsZEJ5TmFtZShwYW5lbE5hbWUpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGxldCBwYW5lbERhdGEgPSB0aGlzLm5vZGVSb3VuZFJlY29yZC5nZXRDaGlsZEJ5TmFtZShwYW5lbE5hbWUpO1xyXG4gICAgICAgICAgICBsZXQgc2NyaXB0ID0gcGFuZWxEYXRhLmdldENvbXBvbmVudChwYW5lbERhdGEubmFtZSk7XHJcbiAgICAgICAgICAgIHNjcmlwdC5pbml0RGF0YShkYXRhLCBsaXN0KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2xHYW1lLnBhbmVsLmdldFBhbmVsQnlOYW1lKHBhbmVsTmFtZSkudGhlbihwYW5lbERhdGEgPT4ge1xyXG4gICAgICAgICAgICBwYW5lbERhdGEucGFyZW50ID0gdGhpcy5ub2RlUm91bmRSZWNvcmQ7XHJcbiAgICAgICAgICAgIGxldCBzY3JpcHQgPSBwYW5lbERhdGEuZ2V0Q29tcG9uZW50KHBhbmVsRGF0YS5uYW1lKTtcclxuICAgICAgICAgICAgc2NyaXB0LmluaXREYXRhKGRhdGEsIGxpc3QpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG5cclxuICAgIG9uQ2xpY2sobmFtZSwgbm9kZSkge1xyXG4gICAgICAgIHN3aXRjaCAobmFtZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiYnRuX2Nsb3NlXCI6IHRoaXMucmVtb3ZlKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYnRuX3NlbGVjdFR5cGVcIjogdGhpcy5zZWxlY3RHYW1lX2NiKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwibWFza1wiOiB0aGlzLm1hc2tfY2IoKTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJidG5fbGFzdFBhZ2VcIjogdGhpcy5sYXN0UGFnZV9jYigpOyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImJ0bl9uZXh0UGFnZVwiOiB0aGlzLm5leHRQYWdlX2NiKCk7IGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGlmIChuYW1lLmluZGV4T2YoR0FNRV9JVEVNX05BTUUpID4gLTEpIHJldHVybiB0aGlzLmNsaWNrX2l0ZW1HYW1lKG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5hbWUuaW5kZXhPZihHQU1FX1NUUklQX05BTUUpID4gLTEpIHJldHVybiB0aGlzLmNsaWNrX2dhbWVTdHJpcChuYW1lKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBsYXN0UGFnZV9jYigpIHtcclxuICAgICAgICBpZiAodGhpcy5QYWdlSW5kZXggPT0gMSB8fCB0aGlzLlBhZ2VJbmRleCA9PSAwKSByZXR1cm4gZ2xHYW1lLnBhbmVsLnNob3dUaXAoXCLlt7Lnu4/mmK/nrKzkuIDpobXkuobvvIFcIilcclxuICAgICAgICB0aGlzLlBhZ2VJbmRleC0tO1xyXG4gICAgICAgIHRoaXMucmVxUm9vbUdhbWVSZWNvcmRMaXN0KCk7XHJcbiAgICB9LFxyXG5cclxuICAgIG5leHRQYWdlX2NiKCkge1xyXG4gICAgICAgIGlmICh0aGlzLlBhZ2VJbmRleCA+PSB0aGlzLnBhZ2VDb3VudCB8fCB0aGlzLlBhZ2VJbmRleCA9PSAwKSByZXR1cm4gZ2xHYW1lLnBhbmVsLnNob3dUaXAoXCLlt7Lnu4/mmK/mnIDlkI7kuIDpobXkuobvvIFcIilcclxuICAgICAgICB0aGlzLlBhZ2VJbmRleCsrO1xyXG4gICAgICAgIHRoaXMucmVxUm9vbUdhbWVSZWNvcmRMaXN0KCk7XHJcbiAgICB9LFxyXG5cclxuICAgIGNsaWNrX2l0ZW1HYW1lKG5hbWUpIHtcclxuICAgICAgICBsZXQgc3RyaW5nID0gbmFtZS5zdWJzdHJpbmcoR0FNRV9JVEVNX05BTUUubGVuZ3RoKTtcclxuICAgICAgICB0aGlzLlBhZ2VJbmRleCA9IDE7XHJcbiAgICAgICAgdGhpcy5nYW1lX2xhYi5zdHJpbmcgPSBzdHJpbmcgPT0gXCJBbGxcIiA/IFwi5YWo6YOoXCIgOiB0aGlzLmdhbWVsaXN0W3N0cmluZ107XHJcbiAgICAgICAgdGhpcy5nYW1lU2NyLmFjdGl2ZSA9IHRoaXMubWFzay5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmdhbWVJZCA9IHN0cmluZyA9PSBcIkFsbFwiID8gMCA6IE51bWJlcihzdHJpbmcpO1xyXG4gICAgICAgIHRoaXMucmVxUm9vbUdhbWVSZWNvcmRMaXN0KCk7XHJcbiAgICB9LFxyXG5cclxuICAgIGNsaWNrX2dhbWVTdHJpcChuYW1lKSB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3ROYW1lID0gbmFtZTtcclxuICAgICAgICBsZXQgc3RyaW5nID0gbmFtZS5zdWJzdHJpbmcoR0FNRV9TVFJJUF9OQU1FLmxlbmd0aCk7XHJcbiAgICAgICAgdGhpcy5ub2RlUm9vbUxpc3QuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ub2RlR2FtZVJlY29yZC5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5yZWNvcmRMaXN0W3RoaXMuZ2FtZUlkXVt0aGlzLlBhZ2VJbmRleF1bTnVtYmVyKHN0cmluZyldO1xyXG5cclxuICAgICAgICBsZXQgcGFuZWxOYW1lID0gYCR7R0FNRV9OQU1FW2RhdGEuZ2FtZUlkXX1HYW1lUmVjb3JkYDtcclxuICAgICAgICBpZiAodGhpcy5ub2RlR2FtZVJlY29yZC5nZXRDaGlsZEJ5TmFtZShwYW5lbE5hbWUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZUdhbWVSZWNvcmQuZ2V0Q2hpbGRCeU5hbWUocGFuZWxOYW1lKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBsZXQgcGFuZWxEYXRhID0gdGhpcy5ub2RlR2FtZVJlY29yZC5nZXRDaGlsZEJ5TmFtZShwYW5lbE5hbWUpO1xyXG4gICAgICAgICAgICBsZXQgc2NyaXB0ID0gcGFuZWxEYXRhLmdldENvbXBvbmVudChwYW5lbERhdGEubmFtZSk7XHJcbiAgICAgICAgICAgIHNjcmlwdC5pbml0RGF0YShkYXRhKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2xHYW1lLnBhbmVsLmdldFBhbmVsQnlOYW1lKHBhbmVsTmFtZSkudGhlbihwYW5lbERhdGEgPT4ge1xyXG4gICAgICAgICAgICBwYW5lbERhdGEucGFyZW50ID0gdGhpcy5ub2RlR2FtZVJlY29yZDtcclxuICAgICAgICAgICAgbGV0IHNjcmlwdCA9IHBhbmVsRGF0YS5nZXRDb21wb25lbnQocGFuZWxEYXRhLm5hbWUpO1xyXG4gICAgICAgICAgICBzY3JpcHQuaW5pdERhdGEoZGF0YSk7XHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcblxyXG5cclxuICAgIHNlbGVjdEdhbWVfY2IoKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lU2NyLmFjdGl2ZSA9ICF0aGlzLmdhbWVTY3IuYWN0aXZlO1xyXG4gICAgICAgIGlmICh0aGlzLmdhbWVTY3IuYWN0aXZlKSB0aGlzLm1hc2suYWN0aXZlID0gdHJ1ZTtcclxuICAgIH0sXHJcblxyXG4gICAgbWFza19jYigpIHtcclxuICAgICAgICB0aGlzLmdhbWVTY3IuYWN0aXZlID0gdGhpcy5tYXNrLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgfSxcclxuXHJcbiAgICByZXFSb29tR2FtZVJlY29yZExpc3QoKSB7XHJcbiAgICAgICAgbGV0IG1zZyA9IHt9O1xyXG4gICAgICAgIG1zZy5wYWdlID0gdGhpcy5QYWdlSW5kZXg7XHJcbiAgICAgICAgbXNnLnBhZ2VTaXplID0gODtcclxuICAgICAgICBpZiAodGhpcy5nYW1lSWQgIT0gMCkgbXNnLmdhbWVJZCA9IHRoaXMuZ2FtZUlkO1xyXG4gICAgICAgIGlmICh0aGlzLnJlY29yZExpc3RbdGhpcy5nYW1lSWRdICYmIHRoaXMucmVjb3JkTGlzdFt0aGlzLmdhbWVJZF1bdGhpcy5QYWdlSW5kZXhdKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdFJlY29yZFVJKHRoaXMucmVjb3JkTGlzdFt0aGlzLmdhbWVJZF1bdGhpcy5QYWdlSW5kZXhdKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBnbEdhbWUuZ2FtZU5ldC5zZW5kX21zZygnaHR0cC5SZXFSb29tR2FtZVJlY29yZExpc3QnLCBtc2csIChyb3V0ZSwgZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGRhdGEucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYWdlQ291bnQgPSByZXN1bHQudG90YWxQYWdlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvcmRMaXN0W3RoaXMuZ2FtZUlkXSA/IG51bGwgOiB0aGlzLnJlY29yZExpc3RbdGhpcy5nYW1lSWRdID0ge307XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29yZExpc3RbdGhpcy5nYW1lSWRdW3RoaXMuUGFnZUluZGV4XSA9IHJlc3VsdC5kYXRhO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0UmVjb3JkVUkocmVzdWx0LmRhdGEpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9LFxyXG5cclxuICAgIHJlcVJvb21HYW1lTGlzdCgpIHtcclxuICAgICAgICBnbEdhbWUuZ2FtZU5ldC5zZW5kX21zZygnaHR0cC5SZXFSb29tR2FtZUxpc3QnLCB7fSwgKHJvdXRlLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZWxpc3QgPSBkYXRhLnJlc3VsdDtcclxuICAgICAgICAgICAgdGhpcy5pbml0Z2FtZUl0ZW1VSSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG5cclxuXHJcbiAgICAvL+WIneWni+WMlua4uOaIj+WIl+ihqFxyXG4gICAgaW5pdGdhbWVJdGVtVUkoKSB7XHJcbiAgICAgICAgbGV0IGdhbWVJdGVtID0gY2MuaW5zdGFudGlhdGUodGhpcy5nYW1laXRlbSk7XHJcbiAgICAgICAgZ2FtZUl0ZW0ubmFtZSA9IGAke0dBTUVfSVRFTV9OQU1FfUFsbGBcclxuICAgICAgICBnYW1lSXRlbS5nZXRDaGlsZEJ5TmFtZShcImxhYmVsXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gJ+WFqOmDqCdcclxuICAgICAgICBnYW1lSXRlbS5wYXJlbnQgPSB0aGlzLmdhbWVDb250ZW50O1xyXG4gICAgICAgIGdhbWVJdGVtLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgZm9yIChsZXQgZ2FtZWlkIGluIHRoaXMuZ2FtZWxpc3QpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmdhbWVsaXN0W2dhbWVpZF0pIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICBsZXQgZ2FtZUl0ZW0gPSBjYy5pbnN0YW50aWF0ZSh0aGlzLmdhbWVpdGVtKTtcclxuICAgICAgICAgICAgZ2FtZUl0ZW0ubmFtZSA9IGAke0dBTUVfSVRFTV9OQU1FfSR7Z2FtZWlkfWBcclxuICAgICAgICAgICAgZ2FtZUl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJsYWJlbFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IGAke3RoaXMuZ2FtZWxpc3RbZ2FtZWlkXX1gO1xyXG4gICAgICAgICAgICBnYW1lSXRlbS5wYXJlbnQgPSB0aGlzLmdhbWVDb250ZW50O1xyXG4gICAgICAgICAgICBnYW1lSXRlbS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgc3RyaW5nID0gdGhpcy5nYW1lQ29udGVudC5jaGlsZHJlblswXS5uYW1lLnN1YnN0cmluZyg4KTtcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lSWQgPSBzdHJpbmcgPT0gXCJBbGxcIiA/IDAgOiBOdW1iZXIoc3RyaW5nKTtcclxuICAgICAgICB0aGlzLmdhbWVfbGFiLnN0cmluZyA9IHRoaXMuZ2FtZUlkID09IDAgPyBg5YWo6YOoYCA6IGAke3RoaXMuZ2FtZWxpc3Rbc3RyaW5nXX1gO1xyXG4gICAgfSxcclxuXHJcbiAgICBoaWFkU2hvd05vZGUoaXNCb29sKSB7XHJcbiAgICAgICAgdGhpcy5ub2RlUm9vbUxpc3QuZ2V0Q2hpbGRCeU5hbWUoXCJidG5fbGFzdFBhZ2VcIikuYWN0aXZlID0gaXNCb29sO1xyXG4gICAgICAgIHRoaXMubm9kZVJvb21MaXN0LmdldENoaWxkQnlOYW1lKFwiYnRuX25leHRQYWdlXCIpLmFjdGl2ZSA9IGlzQm9vbDtcclxuICAgICAgICB0aGlzLm5vZGVSb29tTGlzdC5nZXRDaGlsZEJ5TmFtZShcInBhZ2VJbmRleFwiKS5hY3RpdmUgPSBpc0Jvb2w7XHJcbiAgICAgICAgdGhpcy5ub2RlUm9vbUxpc3QuZ2V0Q2hpbGRCeU5hbWUoXCJkb3dudGlwc1wiKS5hY3RpdmUgPSBpc0Jvb2w7XHJcbiAgICB9LFxyXG5cclxuICAgIC8v5riy5p+T54mM5bGA6K6w5b2VXHJcbiAgICBpbml0UmVjb3JkVUkobGlzdCkge1xyXG4gICAgICAgIHRoaXMuY29udGVudC5yZW1vdmVBbGxDaGlsZHJlbigpO1xyXG4gICAgICAgIC8vIGlmIChsaXN0Lmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMubGFiUGFnZS5zdHJpbmcgPSAn56ysMC8w6aG1JztcclxuICAgICAgICAvLyAgICAgcmV0dXJuO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICBsZXQgY291bnQgPSBsaXN0Lmxlbmd0aDtcclxuICAgICAgICBpZiAoY291bnQgPT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLm5vcmVjb3JkLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5oaWFkU2hvd05vZGUoY291bnQgPiAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5sYWJQYWdlLnN0cmluZyA9IGDnrKwke3RoaXMuUGFnZUluZGV4fS8ke3RoaXMucGFnZUNvdW50femhtWA7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBub2RlID0gY2MuaW5zdGFudGlhdGUodGhpcy5pdGVtKTtcclxuICAgICAgICAgICAgbm9kZS5uYW1lID0gYCR7R0FNRV9TVFJJUF9OQU1FfSR7aX1gO1xyXG4gICAgICAgICAgICBub2RlLmdldENoaWxkQnlOYW1lKFwiYmdcIikuYWN0aXZlID0gaSAlIDIgIT0gMDtcclxuICAgICAgICAgICAgbm9kZS5wYXJlbnQgPSB0aGlzLmNvbnRlbnQ7XHJcbiAgICAgICAgICAgIG5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIG5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJudW1iZXJcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBsaXN0W2ldLnN1bW1hcnlJZDtcclxuICAgICAgICAgICAgbGV0IHRpbWVTdGFtcCA9IG5ldyBEYXRlKGxpc3RbaV0uY3JlYXRlVGltZSk7XHJcbiAgICAgICAgICAgIGxldCBzdHJUaW1lID0gYCR7dGltZVN0YW1wLmdldEZ1bGxZZWFyKCl9LyR7dGltZVN0YW1wLmdldE1vbnRoKCkgKyAxID49IDEwID8gdGltZVN0YW1wLmdldE1vbnRoKCkgKyAxIDogXCIwXCIgKyAodGltZVN0YW1wLmdldE1vbnRoKCkgKyAxKX0vJHt0aW1lU3RhbXAuZ2V0RGF0ZSgpID49IDEwID8gdGltZVN0YW1wLmdldERhdGUoKSA6ICcwJyArIHRpbWVTdGFtcC5nZXREYXRlKCl9YFxyXG4gICAgICAgICAgICBzdHJUaW1lICs9IGDvvIgke2dsR2FtZS50aXBzLldFRUtOQU1FW3RpbWVTdGFtcC5nZXREYXkoKV1977yJYFxyXG4gICAgICAgICAgICBzdHJUaW1lICs9IGAke3RpbWVTdGFtcC5nZXRIb3VycygpID49IDEwID8gdGltZVN0YW1wLmdldEhvdXJzKCkgOiBcIjBcIiArIHRpbWVTdGFtcC5nZXRIb3VycygpfTpgXHJcbiAgICAgICAgICAgIHN0clRpbWUgKz0gYCR7dGltZVN0YW1wLmdldE1pbnV0ZXMoKSA+PSAxMCA/IHRpbWVTdGFtcC5nZXRNaW51dGVzKCkgOiBcIjBcIiArIHRpbWVTdGFtcC5nZXRNaW51dGVzKCl9OmBcclxuICAgICAgICAgICAgc3RyVGltZSArPSBgJHt0aW1lU3RhbXAuZ2V0U2Vjb25kcygpID49IDEwID8gdGltZVN0YW1wLmdldFNlY29uZHMoKSA6IFwiMFwiICsgdGltZVN0YW1wLmdldFNlY29uZHMoKX1gXHJcbiAgICAgICAgICAgIG5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJ0aW1lXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gc3RyVGltZTtcclxuXHJcbiAgICAgICAgICAgIG5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJnYW1lXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gbGlzdFtpXS5nYW1lTmFtZTtcclxuICAgICAgICAgICAgbm9kZS5nZXRDaGlsZEJ5TmFtZShcInJvdW5kXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gbGlzdFtpXS50b3RhbFJvdW5kO1xyXG4gICAgICAgICAgICBub2RlLmdldENoaWxkQnlOYW1lKFwic2NvcmVcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSB0aGlzLmdldEZpeE51bWJlcihsaXN0W2ldLnNjb3JlKTtcclxuICAgICAgICAgICAgbm9kZS5nZXRDaGlsZEJ5TmFtZShcInNjb3JlXCIpLmNvbG9yID0gbGlzdFtpXS5zY29yZSA+IDAgPyBjYy5jb2xvcigweDQ4LCAweGQ0LCAweGE4KSA6IGNjLmNvbG9yKDB4ZjQsIDB4YzQsIDB4MDQpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBnZXRGaXhOdW1iZXIodmFsdWUpIHtcclxuICAgICAgICBsZXQgdmFsdWUxID0gTnVtYmVyKHZhbHVlKS5kaXYoMTApO1xyXG4gICAgICAgIHZhbHVlID0gTnVtYmVyKHZhbHVlKS5kaXYoMTAwKTtcclxuICAgICAgICBpZiAoaXNOYU4odmFsdWUpKSByZXR1cm47XHJcbiAgICAgICAgaWYgKH5+dmFsdWUgPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAofn52YWx1ZTEgPT09IHZhbHVlMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWUudG9GaXhlZCgxKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWUudG9GaXhlZCgyKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxufSk7XHJcbiJdfQ==