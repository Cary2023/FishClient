
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/modules/plaza/script/prefab/userInfo/userinfoVipGet.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'adb0c9xeSZE54BhBQgh+qX3', 'userinfoVipGet');
// modules/plaza/script/prefab/userInfo/userinfoVipGet.js

"use strict";

/**
 * 玩家个人信息界面
 */
glGame.baseclass.extend({
  properties: {
    content: cc.Node,
    item: cc.Node,
    btnGet: cc.Node,
    normalMaterial: cc.Material,
    grayMaterial: cc.Material
  },
  onLoad: function onLoad() {
    this.state_color = [new cc.Color(239, 65, 65), new cc.Color(0, 255, 54), new cc.Color(89, 110, 139)];
    this.state_txt = glGame.tips.VIPAWARD.GETSTATE;
    this.type = 2;
    this.registerEvent();
  },
  onVipInfo: function onVipInfo(data) {
    if (this.node.active == false) {
      return;
    }

    if (this.type == 2) {
      this.showWeekGift(data.vipList, data.userInfo);
    } else {
      this.showMonthGift(data.vipList, data.userInfo);
    }
  },
  // 显示周礼金
  showWeekGift: function showWeekGift(vipList, userInfo) {
    this.type = 2;
    this.userInfo = userInfo;
    var vip_color = new cc.Color(177, 136, 71);
    var other_color = new cc.Color(221, 245, 255);
    var gray_color = new cc.Color(89, 110, 139);
    var frameBg = this.node.getChildByName("frame_big");
    frameBg.getChildByName("tittle_week").active = true;
    this.btnGet.getChildByName("Background").getChildByName("tittle_week").active = true;
    this.content.destroyAllChildren();

    for (var i = 0, count = vipList.length; i < count; i++) {
      var vipInfo = vipList[i];

      if (vipInfo.id == 1) {
        continue;
      }

      var cloneItem = cc.instantiate(this.item);
      cloneItem.active = false;
      cloneItem.parent = this.content;
      cloneItem.getChildByName("bg").active = i % 2 == 0;
      cloneItem.getChildByName("img_me").active = vipInfo.id == userInfo.vipId;
      cloneItem.getChildByName("vip").getComponent(cc.Label).string = "VIP".concat(vipInfo.vipName); // vip等级

      cloneItem.getChildByName("award").getComponent(cc.Label).string = vipInfo.bonusWeekDiff / 100; // 周礼金

      cloneItem.getChildByName("allaward").getComponent(cc.Label).string = vipInfo.bonusWeek / 100; // 累计礼金

      cloneItem.getChildByName("needbet").getComponent(cc.Label).string = vipInfo.bonusWeekBetting / 100; // 打码量需求

      cloneItem.getChildByName("needcharge").getComponent(cc.Label).string = vipInfo.bonusWeekRecharge / 100; // 存款量需求

      cloneItem.getChildByName("state").getComponent(cc.Label).string = this.state_txt[vipInfo.unclaimedWeek - 1]; // 领取状态

      cloneItem.getChildByName("state").color = this.state_color[vipInfo.unclaimedWeek - 1];

      if (vipInfo.bonusWeekDiff <= 0) {
        cloneItem.getChildByName("state").getComponent(cc.Label).string = "-";
        cloneItem.getChildByName("state").color = this.state_color[2];
      }

      if (userInfo.vipId >= vipInfo.id) {
        cloneItem.getChildByName("vip").color = vip_color;
        cloneItem.getChildByName("award").color = other_color;
        cloneItem.getChildByName("allaward").color = other_color;

        if (userInfo.weekBetting >= vipInfo.bonusWeekBetting) {
          cloneItem.getChildByName("needbet").color = other_color;
        }

        if (userInfo.weekRecharge >= vipInfo.bonusWeekRecharge) {
          cloneItem.getChildByName("needcharge").color = other_color;
        }
      } else {
        cloneItem.getChildByName("vip").color = gray_color;
        cloneItem.getChildByName("award").color = gray_color;
        cloneItem.getChildByName("allaward").color = gray_color;
        cloneItem.getChildByName("needbet").color = gray_color;
        cloneItem.getChildByName("needcharge").color = gray_color;
      }

      if (i == vipList.length - 1) {
        cloneItem.getChildByName("frame_horizontal").active = false;
      }
    }

    glGame.panel.showEffectNode(this, this.content, 0.02, true);
    var infoNode = this.node.getChildByName("info");
    infoNode.getChildByName("all_bet").getComponent(cc.Label).string = this.cutFloat(userInfo.weekBetting); // 本周打码量

    infoNode.getChildByName("all_save").getComponent(cc.Label).string = this.cutFloat(userInfo.weekRecharge); // 本周存款量

    var rightNode = this.node.getChildByName("right");
    rightNode.getChildByName("cur_can_get").getComponent(cc.Label).string = this.cutFloat(userInfo.weekCanBonus); // 当前可领取

    rightNode.getChildByName("all_can_get").getComponent(cc.Label).string = this.cutFloat(userInfo.weekBonus); // 总计可领取

    rightNode.getChildByName("have_get").getComponent(cc.Label).string = this.cutFloat(userInfo.weekCurrentBonus); // 已领取

    rightNode.getChildByName("btn_get").getComponent(cc.Button).interactable = userInfo.weekIsReceive == 2;
    var btnTitle = this.btnGet.getChildByName("Background").getChildByName("tittle_week");

    if (userInfo.weekIsReceive != 2) {
      btnTitle.getComponent(cc.RenderComponent).setMaterial(0, this.grayMaterial);
    } else {
      btnTitle.getComponent(cc.RenderComponent).setMaterial(0, this.normalMaterial);
    }
  },
  // 显示月礼金
  showMonthGift: function showMonthGift(vipList, userInfo) {
    this.type = 3;
    this.userInfo = userInfo;
    var vip_color = new cc.Color(177, 136, 71);
    var other_color = new cc.Color(221, 245, 255);
    var gray_color = new cc.Color(89, 110, 139);
    var frameBg = this.node.getChildByName("frame_big");
    frameBg.getChildByName("tittle_month").active = true;
    this.btnGet.getChildByName("Background").getChildByName("tittle_month").active = true;
    var infoNode = this.node.getChildByName("info");
    infoNode.getChildByName("tittle1").getComponent(cc.Label).string = "本月打码量";
    infoNode.getChildByName("tittle2").getComponent(cc.Label).string = "本月充值量";
    this.node.getChildByName("grid").getChildByName("img_title_ylj").active = true;
    this.node.getChildByName("grid").getChildByName("img_title_zhoulijin").active = false;
    this.content.destroyAllChildren();

    for (var i = 0, count = vipList.length; i < count; i++) {
      var vipInfo = vipList[i];

      if (vipInfo.id == 1) {
        continue;
      }

      var cloneItem = cc.instantiate(this.item);
      cloneItem.active = false;
      cloneItem.parent = this.content;
      cloneItem.getChildByName("bg").active = i % 2 == 0;
      cloneItem.getChildByName("img_me").active = vipInfo.id == userInfo.vipId;
      cloneItem.getChildByName("vip").getComponent(cc.Label).string = "VIP".concat(vipInfo.vipName); // vip等级

      cloneItem.getChildByName("award").getComponent(cc.Label).string = vipInfo.bonusMonthDiff / 100; // 周礼金

      cloneItem.getChildByName("allaward").getComponent(cc.Label).string = vipInfo.bonusMonth / 100; // 累计礼金

      cloneItem.getChildByName("needbet").getComponent(cc.Label).string = vipInfo.bonusMonthBetting / 100; // 打码量需求

      cloneItem.getChildByName("needcharge").getComponent(cc.Label).string = vipInfo.bonusMonthRecharge / 100; // 存款量需求

      cloneItem.getChildByName("state").getComponent(cc.Label).string = this.state_txt[vipInfo.unclaimedMonth - 1]; // 领取状态

      cloneItem.getChildByName("state").color = this.state_color[vipInfo.unclaimedMonth - 1];

      if (vipInfo.bonusMonthDiff <= 0) {
        cloneItem.getChildByName("state").getComponent(cc.Label).string = "-";
        cloneItem.getChildByName("state").color = this.state_color[2];
      }

      if (userInfo.vipId >= vipInfo.id) {
        cloneItem.getChildByName("vip").color = vip_color;
        cloneItem.getChildByName("award").color = other_color;
        cloneItem.getChildByName("allaward").color = other_color;

        if (userInfo.monthBetting >= vipInfo.bonusMonthBetting) {
          cloneItem.getChildByName("needbet").color = other_color;
        }

        if (userInfo.monthRecharge >= vipInfo.bonusMonthRecharge) {
          cloneItem.getChildByName("needcharge").color = other_color;
        }
      } else {
        cloneItem.getChildByName("vip").color = gray_color;
        cloneItem.getChildByName("award").color = gray_color;
        cloneItem.getChildByName("allaward").color = gray_color;
        cloneItem.getChildByName("needbet").color = gray_color;
        cloneItem.getChildByName("needcharge").color = gray_color;
      }
    }

    glGame.panel.showEffectNode(this, this.content, 0.02, true); // let infoNode = this.node.getChildByName("info");

    infoNode.getChildByName("all_bet").getComponent(cc.Label).string = this.cutFloat(userInfo.monthBetting); // 本周打码量

    infoNode.getChildByName("all_save").getComponent(cc.Label).string = this.cutFloat(userInfo.monthRecharge); // 本周存款量

    var rightNode = this.node.getChildByName("right");
    rightNode.getChildByName("cur_can_get").getComponent(cc.Label).string = this.cutFloat(userInfo.monthCanBonus); // 当前可领取

    rightNode.getChildByName("all_can_get").getComponent(cc.Label).string = this.cutFloat(userInfo.monthBonus); // 总计可领取

    rightNode.getChildByName("have_get").getComponent(cc.Label).string = this.cutFloat(userInfo.monthCurrentBonus); // 已领取

    rightNode.getChildByName("btn_get").getComponent(cc.Button).interactable = userInfo.monthIsReceive == 2;
    var btnTitle = this.btnGet.getChildByName("Background").getChildByName("tittle_month");

    if (userInfo.monthIsReceive != 2) {
      btnTitle.getComponent(cc.RenderComponent).setMaterial(0, this.grayMaterial);
    } else {
      btnTitle.getComponent(cc.RenderComponent).setMaterial(0, this.normalMaterial);
    }
  },
  onClick: function onClick(name, node) {
    switch (name) {
      case "close":
        this.remove();
        break;

      case "btn_get":
        this.ReqVipReward(this.type, this.userInfo.vipId);
        break;
    }
  },
  // 注册界面监听事件
  registerEvent: function registerEvent() {
    glGame.emitter.on("notifyVipInfo", this.onVipInfo, this);
  },
  // 销毁界面监听事件
  unRegisterEvent: function unRegisterEvent() {
    glGame.emitter.off("notifyVipInfo", this);
  },
  //领取 1彩金，2周礼金，3月礼金
  ReqVipReward: function ReqVipReward(type, vipid) {
    var _this = this;

    var msg = {
      "type": type,
      "vip_id": vipid
    };
    glGame.gameNet.send_msg('http.ReqVipReward', msg, function (route, data) {
      if (data.result) {
        glGame.user.ReqRedDot();
        glGame.user.reqGetCoin();
        glGame.emitter.emit("notifyReqVipInfo");
        var strTitle = "";
        if (type == 2) strTitle = glGame.tips.VIPAWARD.WEEKAWARD;else if (type == 3) strTitle = glGame.tips.VIPAWARD.MONTHAWARD;
        glGame.panel.showAwardBox(strTitle, [{
          type: glGame.awardtype.COIN,
          value: _this.cutFloat(data.coin)
        }]);
      }
    });
  },
  //截取小数点后2位
  cutFloat: function cutFloat(value) {
    if (typeof value !== 'string' && typeof value !== 'number') return;
    return (Math.floor(parseFloat(value)) / 100).toFixed(2);
  },
  OnDestroy: function OnDestroy() {
    this.unRegisterEvent();
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcbW9kdWxlc1xccGxhemFcXHNjcmlwdFxccHJlZmFiXFx1c2VySW5mb1xcdXNlcmluZm9WaXBHZXQuanMiXSwibmFtZXMiOlsiZ2xHYW1lIiwiYmFzZWNsYXNzIiwiZXh0ZW5kIiwicHJvcGVydGllcyIsImNvbnRlbnQiLCJjYyIsIk5vZGUiLCJpdGVtIiwiYnRuR2V0Iiwibm9ybWFsTWF0ZXJpYWwiLCJNYXRlcmlhbCIsImdyYXlNYXRlcmlhbCIsIm9uTG9hZCIsInN0YXRlX2NvbG9yIiwiQ29sb3IiLCJzdGF0ZV90eHQiLCJ0aXBzIiwiVklQQVdBUkQiLCJHRVRTVEFURSIsInR5cGUiLCJyZWdpc3RlckV2ZW50Iiwib25WaXBJbmZvIiwiZGF0YSIsIm5vZGUiLCJhY3RpdmUiLCJzaG93V2Vla0dpZnQiLCJ2aXBMaXN0IiwidXNlckluZm8iLCJzaG93TW9udGhHaWZ0IiwidmlwX2NvbG9yIiwib3RoZXJfY29sb3IiLCJncmF5X2NvbG9yIiwiZnJhbWVCZyIsImdldENoaWxkQnlOYW1lIiwiZGVzdHJveUFsbENoaWxkcmVuIiwiaSIsImNvdW50IiwibGVuZ3RoIiwidmlwSW5mbyIsImlkIiwiY2xvbmVJdGVtIiwiaW5zdGFudGlhdGUiLCJwYXJlbnQiLCJ2aXBJZCIsImdldENvbXBvbmVudCIsIkxhYmVsIiwic3RyaW5nIiwidmlwTmFtZSIsImJvbnVzV2Vla0RpZmYiLCJib251c1dlZWsiLCJib251c1dlZWtCZXR0aW5nIiwiYm9udXNXZWVrUmVjaGFyZ2UiLCJ1bmNsYWltZWRXZWVrIiwiY29sb3IiLCJ3ZWVrQmV0dGluZyIsIndlZWtSZWNoYXJnZSIsInBhbmVsIiwic2hvd0VmZmVjdE5vZGUiLCJpbmZvTm9kZSIsImN1dEZsb2F0IiwicmlnaHROb2RlIiwid2Vla0NhbkJvbnVzIiwid2Vla0JvbnVzIiwid2Vla0N1cnJlbnRCb251cyIsIkJ1dHRvbiIsImludGVyYWN0YWJsZSIsIndlZWtJc1JlY2VpdmUiLCJidG5UaXRsZSIsIlJlbmRlckNvbXBvbmVudCIsInNldE1hdGVyaWFsIiwiYm9udXNNb250aERpZmYiLCJib251c01vbnRoIiwiYm9udXNNb250aEJldHRpbmciLCJib251c01vbnRoUmVjaGFyZ2UiLCJ1bmNsYWltZWRNb250aCIsIm1vbnRoQmV0dGluZyIsIm1vbnRoUmVjaGFyZ2UiLCJtb250aENhbkJvbnVzIiwibW9udGhCb251cyIsIm1vbnRoQ3VycmVudEJvbnVzIiwibW9udGhJc1JlY2VpdmUiLCJvbkNsaWNrIiwibmFtZSIsInJlbW92ZSIsIlJlcVZpcFJld2FyZCIsImVtaXR0ZXIiLCJvbiIsInVuUmVnaXN0ZXJFdmVudCIsIm9mZiIsInZpcGlkIiwibXNnIiwiZ2FtZU5ldCIsInNlbmRfbXNnIiwicm91dGUiLCJyZXN1bHQiLCJ1c2VyIiwiUmVxUmVkRG90IiwicmVxR2V0Q29pbiIsImVtaXQiLCJzdHJUaXRsZSIsIldFRUtBV0FSRCIsIk1PTlRIQVdBUkQiLCJzaG93QXdhcmRCb3giLCJhd2FyZHR5cGUiLCJDT0lOIiwidmFsdWUiLCJjb2luIiwiTWF0aCIsImZsb29yIiwicGFyc2VGbG9hdCIsInRvRml4ZWQiLCJPbkRlc3Ryb3kiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7OztBQUdBQSxNQUFNLENBQUNDLFNBQVAsQ0FBaUJDLE1BQWpCLENBQXdCO0FBQ3BCQyxFQUFBQSxVQUFVLEVBQUU7QUFDUkMsSUFBQUEsT0FBTyxFQUFFQyxFQUFFLENBQUNDLElBREo7QUFFUkMsSUFBQUEsSUFBSSxFQUFFRixFQUFFLENBQUNDLElBRkQ7QUFHUkUsSUFBQUEsTUFBTSxFQUFFSCxFQUFFLENBQUNDLElBSEg7QUFJUkcsSUFBQUEsY0FBYyxFQUFFSixFQUFFLENBQUNLLFFBSlg7QUFLUkMsSUFBQUEsWUFBWSxFQUFFTixFQUFFLENBQUNLO0FBTFQsR0FEUTtBQVNwQkUsRUFBQUEsTUFUb0Isb0JBU1g7QUFDTCxTQUFLQyxXQUFMLEdBQW1CLENBQUMsSUFBSVIsRUFBRSxDQUFDUyxLQUFQLENBQWEsR0FB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LENBQVlDLFFBQVosQ0FBcUJtRixTQUFoQyxDQUFmLEtBQ0ssSUFBSWpGLElBQUksSUFBSSxDQUFaLEVBQWVnRixRQUFRLEdBQUduRyxNQUFNLENBQUNnQixJQUFQLENBQVlDLFFBQVosQ0FBcUJvRixVQUFoQztBQUNwQnJHLFFBQUFBLE1BQU0sQ0FBQ3dELEtBQVAsQ0FBYThDLFlBQWIsQ0FBMEJILFFBQTFCLEVBQW9DLENBQUM7QUFBRWhGLFVBQUFBLElBQUksRUFBRW5CLE1BQU0sQ0FBQ3VHLFNBQVAsQ0FBaUJDLElBQXpCO0FBQStCQyxVQUFBQSxLQUFLLEVBQUUsS0FBSSxDQUFDOUMsUUFBTCxDQUFjckMsSUFBSSxDQUFDb0YsSUFBbkI7QUFBdEMsU0FBRCxDQUFwQztBQUNIO0FBQ0osS0FWRDtBQVdILEdBak9tQjtBQW1PcEI7QUFDQS9DLEVBQUFBLFFBcE9vQixvQkFvT1g4QyxLQXBPVyxFQW9PSjtBQUNaLFFBQUksT0FBT0EsS0FBUCxLQUFpQixRQUFqQixJQUE2QixPQUFPQSxLQUFQLEtBQWlCLFFBQWxELEVBQTREO0FBQzVELFdBQU8sQ0FBQ0UsSUFBSSxDQUFDQyxLQUFMLENBQVdDLFVBQVUsQ0FBQ0osS0FBRCxDQUFyQixJQUFnQyxHQUFqQyxFQUFzQ0ssT0FBdEMsQ0FBOEMsQ0FBOUMsQ0FBUDtBQUNILEdBdk9tQjtBQXlPcEJDLEVBQUFBLFNBek9vQix1QkF5T1I7QUFDUixTQUFLeEIsZUFBTDtBQUNIO0FBM09tQixDQUF4QiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIOeOqeWutuS4quS6uuS/oeaBr+eVjOmdolxyXG4gKi9cclxuZ2xHYW1lLmJhc2VjbGFzcy5leHRlbmQoe1xyXG4gICAgcHJvcGVydGllczoge1xyXG4gICAgICAgIGNvbnRlbnQ6IGNjLk5vZGUsXHJcbiAgICAgICAgaXRlbTogY2MuTm9kZSxcclxuICAgICAgICBidG5HZXQ6IGNjLk5vZGUsXHJcbiAgICAgICAgbm9ybWFsTWF0ZXJpYWw6IGNjLk1hdGVyaWFsLFxyXG4gICAgICAgIGdyYXlNYXRlcmlhbDogY2MuTWF0ZXJpYWwsXHJcbiAgICB9LFxyXG5cclxuICAgIG9uTG9hZCgpIHtcclxuICAgICAgICB0aGlzLnN0YXRlX2NvbG9yID0gW25ldyBjYy5Db2xvcigyMzksNjUsNjUpLCBuZXcgY2MuQ29sb3IoMCwyNTUsNTQpLCBuZXcgY2MuQ29sb3IoODksMTEwLDEzOSldO1xyXG4gICAgICAgIHRoaXMuc3RhdGVfdHh0ID0gZ2xHYW1lLnRpcHMuVklQQVdBUkQuR0VUU1RBVEU7XHJcbiAgICAgICAgdGhpcy50eXBlID0gMjtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoKTtcclxuICAgIH0sXHJcblxyXG4gICAgb25WaXBJbmZvKGRhdGEpIHtcclxuICAgICAgICBpZih0aGlzLm5vZGUuYWN0aXZlID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHRoaXMudHlwZSA9PSAyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd1dlZWtHaWZ0KGRhdGEudmlwTGlzdCwgZGF0YS51c2VySW5mbyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93TW9udGhHaWZ0KGRhdGEudmlwTGlzdCwgZGF0YS51c2VySW5mbyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvLyDmmL7npLrlkajnpLzph5FcclxuICAgIHNob3dXZWVrR2lmdCh2aXBMaXN0LCB1c2VySW5mbykge1xyXG4gICAgICAgIHRoaXMudHlwZSA9IDI7XHJcbiAgICAgICAgdGhpcy51c2VySW5mbyA9IHVzZXJJbmZvO1xyXG4gICAgICAgIGxldCB2aXBfY29sb3IgPSBuZXcgY2MuQ29sb3IoMTc3LDEzNiw3MSk7XHJcbiAgICAgICAgbGV0IG90aGVyX2NvbG9yID0gbmV3IGNjLkNvbG9yKDIyMSwgMjQ1LCAyNTUpO1xyXG4gICAgICAgIGxldCBncmF5X2NvbG9yID0gbmV3IGNjLkNvbG9yKDg5LDExMCwxMzkpO1xyXG5cclxuICAgICAgICBsZXQgZnJhbWVCZyA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcImZyYW1lX2JpZ1wiKTtcclxuICAgICAgICBmcmFtZUJnLmdldENoaWxkQnlOYW1lKFwidGl0dGxlX3dlZWtcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmJ0bkdldC5nZXRDaGlsZEJ5TmFtZShcIkJhY2tncm91bmRcIikuZ2V0Q2hpbGRCeU5hbWUoXCJ0aXR0bGVfd2Vla1wiKS5hY3RpdmUgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRlbnQuZGVzdHJveUFsbENoaWxkcmVuKCk7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMCwgY291bnQgPSB2aXBMaXN0Lmxlbmd0aDsgaSA8IGNvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHZpcEluZm8gPSB2aXBMaXN0W2ldO1xyXG4gICAgICAgICAgICBpZih2aXBJbmZvLmlkID09IDEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgY2xvbmVJdGVtID0gY2MuaW5zdGFudGlhdGUodGhpcy5pdGVtKTtcclxuICAgICAgICAgICAgY2xvbmVJdGVtLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjbG9uZUl0ZW0ucGFyZW50ID0gdGhpcy5jb250ZW50O1xyXG4gICAgICAgICAgICBjbG9uZUl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJiZ1wiKS5hY3RpdmUgPSBpICUgMiA9PSAwO1xyXG4gICAgICAgICAgICBjbG9uZUl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJpbWdfbWVcIikuYWN0aXZlID0gdmlwSW5mby5pZCA9PSB1c2VySW5mby52aXBJZDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNsb25lSXRlbS5nZXRDaGlsZEJ5TmFtZShcInZpcFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IGBWSVAke3ZpcEluZm8udmlwTmFtZX1gOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB2aXDnrYnnuqdcclxuICAgICAgICAgICAgY2xvbmVJdGVtLmdldENoaWxkQnlOYW1lKFwiYXdhcmRcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSB2aXBJbmZvLmJvbnVzV2Vla0RpZmYvMTAwOyAgICAgICAgICAgICAgICAvLyDlkajnpLzph5FcclxuICAgICAgICAgICAgY2xvbmVJdGVtLmdldENoaWxkQnlOYW1lKFwiYWxsYXdhcmRcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSB2aXBJbmZvLmJvbnVzV2Vlay8xMDA7ICAgICAgICAgICAgICAgICAvLyDntK/orqHnpLzph5FcclxuICAgICAgICAgICAgY2xvbmVJdGVtLmdldENoaWxkQnlOYW1lKFwibmVlZGJldFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IHZpcEluZm8uYm9udXNXZWVrQmV0dGluZy8xMDA7ICAgICAgICAgICAvLyDmiZPnoIHph4/pnIDmsYJcclxuICAgICAgICAgICAgY2xvbmVJdGVtLmdldENoaWxkQnlOYW1lKFwibmVlZGNoYXJnZVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IHZpcEluZm8uYm9udXNXZWVrUmVjaGFyZ2UvMTAwOyAgICAgICAvLyDlrZjmrL7ph4/pnIDmsYJcclxuICAgICAgICAgICAgY2xvbmVJdGVtLmdldENoaWxkQnlOYW1lKFwic3RhdGVcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSB0aGlzLnN0YXRlX3R4dFt2aXBJbmZvLnVuY2xhaW1lZFdlZWsgLSAxXTsgICAgICAgICAgIC8vIOmihuWPlueKtuaAgVxyXG4gICAgICAgICAgICBjbG9uZUl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJzdGF0ZVwiKS5jb2xvciA9IHRoaXMuc3RhdGVfY29sb3JbdmlwSW5mby51bmNsYWltZWRXZWVrIC0gMV07ICBcclxuICAgICAgICAgICAgaWYodmlwSW5mby5ib251c1dlZWtEaWZmIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIGNsb25lSXRlbS5nZXRDaGlsZEJ5TmFtZShcInN0YXRlXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCItXCI7XHJcbiAgICAgICAgICAgICAgICBjbG9uZUl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJzdGF0ZVwiKS5jb2xvciA9IHRoaXMuc3RhdGVfY29sb3JbMl07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKHVzZXJJbmZvLnZpcElkID49IHZpcEluZm8uaWQpIHtcclxuICAgICAgICAgICAgICAgIGNsb25lSXRlbS5nZXRDaGlsZEJ5TmFtZShcInZpcFwiKS5jb2xvciA9IHZpcF9jb2xvcjtcclxuICAgICAgICAgICAgICAgIGNsb25lSXRlbS5nZXRDaGlsZEJ5TmFtZShcImF3YXJkXCIpLmNvbG9yID0gb3RoZXJfY29sb3I7XHJcbiAgICAgICAgICAgICAgICBjbG9uZUl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJhbGxhd2FyZFwiKS5jb2xvciA9IG90aGVyX2NvbG9yO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKHVzZXJJbmZvLndlZWtCZXR0aW5nID49IHZpcEluZm8uYm9udXNXZWVrQmV0dGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsb25lSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm5lZWRiZXRcIikuY29sb3IgPSBvdGhlcl9jb2xvcjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZih1c2VySW5mby53ZWVrUmVjaGFyZ2UgPj0gdmlwSW5mby5ib251c1dlZWtSZWNoYXJnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsb25lSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm5lZWRjaGFyZ2VcIikuY29sb3IgPSBvdGhlcl9jb2xvcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNsb25lSXRlbS5nZXRDaGlsZEJ5TmFtZShcInZpcFwiKS5jb2xvciA9IGdyYXlfY29sb3I7XHJcbiAgICAgICAgICAgICAgICBjbG9uZUl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJhd2FyZFwiKS5jb2xvciA9IGdyYXlfY29sb3I7XHJcbiAgICAgICAgICAgICAgICBjbG9uZUl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJhbGxhd2FyZFwiKS5jb2xvciA9IGdyYXlfY29sb3I7XHJcbiAgICAgICAgICAgICAgICBjbG9uZUl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJuZWVkYmV0XCIpLmNvbG9yID0gZ3JheV9jb2xvcjtcclxuICAgICAgICAgICAgICAgIGNsb25lSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm5lZWRjaGFyZ2VcIikuY29sb3IgPSBncmF5X2NvbG9yO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihpID09IHZpcExpc3QubGVuZ3RoIC0xKSB7XHJcbiAgICAgICAgICAgICAgICBjbG9uZUl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJmcmFtZV9ob3Jpem9udGFsXCIpLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnbEdhbWUucGFuZWwuc2hvd0VmZmVjdE5vZGUodGhpcyx0aGlzLmNvbnRlbnQsMC4wMix0cnVlKTtcclxuXHJcbiAgICAgICAgbGV0IGluZm9Ob2RlID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwiaW5mb1wiKTtcclxuICAgICAgICBpbmZvTm9kZS5nZXRDaGlsZEJ5TmFtZShcImFsbF9iZXRcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSB0aGlzLmN1dEZsb2F0KHVzZXJJbmZvLndlZWtCZXR0aW5nKTsgICAgICAgICAgICAgICAgICAgIC8vIOacrOWRqOaJk+eggemHj1xyXG4gICAgICAgIGluZm9Ob2RlLmdldENoaWxkQnlOYW1lKFwiYWxsX3NhdmVcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSB0aGlzLmN1dEZsb2F0KHVzZXJJbmZvLndlZWtSZWNoYXJnZSk7ICAgICAgICAgICAgICAgICAgLy8g5pys5ZGo5a2Y5qy+6YePXHJcblxyXG4gICAgICAgIGxldCByaWdodE5vZGUgPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJyaWdodFwiKTtcclxuICAgICAgICByaWdodE5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJjdXJfY2FuX2dldFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IHRoaXMuY3V0RmxvYXQodXNlckluZm8ud2Vla0NhbkJvbnVzKTsgICAgICAgICAgICAgIC8vIOW9k+WJjeWPr+mihuWPllxyXG4gICAgICAgIHJpZ2h0Tm9kZS5nZXRDaGlsZEJ5TmFtZShcImFsbF9jYW5fZ2V0XCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gdGhpcy5jdXRGbG9hdCh1c2VySW5mby53ZWVrQm9udXMpOyAgICAgICAgICAgICAgICAgLy8g5oC76K6h5Y+v6aKG5Y+WXHJcbiAgICAgICAgcmlnaHROb2RlLmdldENoaWxkQnlOYW1lKFwiaGF2ZV9nZXRcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSB0aGlzLmN1dEZsb2F0KHVzZXJJbmZvLndlZWtDdXJyZW50Qm9udXMpOyAgICAgICAgICAgICAvLyDlt7Lpooblj5ZcclxuICAgICAgICByaWdodE5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJidG5fZ2V0XCIpLmdldENvbXBvbmVudChjYy5CdXR0b24pLmludGVyYWN0YWJsZSA9IHVzZXJJbmZvLndlZWtJc1JlY2VpdmUgPT0gMjsgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgbGV0IGJ0blRpdGxlID0gdGhpcy5idG5HZXQuZ2V0Q2hpbGRCeU5hbWUoXCJCYWNrZ3JvdW5kXCIpLmdldENoaWxkQnlOYW1lKFwidGl0dGxlX3dlZWtcIik7XHJcbiAgICAgICAgaWYodXNlckluZm8ud2Vla0lzUmVjZWl2ZSAhPSAyKSB7XHJcbiAgICAgICAgICAgIGJ0blRpdGxlLmdldENvbXBvbmVudChjYy5SZW5kZXJDb21wb25lbnQpLnNldE1hdGVyaWFsKDAsIHRoaXMuZ3JheU1hdGVyaWFsKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBidG5UaXRsZS5nZXRDb21wb25lbnQoY2MuUmVuZGVyQ29tcG9uZW50KS5zZXRNYXRlcmlhbCgwLCB0aGlzLm5vcm1hbE1hdGVyaWFsKTtcclxuICAgICAgICB9ICAgXHJcbiAgICB9LFxyXG5cclxuICAgIC8vIOaYvuekuuaciOekvOmHkVxyXG4gICAgc2hvd01vbnRoR2lmdCh2aXBMaXN0LCB1c2VySW5mbykge1xyXG4gICAgICAgIHRoaXMudHlwZSA9IDM7XHJcbiAgICAgICAgdGhpcy51c2VySW5mbyA9IHVzZXJJbmZvO1xyXG4gICAgICAgIGxldCB2aXBfY29sb3IgPSBuZXcgY2MuQ29sb3IoMTc3LDEzNiw3MSk7XHJcbiAgICAgICAgbGV0IG90aGVyX2NvbG9yID0gbmV3IGNjLkNvbG9yKDIyMSwgMjQ1LCAyNTUpO1xyXG4gICAgICAgIGxldCBncmF5X2NvbG9yID0gbmV3IGNjLkNvbG9yKDg5LDExMCwxMzkpO1xyXG4gICAgICAgIGxldCBmcmFtZUJnID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwiZnJhbWVfYmlnXCIpO1xyXG4gICAgICAgIGZyYW1lQmcuZ2V0Q2hpbGRCeU5hbWUoXCJ0aXR0bGVfbW9udGhcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmJ0bkdldC5nZXRDaGlsZEJ5TmFtZShcIkJhY2tncm91bmRcIikuZ2V0Q2hpbGRCeU5hbWUoXCJ0aXR0bGVfbW9udGhcIikuYWN0aXZlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgbGV0IGluZm9Ob2RlID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwiaW5mb1wiKTtcclxuICAgICAgICBpbmZvTm9kZS5nZXRDaGlsZEJ5TmFtZShcInRpdHRsZTFcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcIuacrOaciOaJk+eggemHj1wiO1xyXG4gICAgICAgIGluZm9Ob2RlLmdldENoaWxkQnlOYW1lKFwidGl0dGxlMlwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwi5pys5pyI5YWF5YC86YePXCI7XHJcbiAgICAgICAgdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwiZ3JpZFwiKS5nZXRDaGlsZEJ5TmFtZShcImltZ190aXRsZV95bGpcIikuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJncmlkXCIpLmdldENoaWxkQnlOYW1lKFwiaW1nX3RpdGxlX3pob3VsaWppblwiKS5hY3RpdmUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5jb250ZW50LmRlc3Ryb3lBbGxDaGlsZHJlbigpO1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDAsIGNvdW50ID0gdmlwTGlzdC5sZW5ndGg7IGkgPCBjb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCB2aXBJbmZvID0gdmlwTGlzdFtpXTtcclxuICAgICAgICAgICAgaWYodmlwSW5mby5pZCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGNsb25lSXRlbSA9IGNjLmluc3RhbnRpYXRlKHRoaXMuaXRlbSk7XHJcbiAgICAgICAgICAgIGNsb25lSXRlbS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgY2xvbmVJdGVtLnBhcmVudCA9IHRoaXMuY29udGVudDtcclxuICAgICAgICAgICAgY2xvbmVJdGVtLmdldENoaWxkQnlOYW1lKFwiYmdcIikuYWN0aXZlID0gaSAlIDIgPT0gMDtcclxuICAgICAgICAgICAgY2xvbmVJdGVtLmdldENoaWxkQnlOYW1lKFwiaW1nX21lXCIpLmFjdGl2ZSA9IHZpcEluZm8uaWQgPT0gdXNlckluZm8udmlwSWQ7XHJcblxyXG4gICAgICAgICAgICBjbG9uZUl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJ2aXBcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBgVklQJHt2aXBJbmZvLnZpcE5hbWV9YDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZpcOetiee6p1xyXG4gICAgICAgICAgICBjbG9uZUl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJhd2FyZFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IHZpcEluZm8uYm9udXNNb250aERpZmYvMTAwOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWRqOekvOmHkVxyXG4gICAgICAgICAgICBjbG9uZUl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJhbGxhd2FyZFwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IHZpcEluZm8uYm9udXNNb250aC8xMDA7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOe0r+iuoeekvOmHkVxyXG4gICAgICAgICAgICBjbG9uZUl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJuZWVkYmV0XCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gdmlwSW5mby5ib251c01vbnRoQmV0dGluZy8xMDA7ICAgICAgICAgICAgICAgICAgICAgIC8vIOaJk+eggemHj+mcgOaxglxyXG4gICAgICAgICAgICBjbG9uZUl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJuZWVkY2hhcmdlXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gdmlwSW5mby5ib251c01vbnRoUmVjaGFyZ2UvMTAwOyAgICAgICAgICAgICAgICAgIC8vIOWtmOasvumHj+mcgOaxglxyXG4gICAgICAgICAgICBjbG9uZUl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJzdGF0ZVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IHRoaXMuc3RhdGVfdHh0W3ZpcEluZm8udW5jbGFpbWVkTW9udGggLSAxXTsgICAgICAgICAgIC8vIOmihuWPlueKtuaAgVxyXG4gICAgICAgICAgICBjbG9uZUl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJzdGF0ZVwiKS5jb2xvciA9IHRoaXMuc3RhdGVfY29sb3JbdmlwSW5mby51bmNsYWltZWRNb250aCAtIDFdOyAgXHJcbiAgICAgICAgICAgIGlmKHZpcEluZm8uYm9udXNNb250aERpZmYgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgY2xvbmVJdGVtLmdldENoaWxkQnlOYW1lKFwic3RhdGVcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcIi1cIjtcclxuICAgICAgICAgICAgICAgIGNsb25lSXRlbS5nZXRDaGlsZEJ5TmFtZShcInN0YXRlXCIpLmNvbG9yID0gdGhpcy5zdGF0ZV9jb2xvclsyXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYodXNlckluZm8udmlwSWQgPj0gdmlwSW5mby5pZCkge1xyXG4gICAgICAgICAgICAgICAgY2xvbmVJdGVtLmdldENoaWxkQnlOYW1lKFwidmlwXCIpLmNvbG9yID0gdmlwX2NvbG9yO1xyXG4gICAgICAgICAgICAgICAgY2xvbmVJdGVtLmdldENoaWxkQnlOYW1lKFwiYXdhcmRcIikuY29sb3IgPSBvdGhlcl9jb2xvcjtcclxuICAgICAgICAgICAgICAgIGNsb25lSXRlbS5nZXRDaGlsZEJ5TmFtZShcImFsbGF3YXJkXCIpLmNvbG9yID0gb3RoZXJfY29sb3I7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYodXNlckluZm8ubW9udGhCZXR0aW5nID49IHZpcEluZm8uYm9udXNNb250aEJldHRpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbG9uZUl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJuZWVkYmV0XCIpLmNvbG9yID0gb3RoZXJfY29sb3I7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYodXNlckluZm8ubW9udGhSZWNoYXJnZSA+PSB2aXBJbmZvLmJvbnVzTW9udGhSZWNoYXJnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsb25lSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm5lZWRjaGFyZ2VcIikuY29sb3IgPSBvdGhlcl9jb2xvcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNsb25lSXRlbS5nZXRDaGlsZEJ5TmFtZShcInZpcFwiKS5jb2xvciA9IGdyYXlfY29sb3I7XHJcbiAgICAgICAgICAgICAgICBjbG9uZUl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJhd2FyZFwiKS5jb2xvciA9IGdyYXlfY29sb3I7XHJcbiAgICAgICAgICAgICAgICBjbG9uZUl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJhbGxhd2FyZFwiKS5jb2xvciA9IGdyYXlfY29sb3I7XHJcbiAgICAgICAgICAgICAgICBjbG9uZUl0ZW0uZ2V0Q2hpbGRCeU5hbWUoXCJuZWVkYmV0XCIpLmNvbG9yID0gZ3JheV9jb2xvcjtcclxuICAgICAgICAgICAgICAgIGNsb25lSXRlbS5nZXRDaGlsZEJ5TmFtZShcIm5lZWRjaGFyZ2VcIikuY29sb3IgPSBncmF5X2NvbG9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnbEdhbWUucGFuZWwuc2hvd0VmZmVjdE5vZGUodGhpcyx0aGlzLmNvbnRlbnQsMC4wMix0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gbGV0IGluZm9Ob2RlID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwiaW5mb1wiKTtcclxuICAgICAgICBpbmZvTm9kZS5nZXRDaGlsZEJ5TmFtZShcImFsbF9iZXRcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSB0aGlzLmN1dEZsb2F0KHVzZXJJbmZvLm1vbnRoQmV0dGluZyk7ICAgICAgICAgICAgICAgICAgICAvLyDmnKzlkajmiZPnoIHph49cclxuICAgICAgICBpbmZvTm9kZS5nZXRDaGlsZEJ5TmFtZShcImFsbF9zYXZlXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gdGhpcy5jdXRGbG9hdCh1c2VySW5mby5tb250aFJlY2hhcmdlKTsgICAgICAgICAgICAgICAgICAvLyDmnKzlkajlrZjmrL7ph49cclxuXHJcbiAgICAgICAgbGV0IHJpZ2h0Tm9kZSA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcInJpZ2h0XCIpO1xyXG4gICAgICAgIHJpZ2h0Tm9kZS5nZXRDaGlsZEJ5TmFtZShcImN1cl9jYW5fZ2V0XCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gdGhpcy5jdXRGbG9hdCh1c2VySW5mby5tb250aENhbkJvbnVzKTsgICAgICAgICAgICAgIC8vIOW9k+WJjeWPr+mihuWPllxyXG4gICAgICAgIHJpZ2h0Tm9kZS5nZXRDaGlsZEJ5TmFtZShcImFsbF9jYW5fZ2V0XCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gdGhpcy5jdXRGbG9hdCh1c2VySW5mby5tb250aEJvbnVzKTsgICAgICAgICAgICAgICAgIC8vIOaAu+iuoeWPr+mihuWPllxyXG4gICAgICAgIHJpZ2h0Tm9kZS5nZXRDaGlsZEJ5TmFtZShcImhhdmVfZ2V0XCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gdGhpcy5jdXRGbG9hdCh1c2VySW5mby5tb250aEN1cnJlbnRCb251cyk7ICAgICAgICAgICAgIC8vIOW3sumihuWPllxyXG4gICAgICAgIHJpZ2h0Tm9kZS5nZXRDaGlsZEJ5TmFtZShcImJ0bl9nZXRcIikuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuaW50ZXJhY3RhYmxlID0gdXNlckluZm8ubW9udGhJc1JlY2VpdmUgPT0gMjsgICAgICBcclxuICAgICAgICBsZXQgYnRuVGl0bGUgPSB0aGlzLmJ0bkdldC5nZXRDaGlsZEJ5TmFtZShcIkJhY2tncm91bmRcIikuZ2V0Q2hpbGRCeU5hbWUoXCJ0aXR0bGVfbW9udGhcIik7ICAgICAgIFxyXG4gICAgICAgIGlmKHVzZXJJbmZvLm1vbnRoSXNSZWNlaXZlICE9IDIpIHtcclxuICAgICAgICAgICAgYnRuVGl0bGUuZ2V0Q29tcG9uZW50KGNjLlJlbmRlckNvbXBvbmVudCkuc2V0TWF0ZXJpYWwoMCwgdGhpcy5ncmF5TWF0ZXJpYWwpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGJ0blRpdGxlLmdldENvbXBvbmVudChjYy5SZW5kZXJDb21wb25lbnQpLnNldE1hdGVyaWFsKDAsIHRoaXMubm9ybWFsTWF0ZXJpYWwpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgb25DbGljayhuYW1lLCBub2RlKSB7XHJcbiAgICAgICAgc3dpdGNoIChuYW1lKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJjbG9zZVwiOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmUoKVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJidG5fZ2V0XCI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLlJlcVZpcFJld2FyZCh0aGlzLnR5cGUsIHRoaXMudXNlckluZm8udmlwSWQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvLyDms6jlhoznlYzpnaLnm5HlkKzkuovku7ZcclxuICAgIHJlZ2lzdGVyRXZlbnQoKSB7XHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIub24oXCJub3RpZnlWaXBJbmZvXCIsIHRoaXMub25WaXBJbmZvLCB0aGlzKTtcclxuICAgIH0sXHJcbiAgICAvLyDplIDmr4HnlYzpnaLnm5HlkKzkuovku7ZcclxuICAgIHVuUmVnaXN0ZXJFdmVudCgpIHtcclxuICAgICAgICBnbEdhbWUuZW1pdHRlci5vZmYoXCJub3RpZnlWaXBJbmZvXCIsIHRoaXMpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvL+mihuWPliAx5b2p6YeR77yMMuWRqOekvOmHke+8jDPmnIjnpLzph5FcclxuICAgIFJlcVZpcFJld2FyZCh0eXBlLCB2aXBpZCkge1xyXG4gICAgICAgIGxldCBtc2cgPSB7IFwidHlwZVwiOiB0eXBlLCBcInZpcF9pZFwiOiB2aXBpZCB9XHJcbiAgICAgICAgZ2xHYW1lLmdhbWVOZXQuc2VuZF9tc2coJ2h0dHAuUmVxVmlwUmV3YXJkJywgbXNnLCAocm91dGUsIGRhdGEpID0+IHtcclxuICAgICAgICAgICAgaWYgKGRhdGEucmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBnbEdhbWUudXNlci5SZXFSZWREb3QoKTtcclxuICAgICAgICAgICAgICAgIGdsR2FtZS51c2VyLnJlcUdldENvaW4oKTtcclxuICAgICAgICAgICAgICAgIGdsR2FtZS5lbWl0dGVyLmVtaXQoXCJub3RpZnlSZXFWaXBJbmZvXCIpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHN0clRpdGxlID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09IDIpIHN0clRpdGxlID0gZ2xHYW1lLnRpcHMuVklQQVdBUkQuV0VFS0FXQVJEO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PSAzKSBzdHJUaXRsZSA9IGdsR2FtZS50aXBzLlZJUEFXQVJELk1PTlRIQVdBUkQ7XHJcbiAgICAgICAgICAgICAgICBnbEdhbWUucGFuZWwuc2hvd0F3YXJkQm94KHN0clRpdGxlLCBbeyB0eXBlOiBnbEdhbWUuYXdhcmR0eXBlLkNPSU4sIHZhbHVlOiB0aGlzLmN1dEZsb2F0KGRhdGEuY29pbikgfV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0sXHJcblxyXG4gICAgLy/miKrlj5blsI/mlbDngrnlkI4y5L2NXHJcbiAgICBjdXRGbG9hdCh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicpIHJldHVybjtcclxuICAgICAgICByZXR1cm4gKE1hdGguZmxvb3IocGFyc2VGbG9hdCh2YWx1ZSkpIC8gMTAwKS50b0ZpeGVkKDIpO1xyXG4gICAgfSxcclxuXHJcbiAgICBPbkRlc3Ryb3koKSB7XHJcbiAgICAgICAgdGhpcy51blJlZ2lzdGVyRXZlbnQoKTtcclxuICAgIH0sXHJcbn0pO1xyXG4iXX0=