
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/modules/games/nfish/script/prefab/nfish_recordDetails.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '19780rykPdAK6umVqdsmkmk', 'nfish_recordDetails');
// modules/games/nfish/script/prefab/nfish_recordDetails.js

"use strict";

var CONST = require("nfishConst");

var CUT_TYPE = {
  BULLET: 1,
  FISH: 2
}; //捕鱼：详情

glGame.baseclass.extend({
  properties: {
    //子弹列表
    bullet_scrollView: cc.ScrollView,
    bullet_content: cc.Node,
    bullet_item: cc.Node,
    //鱼列表
    fish_scrollView: cc.ScrollView,
    fish_content: cc.Node,
    fish_item: cc.Node,
    //按钮切换
    bullet_bottom: cc.Node,
    fish_bottom: cc.Node
  },
  onLoad: function onLoad() {},
  initDetView: function initDetView(recordData, list, viewtype) {
    this.bullet_content.removeAllChildren();
    this.fish_content.removeAllChildren(); //时间格式化

    Date.prototype.Format = function (fmt) {
      //author: meizz
      var o = {
        "M+": this.getMonth() + 1,
        //月份
        "d+": this.getDate(),
        //日
        "h+": this.getHours(),
        //小时
        "m+": this.getMinutes(),
        //分
        "s+": this.getSeconds(),
        //秒
        "q+": Math.floor((this.getMonth() + 3) / 3),
        //季度
        "S": this.getMilliseconds() //毫秒

      };
      if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));

      for (var k in o) {
        if (new RegExp("(" + k + ")").test(fmt)) fmt = fmt.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : ("00" + o[k]).substr(("" + o[k]).length));
      }

      return fmt;
    };

    this.gameID = glGame.scenetag.FISH2;
    this.gameLevel = glGame.room.getRoomType(this.gameID);
    var hand_number = recordData["hand_number"]; //牌局编号

    var profit = Number(recordData["number"]); //结算

    var gainFee = this.cutDownNum(Number(recordData["gainFee"])); //抽水

    var bet_coin = this.cutDownNum(Number(recordData["bet_coin"])); //炮弹金额

    var coin = Number(Number(this.cutDownNum(profit)) + Number(gainFee) + Number(bet_coin)).toFixed(2); //捕获金额

    var roomStr = this.gameLevel[recordData["bettype"]]; //房间

    var panel = this.node.getChildByName("viewInfo");
    panel.getChildByName("lab_no").getComponent(cc.Label).string = hand_number + "";
    panel.getChildByName("lab_room").getComponent(cc.Label).string = roomStr + "";
    panel.getChildByName("lab_bullteCoin").getComponent(cc.Label).string = bet_coin + "";
    panel.getChildByName("lab_coin").getComponent(cc.Label).string = coin + "";
    var number = panel.getChildByName(profit > 0 ? "lab_win" : "lab_lost");
    number.getComponent(cc.Label).string = profit > 0 ? "+".concat(this.cutDownNum(profit)) : this.cutDownNum(profit);
    panel.getChildByName("lab_endTime").getComponent(cc.Label).string = recordData["end_time"];
    number.active = true;
    this.list = list;
    this.showView(viewtype);
  },
  //type = 1 是 子弹 其余的是 鱼
  showView: function showView(type) {
    if (type == this.currType) {
      return;
    }

    this.currType = type;
    this.bullet_bottom.active = type == CUT_TYPE.BULLET;
    this.fish_bottom.active = type == CUT_TYPE.FISH; //标题

    var titleFish = this.node.getChildByName("ui_txt_line").getChildByName("fishView");
    var titleBullet = this.node.getChildByName("ui_txt_line").getChildByName("bulletView");
    titleBullet.active = type == CUT_TYPE.BULLET;
    titleFish.active = !titleBullet.active; //列表 容器

    var Show = 255;
    var Close = 1;
    var ShowIndexZ = 10;
    var CloseIndexZ = 8;
    this.bullet_scrollView.node.opacity = type == CUT_TYPE.BULLET ? Show : Close;
    this.fish_scrollView.node.opacity = type == CUT_TYPE.FISH ? Show : Close;
    this.bullet_scrollView.node.zIndex = type == CUT_TYPE.BULLET ? ShowIndexZ : CloseIndexZ;
    this.fish_scrollView.node.zIndex = type == CUT_TYPE.FISH ? ShowIndexZ : CloseIndexZ; //容器content

    if (type == CUT_TYPE.BULLET && this.bullet_content.childrenCount > 0) {
      return;
    }

    if (type != CUT_TYPE.BULLET && this.fish_content.childrenCount > 0) {
      return;
    }

    if (type == CUT_TYPE.BULLET) {
      this.bullet_content.removeAllChildren();
    } else {
      this.fish_content.removeAllChildren();
    }

    if (type == CUT_TYPE.FISH) {
      //鱼
      var fishList = [];
      var fishListIndex = [];

      for (var i = 0; i < this.list.length; i++) {
        var fishId = Number(this.list[i].fishId);
        var fishName = this.list[i].fishName;
        var reward = 0;
        var pc = 0;
        var captureTime = null;
        var rewardTimeFormNumber = 0;
        var consume = 0;
        var profit = 0;
        var isKilled = false;

        if (fishListIndex.indexOf(fishId) == -1) {
          for (var j = 0; j < this.list.length; j++) {
            if (fishId == Number(this.list[j].fishId)) {
              var d = this.list[j];

              if (d.reward > 0) {
                reward += Number(d.reward);
                pc += Number(d.consume) + Number(d.profit);
              }

              rewardTimeFormNumber = d.date;
              consume += Number(d.consume);
              profit += Number(d.profit);

              if (d.isKilled) {
                isKilled = true;
                captureTime = new Date(d.date).Format("yyyy-MM-dd hh:mm:ss");
              }
            }
          }

          fishListIndex.push(fishId);
          fishList.push({
            fishId: fishId,
            fishName: fishName,
            pc: pc,
            reward: reward,
            consume: consume,
            profit: profit,
            captureTime: captureTime,
            time: rewardTimeFormNumber,
            isKilled: isKilled
          });
        }
      }

      fishList.sort(function (a, b) {
        return b.time - a.time;
      });

      for (var _i = 0; _i < fishList.length; _i++) {
        var _d = fishList[_i];
        var itemNode = cc.instantiate(this.fish_item);
        itemNode.active = false;
        itemNode.getChildByName("lab_no").getComponent(cc.Label).string = _d.fishId + ""; //鱼编号

        itemNode.getChildByName("lab_fishName").getComponent(cc.Label).string = _d.fishName + ""; //鱼 名字

        itemNode.getChildByName("lab_getTime").getComponent(cc.Label).string = "未捕获";

        if (_d.isKilled) {
          itemNode.getChildByName("lab_getTime").getComponent(cc.Label).string = _d.captureTime;
        }

        itemNode.getChildByName("lab_consume").getComponent(cc.Label).string = this.cutDownNum(_d.consume) + ""; //总消耗

        itemNode.getChildByName("lab_distribute").getComponent(cc.Label).string = this.cutDownNum(_d.reward) + ""; //派彩

        itemNode.getChildByName("lab_win").getComponent(cc.Label).string = "+" + this.cutDownNum(_d.profit); //损益 正

        itemNode.getChildByName("lab_lost").getComponent(cc.Label).string = this.cutDownNum(_d.profit) + ""; //损益 负

        itemNode.getChildByName("lab_win").active = _d.profit >= 0;
        itemNode.getChildByName("lab_lost").active = _d.profit < 0;
        itemNode.parent = this.fish_content;
        itemNode.getChildByName("img_tiao").active = _i % 2 != 0;
      }

      glGame.panel.showEffectNode(this, this.fish_content, 0.02, true);
    } else if (type == CUT_TYPE.BULLET) {
      //子弹
      for (var _i2 = 0; _i2 < this.list.length; _i2++) {
        var bulletData = this.list[_i2];

        var _itemNode = void 0;

        var currTime = new Date(bulletData.date).Format("yyyy-MM-dd hh:mm:ss");
        _itemNode = cc.instantiate(this.bullet_item);
        _itemNode.active = false;
        _itemNode.getChildByName("lab_no").getComponent(cc.Label).string = bulletData.id + ""; //子弹编号

        _itemNode.getChildByName("lab_time").getComponent(cc.Label).string = currTime + ""; //时间

        _itemNode.getChildByName("lab_type").getComponent(cc.Label).string = CONST.CannonDesc[Number(bulletData.cannonType)]; //类型

        _itemNode.getChildByName("lab_consume").getComponent(cc.Label).string = this.cutDownNum(bulletData.consume) + ""; //消耗

        _itemNode.getChildByName("lab_fiashName").getComponent(cc.Label).string = bulletData.fishName + ""; //鱼

        _itemNode.getChildByName("lab_win_capture").active = bulletData.isKilled; //是否 捕获

        _itemNode.getChildByName("lab_lost_capture").active = !_itemNode.getChildByName("lab_win_capture").active; //是否 捕获

        _itemNode.getChildByName("lab_distribute").getComponent(cc.Label).string = this.cutDownNum(Number(bulletData.consume) + Number(bulletData.profit)) + ""; //派彩

        _itemNode.parent = this.bullet_content;
        _itemNode.getChildByName("img_tiao").active = _i2 % 2 != 0;
      }

      glGame.panel.showEffectNode(this, this.bullet_content, 0.02, true);
    }
  },
  onClick: function onClick(name, node) {
    switch (name) {
      case "ui_BtnClose":
        this.node.parent.parent.destroy();
        this.remove();
        break;

      case "img_back":
        this.remove();
        break;

      case "btn_zidananniu":
        this.showView(CUT_TYPE.BULLET);
        break;

      case "btn_fishanniu":
        this.showView(CUT_TYPE.FISH);
        break;

      default:
        break;
    }
  },
  OnDestroy: function OnDestroy() {
    this.gameRecord = null;
  },
  //截取小数点后两位
  cutDownNum: function cutDownNum(value) {
    var num = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;
    if (isNaN(value)) return;

    if (~~value === value) {
      return value.div(100).toString();
    } else {
      value = Number(value).div(100);
      return (Math.floor(value * 100) / 100).toFixed(num);
    }
  },

  /**
   * @param event
   * @param type UI编辑器传参 有值就不做按钮连点过滤(且不等于特殊音效字段)  使用select分页按钮
   * @Explain Button点击事件统一调用
   */
  OnClickButton: function OnClickButton(event, type) {
    var buttonName = event.target.name;
    var buttonNode = event.target;
    console.log("\u70B9\u51FB\u4E86button -> ".concat(buttonName));

    switch (buttonName) {
      case "close_eff":
        //当前界面有播放特长音效的关闭按钮
        glGame.audio.closeCurEffect();
        glGame.audio.playLoadSoundEffectByPath("close");
        break;

      case "close":
        glGame.audio.playLoadSoundEffectByPath("close");
        break;

      default:
        if (type == "select") glGame.audio.playLoadSoundEffectByPath("select");else glGame.audio.playLoadSoundEffectByPath("click");
    }

    this.onClick(buttonName, buttonNode);
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcbW9kdWxlc1xcZ2FtZXNcXG5maXNoXFxzY3JpcHRcXHByZWZhYlxcbmZpc2hfcmVjb3JkRGV0YWlscy5qcyJdLCJuYW1lcyI6WyJDT05TVCIsInJlcXVpcmUiLCJDVVRfVFlQRSIsIkJVTExFVCIsIkZJU0giLCJnbEdhbWUiLCJiYXNlY2xhc3MiLCJleHRlbmQiLCJwcm9wZXJ0aWVzIiwiYnVsbGV0X3Njcm9sbFZpZXciLCJjYyIsIlNjcm9sbFZpZXciLCJidWxsZXRfY29udGVudCIsIk5vZGUiLCJidWxsZXRfaXRlbSIsImZpc2hfc2Nyb2xsVmlldyIsImZpc2hfY29udGVudCIsImZpc2hfaXRlbSIsImJ1bGxldF9ib3R0b20iLCJmaXNoX2JvdHRvbSIsIm9uTG9hZCIsImluaXREZXRWaWV3IiwicmVjb3JkRGF0YSIsImxpc3QiLCJ2aWV3dHlwZSIsInJlbW92ZUFsbENoaWxkcmVuIiwiRGF0ZSIsInByb3RvdHlwZSIsIkZvcm1hdCIsImZtdCIsIm8iLCJnZXRNb250aCIsImdldERhdGUiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwiTWF0aCIsImZsb29yIiwiZ2V0TWlsbGlzZWNvbmRzIiwidGVzdCIsInJlcGxhY2UiLCJSZWdFeHAiLCIkMSIsImdldEZ1bGxZZWFyIiwic3Vic3RyIiwibGVuZ3RoIiwiayIsImdhbWVJRCIsInNjZW5ldGFnIiwiRklTSDIiLCJnYW1lTGV2ZWwiLCJyb29tIiwiZ2V0Um9vbVR5cGUiLCJoYW5kX251bWJlciIsInByb2ZpdCIsIk51bWJlciIsImdhaW5GZWUiLCJjdXREb3duTnVtIiwiYmV0X2NvaW4iLCJjb2luIiwidG9GaXhlZCIsInJvb21TdHIiLCJwYW5lbCIsIm5vZGUiLCJnZXRDaGlsZEJ5TmFtZSIsImdldENvbXBvbmVudCIsIkxhYmVsIiwic3RyaW5nIiwibnVtYmVyIiwiYWN0aXZlIiwic2hvd1ZpZXciLCJ0eXBlIiwiY3VyclR5cGUiLCJ0aXRsZUZpc2giLCJ0aXRsZUJ1bGxldCIsIlNob3ciLCJDbG9zZSIsIlNob3dJbmRleFoiLCJDbG9zZUluZGV4WiIsIm9wYWNpdHkiLCJ6SW5kZXgiLCJjaGlsZHJlbkNvdW50IiwiZmlzaExpc3QiLCJmaXNoTGlzdEluZGV4IiwiaSIsImZpc2hJZCIsImZpc2hOYW1lIiwicmV3YXJkIiwicGMiLCJjYXB0dXJlVGltZSIsInJld2FyZFRpbWVGb3JtTnVtYmVyIiwiY29uc3VtZSIsImlzS2lsbGVkIiwiaW5kZXhPZiIsImoiLCJkIiwiZGF0ZSIsInB1c2giLCJ0aW1lIiwic29ydCIsImEiLCJiIiwiaXRlbU5vZGUiLCJpbnN0YW50aWF0ZSIsInBhcmVudCIsInNob3dFZmZlY3ROb2RlIiwiYnVsbGV0RGF0YSIsImN1cnJUaW1lIiwiaWQiLCJDYW5ub25EZXNjIiwiY2Fubm9uVHlwZSIsIm9uQ2xpY2siLCJuYW1lIiwiZGVzdHJveSIsInJlbW92ZSIsIk9uRGVzdHJveSIsImdhbWVSZWNvcmQiLCJ2YWx1ZSIsIm51bSIsImlzTmFOIiwiZGl2IiwidG9TdHJpbmciLCJPbkNsaWNrQnV0dG9uIiwiZXZlbnQiLCJidXR0b25OYW1lIiwidGFyZ2V0IiwiYnV0dG9uTm9kZSIsImNvbnNvbGUiLCJsb2ciLCJhdWRpbyIsImNsb3NlQ3VyRWZmZWN0IiwicGxheUxvYWRTb3VuZEVmZmVjdEJ5UGF0aCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxLQUFLLEdBQUdDLE9BQU8sQ0FBQyxZQUFELENBQW5COztBQUNBLElBQU1DLFFBQVEsR0FBRztBQUNiQyxFQUFBQSxNQUFNLEVBQUUsQ0FESztBQUViQyxFQUFBQSxJQUFJLEVBQUU7QUFGTyxDQUFqQixFQUtBOztBQUNBQyxNQUFNLENBQUNDLFNBQVAsQ0FBaUJDLE1BQWpCLENBQXdCO0FBQ3BCQyxFQUFBQSxVQUFVLEVBQUU7QUFDUjtBQUNBQyxJQUFBQSxpQkFBaUIsRUFBRUMsRUFBRSxDQUFDQyxVQUZkO0FBR1JDLElBQUFBLGNBQWMsRUFBRUYsRUFBRSxDQUFDRyxJ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bnRlbnQiOlsibGV0IENPTlNUID0gcmVxdWlyZShcIm5maXNoQ29uc3RcIik7XHJcbmNvbnN0IENVVF9UWVBFID0ge1xyXG4gICAgQlVMTEVUOiAxLFxyXG4gICAgRklTSDogMixcclxufVxyXG5cclxuLy/mjZXpsbzvvJror6bmg4VcclxuZ2xHYW1lLmJhc2VjbGFzcy5leHRlbmQoe1xyXG4gICAgcHJvcGVydGllczoge1xyXG4gICAgICAgIC8v5a2Q5by55YiX6KGoXHJcbiAgICAgICAgYnVsbGV0X3Njcm9sbFZpZXc6IGNjLlNjcm9sbFZpZXcsXHJcbiAgICAgICAgYnVsbGV0X2NvbnRlbnQ6IGNjLk5vZGUsXHJcbiAgICAgICAgYnVsbGV0X2l0ZW06IGNjLk5vZGUsXHJcbiAgICAgICAgLy/psbzliJfooahcclxuICAgICAgICBmaXNoX3Njcm9sbFZpZXc6IGNjLlNjcm9sbFZpZXcsXHJcbiAgICAgICAgZmlzaF9jb250ZW50OiBjYy5Ob2RlLFxyXG4gICAgICAgIGZpc2hfaXRlbTogY2MuTm9kZSxcclxuXHJcbiAgICAgICAgLy/mjInpkq7liIfmjaJcclxuICAgICAgICBidWxsZXRfYm90dG9tOiBjYy5Ob2RlLFxyXG4gICAgICAgIGZpc2hfYm90dG9tOiBjYy5Ob2RlLFxyXG4gICAgfSxcclxuICAgIG9uTG9hZCgpIHtcclxuXHJcbiAgICB9LFxyXG4gICAgaW5pdERldFZpZXcocmVjb3JkRGF0YSwgbGlzdCwgdmlld3R5cGUpIHtcclxuICAgICAgICB0aGlzLmJ1bGxldF9jb250ZW50LnJlbW92ZUFsbENoaWxkcmVuKCk7XHJcbiAgICAgICAgdGhpcy5maXNoX2NvbnRlbnQucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcclxuXHJcbiAgICAgICAgLy/ml7bpl7TmoLzlvI/ljJZcclxuICAgICAgICBEYXRlLnByb3RvdHlwZS5Gb3JtYXQgPSBmdW5jdGlvbiAoZm10KSB7IC8vYXV0aG9yOiBtZWl6elxyXG4gICAgICAgICAgICB2YXIgbyA9IHtcclxuICAgICAgICAgICAgICAgIFwiTStcIjogdGhpcy5nZXRNb250aCgpICsgMSwgLy/mnIjku71cclxuICAgICAgICAgICAgICAgIFwiZCtcIjogdGhpcy5nZXREYXRlKCksIC8v5pelXHJcbiAgICAgICAgICAgICAgICBcImgrXCI6IHRoaXMuZ2V0SG91cnMoKSwgLy/lsI/ml7ZcclxuICAgICAgICAgICAgICAgIFwibStcIjogdGhpcy5nZXRNaW51dGVzKCksIC8v5YiGXHJcbiAgICAgICAgICAgICAgICBcInMrXCI6IHRoaXMuZ2V0U2Vjb25kcygpLCAvL+enklxyXG4gICAgICAgICAgICAgICAgXCJxK1wiOiBNYXRoLmZsb29yKCh0aGlzLmdldE1vbnRoKCkgKyAzKSAvIDMpLCAvL+Wto+W6plxyXG4gICAgICAgICAgICAgICAgXCJTXCI6IHRoaXMuZ2V0TWlsbGlzZWNvbmRzKCkgLy/mr6vnp5JcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYgKC8oeSspLy50ZXN0KGZtdCkpIGZtdCA9IGZtdC5yZXBsYWNlKFJlZ0V4cC4kMSwgKHRoaXMuZ2V0RnVsbFllYXIoKSArIFwiXCIpLnN1YnN0cig0IC0gUmVnRXhwLiQxLmxlbmd0aCkpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBrIGluIG8pXHJcbiAgICAgICAgICAgICAgICBpZiAobmV3IFJlZ0V4cChcIihcIiArIGsgKyBcIilcIikudGVzdChmbXQpKSBmbXQgPSBmbXQucmVwbGFjZShSZWdFeHAuJDEsIChSZWdFeHAuJDEubGVuZ3RoID09IDEpID8gKG9ba10pIDogKChcIjAwXCIgKyBvW2tdKS5zdWJzdHIoKFwiXCIgKyBvW2tdKS5sZW5ndGgpKSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmbXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ2FtZUlEID0gZ2xHYW1lLnNjZW5ldGFnLkZJU0gyO1xyXG4gICAgICAgIHRoaXMuZ2FtZUxldmVsID0gZ2xHYW1lLnJvb20uZ2V0Um9vbVR5cGUodGhpcy5nYW1lSUQpO1xyXG4gICAgICAgIGxldCBoYW5kX251bWJlciA9IHJlY29yZERhdGFbXCJoYW5kX251bWJlclwiXTsvL+eJjOWxgOe8luWPt1xyXG4gICAgICAgIGxldCBwcm9maXQgPSBOdW1iZXIocmVjb3JkRGF0YVtcIm51bWJlclwiXSk7Ly/nu5PnrpdcclxuICAgICAgICBsZXQgZ2FpbkZlZSA9IHRoaXMuY3V0RG93bk51bShOdW1iZXIocmVjb3JkRGF0YVtcImdhaW5GZWVcIl0pKTsvL+aKveawtFxyXG4gICAgICAgIGxldCBiZXRfY29pbiA9IHRoaXMuY3V0RG93bk51bShOdW1iZXIocmVjb3JkRGF0YVtcImJldF9jb2luXCJdKSk7Ly/ngq7lvLnph5Hpop1cclxuICAgICAgICBsZXQgY29pbiA9IE51bWJlcihOdW1iZXIodGhpcy5jdXREb3duTnVtKHByb2ZpdCkpICsgTnVtYmVyKGdhaW5GZWUpICsgTnVtYmVyKGJldF9jb2luKSkudG9GaXhlZCgyKTsvL+aNleiOt+mHkeminVxyXG4gICAgICAgIGxldCByb29tU3RyID0gdGhpcy5nYW1lTGV2ZWxbcmVjb3JkRGF0YVtcImJldHR5cGVcIl1dOy8v5oi/6Ze0XHJcbiAgICAgICAgbGV0IHBhbmVsID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwidmlld0luZm9cIik7XHJcbiAgICAgICAgcGFuZWwuZ2V0Q2hpbGRCeU5hbWUoXCJsYWJfbm9cIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBoYW5kX251bWJlciArIFwiXCI7XHJcbiAgICAgICAgcGFuZWwuZ2V0Q2hpbGRCeU5hbWUoXCJsYWJfcm9vbVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IHJvb21TdHIgKyBcIlwiO1xyXG4gICAgICAgIHBhbmVsLmdldENoaWxkQnlOYW1lKFwibGFiX2J1bGx0ZUNvaW5cIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBiZXRfY29pbiArIFwiXCI7XHJcbiAgICAgICAgcGFuZWwuZ2V0Q2hpbGRCeU5hbWUoXCJsYWJfY29pblwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IGNvaW4gKyBcIlwiO1xyXG4gICAgICAgIGxldCBudW1iZXIgPSBwYW5lbC5nZXRDaGlsZEJ5TmFtZShwcm9maXQgPiAwID8gXCJsYWJfd2luXCIgOiBcImxhYl9sb3N0XCIpO1xyXG4gICAgICAgIG51bWJlci5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IHByb2ZpdCA+IDAgPyBgKyR7dGhpcy5jdXREb3duTnVtKHByb2ZpdCl9YCA6IHRoaXMuY3V0RG93bk51bShwcm9maXQpO1xyXG4gICAgICAgIHBhbmVsLmdldENoaWxkQnlOYW1lKFwibGFiX2VuZFRpbWVcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSByZWNvcmREYXRhW1wiZW5kX3RpbWVcIl07XHJcbiAgICAgICAgbnVtYmVyLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5saXN0ID0gbGlzdDtcclxuICAgICAgICB0aGlzLnNob3dWaWV3KHZpZXd0eXBlKTtcclxuICAgIH0sXHJcbiAgICAvL3R5cGUgPSAxIOaYryDlrZDlvLkg5YW25L2Z55qE5pivIOmxvFxyXG4gICAgc2hvd1ZpZXcodHlwZSkge1xyXG4gICAgICAgIGlmICh0eXBlID09IHRoaXMuY3VyclR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jdXJyVHlwZSA9IHR5cGU7XHJcbiAgICAgICAgdGhpcy5idWxsZXRfYm90dG9tLmFjdGl2ZSA9IHR5cGUgPT0gQ1VUX1RZUEUuQlVMTEVUO1xyXG4gICAgICAgIHRoaXMuZmlzaF9ib3R0b20uYWN0aXZlID0gdHlwZSA9PSBDVVRfVFlQRS5GSVNIO1xyXG4gICAgICAgIC8v5qCH6aKYXHJcbiAgICAgICAgbGV0IHRpdGxlRmlzaCA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcInVpX3R4dF9saW5lXCIpLmdldENoaWxkQnlOYW1lKFwiZmlzaFZpZXdcIik7XHJcbiAgICAgICAgbGV0IHRpdGxlQnVsbGV0ID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwidWlfdHh0X2xpbmVcIikuZ2V0Q2hpbGRCeU5hbWUoXCJidWxsZXRWaWV3XCIpO1xyXG4gICAgICAgIHRpdGxlQnVsbGV0LmFjdGl2ZSA9IHR5cGUgPT0gQ1VUX1RZUEUuQlVMTEVUO1xyXG4gICAgICAgIHRpdGxlRmlzaC5hY3RpdmUgPSAhdGl0bGVCdWxsZXQuYWN0aXZlO1xyXG4gICAgICAgIC8v5YiX6KGoIOWuueWZqFxyXG4gICAgICAgIGNvbnN0IFNob3cgPSAyNTU7XHJcbiAgICAgICAgY29uc3QgQ2xvc2UgPSAxO1xyXG4gICAgICAgIGNvbnN0IFNob3dJbmRleFogPSAxMDtcclxuICAgICAgICBjb25zdCBDbG9zZUluZGV4WiA9IDg7XHJcbiAgICAgICAgdGhpcy5idWxsZXRfc2Nyb2xsVmlldy5ub2RlLm9wYWNpdHkgPSB0eXBlID09IENVVF9UWVBFLkJVTExFVCA/IFNob3cgOiBDbG9zZTtcclxuICAgICAgICB0aGlzLmZpc2hfc2Nyb2xsVmlldy5ub2RlLm9wYWNpdHkgPSB0eXBlID09IENVVF9UWVBFLkZJU0ggPyBTaG93IDogQ2xvc2U7XHJcbiAgICAgICAgdGhpcy5idWxsZXRfc2Nyb2xsVmlldy5ub2RlLnpJbmRleCA9IHR5cGUgPT0gQ1VUX1RZUEUuQlVMTEVUID8gU2hvd0luZGV4WiA6IENsb3NlSW5kZXhaO1xyXG4gICAgICAgIHRoaXMuZmlzaF9zY3JvbGxWaWV3Lm5vZGUuekluZGV4ID0gdHlwZSA9PSBDVVRfVFlQRS5GSVNIID8gU2hvd0luZGV4WiA6IENsb3NlSW5kZXhaO1xyXG4gICAgICAgIC8v5a655ZmoY29udGVudFxyXG4gICAgICAgIGlmICh0eXBlID09IENVVF9UWVBFLkJVTExFVCAmJiB0aGlzLmJ1bGxldF9jb250ZW50LmNoaWxkcmVuQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGUgIT0gQ1VUX1RZUEUuQlVMTEVUICYmIHRoaXMuZmlzaF9jb250ZW50LmNoaWxkcmVuQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGUgPT0gQ1VUX1RZUEUuQlVMTEVUKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnVsbGV0X2NvbnRlbnQucmVtb3ZlQWxsQ2hpbGRyZW4oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmZpc2hfY29udGVudC5yZW1vdmVBbGxDaGlsZHJlbigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGUgPT0gQ1VUX1RZUEUuRklTSCkgey8v6bG8XHJcbiAgICAgICAgICAgIGxldCBmaXNoTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgZmlzaExpc3RJbmRleCA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGZpc2hJZCA9IE51bWJlcih0aGlzLmxpc3RbaV0uZmlzaElkKTtcclxuICAgICAgICAgICAgICAgIGxldCBmaXNoTmFtZSA9IHRoaXMubGlzdFtpXS5maXNoTmFtZTtcclxuICAgICAgICAgICAgICAgIGxldCByZXdhcmQgPSAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IHBjID0gMDtcclxuICAgICAgICAgICAgICAgIGxldCBjYXB0dXJlVGltZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmV3YXJkVGltZUZvcm1OdW1iZXIgPSAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvbnN1bWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IHByb2ZpdCA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXNLaWxsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmIChmaXNoTGlzdEluZGV4LmluZGV4T2YoZmlzaElkKSA9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5saXN0Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaXNoSWQgPT0gTnVtYmVyKHRoaXMubGlzdFtqXS5maXNoSWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IHRoaXMubGlzdFtqXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkLnJld2FyZCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXdhcmQgKz0gTnVtYmVyKGQucmV3YXJkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYyArPSBOdW1iZXIoZC5jb25zdW1lKSArIE51bWJlcihkLnByb2ZpdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXdhcmRUaW1lRm9ybU51bWJlciA9IGQuZGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN1bWUgKz0gTnVtYmVyKGQuY29uc3VtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9maXQgKz0gTnVtYmVyKGQucHJvZml0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkLmlzS2lsbGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNLaWxsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcHR1cmVUaW1lID0gbmV3IERhdGUoZC5kYXRlKS5Gb3JtYXQoXCJ5eXl5LU1NLWRkIGhoOm1tOnNzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZpc2hMaXN0SW5kZXgucHVzaChmaXNoSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpc2hMaXN0LnB1c2goeyBmaXNoSWQ6IGZpc2hJZCwgZmlzaE5hbWU6IGZpc2hOYW1lLCBwYzogcGMsIHJld2FyZDogcmV3YXJkLCBjb25zdW1lOiBjb25zdW1lLCBwcm9maXQ6IHByb2ZpdCwgY2FwdHVyZVRpbWU6IGNhcHR1cmVUaW1lLCB0aW1lOiByZXdhcmRUaW1lRm9ybU51bWJlciwgaXNLaWxsZWQ6IGlzS2lsbGVkIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZpc2hMaXN0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBiLnRpbWUgLSBhLnRpbWU7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlzaExpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBkID0gZmlzaExpc3RbaV07XHJcbiAgICAgICAgICAgICAgICBsZXQgaXRlbU5vZGUgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLmZpc2hfaXRlbSk7XHJcbiAgICAgICAgICAgICAgICBpdGVtTm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGl0ZW1Ob2RlLmdldENoaWxkQnlOYW1lKFwibGFiX25vXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gZC5maXNoSWQgKyBcIlwiOy8v6bG857yW5Y+3XHJcbiAgICAgICAgICAgICAgICBpdGVtTm9kZS5nZXRDaGlsZEJ5TmFtZShcImxhYl9maXNoTmFtZVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IGQuZmlzaE5hbWUgKyBcIlwiOy8v6bG8IOWQjeWtl1xyXG4gICAgICAgICAgICAgICAgaXRlbU5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJsYWJfZ2V0VGltZVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IFwi5pyq5o2V6I63XCI7XHJcbiAgICAgICAgICAgICAgICBpZiAoZC5pc0tpbGxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1Ob2RlLmdldENoaWxkQnlOYW1lKFwibGFiX2dldFRpbWVcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBkLmNhcHR1cmVUaW1lO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaXRlbU5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJsYWJfY29uc3VtZVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IHRoaXMuY3V0RG93bk51bShkLmNvbnN1bWUpICsgXCJcIjsvL+aAu+a2iOiAl1xyXG4gICAgICAgICAgICAgICAgaXRlbU5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJsYWJfZGlzdHJpYnV0ZVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IHRoaXMuY3V0RG93bk51bShkLnJld2FyZCkgKyBcIlwiOy8v5rS+5b2pXHJcbiAgICAgICAgICAgICAgICBpdGVtTm9kZS5nZXRDaGlsZEJ5TmFtZShcImxhYl93aW5cIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBcIitcIiArIHRoaXMuY3V0RG93bk51bShkLnByb2ZpdCk7Ly/mjZ/nm4og5q2jXHJcbiAgICAgICAgICAgICAgICBpdGVtTm9kZS5nZXRDaGlsZEJ5TmFtZShcImxhYl9sb3N0XCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gdGhpcy5jdXREb3duTnVtKGQucHJvZml0KSArIFwiXCI7Ly/mjZ/nm4og6LSfXHJcbiAgICAgICAgICAgICAgICBpdGVtTm9kZS5nZXRDaGlsZEJ5TmFtZShcImxhYl93aW5cIikuYWN0aXZlID0gZC5wcm9maXQgPj0gMDtcclxuICAgICAgICAgICAgICAgIGl0ZW1Ob2RlLmdldENoaWxkQnlOYW1lKFwibGFiX2xvc3RcIikuYWN0aXZlID0gZC5wcm9maXQgPCAwO1xyXG4gICAgICAgICAgICAgICAgaXRlbU5vZGUucGFyZW50ID0gdGhpcy5maXNoX2NvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgICBpdGVtTm9kZS5nZXRDaGlsZEJ5TmFtZShcImltZ190aWFvXCIpLmFjdGl2ZSA9IGkgJSAyICE9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZ2xHYW1lLnBhbmVsLnNob3dFZmZlY3ROb2RlKHRoaXMsIHRoaXMuZmlzaF9jb250ZW50LCAwLjAyLCB0cnVlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gQ1VUX1RZUEUuQlVMTEVUKSB7Ly/lrZDlvLlcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBidWxsZXREYXRhID0gdGhpcy5saXN0W2ldO1xyXG4gICAgICAgICAgICAgICAgbGV0IGl0ZW1Ob2RlO1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1cnJUaW1lID0gbmV3IERhdGUoYnVsbGV0RGF0YS5kYXRlKS5Gb3JtYXQoXCJ5eXl5LU1NLWRkIGhoOm1tOnNzXCIpO1xyXG4gICAgICAgICAgICAgICAgaXRlbU5vZGUgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLmJ1bGxldF9pdGVtKTtcclxuICAgICAgICAgICAgICAgIGl0ZW1Ob2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaXRlbU5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJsYWJfbm9cIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBidWxsZXREYXRhLmlkICsgXCJcIjsvL+WtkOW8uee8luWPt1xyXG4gICAgICAgICAgICAgICAgaXRlbU5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJsYWJfdGltZVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IGN1cnJUaW1lICsgXCJcIjsvL+aXtumXtFxyXG4gICAgICAgICAgICAgICAgaXRlbU5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJsYWJfdHlwZVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IENPTlNULkNhbm5vbkRlc2NbTnVtYmVyKGJ1bGxldERhdGEuY2Fubm9uVHlwZSldOy8v57G75Z6LXHJcbiAgICAgICAgICAgICAgICBpdGVtTm9kZS5nZXRDaGlsZEJ5TmFtZShcImxhYl9jb25zdW1lXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gdGhpcy5jdXREb3duTnVtKGJ1bGxldERhdGEuY29uc3VtZSkgKyBcIlwiOy8v5raI6ICXXHJcbiAgICAgICAgICAgICAgICBpdGVtTm9kZS5nZXRDaGlsZEJ5TmFtZShcImxhYl9maWFzaE5hbWVcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBidWxsZXREYXRhLmZpc2hOYW1lICsgXCJcIjsvL+mxvFxyXG4gICAgICAgICAgICAgICAgaXRlbU5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJsYWJfd2luX2NhcHR1cmVcIikuYWN0aXZlID0gYnVsbGV0RGF0YS5pc0tpbGxlZDsvL+aYr+WQpiDmjZXojrdcclxuICAgICAgICAgICAgICAgIGl0ZW1Ob2RlLmdldENoaWxkQnlOYW1lKFwibGFiX2xvc3RfY2FwdHVyZVwiKS5hY3RpdmUgPSAhaXRlbU5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJsYWJfd2luX2NhcHR1cmVcIikuYWN0aXZlOy8v5piv5ZCmIOaNleiOt1xyXG4gICAgICAgICAgICAgICAgaXRlbU5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJsYWJfZGlzdHJpYnV0ZVwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IHRoaXMuY3V0RG93bk51bShOdW1iZXIoYnVsbGV0RGF0YS5jb25zdW1lKSArIE51bWJlcihidWxsZXREYXRhLnByb2ZpdCkpICsgXCJcIjsvL+a0vuW9qVxyXG4gICAgICAgICAgICAgICAgaXRlbU5vZGUucGFyZW50ID0gdGhpcy5idWxsZXRfY29udGVudDtcclxuICAgICAgICAgICAgICAgIGl0ZW1Ob2RlLmdldENoaWxkQnlOYW1lKFwiaW1nX3RpYW9cIikuYWN0aXZlID0gaSAlIDIgIT0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBnbEdhbWUucGFuZWwuc2hvd0VmZmVjdE5vZGUodGhpcywgdGhpcy5idWxsZXRfY29udGVudCwgMC4wMiwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIG9uQ2xpY2sobmFtZSwgbm9kZSkge1xyXG4gICAgICAgIHN3aXRjaCAobmFtZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwidWlfQnRuQ2xvc2VcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMubm9kZS5wYXJlbnQucGFyZW50LmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImltZ19iYWNrXCI6IHRoaXMucmVtb3ZlKCk7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYnRuX3ppZGFuYW5uaXVcIjogdGhpcy5zaG93VmlldyhDVVRfVFlQRS5CVUxMRVQpOyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImJ0bl9maXNoYW5uaXVcIjogdGhpcy5zaG93VmlldyhDVVRfVFlQRS5GSVNIKTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgT25EZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZVJlY29yZCA9IG51bGw7XHJcbiAgICB9LFxyXG5cclxuICAgIC8v5oiq5Y+W5bCP5pWw54K55ZCO5Lik5L2NXHJcbiAgICBjdXREb3duTnVtKHZhbHVlLCBudW0gPSAyKSB7XHJcbiAgICAgICAgaWYgKGlzTmFOKHZhbHVlKSkgcmV0dXJuO1xyXG4gICAgICAgIGlmICh+fnZhbHVlID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWUuZGl2KDEwMCkudG9TdHJpbmcoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IE51bWJlcih2YWx1ZSkuZGl2KDEwMCk7XHJcbiAgICAgICAgICAgIHJldHVybiAoTWF0aC5mbG9vcih2YWx1ZSAqIDEwMCkgLyAxMDApLnRvRml4ZWQobnVtKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gZXZlbnRcclxuICAgICAqIEBwYXJhbSB0eXBlIFVJ57yW6L6R5Zmo5Lyg5Y+CIOacieWAvOWwseS4jeWBmuaMiemSrui/nueCuei/h+a7pCjkuJTkuI3nrYnkuo7nibnmrorpn7PmlYjlrZfmrrUpICDkvb/nlKhzZWxlY3TliIbpobXmjInpkq5cclxuICAgICAqIEBFeHBsYWluIEJ1dHRvbueCueWHu+S6i+S7tue7n+S4gOiwg+eUqFxyXG4gICAgICovXHJcbiAgICBPbkNsaWNrQnV0dG9uKGV2ZW50LCB0eXBlKSB7XHJcbiAgICAgICAgbGV0IGJ1dHRvbk5hbWUgPSBldmVudC50YXJnZXQubmFtZTtcclxuICAgICAgICBsZXQgYnV0dG9uTm9kZSA9IGV2ZW50LnRhcmdldDtcclxuICAgICAgICBjb25zb2xlLmxvZyhg54K55Ye75LqGYnV0dG9uIC0+ICR7YnV0dG9uTmFtZX1gKTtcclxuICAgICAgICBzd2l0Y2ggKGJ1dHRvbk5hbWUpIHtcclxuICAgICAgICAgICAgY2FzZSBcImNsb3NlX2VmZlwiOiAgICAgICAgLy/lvZPliY3nlYzpnaLmnInmkq3mlL7nibnplb/pn7PmlYjnmoTlhbPpl63mjInpkq5cclxuICAgICAgICAgICAgICAgIGdsR2FtZS5hdWRpby5jbG9zZUN1ckVmZmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgZ2xHYW1lLmF1ZGlvLnBsYXlMb2FkU291bmRFZmZlY3RCeVBhdGgoXCJjbG9zZVwiKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiY2xvc2VcIjpcclxuICAgICAgICAgICAgICAgIGdsR2FtZS5hdWRpby5wbGF5TG9hZFNvdW5kRWZmZWN0QnlQYXRoKFwiY2xvc2VcIik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09IFwic2VsZWN0XCIpIGdsR2FtZS5hdWRpby5wbGF5TG9hZFNvdW5kRWZmZWN0QnlQYXRoKFwic2VsZWN0XCIpO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBnbEdhbWUuYXVkaW8ucGxheUxvYWRTb3VuZEVmZmVjdEJ5UGF0aChcImNsaWNrXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9uQ2xpY2soYnV0dG9uTmFtZSwgYnV0dG9uTm9kZSk7XHJcbiAgICB9LFxyXG59KTsiXX0=