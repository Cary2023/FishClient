
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/modules/games/nfish/script/prefab/nfish_cornucopia.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f5816pm9epAiK+ZUWUDUtuk', 'nfish_cornucopia');
// modules/games/nfish/script/prefab/nfish_cornucopia.js

"use strict";

var CONST = require("nfishConst"); //拉霸


glGame.baseclass.extend({
  properties: {
    nodeNumber: cc.Node,
    nodeView: cc.Node,
    door: cc.Node,
    img_door_open: cc.Node,
    img_door_close: cc.Node,
    // litght: cc.Node,
    spine_boom: cc.Node,
    mask: cc.Node,
    //金币银币漂移动画 图集
    moneyEffect_Atlas: {
      "default": null,
      displayName: "moneyEffect_Atlas",
      tooltip: "金币银币漂移动画 图集",
      type: cc.SpriteAtlas
    }
  },
  onLoad: function onLoad() {
    this.logic = require("nfishlogic").getInstance(); //数据中心

    this.stopTime = -1;
    this.runSpeed = 0;
    this.nodeView.scale = 0;
    this.node.stopAllActions();
    this.node.scale = 1;
    this.cuarr_gonudaner = 1;
    this.strobeFrequency = 0.1;
    this.strobeTime = 1;
    this.data = null;
  },
  //开始拉霸
  startRunCornucopia: function startRunCornucopia(res) {
    var _this = this;

    var fontIndex = this.logic.getRandomNum(1, 8);

    for (var i = 1; i < 9; i++) {
      this.door.getChildByName("img_font" + i).active = i == fontIndex;
    }

    this.node.active = true;
    this.node.getChildByName("mask").getComponent(cc.BlockInputEvents).enabled = true;
    this.data = res;
    this.mask.active = true;
    this.mask.getComponent(cc.Widget).updateAlignment();
    var Normal = 255;
    this.nodeView.scale = 0;
    this.node.opacity = Normal;
    this.spine_boom.active = false;
    this.logic.playSpine(this.node.getChildByName("spine_show"), false, true, CONST.SpineName.TurnTableShowTime);
    this.nodeView.stopAllActions();
    this.nodeView.runAction(cc.sequence(cc.delayTime(0.1), cc.scaleTo(0.15, 1.2), cc.scaleTo(0.15, 1)));
    this.door.active = true;
    this.door.stopAllActions();
    this.door.setPosition(this.img_door_close.position);
    var MaxNum = 6;

    for (var _i = 0; _i < MaxNum; _i++) {
      var num = this.nodeNumber.getChildByName("" + _i);
      var top_num = this.nodeNumber.getChildByName("t_" + _i);
      top_num.getComponent(cc.Label).string = this.logic.getRandomNum(1, 9);
      num.getComponent(cc.Label).string = "0";
    }

    this.door.runAction(cc.sequence(cc.delayTime(0.7), cc.moveTo(0.3, this.img_door_open.position), cc.callFunc(function () {
      var Count = 7;
      var Frequency = 0.65;
      var StartTimes = 1;
      var reward = parseInt(_this.logic.getFloat(res.rewardGold));
      var str_reward = reward.toString();
      var numCount = MaxNum - str_reward.length;

      for (var _i2 = 0; _i2 < numCount; _i2++) {
        str_reward = "0" + str_reward;
      }

      for (var _i3 = 0; _i3 < MaxNum; _i3++) {
        var _num = _this.nodeNumber.getChildByName("" + _i3);

        var _top_num = _this.nodeNumber.getChildByName("t_" + _i3);

        _num.stopTime = _top_num.stopTime = (Count - (StartTimes + _i3)) * Frequency; //单个停止时间

        _num.num = _top_num.num = str_reward.charAt(_i3);
      }

      _this.stopTime = 4; //所有停止时间

      _this.runSpeed = 1000; //运行速度
    })));
  },
  update: function update(dt) {
    var _this2 = this;

    var NumMax = 6;
    var Offsex = 160;
    var Speed = 260;

    if (this.stopTime > 0) {
      var LightNum = 4;

      if (this.runSpeed < 2600) {
        this.runSpeed += dt * Speed;
      }

      for (var i = 0; i < NumMax; i++) {
        var num = this.nodeNumber.getChildByName("" + i);
        var top_num = this.nodeNumber.getChildByName("t_" + i);

        if (num.stopTime != null) {
          if (num.stopTime > 0) {
            num.stopTime -= dt;
            num.getComponent(cc.Label).string = this.logic.getRandomNum(i == 0 ? 1 : 0, 9);
            num.y -= dt * this.runSpeed;

            if (num.y <= -Offsex) {
              num.y = Offsex;
            }
          } else {
            num.stopTime = null;
            num.y = 0;
            num.getComponent(cc.Label).string = num.num;
            glGame.emitter.emit(CONST.clientEvent.fishSound, "juBaoShowNum"); //聚宝盆显示数字
          }
        }

        if (top_num.stopTime != null) {
          if (top_num.stopTime > 0) {
            top_num.stopTime -= dt;
            top_num.getComponent(cc.Label).string = this.logic.getRandomNum(i == 0 ? 1 : 0, 9);
            top_num.y -= dt * this.runSpeed;

            if (top_num.y <= -Offsex) {
              top_num.y = Offsex;
            }
          } else {
            top_num.y = Offsex;
            top_num.getComponent(cc.Label).string = num.num;
          }
        }
      }

      this.stopTime -= dt;
    } else {
      if (this.stopTime > -1) {
        this.stopTime = -1;

        for (var _i4 = 0; _i4 < NumMax; _i4++) {
          var _num2 = this.nodeNumber.getChildByName("" + _i4);

          var _top_num2 = this.nodeNumber.getChildByName("t_" + _i4);

          _num2.getComponent(cc.Label).string = _num2.num;
          _num2.y = 0;
          _top_num2.y = Offsex;
        }

        this.door.runAction(cc.sequence(cc.moveTo(0.7, this.img_door_open.position), cc.callFunc(function () {
          _this2.flyGoldEffect(_this2.data);
        })));
      }
    }
  },
  //漂移金币动画
  flyGoldEffect: function flyGoldEffect(res) {
    var _this3 = this;

    glGame.emitter.emit(CONST.clientEvent.fishSound, "juBaoGet"); //聚宝盆获得

    this.logic.playSpine(this.spine_boom, false, false, CONST.SpineName.Normal);
    var glodEndPosPer = this.logic.getIsRotation() ? "glodEndPosR" : "glodEndPos";
    var targetPosition = this.node.getChildByName("posList").getChildByName(glodEndPosPer + res.seatNum).position;
    var Multiple = 100;
    var MaxCoin = 70; //最大数量

    var CoinSaclc = 3;
    var effectCoin = Math.ceil(res.rewardGold / Multiple) * CoinSaclc;

    if (effectCoin > MaxCoin) {
      effectCoin = MaxCoin;
    }

    var StartName = 0;
    var endName = 9;
    var plyTime = 8;
    var isHaveZero = false;
    var speed = 0.035;
    var plyedDestroy = false;
    var isRandomPly = 1;
    var RandomOffsexX = 30;
    var RandomOffsexY = 50;
    var RandomMinY = 20;
    var OneDelayTime = 0.01;
    var TwoDelayTime = 0.05;
    var ScaleToTime = 0.3;
    var BezierToTime = 0.5;
    var ScaleToArg = 0.8;
    var FadeToTime = 0.1;
    var MoveToTime = 0.15;
    var EndOpacity = 255;
    var glodStartPer = this.logic.getIsRotation() ? "glodStartPosR" : "glodStartPos";

    var _loop = function _loop(i) {
      var startPos = _this3.node.getChildByName("posList").getChildByName(glodStartPer + parseInt(Math.random() * 5 + 1)).position;

      var ui_CoinEffect = _this3.logic.creatorEffect();

      ui_CoinEffect.x = startPos.x;
      ui_CoinEffect.y = startPos.y;
      ui_CoinEffect.active = true;
      ui_CoinEffect.parent = null;
      ui_CoinEffect.opacity = 0;
      var playName = "gold";
      ui_CoinEffect.getComponent("nfish_MovieClip").initEffect(_this3.moneyEffect_Atlas, playName, StartName, endName, plyTime, isHaveZero, speed, plyedDestroy, null, isRandomPly);

      _this3.node.addChild(ui_CoinEffect);

      var upPos = cc.v2(ui_CoinEffect.position.x + Math.random() * RandomOffsexX, ui_CoinEffect.position.y + Math.random() * RandomOffsexY + RandomMinY);

      if (res.seatNum == CONST.Seat.LeftTop || res.seatNum == CONST.Seat.RightTop) {
        upPos = cc.v2(ui_CoinEffect.position.x + Math.random() * RandomOffsexX, ui_CoinEffect.position.y - (Math.random() * RandomOffsexY + RandomMinY));
      }

      var bounceAct1 = cc.spawn(cc.fadeTo(FadeToTime, EndOpacity), cc.moveTo(MoveToTime, ui_CoinEffect.position));
      var bounceAct2 = cc.moveTo(MoveToTime, upPos);
      var bezierPoint = cc.v2(targetPosition.x, ui_CoinEffect.position.y);
      var act = cc.spawn(cc.scaleTo(ScaleToTime, ScaleToArg, ScaleToArg), cc.bezierTo(BezierToTime, [upPos, bezierPoint, cc.v2(targetPosition.x, targetPosition.y)]));
      ui_CoinEffect.runAction(cc.sequence(cc.delayTime(i * OneDelayTime), bounceAct1, bounceAct2, act, cc.delayTime(TwoDelayTime), cc.callFunc(function () {
        ui_CoinEffect.destroy();
      })));
    };

    for (var i = 0; i < effectCoin; i++) {
      _loop(i);
    }

    var endGlodTime = 1; //最后一个金币漂移的时间

    var CornucopiaScaleToArg = 0;
    var CornucopiaScaleToTime = 0.3;
    this.door.runAction(cc.sequence(cc.delayTime(endGlodTime), cc.moveTo(1, this.img_door_close.position), cc.callFunc(function () {
      _this3.node.stopAllActions();

      _this3.node.runAction(cc.sequence(cc.delayTime(endGlodTime / 2), cc.fadeTo(CornucopiaScaleToTime, CornucopiaScaleToArg), cc.callFunc(function () {
        _this3.logic.isYuRuyiRuning = false;
        _this3.mask.active = false;

        if (_this3.logic.seatNum == res.seatNum) {
          glGame.emitter.emit(CONST.clientEvent.addGoldEffect, res);
        }
      })));
    })));
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcbW9kdWxlc1xcZ2FtZXNcXG5maXNoXFxzY3JpcHRcXHByZWZhYlxcbmZpc2hfY29ybnVjb3BpYS5qcyJdLCJuYW1lcyI6WyJDT05TVCIsInJlcXVpcmUiLCJnbEdhbWUiLCJiYXNlY2xhc3MiLCJleHRlbmQiLCJwcm9wZXJ0aWVzIiwibm9kZU51bWJlciIsImNjIiwiTm9kZSIsIm5vZGVWaWV3IiwiZG9vciIsImltZ19kb29yX29wZW4iLCJpbWdfZG9vcl9jbG9zZSIsInNwaW5lX2Jvb20iLCJtYXNrIiwibW9uZXlFZmZlY3RfQXRsYXMiLCJkaXNwbGF5TmFtZSIsInRvb2x0aXAiLCJ0eXBlIiwiU3ByaXRlQXRsYXMiLCJvbkxvYWQiLCJsb2dpYyIsImdldEluc3RhbmNlIiwic3RvcFRpbWUiLCJydW5TcGVlZCIsInNjYWxlIiwibm9kZSIsInN0b3BBbGxBY3Rpb25zIiwiY3VhcnJfZ29udWRhbmVyIiwic3Ryb2JlRnJlcXVlbmN5Iiwic3Ryb2JlVGltZSIsImRhdGEiLCJzdGFydFJ1bkNvcm51Y29waWEiLCJyZXMiLCJmb250SW5kZXgiLCJnZXRSYW5kb21OdW0iLCJpIiwiZ2V0Q2hpbGRCeU5hbWUiLCJhY3RpdmUiLCJnZXRDb21wb25lbnQiLCJCbG9ja0lucHV0RXZlbnRzIiwiZW5hYmxlZCIsIldpZGdldCIsInVwZGF0ZUFsaWdubWVudCIsIk5vcm1hbCIsIm9wYWNpdHkiLCJwbGF5U3BpbmUiLCJTcGluZU5hbWUiLCJUdXJuVGFibGVTaG93VGltZSIsInJ1bkFjdGlvbiIsInNlcXVlbmNlIiwiZGVsYXlUaW1lIiwic2NhbGVUbyIsInNldFBvc2l0aW9uIiwicG9zaXRpb24iLCJNYXhOdW0iLCJudW0iLCJ0b3BfbnVtIiwiTGFiZWwiLCJzdHJpbmciLCJtb3ZlVG8iLCJjYWxsRnVuYyIsIkNvdW50IiwiRnJlcXVlbmN5IiwiU3RhcnRUaW1lcyIsInJld2FyZCIsInBhcnNlSW50IiwiZ2V0RmxvYXQiLCJyZXdhcmRHb2xkIiwic3RyX3Jld2FyZCIsInRvU3RyaW5nIiwibnVtQ291bnQiLCJsZW5ndGgiLCJjaGFyQXQiLCJ1cGRhdGUiLCJkdCIsIk51bU1heCIsIk9mZnNleCIsIlNwZWVkIiwiTGlnaHROdW0iLCJ5IiwiZW1pdHRlciIsImVtaXQiLCJjbGllbnRFdmVudCIsImZpc2hTb3VuZCIsImZseUdvbGRFZmZlY3QiLCJnbG9kRW5kUG9zUGVyIiwiZ2V0SXNSb3RhdGlvbiIsInRhcmdldFBvc2l0aW9uIiwic2VhdE51bSIsIk11bHRpcGxlIiwiTWF4Q29pbiIsIkNvaW5TYWNsYyIsImVmZmVjdENvaW4iLCJNYXRoIiwiY2VpbCIsIlN0YXJ0TmFtZSIsImVuZE5hbWUiLCJwbHlUaW1lIiwiaXNIYXZlWmVybyIsInNwZWVkIiwicGx5ZWREZXN0cm95IiwiaXNSYW5kb21QbHkiLCJSYW5kb21PZmZzZXhYIiwiUmFuZG9tT2Zmc2V4WSIsIlJhbmRvbU1pblkiLCJPbmVEZWxheVRpbWUiLCJUd29EZWxheVRpbWUiLCJTY2FsZVRvVGltZSIsIkJlemllclRvVGltZSIsIlNjYWxlVG9BcmciLCJGYWRlVG9UaW1lIiwiTW92ZVRvVGltZSIsIkVuZE9wYWNpdHkiLCJnbG9kU3RhcnRQZXIiLCJzdGFydFBvcyIsInJhbmRvbSIsInVpX0NvaW5FZmZlY3QiLCJjcmVhdG9yRWZmZWN0IiwieCIsInBhcmVudCIsInBsYXlOYW1lIiwiaW5pdEVmZmVjdCIsImFkZENoaWxkIiwidXBQb3MiLCJ2MiIsIlNlYXQiLCJMZWZ0VG9wIiwiUmlnaHRUb3AiLCJib3VuY2VBY3QxIiwic3Bhd24iLCJmYWRlVG8iLCJib3VuY2VBY3QyIiwiYmV6aWVyUG9pbnQiLCJhY3QiLCJiZXppZXJUbyIsImRlc3Ryb3kiLCJlbmRHbG9kVGltZSIsIkNvcm51Y29waWFTY2FsZVRvQXJnIiwiQ29ybnVjb3BpYVNjYWxlVG9UaW1lIiwiaXNZdVJ1eWlSdW5pbmciLCJhZGRHb2xkRWZmZWN0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLEtBQUssR0FB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R0FBRyxDQUFDd0QsT0FBN0IsRUFBc0M7QUFDbEN2RixVQUFBQSxNQUFNLENBQUMrRSxPQUFQLENBQWVDLElBQWYsQ0FBb0JsRixLQUFLLENBQUNtRixXQUFOLENBQWtCMEQsYUFBdEMsRUFBcUQ1RyxHQUFyRDtBQUNIO0FBQ0osT0FOa0gsQ0FBL0YsQ0FBcEI7QUFPSCxLQVRtRyxDQUFoRixDQUFwQjtBQVVIO0FBak9tQixDQUF4QiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsibGV0IENPTlNUID0gcmVxdWlyZShcIm5maXNoQ29uc3RcIik7XHJcbi8v5ouJ6Zy4XHJcbmdsR2FtZS5iYXNlY2xhc3MuZXh0ZW5kKHtcclxuICAgIHByb3BlcnRpZXM6IHtcclxuICAgICAgICBub2RlTnVtYmVyOiBjYy5Ob2RlLFxyXG4gICAgICAgIG5vZGVWaWV3OiBjYy5Ob2RlLFxyXG4gICAgICAgIGRvb3I6IGNjLk5vZGUsXHJcbiAgICAgICAgaW1nX2Rvb3Jfb3BlbjogY2MuTm9kZSxcclxuICAgICAgICBpbWdfZG9vcl9jbG9zZTogY2MuTm9kZSxcclxuICAgICAgICAvLyBsaXRnaHQ6IGNjLk5vZGUsXHJcbiAgICAgICAgc3BpbmVfYm9vbTogY2MuTm9kZSxcclxuICAgICAgICBtYXNrOiBjYy5Ob2RlLFxyXG4gICAgICAgICAvL+mHkeW4gemTtuW4gea8guenu+WKqOeUuyDlm77pm4ZcclxuICAgICAgICAgbW9uZXlFZmZlY3RfQXRsYXM6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcclxuICAgICAgICAgICAgZGlzcGxheU5hbWU6IFwibW9uZXlFZmZlY3RfQXRsYXNcIixcclxuICAgICAgICAgICAgdG9vbHRpcDogXCLph5HluIHpk7bluIHmvILnp7vliqjnlLsg5Zu+6ZuGXCIsXHJcbiAgICAgICAgICAgIHR5cGU6Y2MuU3ByaXRlQXRsYXMsXHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBvbkxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2dpYyA9IHJlcXVpcmUoXCJuZmlzaGxvZ2ljXCIpLmdldEluc3RhbmNlKCk7Ly/mlbDmja7kuK3lv4NcclxuICAgICAgICB0aGlzLnN0b3BUaW1lID0gLTE7XHJcbiAgICAgICAgdGhpcy5ydW5TcGVlZCA9IDA7XHJcbiAgICAgICAgdGhpcy5ub2RlVmlldy5zY2FsZSA9IDA7XHJcbiAgICAgICAgdGhpcy5ub2RlLnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgdGhpcy5ub2RlLnNjYWxlID0gMTtcclxuICAgICAgICB0aGlzLmN1YXJyX2dvbnVkYW5lciA9IDE7XHJcbiAgICAgICAgdGhpcy5zdHJvYmVGcmVxdWVuY3kgPSAwLjE7XHJcbiAgICAgICAgdGhpcy5zdHJvYmVUaW1lID0gMTtcclxuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xyXG4gICAgfSxcclxuICAgIC8v5byA5aeL5ouJ6Zy4XHJcbiAgICBzdGFydFJ1bkNvcm51Y29waWEocmVzKXtcclxuICAgICAgICBsZXQgZm9udEluZGV4ID0gdGhpcy5sb2dpYy5nZXRSYW5kb21OdW0oMSw4KTtcclxuICAgICAgICBmb3IobGV0IGk9MTtpPDk7aSsrKXtcclxuICAgICAgICAgICAgdGhpcy5kb29yLmdldENoaWxkQnlOYW1lKFwiaW1nX2ZvbnRcIitpKS5hY3RpdmUgPSBpID09IGZvbnRJbmRleDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwibWFza1wiKS5nZXRDb21wb25lbnQoY2MuQmxvY2tJbnB1dEV2ZW50cykuZW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gcmVzO1xyXG4gICAgICAgIHRoaXMubWFzay5hY3RpdmUgPSB0cnVlXHJcbiAgICAgICAgdGhpcy5tYXNrLmdldENvbXBvbmVudChjYy5XaWRnZXQpLnVwZGF0ZUFsaWdubWVudCgpO1xyXG4gICAgICAgIGNvbnN0IE5vcm1hbCA9IDI1NTtcclxuICAgICAgICB0aGlzLm5vZGVWaWV3LnNjYWxlID0gMDtcclxuICAgICAgICB0aGlzLm5vZGUub3BhY2l0eSA9IE5vcm1hbDtcclxuICAgICAgICB0aGlzLnNwaW5lX2Jvb20uYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5sb2dpYy5wbGF5U3BpbmUodGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwic3BpbmVfc2hvd1wiKSxmYWxzZSx0cnVlLENPTlNULlNwaW5lTmFtZS5UdXJuVGFibGVTaG93VGltZSk7XHJcbiAgICAgICAgdGhpcy5ub2RlVmlldy5zdG9wQWxsQWN0aW9ucygpO1xyXG4gICAgICAgIHRoaXMubm9kZVZpZXcucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLmRlbGF5VGltZSgwLjEpLGNjLnNjYWxlVG8oMC4xNSwxLjIpLGNjLnNjYWxlVG8oMC4xNSwxKSkpO1xyXG4gICAgICAgIHRoaXMuZG9vci5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZG9vci5zdG9wQWxsQWN0aW9ucygpO1xyXG4gICAgICAgIHRoaXMuZG9vci5zZXRQb3NpdGlvbih0aGlzLmltZ19kb29yX2Nsb3NlLnBvc2l0aW9uKTtcclxuICAgICAgICBjb25zdCBNYXhOdW0gPSA2O1xyXG4gICAgICAgIGZvciAobGV0IGk9MDtpPE1heE51bTtpKyspIHtcclxuICAgICAgICAgICAgbGV0IG51bSA9IHRoaXMubm9kZU51bWJlci5nZXRDaGlsZEJ5TmFtZShcIlwiICsgaSk7XHJcbiAgICAgICAgICAgIGxldCB0b3BfbnVtID0gdGhpcy5ub2RlTnVtYmVyLmdldENoaWxkQnlOYW1lKFwidF9cIiArIGkpO1xyXG4gICAgICAgICAgICB0b3BfbnVtLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gdGhpcy5sb2dpYy5nZXRSYW5kb21OdW0oMSw5KTtcclxuICAgICAgICAgICAgbnVtLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCIwXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZG9vci5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MuZGVsYXlUaW1lKDAuNyksY2MubW92ZVRvKDAuMyx0aGlzLmltZ19kb29yX29wZW4ucG9zaXRpb24pLGNjLmNhbGxGdW5jKCgpPT57XHJcbiAgICAgICAgICAgIGNvbnN0IENvdW50ID0gNztcclxuICAgICAgICAgICAgY29uc3QgRnJlcXVlbmN5ID0gMC42NTtcclxuICAgICAgICAgICAgY29uc3QgU3RhcnRUaW1lcyA9IDE7XHJcblxyXG4gICAgICAgICAgICBsZXQgcmV3YXJkID0gIHBhcnNlSW50KHRoaXMubG9naWMuZ2V0RmxvYXQocmVzLnJld2FyZEdvbGQpKTtcclxuICAgICAgICAgICAgbGV0IHN0cl9yZXdhcmQgPSByZXdhcmQudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgbGV0IG51bUNvdW50ID0gTWF4TnVtIC0gc3RyX3Jld2FyZC5sZW5ndGg7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtQ291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgc3RyX3Jld2FyZCA9IFwiMFwiICsgc3RyX3Jld2FyZFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAobGV0IGk9MDtpPE1heE51bTtpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBudW0gPSB0aGlzLm5vZGVOdW1iZXIuZ2V0Q2hpbGRCeU5hbWUoXCJcIiArIGkpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHRvcF9udW0gPSB0aGlzLm5vZGVOdW1iZXIuZ2V0Q2hpbGRCeU5hbWUoXCJ0X1wiICsgaSk7XHJcbiAgICAgICAgICAgICAgICBudW0uc3RvcFRpbWUgPSB0b3BfbnVtLnN0b3BUaW1lID0gKENvdW50LShTdGFydFRpbWVzK2kpKSAqIEZyZXF1ZW5jeTsvL+WNleS4quWBnOatouaXtumXtFxyXG4gICAgICAgICAgICAgICAgbnVtLm51bSA9IHRvcF9udW0ubnVtID0gc3RyX3Jld2FyZC5jaGFyQXQoaSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3RvcFRpbWUgPSA0Oy8v5omA5pyJ5YGc5q2i5pe26Ze0XHJcbiAgICAgICAgICAgIHRoaXMucnVuU3BlZWQgPSAxMDAwOy8v6L+Q6KGM6YCf5bqmXHJcbiAgICAgICAgfSkpKTtcclxuICAgIH0sXHJcblxyXG4gICAgdXBkYXRlKGR0KXtcclxuICAgICAgICBjb25zdCBOdW1NYXggPSA2O1xyXG4gICAgICAgIGNvbnN0IE9mZnNleCA9IDE2MDtcclxuICAgICAgICBjb25zdCBTcGVlZCA9IDI2MDtcclxuICAgICAgICBpZih0aGlzLnN0b3BUaW1lID4gMCl7XHJcbiAgICAgICAgICAgIGNvbnN0IExpZ2h0TnVtID0gNDtcclxuICAgICAgICAgICAgaWYodGhpcy5ydW5TcGVlZCA8IDI2MDApe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ydW5TcGVlZCArPSBkdCAqIFNwZWVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAobGV0IGk9MDtpPE51bU1heDtpKyspe1xyXG4gICAgICAgICAgICAgICAgbGV0IG51bSA9IHRoaXMubm9kZU51bWJlci5nZXRDaGlsZEJ5TmFtZShcIlwiK2kpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHRvcF9udW0gPSB0aGlzLm5vZGVOdW1iZXIuZ2V0Q2hpbGRCeU5hbWUoXCJ0X1wiK2kpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKG51bS5zdG9wVGltZSAhPSBudWxsKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihudW0uc3RvcFRpbWUgPiAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtLnN0b3BUaW1lIC09IGR0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBudW0uZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSB0aGlzLmxvZ2ljLmdldFJhbmRvbU51bShpPT0wPzE6MCw5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtLnkgLT0gZHQgKiB0aGlzLnJ1blNwZWVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihudW0ueSA8PSAtT2Zmc2V4KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bS55ID0gT2Zmc2V4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bS5zdG9wVGltZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bS55ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gbnVtLm51bTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2xHYW1lLmVtaXR0ZXIuZW1pdChDT05TVC5jbGllbnRFdmVudC5maXNoU291bmQsXCJqdUJhb1Nob3dOdW1cIik7Ly/ogZrlrp3nm4bmmL7npLrmlbDlrZdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYodG9wX251bS5zdG9wVGltZSAhPSBudWxsKXtcclxuICAgICAgICAgICAgICAgICAgICBpZih0b3BfbnVtLnN0b3BUaW1lID4gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcF9udW0uc3RvcFRpbWUgLT0gZHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcF9udW0uZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSB0aGlzLmxvZ2ljLmdldFJhbmRvbU51bShpPT0wPzE6MCw5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wX251bS55IC09IGR0ICogdGhpcy5ydW5TcGVlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYodG9wX251bS55IDw9IC1PZmZzZXgpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wX251bS55ID0gT2Zmc2V4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcF9udW0ueSA9IE9mZnNleDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wX251bS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IG51bS5udW07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcFRpbWUgLT0gZHQ7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RvcFRpbWUgPiAtMSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3BUaW1lID0gLTE7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaT0wO2k8TnVtTWF4O2krKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG51bSA9IHRoaXMubm9kZU51bWJlci5nZXRDaGlsZEJ5TmFtZShcIlwiK2kpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0b3BfbnVtID0gdGhpcy5ub2RlTnVtYmVyLmdldENoaWxkQnlOYW1lKFwidF9cIitpKTtcclxuICAgICAgICAgICAgICAgICAgICBudW0uZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBudW0ubnVtO1xyXG4gICAgICAgICAgICAgICAgICAgIG51bS55ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB0b3BfbnVtLnkgPSBPZmZzZXg7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5kb29yLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5tb3ZlVG8oMC43LHRoaXMuaW1nX2Rvb3Jfb3Blbi5wb3NpdGlvbiksY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZseUdvbGRFZmZlY3QodGhpcy5kYXRhKTtcclxuICAgICAgICAgICAgICAgIH0pKSk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8v5ryC56e76YeR5biB5Yqo55S7XHJcbiAgICBmbHlHb2xkRWZmZWN0KHJlcykge1xyXG4gICAgICAgIGdsR2FtZS5lbWl0dGVyLmVtaXQoQ09OU1QuY2xpZW50RXZlbnQuZmlzaFNvdW5kLFwianVCYW9HZXRcIik7Ly/ogZrlrp3nm4bojrflvpdcclxuICAgICAgICB0aGlzLmxvZ2ljLnBsYXlTcGluZSh0aGlzLnNwaW5lX2Jvb20sZmFsc2UsZmFsc2UsQ09OU1QuU3BpbmVOYW1lLk5vcm1hbCk7XHJcblxyXG4gICAgICAgIGxldCBnbG9kRW5kUG9zUGVyID0gdGhpcy5sb2dpYy5nZXRJc1JvdGF0aW9uKCkgPyBcImdsb2RFbmRQb3NSXCIgOiBcImdsb2RFbmRQb3NcIjtcclxuICAgICAgICBsZXQgdGFyZ2V0UG9zaXRpb24gPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJwb3NMaXN0XCIpLmdldENoaWxkQnlOYW1lKGdsb2RFbmRQb3NQZXIgKyByZXMuc2VhdE51bSkucG9zaXRpb247XHJcblxyXG4gICAgICAgIGNvbnN0IE11bHRpcGxlID0gMTAwO1xyXG4gICAgICAgIGNvbnN0IE1heENvaW4gPSA3MDsvL+acgOWkp+aVsOmHj1xyXG4gICAgICAgIGNvbnN0IENvaW5TYWNsYyAgICAgID0gMztcclxuXHJcbiAgICAgICAgbGV0IGVmZmVjdENvaW4gPSBNYXRoLmNlaWwocmVzLnJld2FyZEdvbGQgLyBNdWx0aXBsZSkqQ29pblNhY2xjO1xyXG5cclxuICAgICAgICBpZiAoZWZmZWN0Q29pbiA+IE1heENvaW4pIHtcclxuICAgICAgICAgICAgZWZmZWN0Q29pbiA9IE1heENvaW47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBTdGFydE5hbWUgPSAwO1xyXG4gICAgICAgIGNvbnN0IGVuZE5hbWUgPSA5O1xyXG4gICAgICAgIGNvbnN0IHBseVRpbWUgPSA4O1xyXG4gICAgICAgIGNvbnN0IGlzSGF2ZVplcm8gPSBmYWxzZTtcclxuICAgICAgICBjb25zdCBzcGVlZCA9IDAuMDM1O1xyXG4gICAgICAgIGNvbnN0IHBseWVkRGVzdHJveSA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IGlzUmFuZG9tUGx5ID0gMTtcclxuXHJcblxyXG4gICAgICAgIGNvbnN0IFJhbmRvbU9mZnNleFggPSAzMDtcclxuICAgICAgICBjb25zdCBSYW5kb21PZmZzZXhZID0gNTA7XHJcbiAgICAgICAgY29uc3QgUmFuZG9tTWluWSA9IDIwO1xyXG5cclxuICAgICAgICBjb25zdCBPbmVEZWxheVRpbWUgPSAwLjAxO1xyXG4gICAgICAgIGNvbnN0IFR3b0RlbGF5VGltZSA9IDAuMDU7XHJcbiAgICAgICAgY29uc3QgU2NhbGVUb1RpbWUgPSAwLjM7XHJcbiAgICAgICAgY29uc3QgQmV6aWVyVG9UaW1lID0gMC41O1xyXG4gICAgICAgIGNvbnN0IFNjYWxlVG9BcmcgPSAwLjg7XHJcbiAgICAgICAgY29uc3QgRmFkZVRvVGltZSA9IDAuMTtcclxuICAgICAgICBjb25zdCBNb3ZlVG9UaW1lID0gMC4xNTtcclxuICAgICAgICBjb25zdCBFbmRPcGFjaXR5ID0gMjU1O1xyXG5cclxuICAgICAgICBsZXQgZ2xvZFN0YXJ0UGVyID0gdGhpcy5sb2dpYy5nZXRJc1JvdGF0aW9uKCkgPyBcImdsb2RTdGFydFBvc1JcIiA6IFwiZ2xvZFN0YXJ0UG9zXCI7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlZmZlY3RDb2luOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHN0YXJ0UG9zID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKFwicG9zTGlzdFwiKS5nZXRDaGlsZEJ5TmFtZShnbG9kU3RhcnRQZXIgKyBwYXJzZUludChNYXRoLnJhbmRvbSgpICogNSArMSkpLnBvc2l0aW9uO1xyXG4gICAgICAgICAgICBsZXQgdWlfQ29pbkVmZmVjdCA9IHRoaXMubG9naWMuY3JlYXRvckVmZmVjdCgpO1xyXG4gICAgICAgICAgICB1aV9Db2luRWZmZWN0LnggPSBzdGFydFBvcy54O1xyXG4gICAgICAgICAgICB1aV9Db2luRWZmZWN0LnkgPSBzdGFydFBvcy55O1xyXG4gICAgICAgICAgICB1aV9Db2luRWZmZWN0LmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHVpX0NvaW5FZmZlY3QucGFyZW50ID0gbnVsbDtcclxuICAgICAgICAgICAgdWlfQ29pbkVmZmVjdC5vcGFjaXR5ID0gMDtcclxuICAgICAgICAgICAgbGV0IHBsYXlOYW1lID0gXCJnb2xkXCI7XHJcblxyXG4gICAgICAgICAgICB1aV9Db2luRWZmZWN0LmdldENvbXBvbmVudChcIm5maXNoX01vdmllQ2xpcFwiKS5pbml0RWZmZWN0KHRoaXMubW9uZXlFZmZlY3RfQXRsYXMsIHBsYXlOYW1lLCBTdGFydE5hbWUsIGVuZE5hbWUsIHBseVRpbWUsIGlzSGF2ZVplcm8sIHNwZWVkLCBwbHllZERlc3Ryb3ksIG51bGwsIGlzUmFuZG9tUGx5KTtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmFkZENoaWxkKHVpX0NvaW5FZmZlY3QpO1xyXG4gICAgICAgICAgICBsZXQgdXBQb3MgPSBjYy52Mih1aV9Db2luRWZmZWN0LnBvc2l0aW9uLnggKyBNYXRoLnJhbmRvbSgpICogUmFuZG9tT2Zmc2V4WCwgdWlfQ29pbkVmZmVjdC5wb3NpdGlvbi55ICsgTWF0aC5yYW5kb20oKSAqIFJhbmRvbU9mZnNleFkgKyBSYW5kb21NaW5ZKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyZXMuc2VhdE51bSA9PSBDT05TVC5TZWF0LkxlZnRUb3AgfHwgcmVzLnNlYXROdW0gPT0gQ09OU1QuU2VhdC5SaWdodFRvcCkge1xyXG4gICAgICAgICAgICAgICAgdXBQb3MgPSBjYy52Mih1aV9Db2luRWZmZWN0LnBvc2l0aW9uLnggKyBNYXRoLnJhbmRvbSgpICogUmFuZG9tT2Zmc2V4WCwgdWlfQ29pbkVmZmVjdC5wb3NpdGlvbi55IC0gKE1hdGgucmFuZG9tKCkgKiBSYW5kb21PZmZzZXhZICsgUmFuZG9tTWluWSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBib3VuY2VBY3QxID0gY2Muc3Bhd24oY2MuZmFkZVRvKEZhZGVUb1RpbWUsIEVuZE9wYWNpdHkpLCBjYy5tb3ZlVG8oTW92ZVRvVGltZSwgdWlfQ29pbkVmZmVjdC5wb3NpdGlvbikpO1xyXG4gICAgICAgICAgICBsZXQgYm91bmNlQWN0MiA9IGNjLm1vdmVUbyhNb3ZlVG9UaW1lLCB1cFBvcyk7XHJcbiAgICAgICAgICAgIGxldCBiZXppZXJQb2ludCA9IGNjLnYyKHRhcmdldFBvc2l0aW9uLngsIHVpX0NvaW5FZmZlY3QucG9zaXRpb24ueSk7XHJcbiAgICAgICAgICAgIGxldCBhY3QgPSBjYy5zcGF3bihjYy5zY2FsZVRvKFNjYWxlVG9UaW1lLCBTY2FsZVRvQXJnLCBTY2FsZVRvQXJnKSwgY2MuYmV6aWVyVG8oQmV6aWVyVG9UaW1lLCBbdXBQb3MsIGJlemllclBvaW50LCBjYy52Mih0YXJnZXRQb3NpdGlvbi54LCB0YXJnZXRQb3NpdGlvbi55KV0pKTtcclxuXHJcbiAgICAgICAgICAgIHVpX0NvaW5FZmZlY3QucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLmRlbGF5VGltZShpKk9uZURlbGF5VGltZSksIGJvdW5jZUFjdDEsIGJvdW5jZUFjdDIsIGFjdCwgY2MuZGVsYXlUaW1lKFR3b0RlbGF5VGltZSksIGNjLmNhbGxGdW5jKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHVpX0NvaW5FZmZlY3QuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB9KSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZW5kR2xvZFRpbWUgPSAxOy8v5pyA5ZCO5LiA5Liq6YeR5biB5ryC56e755qE5pe26Ze0XHJcbiAgICAgICAgY29uc3QgQ29ybnVjb3BpYVNjYWxlVG9BcmcgPSAwO1xyXG4gICAgICAgIGNvbnN0IENvcm51Y29waWFTY2FsZVRvVGltZSA9IDAuMztcclxuXHJcbiAgICAgICAgdGhpcy5kb29yLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5kZWxheVRpbWUoZW5kR2xvZFRpbWUpLGNjLm1vdmVUbygxLHRoaXMuaW1nX2Rvb3JfY2xvc2UucG9zaXRpb24pLGNjLmNhbGxGdW5jKCgpPT57XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5zdG9wQWxsQWN0aW9ucygpO1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLmRlbGF5VGltZShlbmRHbG9kVGltZS8yKSxjYy5mYWRlVG8oQ29ybnVjb3BpYVNjYWxlVG9UaW1lLCBDb3JudWNvcGlhU2NhbGVUb0FyZyksY2MuY2FsbEZ1bmMoKCk9PntcclxuICAgICAgICAgICAgICAgIHRoaXMubG9naWMuaXNZdVJ1eWlSdW5pbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFzay5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMubG9naWMuc2VhdE51bSA9PSByZXMuc2VhdE51bSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGdsR2FtZS5lbWl0dGVyLmVtaXQoQ09OU1QuY2xpZW50RXZlbnQuYWRkR29sZEVmZmVjdCwgcmVzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkpKTtcclxuICAgICAgICB9KSkpO1xyXG4gICAgfSxcclxufSk7XHJcbiJdfQ==