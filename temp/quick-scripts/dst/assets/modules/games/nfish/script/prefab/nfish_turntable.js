
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/modules/games/nfish/script/prefab/nfish_turntable.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3bc59nMYjhNvo+GgGKod9Uk', 'nfish_turntable');
// modules/games/nfish/script/prefab/nfish_turntable.js

"use strict";

//玉如意转盘
var CONST = require("nfishConst");

glGame.baseclass.extend({
  properties: {
    turntablePosList: cc.Node,
    turntable: cc.Node,
    mask_turntable: cc.Node,
    turntableMask: cc.Node,
    turntableBg: cc.Node,
    turntableBg2: cc.Node,
    spine_IdleEffect: cc.Node,
    spine_showEffect: cc.Node,
    //金币银币漂移动画 图集
    moneyEffect_Atlas: {
      "default": null,
      displayName: "moneyEffect_Atlas",
      tooltip: "金币银币漂移动画 图集",
      type: cc.SpriteAtlas
    }
  },
  onLoad: function onLoad() {
    this.logic = require("nfishlogic").getInstance(); //数据中心

    this.isInitIng = false;
  },
  //启动转盘
  initTurntableView: function initTurntableView(res) {
    var _this = this;

    if (res == null || this.isInitIng) {
      return;
    }

    var Normal = 255;
    this.node.opacity = Normal;
    this.node.active = true;

    for (var i = 0; i < this.turntable.childrenCount; i++) {
      var heightLine = this.turntable.children[i].getChildByName("heightLine");
      heightLine.active = false;
    }

    this.turntableMask.getComponent(cc.BlockInputEvents).enabled = true;
    this.isInitIng = true;
    this.node.active = true;
    this.data = res.rewardArray.sort(function (a, b) {
      return a - b;
    }); //奖励列表（聚宝盆、玉如意）

    this.reward = res.rewardMultiple; //最总奖励倍数（聚宝盆、玉如意）

    cc.warn(">>>> 玉如意 转盘 data  ", this.data, " reward ", this.reward);
    this.initTurntableData();
    this.logic.playSpine(this.spine_showEffect, false, true, CONST.SpineName.TurnTableShowTime);
    var BoomHighTime = 0.8;
    var ShowTimeOver = 0.8;
    var NotOpacity = 0;
    var NotScale = 0;
    var NormalOpacity = 255;
    this.turntableBg.scale = NotScale;
    this.turntableBg2.scale = NotScale;
    this.turntable.scale = NotScale;
    this.mask_turntable.scale = NotScale;
    this.turntableBg.opacity = NotOpacity;
    this.turntableBg2.opacity = NotOpacity;
    this.turntable.opacity = NotOpacity;
    this.mask_turntable.opacity = NotOpacity;
    this.spine_IdleEffect.stopAllActions();
    this.spine_IdleEffect.opacity = NotOpacity;
    this.scheduleOnce(function () {
      _this.spine_IdleEffect.opacity = NormalOpacity;

      _this.logic.playSpine(_this.spine_IdleEffect, true, false, CONST.SpineName.TurnTableIdle);
    }, BoomHighTime);
    this.scheduleOnce(function () {
      _this.starTurn(res);

      _this.isInitIng = false;
    }, ShowTimeOver);
  },
  //初始化转盘上面的数字
  initTurntableData: function initTurntableData() {
    var MaxIcon = 8;

    for (var i = 0; i < MaxIcon; i++) {
      var lab_number = this.turntable.getChildByName(i + "").getComponent(cc.Label);
      lab_number.string = this.logic.getFloat(this.data[i]);
    }
  },
  //传入获奖结果获得转盘的index
  getIndex: function getIndex(reward) {
    var MaxIcon = 8;

    for (var i = 0; i < MaxIcon; i++) {
      var lab_number = this.turntable.getChildByName(i + "").getComponent(cc.Label);
      var rewardIndex = lab_number.string;

      if (rewardIndex == this.logic.getFloat(reward)) {
        switch (i) {
          //根据图片金币大小种类规则来
          case 6:
            return 0;

          case 1:
            return 1;

          case 5:
            return 2;

          case 3:
            return 3;

          case 4:
            return 4;

          case 0:
            return 5;

          case 7:
            return 6;

          case 2:
            return 7;
        }
      }
    }
  },
  //开始转动
  starTurn: function starTurn(res) {
    var _this2 = this;

    var NormalScale = 1;
    var NormalOpacity = 255;
    this.turntable.angle = 0;
    this.mask_turntable.angle = 0;
    var index = this.getIndex(this.reward);
    var times = 3;
    var angle = 360 - index * 45 + 360 * times;
    this.node.stopAllActions();
    this.turntableBg.opacity = NormalOpacity;
    this.turntableBg2.opacity = NormalOpacity;
    this.turntable.opacity = NormalOpacity;
    this.mask_turntable.opacity = NormalOpacity;
    this.turntableBg.scale = NormalScale;
    this.turntableBg2.scale = NormalScale;
    this.turntable.scale = NormalScale;
    this.mask_turntable.scale = NormalScale;
    this.turntableBg.stopAllActions();
    this.turntableBg2.stopAllActions();
    this.turntable.stopAllActions();
    var RunTime = 5;
    var WaitTime = 1;
    this.scheduleOnce(function () {
      glGame.emitter.emit(CONST.clientEvent.fishSound, "userYuRuYi"); //玉如意转盘使用
    }, 1);
    this.turntable.runAction(cc.sequence(cc.delayTime(WaitTime), cc.rotateBy(RunTime, angle).easing(this.easeExponentialOut()), cc.delayTime(0.6), cc.callFunc(function () {
      _this2.flyGoldEffect(res, index);
    })));
    this.mask_turntable.stopAllActions();
    this.mask_turntable.runAction(cc.sequence(cc.delayTime(WaitTime), cc.rotateBy(RunTime, angle).easing(this.easeExponentialOut())));
  },
  //漂移金币动画
  flyGoldEffect: function flyGoldEffect(res, index) {
    var _this3 = this;

    glGame.emitter.emit(CONST.clientEvent.fishSound, "yuRuGet"); //玉如意获得

    var glodEndPosPre = this.logic.getIsRotation() ? "glodEndPosR" : "glodEndPos";
    var targetPosition = this.turntablePosList.getChildByName(glodEndPosPre + res.seatNum).position;
    var Multiple = 100;
    var MaxCoin = 70; //最大数量

    var CoinSaclc = 3;
    var effectCoin = Math.ceil(res.rewardGold / Multiple) * CoinSaclc;

    if (effectCoin > MaxCoin) {
      effectCoin = MaxCoin;
    }

    var StartName = 0;
    var endName = 9;
    var plyTime = 8;
    var isHaveZero = false;
    var speed = 0.035;
    var plyedDestroy = false;
    var isRandomPly = 1;
    var RandomOffsexX = 30;
    var RandomOffsexY = 50;
    var RandomMinY = 20;
    var OneDelayTime = 0.01;
    var ScaleToTime = 0.3;
    var BezierToTime = 0.5;
    var ScaleToArg = 0.8;
    var FadeToTime = 0.1;
    var MoveToTime = 0.15;
    var EndOpacity = 255;
    var glodStartPosPre = this.logic.getIsRotation() ? "glodStartPosR" : "glodStartPos";

    for (var i = 0; i < effectCoin; i++) {
      var startPos = this.turntablePosList.getChildByName(glodStartPosPre + parseInt(Math.random() * 5 + 1)).position;
      var ui_CoinEffect = this.logic.creatorEffect();
      ui_CoinEffect.x = startPos.x;
      ui_CoinEffect.y = startPos.y;
      ui_CoinEffect.active = true;
      ui_CoinEffect.parent = null;
      ui_CoinEffect.opacity = 0;
      var playName = "gold";
      ui_CoinEffect.getComponent("nfish_MovieClip").initEffect(this.moneyEffect_Atlas, playName, StartName, endName, plyTime, isHaveZero, speed, plyedDestroy, null, isRandomPly);
      this.node.addChild(ui_CoinEffect);
      var upPos = cc.v2(ui_CoinEffect.position.x + Math.random() * RandomOffsexX, ui_CoinEffect.position.y + Math.random() * RandomOffsexY + RandomMinY);

      if (res.seatNum == CONST.Seat.LeftTop || res.seatNum == CONST.Seat.RightTop) {
        upPos = cc.v2(ui_CoinEffect.position.x + Math.random() * RandomOffsexX, ui_CoinEffect.position.y - (Math.random() * RandomOffsexY + RandomMinY));
      }

      var bounceAct1 = cc.spawn(cc.fadeTo(FadeToTime, EndOpacity), cc.moveTo(MoveToTime, ui_CoinEffect.position));
      var bounceAct2 = cc.moveTo(MoveToTime, upPos);
      var bezierPoint = cc.v2(targetPosition.x, ui_CoinEffect.position.y);
      var act = cc.spawn(cc.scaleTo(ScaleToTime, ScaleToArg, ScaleToArg), cc.bezierTo(BezierToTime, [upPos, bezierPoint, cc.v2(targetPosition.x, targetPosition.y)]));
      ui_CoinEffect.runAction(cc.sequence(cc.delayTime(i * OneDelayTime), bounceAct1, bounceAct2, act));
    }

    var endGlodTime = 2.7; //最后一个金币漂移的时间

    var TurntableFadeTo = 0.6;
    this.turntableBg.stopAllActions();
    this.turntableBg2.stopAllActions();
    this.turntable.stopAllActions();
    this.mask_turntable.stopAllActions();
    this.spine_IdleEffect.stopAllActions();
    var indexNode;

    switch (index) {
      //根据图片金币大小种类规则来
      case 0:
        indexNode = 6;
        break;

      case 1:
        indexNode = 1;
        break;

      case 2:
        indexNode = 5;
        break;

      case 3:
        indexNode = 3;
        break;

      case 4:
        indexNode = 4;
        break;

      case 5:
        indexNode = 0;
        break;

      case 6:
        indexNode = 7;
        break;

      case 7:
        indexNode = 2;
        break;
    }

    var lab_number = this.turntable.getChildByName(indexNode + "").getComponent(cc.Label);
    var heightLine = this.turntable.getChildByName(indexNode + "").getChildByName("heightLine");
    var RepeatTimes = 14;
    var SubTimes = Math.ceil(Number(lab_number.string) / RepeatTimes);
    var currentCoin = Number(lab_number.string); //读数消失

    this.schedule(function () {
      currentCoin -= SubTimes;

      if (currentCoin <= 0) {
        lab_number.string = "0";
      } else {
        lab_number.string = currentCoin + "";
      }
    }, 0.1, RepeatTimes - 1);
    var RepeatBuiBuiBuiTimes = 4;
    this.schedule(function () {
      heightLine.active = !heightLine.active;
    }, 0.3, RepeatBuiBuiBuiTimes - 1);
    this.turntableBg.runAction(cc.sequence(cc.delayTime(endGlodTime), cc.fadeTo(TurntableFadeTo, 0), cc.callFunc(function () {
      _this3.logic.isYuRuyiRuning = false;
      _this3.turntableMask.getComponent(cc.BlockInputEvents).enabled = false;
      var Not = 0;
      _this3.node.opacity = Not;
      _this3.node.active = false;

      if (_this3.logic.seatNum == res.seatNum) {
        glGame.emitter.emit(CONST.clientEvent.addGoldEffect, res);
      }
    })));
    this.turntableBg2.runAction(cc.sequence(cc.delayTime(endGlodTime), cc.fadeTo(TurntableFadeTo, 0)));
    this.turntable.runAction(cc.sequence(cc.delayTime(endGlodTime), cc.fadeTo(TurntableFadeTo, 0)));
    this.mask_turntable.runAction(cc.sequence(cc.delayTime(endGlodTime), cc.fadeTo(TurntableFadeTo, 0)));
    this.spine_IdleEffect.runAction(cc.sequence(cc.delayTime(endGlodTime), cc.fadeTo(TurntableFadeTo, 0)));
  },
  easeExponentialOut: function easeExponentialOut() {
    var _easeExponentialOutObj = {
      easing: function easing(dt) {
        return -Math.pow(2, -10 * dt) + 1;
      },
      reverse: function reverse() {
        return _easeExponentialInObj;
      }
    };
    return _easeExponentialOutObj;
  },
  OnDestroy: function OnDestroy() {
    this.logic = null;
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcbW9kdWxlc1xcZ2FtZXNcXG5maXNoXFxzY3JpcHRcXHByZWZhYlxcbmZpc2hfdHVybnRhYmxlLmpzIl0sIm5hbWVzIjpbIkNPTlNUIiwicmVxdWlyZSIsImdsR2FtZSIsImJhc2VjbGFzcyIsImV4dGVuZCIsInByb3BlcnRpZXMiLCJ0dXJudGFibGVQb3NMaXN0IiwiY2MiLCJOb2RlIiwidHVybnRhYmxlIiwibWFza190dXJudGFibGUiLCJ0dXJudGFibGVNYXNrIiwidHVybnRhYmxlQmciLCJ0dXJudGFibGVCZzIiLCJzcGluZV9JZGxlRWZmZWN0Iiwic3BpbmVfc2hvd0VmZmVjdCIsIm1vbmV5RWZmZWN0X0F0bGFzIiwiZGlzcGxheU5hbWUiLCJ0b29sdGlwIiwidHlwZSIsIlNwcml0ZUF0bGFzIiwib25Mb2FkIiwibG9naWMiLCJnZXRJbnN0YW5jZSIsImlzSW5pdEluZyIsImluaXRUdXJudGFibGVWaWV3IiwicmVzIiwiTm9ybWFsIiwibm9kZSIsIm9wYWNpdHkiLCJhY3RpdmUiLCJpIiwiY2hpbGRyZW5Db3VudCIsImhlaWdodExpbmUiLCJjaGlsZHJlbiIsImdldENoaWxkQnlOYW1lIiwiZ2V0Q29tcG9uZW50IiwiQmxvY2tJbnB1dEV2ZW50cyIsImVuYWJsZWQiLCJkYXRhIiwicmV3YXJkQXJyYXkiLCJzb3J0IiwiYSIsImIiLCJyZXdhcmQiLCJyZXdhcmRNdWx0aXBsZSIsIndhcm4iLCJpbml0VHVybnRhYmxlRGF0YSIsInBsYXlTcGluZSIsIlNwaW5lTmFtZSIsIlR1cm5UYWJsZVNob3dUaW1lIiwiQm9vbUhpZ2hUaW1lIiwiU2hvd1RpbWVPdmVyIiwiTm90T3BhY2l0eSIsIk5vdFNjYWxlIiwiTm9ybWFsT3BhY2l0eSIsInNjYWxlIiwic3RvcEFsbEFjdGlvbnMiLCJzY2hlZHVsZU9uY2UiLCJUdXJuVGFibGVJZGxlIiwic3RhclR1cm4iLCJNYXhJY29uIiwibGFiX251bWJlciIsIkxhYmVsIiwic3RyaW5nIiwiZ2V0RmxvYXQiLCJnZXRJbmRleCIsInJld2FyZEluZGV4IiwiTm9ybWFsU2NhbGUiLCJhbmdsZSIsImluZGV4IiwidGltZXMiLCJSdW5UaW1lIiwiV2FpdFRpbWUiLCJlbWl0dGVyIiwiZW1pdCIsImNsaWVudEV2ZW50IiwiZmlzaFNvdW5kIiwicnVuQWN0aW9uIiwic2VxdWVuY2UiLCJkZWxheVRpbWUiLCJyb3RhdGVCeSIsImVhc2luZyIsImVhc2VFeHBvbmVudGlhbE91dCIsImNhbGxGdW5jIiwiZmx5R29sZEVmZmVjdCIsImdsb2RFbmRQb3NQcmUiLCJnZXRJc1JvdGF0aW9uIiwidGFyZ2V0UG9zaXRpb24iLCJzZWF0TnVtIiwicG9zaXRpb24iLCJNdWx0aXBsZSIsIk1heENvaW4iLCJDb2luU2FjbGMiLCJlZmZlY3RDb2luIiwiTWF0aCIsImNlaWwiLCJyZXdhcmRHb2xkIiwiU3RhcnROYW1lIiwiZW5kTmFtZSIsInBseVRpbWUiLCJpc0hhdmVaZXJvIiwic3BlZWQiLCJwbHllZERlc3Ryb3kiLCJpc1JhbmRvbVBseSIsIlJhbmRvbU9mZnNleFgiLCJSYW5kb21PZmZzZXhZIiwiUmFuZG9tTWluWSIsIk9uZURlbGF5VGltZSIsIlNjYWxlVG9UaW1lIiwiQmV6aWVyVG9UaW1lIiwiU2NhbGVUb0FyZyIsIkZhZGVUb1RpbWUiLCJNb3ZlVG9UaW1lIiwiRW5kT3BhY2l0eSIsImdsb2RTdGFydFBvc1ByZSIsInN0YXJ0UG9zIiwicGFyc2VJbnQiLCJyYW5kb20iLCJ1aV9Db2luRWZmZWN0IiwiY3JlYXRvckVmZmVjdCIsIngiLCJ5IiwicGFyZW50IiwicGxheU5hbWUiLCJpbml0RWZmZWN0IiwiYWRkQ2hpbGQiLCJ1cFBvcyIsInYyIiwiU2VhdCIsIkxlZnRUb3AiLCJSaWdodFRvcCIsImJvdW5jZUFjdDEiLCJzcGF3biIsImZhZGVUbyIsIm1vdmVUbyIsImJvdW5jZUFjdDIiLCJiZXppZXJQb2ludCIsImFjdCIsInNjYWxlVG8iLCJiZXppZXJUbyIsImVuZEdsb2RUaW1lIiwiVHVybnRhYmxlRmFkZVRvIiwiaW5kZXhOb2RlIiwiUmVwZWF0VGltZXMiLCJTdWJUaW1lcyIsIk51bWJlciIsImN1cnJlbnRDb2luIiwic2NoZWR1bGUiLCJSZXBlYXRCdWlCdWlCdWlUaW1lcyIsImlzWXVSdXlpUnVuaW5nIiwiTm90IiwiYWRkR29sZEVmZmVjdCIsIl9lYXNlRXhwb25lbnRpYWxPdXRPYmoiLCJkdCIsInBvdyIsInJldmVyc2UiLCJfZWFzZUV4cG9uZW50aWFsSW5PYmoiLCJPbkRlc3Ryb3kiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQSxJQUFJQSxLQUFLLEdBQUdDLE9BQU8sQ0FBQyxZQUFELENBQW5COztBQUNBQyxNQUFNLENBQUNDLFNBQVAsQ0FBaUJDLE1BQWpCLENBQXdCO0FBQ3BCQyxFQUFBQSxVQUFVLEVBQUU7QUFDUkMsSUFBQUEsZ0JBQWdCLEVBQUVDLEVBQUUsQ0FBQ0MsSUFEYjtBQUVSQyxJQUFBQSxTQUFTLEVBQUVGLEVBQUUsQ0FBQ0MsSUFGTjtBQUdSRSxJQUFBQSxjQUFjLEVBQUVILEVBQUUsQ0FBQ0MsSUFIWDtBQUlSRyxJQUFBQSxhQUFhLEVBQUVKLEVBQUUsQ0FBQ0MsSUFKVjtBQUtSSSxJQUFBQSxXQUFXLEVBQUNMLEVBQUUsQ0FBQ0MsSUFMUDtBQU1SSyxJQUFBQSxZQUFZLEVBQUNOLEVBQUUsQ0FBQ0MsSUFOUjtBQU9STSxJQUFBQSxnQkFBZ0IsRUFBQ1AsRUFBRSxDQUFDQyxJQVBaO0FBUVJPLElBQUFBLGdCQUFnQixFQUFDUixFQUFFLENBQUNDLElBUlo7QUFTUjtBQUNBUSxJQUFBQSxpQkFBaUIsRUFBRTtBQUNmLGlCQUFTLElBRE07QUFFZkMsTUFBQUEsV0FBVyxFQUFFLG1CQUZFO0FBR2ZDLE1BQUFBLE9BQU8sRUFBRSxhQUhNO0FBSWZDLE1BQUFBLElBQUksRUFBQ1osRUFBRSxDQUFDYTtBQUpPO0FBVlgsR0FEUTtBQWtCcEJDLEVBQUFBLE1BbEJvQixvQkFrQlo7QUFDSixTQUFLQyxLQUFMLEdBQWFyQixPQUFPLENBQUMsWUFBRCxDQUFQLENBQXNCc0Is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QUFMLENBQVMsQ0FBVCxFQUFZLENBQUMsRUFBRCxHQUFNRCxFQUFsQixDQUFGLEdBQTJCLENBQW5DO0FBQ0gsT0FId0I7QUFJekJFLE1BQUFBLE9BQU8sRUFBRSxtQkFBWTtBQUNqQixlQUFPQyxxQkFBUDtBQUNIO0FBTndCLEtBQTdCO0FBUUEsV0FBT0osc0JBQVA7QUFDSCxHQWhUbUI7QUFrVHBCSyxFQUFBQSxTQWxUb0IsdUJBa1RSO0FBQ1IsU0FBS3hJLEtBQUwsR0FBYSxJQUFiO0FBQ0g7QUFwVG1CLENBQXhCIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvL+eOieWmguaEj+i9rOebmFxyXG5sZXQgQ09OU1QgPSByZXF1aXJlKFwibmZpc2hDb25zdFwiKTtcclxuZ2xHYW1lLmJhc2VjbGFzcy5leHRlbmQoe1xyXG4gICAgcHJvcGVydGllczoge1xyXG4gICAgICAgIHR1cm50YWJsZVBvc0xpc3Q6IGNjLk5vZGUsXHJcbiAgICAgICAgdHVybnRhYmxlOiBjYy5Ob2RlLFxyXG4gICAgICAgIG1hc2tfdHVybnRhYmxlOiBjYy5Ob2RlLFxyXG4gICAgICAgIHR1cm50YWJsZU1hc2s6IGNjLk5vZGUsXHJcbiAgICAgICAgdHVybnRhYmxlQmc6Y2MuTm9kZSxcclxuICAgICAgICB0dXJudGFibGVCZzI6Y2MuTm9kZSxcclxuICAgICAgICBzcGluZV9JZGxlRWZmZWN0OmNjLk5vZGUsXHJcbiAgICAgICAgc3BpbmVfc2hvd0VmZmVjdDpjYy5Ob2RlLFxyXG4gICAgICAgIC8v6YeR5biB6ZO25biB5ryC56e75Yqo55S7IOWbvumbhlxyXG4gICAgICAgIG1vbmV5RWZmZWN0X0F0bGFzOiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBcIm1vbmV5RWZmZWN0X0F0bGFzXCIsXHJcbiAgICAgICAgICAgIHRvb2x0aXA6IFwi6YeR5biB6ZO25biB5ryC56e75Yqo55S7IOWbvumbhlwiLFxyXG4gICAgICAgICAgICB0eXBlOmNjLlNwcml0ZUF0bGFzLFxyXG4gICAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgb25Mb2FkKCl7XHJcbiAgICAgICAgdGhpcy5sb2dpYyA9IHJlcXVpcmUoXCJuZmlzaGxvZ2ljXCIpLmdldEluc3RhbmNlKCk7Ly/mlbDmja7kuK3lv4NcclxuICAgICAgICB0aGlzLmlzSW5pdEluZyA9IGZhbHNlO1xyXG4gICAgfSxcclxuICAgIC8v5ZCv5Yqo6L2s55uYXHJcbiAgICBpbml0VHVybnRhYmxlVmlldyhyZXMpe1xyXG4gICAgICAgIGlmKHJlcyA9PSBudWxsIHx8IHRoaXMuaXNJbml0SW5nKXtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBOb3JtYWwgPSAyNTU7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9wYWNpdHkgPSBOb3JtYWw7XHJcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50dXJudGFibGUuY2hpbGRyZW5Db3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBoZWlnaHRMaW5lID0gdGhpcy50dXJudGFibGUuY2hpbGRyZW5baV0uZ2V0Q2hpbGRCeU5hbWUoXCJoZWlnaHRMaW5lXCIpO1xyXG4gICAgICAgICAgICBoZWlnaHRMaW5lLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy50dXJudGFibGVNYXNrLmdldENvbXBvbmVudChjYy5CbG9ja0lucHV0RXZlbnRzKS5lbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmlzSW5pdEluZyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gcmVzLnJld2FyZEFycmF5LnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS1ifSk7Ly/lpZblirHliJfooajvvIjogZrlrp3nm4bjgIHnjonlpoLmhI/vvIlcclxuICAgICAgICB0aGlzLnJld2FyZCA9IHJlcy5yZXdhcmRNdWx0aXBsZTsvL+acgOaAu+WlluWKseWAjeaVsO+8iOiBmuWuneebhuOAgeeOieWmguaEj++8iVxyXG4gICAgICAgIGNjLndhcm4oXCI+Pj4+IOeOieWmguaEjyDovaznm5ggZGF0YSAgXCIsdGhpcy5kYXRhLFwiIHJld2FyZCBcIix0aGlzLnJld2FyZCk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdFR1cm50YWJsZURhdGEoKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2dpYy5wbGF5U3BpbmUodGhpcy5zcGluZV9zaG93RWZmZWN0LGZhbHNlLHRydWUsQ09OU1QuU3BpbmVOYW1lLlR1cm5UYWJsZVNob3dUaW1lKTtcclxuXHJcbiAgICAgICAgY29uc3QgQm9vbUhpZ2hUaW1lID0gMC44O1xyXG4gICAgICAgIGNvbnN0IFNob3dUaW1lT3ZlciA9IDAuODtcclxuXHJcbiAgICAgICAgY29uc3QgTm90T3BhY2l0eSA9IDA7XHJcbiAgICAgICAgY29uc3QgTm90U2NhbGUgPSAwO1xyXG4gICAgICAgIGNvbnN0IE5vcm1hbE9wYWNpdHkgPSAyNTU7XHJcblxyXG4gICAgICAgIHRoaXMudHVybnRhYmxlQmcuc2NhbGUgPSBOb3RTY2FsZTtcclxuICAgICAgICB0aGlzLnR1cm50YWJsZUJnMi5zY2FsZSA9IE5vdFNjYWxlO1xyXG4gICAgICAgIHRoaXMudHVybnRhYmxlLnNjYWxlID0gTm90U2NhbGU7XHJcbiAgICAgICAgdGhpcy5tYXNrX3R1cm50YWJsZS5zY2FsZSA9IE5vdFNjYWxlO1xyXG4gICAgICAgIHRoaXMudHVybnRhYmxlQmcub3BhY2l0eSA9IE5vdE9wYWNpdHk7XHJcbiAgICAgICAgdGhpcy50dXJudGFibGVCZzIub3BhY2l0eSA9IE5vdE9wYWNpdHk7XHJcbiAgICAgICAgdGhpcy50dXJudGFibGUub3BhY2l0eSA9IE5vdE9wYWNpdHk7XHJcbiAgICAgICAgdGhpcy5tYXNrX3R1cm50YWJsZS5vcGFjaXR5ID0gTm90T3BhY2l0eTtcclxuXHJcbiAgICAgICAgdGhpcy5zcGluZV9JZGxlRWZmZWN0LnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgdGhpcy5zcGluZV9JZGxlRWZmZWN0Lm9wYWNpdHkgPSBOb3RPcGFjaXR5O1xyXG5cclxuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSgoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLnNwaW5lX0lkbGVFZmZlY3Qub3BhY2l0eSA9IE5vcm1hbE9wYWNpdHk7XHJcbiAgICAgICAgICAgIHRoaXMubG9naWMucGxheVNwaW5lKHRoaXMuc3BpbmVfSWRsZUVmZmVjdCx0cnVlLGZhbHNlLENPTlNULlNwaW5lTmFtZS5UdXJuVGFibGVJZGxlKTtcclxuICAgICAgICB9LEJvb21IaWdoVGltZSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XHJcbiAgICAgICAgICAgIHRoaXMuc3RhclR1cm4ocmVzKTtcclxuICAgICAgICAgICAgdGhpcy5pc0luaXRJbmcgPSBmYWxzZTtcclxuICAgICAgICB9LFNob3dUaW1lT3Zlcik7XHJcbiAgICB9LFxyXG4gICAgLy/liJ3lp4vljJbovaznm5jkuIrpnaLnmoTmlbDlrZdcclxuICAgIGluaXRUdXJudGFibGVEYXRhKCkge1xyXG4gICAgICAgIGxldCBNYXhJY29uID0gODtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE1heEljb247IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgbGFiX251bWJlciA9IHRoaXMudHVybnRhYmxlLmdldENoaWxkQnlOYW1lKGkrXCJcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcclxuICAgICAgICAgICAgbGFiX251bWJlci5zdHJpbmcgPSB0aGlzLmxvZ2ljLmdldEZsb2F0KHRoaXMuZGF0YVtpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8v5Lyg5YWl6I635aWW57uT5p6c6I635b6X6L2s55uY55qEaW5kZXhcclxuICAgIGdldEluZGV4KHJld2FyZCkge1xyXG4gICAgICAgIGxldCBNYXhJY29uID0gODtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE1heEljb247IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgbGFiX251bWJlciA9IHRoaXMudHVybnRhYmxlLmdldENoaWxkQnlOYW1lKGkrXCJcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcclxuICAgICAgICAgICAgbGV0IHJld2FyZEluZGV4ID0gbGFiX251bWJlci5zdHJpbmc7XHJcbiAgICAgICAgICAgIGlmIChyZXdhcmRJbmRleCA9PSB0aGlzLmxvZ2ljLmdldEZsb2F0KHJld2FyZCkpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoaSkgey8v5qC55o2u5Zu+54mH6YeR5biB5aSn5bCP56eN57G76KeE5YiZ5p2lXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2IDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1IDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0IDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDU7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3IDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDY7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDc7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8v5byA5aeL6L2s5YqoXHJcbiAgICBzdGFyVHVybihyZXMpIHtcclxuICAgICAgICBjb25zdCBOb3JtYWxTY2FsZSA9IDE7XHJcbiAgICAgICAgY29uc3QgTm9ybWFsT3BhY2l0eSA9IDI1NTtcclxuXHJcbiAgICAgICAgdGhpcy50dXJudGFibGUuYW5nbGUgPSAwO1xyXG4gICAgICAgIHRoaXMubWFza190dXJudGFibGUuYW5nbGUgPSAwO1xyXG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMuZ2V0SW5kZXgodGhpcy5yZXdhcmQpO1xyXG4gICAgICAgIGxldCB0aW1lcyA9IDM7XHJcbiAgICAgICAgbGV0IGFuZ2xlID0gMzYwIC0gaW5kZXggKiA0NSArIDM2MCAqIHRpbWVzO1xyXG5cclxuICAgICAgICB0aGlzLm5vZGUuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICB0aGlzLnR1cm50YWJsZUJnLm9wYWNpdHkgPSBOb3JtYWxPcGFjaXR5O1xyXG4gICAgICAgIHRoaXMudHVybnRhYmxlQmcyLm9wYWNpdHkgPSBOb3JtYWxPcGFjaXR5O1xyXG4gICAgICAgIHRoaXMudHVybnRhYmxlLm9wYWNpdHkgPSBOb3JtYWxPcGFjaXR5O1xyXG4gICAgICAgIHRoaXMubWFza190dXJudGFibGUub3BhY2l0eSA9IE5vcm1hbE9wYWNpdHk7XHJcblxyXG4gICAgICAgIHRoaXMudHVybnRhYmxlQmcuc2NhbGUgPSBOb3JtYWxTY2FsZTtcclxuICAgICAgICB0aGlzLnR1cm50YWJsZUJnMi5zY2FsZSA9IE5vcm1hbFNjYWxlO1xyXG4gICAgICAgIHRoaXMudHVybnRhYmxlLnNjYWxlID0gTm9ybWFsU2NhbGU7XHJcbiAgICAgICAgdGhpcy5tYXNrX3R1cm50YWJsZS5zY2FsZSA9IE5vcm1hbFNjYWxlO1xyXG5cclxuICAgICAgICB0aGlzLnR1cm50YWJsZUJnLnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgdGhpcy50dXJudGFibGVCZzIuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICB0aGlzLnR1cm50YWJsZS5zdG9wQWxsQWN0aW9ucygpO1xyXG5cclxuICAgICAgICBjb25zdCBSdW5UaW1lID0gNTtcclxuICAgICAgICBjb25zdCBXYWl0VGltZSA9IDE7XHJcblxyXG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XHJcbiAgICAgICAgICAgIGdsR2FtZS5lbWl0dGVyLmVtaXQoQ09OU1QuY2xpZW50RXZlbnQuZmlzaFNvdW5kLFwidXNlcll1UnVZaVwiKTsvL+eOieWmguaEj+i9rOebmOS9v+eUqFxyXG4gICAgICAgIH0sMSk7XHJcbiAgICAgICAgdGhpcy50dXJudGFibGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKFxyXG4gICAgICAgICAgICBjYy5kZWxheVRpbWUoV2FpdFRpbWUpLFxyXG4gICAgICAgICAgICBjYy5yb3RhdGVCeShSdW5UaW1lLCBhbmdsZSkuZWFzaW5nKHRoaXMuZWFzZUV4cG9uZW50aWFsT3V0KCkpLFxyXG4gICAgICAgICAgICBjYy5kZWxheVRpbWUoMC42KSxcclxuICAgICAgICAgICAgY2MuY2FsbEZ1bmMoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mbHlHb2xkRWZmZWN0KHJlcyxpbmRleCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKSlcclxuXHJcbiAgICAgICAgdGhpcy5tYXNrX3R1cm50YWJsZS5zdG9wQWxsQWN0aW9ucygpO1xyXG4gICAgICAgIHRoaXMubWFza190dXJudGFibGUucnVuQWN0aW9uKFxyXG4gICAgICAgICAgICBjYy5zZXF1ZW5jZShcclxuICAgICAgICAgICAgICAgIGNjLmRlbGF5VGltZShXYWl0VGltZSksXHJcbiAgICAgICAgICAgICAgICBjYy5yb3RhdGVCeShSdW5UaW1lLCBhbmdsZSkuZWFzaW5nKHRoaXMuZWFzZUV4cG9uZW50aWFsT3V0KCkpXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApXHJcbiAgICB9LFxyXG4gICAgLy/mvILnp7vph5HluIHliqjnlLtcclxuICAgIGZseUdvbGRFZmZlY3QocmVzLGluZGV4KXtcclxuICAgICAgICBnbEdhbWUuZW1pdHRlci5lbWl0KENPTlNULmNsaWVudEV2ZW50LmZpc2hTb3VuZCxcInl1UnVHZXRcIik7Ly/njonlpoLmhI/ojrflvpdcclxuICAgICAgICBsZXQgZ2xvZEVuZFBvc1ByZSAgPSB0aGlzLmxvZ2ljLmdldElzUm90YXRpb24oKSA/IFwiZ2xvZEVuZFBvc1JcIiA6IFwiZ2xvZEVuZFBvc1wiO1xyXG4gICAgICAgIGxldCB0YXJnZXRQb3NpdGlvbiA9IHRoaXMudHVybnRhYmxlUG9zTGlzdC5nZXRDaGlsZEJ5TmFtZShnbG9kRW5kUG9zUHJlICsgcmVzLnNlYXROdW0pLnBvc2l0aW9uO1xyXG4gICAgICAgIGNvbnN0IE11bHRpcGxlICAgICA9IDEwMDtcclxuICAgICAgICBjb25zdCBNYXhDb2luICAgICAgPSA3MDsvL+acgOWkp+aVsOmHj1xyXG4gICAgICAgIGNvbnN0IENvaW5TYWNsYyAgICA9IDM7XHJcbiAgICAgICAgbGV0IGVmZmVjdENvaW4gICAgID0gTWF0aC5jZWlsKHJlcy5yZXdhcmRHb2xkL011bHRpcGxlKSpDb2luU2FjbGM7XHJcbiAgICAgICAgaWYoZWZmZWN0Q29pbiA+IE1heENvaW4pe1xyXG4gICAgICAgICAgICBlZmZlY3RDb2luID0gTWF4Q29pbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgU3RhcnROYW1lID0gMDtcclxuICAgICAgICBjb25zdCBlbmROYW1lICAgPSA5O1xyXG4gICAgICAgIGNvbnN0IHBseVRpbWUgICA9IDg7XHJcbiAgICAgICAgY29uc3QgaXNIYXZlWmVybyAgICA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IHNwZWVkICAgICAgICAgPSAwLjAzNTtcclxuICAgICAgICBjb25zdCBwbHllZERlc3Ryb3kgID0gZmFsc2U7XHJcbiAgICAgICAgY29uc3QgaXNSYW5kb21QbHkgICA9IDE7XHJcblxyXG4gICAgICAgIGNvbnN0IFJhbmRvbU9mZnNleFggID0gMzA7XHJcbiAgICAgICAgY29uc3QgUmFuZG9tT2Zmc2V4WSAgPSA1MDtcclxuICAgICAgICBjb25zdCBSYW5kb21NaW5ZICAgICA9IDIwO1xyXG5cclxuICAgICAgICBjb25zdCBPbmVEZWxheVRpbWUgICA9IDAuMDE7XHJcbiAgICAgICAgY29uc3QgU2NhbGVUb1RpbWUgICAgPSAwLjM7XHJcbiAgICAgICAgY29uc3QgQmV6aWVyVG9UaW1lICAgPSAwLjU7XHJcbiAgICAgICAgY29uc3QgU2NhbGVUb0FyZyAgICAgPSAwLjg7XHJcbiAgICAgICAgY29uc3QgRmFkZVRvVGltZSAgICA9IDAuMTtcclxuICAgICAgICBjb25zdCBNb3ZlVG9UaW1lICAgID0gMC4xNTtcclxuICAgICAgICBjb25zdCBFbmRPcGFjaXR5ICAgID0gMjU1O1xyXG5cclxuICAgICAgICBsZXQgZ2xvZFN0YXJ0UG9zUHJlID0gdGhpcy5sb2dpYy5nZXRJc1JvdGF0aW9uKCkgPyBcImdsb2RTdGFydFBvc1JcIiA6IFwiZ2xvZFN0YXJ0UG9zXCI7XHJcbiAgICAgICAgZm9yIChsZXQgaT0wO2k8ZWZmZWN0Q29pbjtpKyspe1xyXG4gICAgICAgICAgICBsZXQgc3RhcnRQb3MgICAgICAgICAgPSB0aGlzLnR1cm50YWJsZVBvc0xpc3QuZ2V0Q2hpbGRCeU5hbWUoZ2xvZFN0YXJ0UG9zUHJlICsgcGFyc2VJbnQoTWF0aC5yYW5kb20oKSAqIDUgKzEpKS5wb3NpdGlvbjtcclxuICAgICAgICAgICAgbGV0IHVpX0NvaW5FZmZlY3QgICAgID0gdGhpcy5sb2dpYy5jcmVhdG9yRWZmZWN0KCk7XHJcbiAgICAgICAgICAgIHVpX0NvaW5FZmZlY3QueCAgICAgICA9IHN0YXJ0UG9zLng7XHJcbiAgICAgICAgICAgIHVpX0NvaW5FZmZlY3QueSAgICAgICA9IHN0YXJ0UG9zLnk7XHJcbiAgICAgICAgICAgIHVpX0NvaW5FZmZlY3QuYWN0aXZlICA9IHRydWU7XHJcbiAgICAgICAgICAgIHVpX0NvaW5FZmZlY3QucGFyZW50ICA9IG51bGw7XHJcbiAgICAgICAgICAgIHVpX0NvaW5FZmZlY3Qub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgICAgIGxldCBwbGF5TmFtZSAgICAgICAgICA9IFwiZ29sZFwiO1xyXG5cclxuICAgICAgICAgICAgdWlfQ29pbkVmZmVjdC5nZXRDb21wb25lbnQoXCJuZmlzaF9Nb3ZpZUNsaXBcIikuaW5pdEVmZmVjdCh0aGlzLm1vbmV5RWZmZWN0X0F0bGFzLHBsYXlOYW1lLFN0YXJ0TmFtZSxlbmROYW1lLHBseVRpbWUsaXNIYXZlWmVybyxzcGVlZCxwbHllZERlc3Ryb3ksbnVsbCxpc1JhbmRvbVBseSk7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5hZGRDaGlsZCh1aV9Db2luRWZmZWN0KTtcclxuICAgICAgICAgICAgbGV0IHVwUG9zICAgICAgICAgPSBjYy52Mih1aV9Db2luRWZmZWN0LnBvc2l0aW9uLnggKyBNYXRoLnJhbmRvbSgpICogUmFuZG9tT2Zmc2V4WCx1aV9Db2luRWZmZWN0LnBvc2l0aW9uLnkgKyBNYXRoLnJhbmRvbSgpICogUmFuZG9tT2Zmc2V4WSArIFJhbmRvbU1pblkgKTtcclxuXHJcbiAgICAgICAgICAgIGlmKHJlcy5zZWF0TnVtID09IENPTlNULlNlYXQuTGVmdFRvcCB8fCByZXMuc2VhdE51bSA9PSBDT05TVC5TZWF0LlJpZ2h0VG9wKXtcclxuICAgICAgICAgICAgICAgIHVwUG9zICAgICAgICAgPSBjYy52Mih1aV9Db2luRWZmZWN0LnBvc2l0aW9uLnggKyBNYXRoLnJhbmRvbSgpICogUmFuZG9tT2Zmc2V4WCx1aV9Db2luRWZmZWN0LnBvc2l0aW9uLnkgLSAoIE1hdGgucmFuZG9tKCkgKiBSYW5kb21PZmZzZXhZICsgUmFuZG9tTWluWSApKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgYm91bmNlQWN0MSAgICA9IGNjLnNwYXduKGNjLmZhZGVUbyhGYWRlVG9UaW1lLEVuZE9wYWNpdHkpLGNjLm1vdmVUbyhNb3ZlVG9UaW1lLHVpX0NvaW5FZmZlY3QucG9zaXRpb24pKTtcclxuICAgICAgICAgICAgbGV0IGJvdW5jZUFjdDIgICAgPSBjYy5tb3ZlVG8oTW92ZVRvVGltZSx1cFBvcyk7XHJcbiAgICAgICAgICAgIGxldCBiZXppZXJQb2ludCAgID0gY2MudjIodGFyZ2V0UG9zaXRpb24ueCx1aV9Db2luRWZmZWN0LnBvc2l0aW9uLnkpO1xyXG4gICAgICAgICAgICBsZXQgYWN0ICAgICAgICAgICA9IGNjLnNwYXduKGNjLnNjYWxlVG8oU2NhbGVUb1RpbWUsU2NhbGVUb0FyZyxTY2FsZVRvQXJnKSxjYy5iZXppZXJUbyhCZXppZXJUb1RpbWUsW3VwUG9zLGJlemllclBvaW50LGNjLnYyKHRhcmdldFBvc2l0aW9uLngsdGFyZ2V0UG9zaXRpb24ueSldKSk7XHJcblxyXG4gICAgICAgICAgICB1aV9Db2luRWZmZWN0LnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5kZWxheVRpbWUoaSpPbmVEZWxheVRpbWUpLGJvdW5jZUFjdDEsYm91bmNlQWN0MixhY3QpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBlbmRHbG9kVGltZSAgICAgICA9IDIuNzsvL+acgOWQjuS4gOS4qumHkeW4gea8guenu+eahOaXtumXtFxyXG4gICAgICAgIGNvbnN0IFR1cm50YWJsZUZhZGVUbyA9IDAuNjtcclxuXHJcbiAgICAgICAgdGhpcy50dXJudGFibGVCZy5zdG9wQWxsQWN0aW9ucygpO1xyXG4gICAgICAgIHRoaXMudHVybnRhYmxlQmcyLnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgdGhpcy50dXJudGFibGUuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICB0aGlzLm1hc2tfdHVybnRhYmxlLnN0b3BBbGxBY3Rpb25zKCk7XHJcbiAgICAgICAgdGhpcy5zcGluZV9JZGxlRWZmZWN0LnN0b3BBbGxBY3Rpb25zKCk7XHJcblxyXG4gICAgICAgIGxldCBpbmRleE5vZGU7XHJcbiAgICAgICAgc3dpdGNoIChpbmRleCkgey8v5qC55o2u5Zu+54mH6YeR5biB5aSn5bCP56eN57G76KeE5YiZ5p2lXHJcbiAgICAgICAgICAgIGNhc2UgMCA6XHJcbiAgICAgICAgICAgICAgICBpbmRleE5vZGUgPSA2O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMSA6XHJcbiAgICAgICAgICAgICAgICBpbmRleE5vZGUgPSAxO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMiA6XHJcbiAgICAgICAgICAgICAgICBpbmRleE5vZGUgPSA1O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMyA6XHJcbiAgICAgICAgICAgICAgICBpbmRleE5vZGUgPSAzO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNCA6XHJcbiAgICAgICAgICAgICAgICBpbmRleE5vZGUgPSA0O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNSA6XHJcbiAgICAgICAgICAgICAgICBpbmRleE5vZGUgPSAwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNiA6XHJcbiAgICAgICAgICAgICAgICBpbmRleE5vZGUgPSA3O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgNyA6XHJcbiAgICAgICAgICAgICAgICBpbmRleE5vZGUgPSAyO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgbGFiX251bWJlciA9IHRoaXMudHVybnRhYmxlLmdldENoaWxkQnlOYW1lKGluZGV4Tm9kZStcIlwiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpO1xyXG4gICAgICAgIGxldCBoZWlnaHRMaW5lID0gdGhpcy50dXJudGFibGUuZ2V0Q2hpbGRCeU5hbWUoaW5kZXhOb2RlK1wiXCIpLmdldENoaWxkQnlOYW1lKFwiaGVpZ2h0TGluZVwiKTtcclxuICAgICAgICBjb25zdCBSZXBlYXRUaW1lcyA9IDE0O1xyXG4gICAgICAgIGNvbnN0IFN1YlRpbWVzID0gTWF0aC5jZWlsKE51bWJlcihsYWJfbnVtYmVyLnN0cmluZykvUmVwZWF0VGltZXMpO1xyXG4gICAgICAgIGxldCBjdXJyZW50Q29pbiA9IE51bWJlcihsYWJfbnVtYmVyLnN0cmluZyk7XHJcbiAgICAgICAgLy/or7vmlbDmtojlpLFcclxuICAgICAgICB0aGlzLnNjaGVkdWxlKCgpPT57XHJcbiAgICAgICAgICAgIGN1cnJlbnRDb2luIC09IFN1YlRpbWVzO1xyXG4gICAgICAgICAgICBpZihjdXJyZW50Q29pbiA8PSAwKXtcclxuICAgICAgICAgICAgICAgIGxhYl9udW1iZXIuc3RyaW5nID0gXCIwXCI7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgbGFiX251bWJlci5zdHJpbmcgPSBjdXJyZW50Q29pbiArIFwiXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LDAuMSxSZXBlYXRUaW1lcy0xKTtcclxuXHJcbiAgICAgICAgY29uc3QgUmVwZWF0QnVpQnVpQnVpVGltZXMgPSA0O1xyXG4gICAgICAgIHRoaXMuc2NoZWR1bGUoKCk9PntcclxuICAgICAgICAgICAgaGVpZ2h0TGluZS5hY3RpdmUgPSAhaGVpZ2h0TGluZS5hY3RpdmU7XHJcbiAgICAgICAgfSwwLjMsUmVwZWF0QnVpQnVpQnVpVGltZXMtMSk7XHJcblxyXG4gICAgICAgIHRoaXMudHVybnRhYmxlQmcucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLmRlbGF5VGltZShlbmRHbG9kVGltZSksY2MuZmFkZVRvKFR1cm50YWJsZUZhZGVUbywwKSxjYy5jYWxsRnVuYygoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2ljLmlzWXVSdXlpUnVuaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMudHVybnRhYmxlTWFzay5nZXRDb21wb25lbnQoY2MuQmxvY2tJbnB1dEV2ZW50cykuZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjb25zdCBOb3QgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUub3BhY2l0eSA9IE5vdDtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZih0aGlzLmxvZ2ljLnNlYXROdW0gPT0gcmVzLnNlYXROdW0pe1xyXG4gICAgICAgICAgICAgICAgZ2xHYW1lLmVtaXR0ZXIuZW1pdChDT05TVC5jbGllbnRFdmVudC5hZGRHb2xkRWZmZWN0LHJlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSkpO1xyXG5cclxuICAgICAgICB0aGlzLnR1cm50YWJsZUJnMi5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MuZGVsYXlUaW1lKGVuZEdsb2RUaW1lKSxjYy5mYWRlVG8oVHVybnRhYmxlRmFkZVRvLDApKSk7XHJcbiAgICAgICAgdGhpcy50dXJudGFibGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLmRlbGF5VGltZShlbmRHbG9kVGltZSksY2MuZmFkZVRvKFR1cm50YWJsZUZhZGVUbywwKSkpO1xyXG4gICAgICAgIHRoaXMubWFza190dXJudGFibGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLmRlbGF5VGltZShlbmRHbG9kVGltZSksY2MuZmFkZVRvKFR1cm50YWJsZUZhZGVUbywwKSkpO1xyXG4gICAgICAgIHRoaXMuc3BpbmVfSWRsZUVmZmVjdC5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MuZGVsYXlUaW1lKGVuZEdsb2RUaW1lKSxjYy5mYWRlVG8oVHVybnRhYmxlRmFkZVRvLDApKSk7XHJcbiAgICB9LFxyXG5cclxuICAgIGVhc2VFeHBvbmVudGlhbE91dCgpIHtcclxuICAgICAgICBsZXQgX2Vhc2VFeHBvbmVudGlhbE91dE9iaiA9IHtcclxuICAgICAgICAgICAgZWFzaW5nOiBmdW5jdGlvbiAoZHQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoLShNYXRoLnBvdygyLCAtMTAgKiBkdCkpICsgMSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJldmVyc2U6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfZWFzZUV4cG9uZW50aWFsSW5PYmo7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIF9lYXNlRXhwb25lbnRpYWxPdXRPYmo7XHJcbiAgICB9LFxyXG5cclxuICAgIE9uRGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLmxvZ2ljID0gbnVsbDtcclxuICAgIH1cclxufSk7XHJcbiJdfQ==