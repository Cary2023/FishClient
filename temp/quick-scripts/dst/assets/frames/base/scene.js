
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/frames/base/scene.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '73411vWlgFEVZ0eeC76GH9n', 'scene');
// frames/base/scene.js

"use strict";

/**
 * 场景管理器
 */
var Scene = function Scene() {
  this.upScene = "";
  this.nowScene = "";
  this.registerEvent();
},
    scene = Scene.prototype,
    g_instance = null;

scene.registerEvent = function () {};

scene.unRegisterEvent = function () {};

scene.setNextSceneTag = function (tag) {
  glGame.storage.setItem(glGame.scenetag.NEXTSCENETAG, {
    nextSceneTag: tag
  });
};

scene.getSceneNameByID = function (ID) {
  return this.sceneDict[ID];
};

scene.getSceneIDByName = function (gameName) {
  for (var key in this.sceneDict) {
    if (this.sceneDict[key] == gameName) {
      return key;
    }
  }

  return null;
};
/**
 * 切换到下一个场景
 */


scene.enterNextScene = function () {
  var _this = this;

  return new Promise(function (resolve, reject) {
    _this.upScene = cc.director.getScene().name;
    var nextSceneTag = glGame.storage.getItem(glGame.scenetag.NEXTSCENETAG) || glGame.scenetag.PLAZA,
        nextSceneName = _this.nowScene = glGame.scene.getSceneNameByID(nextSceneTag.nextSceneTag),
        publicPreload = nextSceneName !== "plaza" && nextSceneName !== "login" && !glGame.panel.preloadPlazaState(),
        plazaPreload = nextSceneName === "plaza" && !glGame.panel.preloadPlazaState();
    if (_this.upScene != "" && _this.upScene != "login" && nextSceneName == "plaza") glGame.user.curContinue = [];
    if (nextSceneName === "plaza") glGame.panel.changeRollNoticeState(false);
    if (nextSceneName !== "plaza" && (_this.upScene == "plaza" || _this.upScene == "login")
    /*|| plazaPreload*/
    ) glGame.panel.showLoading();
    if (nextSceneName !== "plaza" && nextSceneName !== "login" && _this.upScene === "plaza") glGame.notice.exitPlaza();
    if (_this.upScene == "login" && nextSceneName == "plaza") glGame.emitter.emit(MESSAGE.UI.HIDE_CLEANUP);

    if (plazaPreload) {
      //预加载大厅资源
      glGame.panel.preloadplazaPublicMode().then(function () {
        _this.switchScene(resolve, nextSceneName);
      });
    } else if (publicPreload) {
      glGame.panel.preloadPublicMode().then(function () {
        _this.switchScene(resolve, nextSceneName);
      });
    } else {
      _this.switchScene(resolve, nextSceneName);
    }
  });
};
/**
 * 切换游戏
 * @param gameID
 */


scene.switchGame = function (gameID) {
  glGame.room.reqMyRoomState();
};

scene.customLoadScene = function (sceneName, onProgress, onComplete) {
  var info = cc.director._getSceneUuid(sceneName);

  var self = this;

  if (info) {
    cc.loader.load({
      uuid: info.uuid,
      type: 'uuid'
    }, function (completedCount, totalCount, item) {
      onProgress(completedCount, totalCount, item);
    }, function (error, asset) {
      if (error) {
        cc.errorID(1210, this.sceneName, error.message);
      } else {
        onComplete(error, asset);
      }
    });
  }
};

scene.switchScene = function (resolve, nextSceneName) {
  var _this2 = this;

  //只在游戏内显示debug
  this.customLoadScene(nextSceneName, function (completedCount, totalCount, item) {
    glGame.emitter.emit(MESSAGE.UI.PLAZA_LOADING, {
      completedCount: completedCount,
      totalCount: totalCount
    });
  }, function () {
    if ("plaza" !== nextSceneName) {
      glGame.update_list = [];
      if (cc.sys.isNative && isIos) cc.game.setFrameRate(30);
    } else {
      if (cc.sys.isNative && isIos) cc.game.setFrameRate(30);else if (cc.sys.isNative) cc.game.setFrameRate(30);
    }

    console.log("loadScene", nextSceneName);
    cc.director.loadScene(nextSceneName, function () {
      if (_this2.upScene != "login" && _this2.upScene != "plaza" && nextSceneName == "plaza") {
        glGame.user.reqMyInfo();
        glGame.user.ReqRedDot();
        glGame.audio.initPlazaAodio();
      }

      glGame.systemclass.iphonex();
      cc.sys.garbageCollect();
      if (nextSceneName == "plaza" && _this2.upScene != "login" && !_this2.checkRoomEnter()) glGame.emitter.emit(MESSAGE.UI.ROOM_ENTER_SHOW);else if (nextSceneName != "plaza" && nextSceneName != "login") glGame.emitter.emit(MESSAGE.UI.ROOM_ENTER_HIDE);
      resolve();
      console.log("loadScene win", nextSceneName);
      glGame.emitter.emit(MESSAGE.UI.CHANGE_SCENE_COMPLE, nextSceneName);
      glGame.audio.onChangeScene();
    });
  });
};

scene.getUpScene = function () {
  for (var key in this.sceneDict) {
    if (this.upScene == this.sceneDict[key]) return parseInt(key);
  }

  return 0;
};

scene.getSceneName = function () {
  return this.nowScene;
};

scene.getNowScene = function () {
  for (var key in this.sceneDict) {
    if (this.nowScene == this.sceneDict[key]) return parseInt(key);
  }

  return 0;
};
/**
 * 重新加载场景
 */


scene.enterNowScene = function () {
  cc.director.loadScene(cc.director.getScene().name, function () {}, function () {
    setTimeout(function () {
      glGame.systemclass.iphonex();
    }, 1000);
    glGame.emitter.emit(MESSAGE.UI.SCENE);
  });
};
/**
 * 校验是否有房间入口界面，且处于开启状态
 */


scene.checkRoomEnter = function () {
  var gameNameList = Object.values(this.sceneDict);

  for (var _i = 0, _gameNameList = gameNameList; _i < _gameNameList.length; _i++) {
    var gameName = _gameNameList[_i];
    var nodeEntry = cc.director.getScene().getChildByName("".concat(gameName, "entry"));
    if (nodeEntry && nodeEntry.active) return true;
  }

  return false;
};

module.exports = function () {
  if (!g_instance) {
    g_instance = new Scene();
  }

  return g_instance;
};

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWVzXFxiYXNlXFxzY2VuZS5qcyJdLCJuYW1lcyI6WyJTY2VuZSIsInVwU2NlbmUiLCJub3dTY2VuZSIsInJlZ2lzdGVyRXZlbnQiLCJzY2VuZSIsInByb3RvdHlwZSIsImdfaW5zdGFuY2UiLCJ1blJlZ2lzdGVyRXZlbnQiLCJzZXROZXh0U2NlbmVUYWciLCJ0YWciLCJnbEdhbWUiLCJzdG9yYWdlIiwic2V0SXRlbSIsInNjZW5ldGFnIiwiTkVYVFNDRU5FVEFHIiwibmV4dFNjZW5lVGFnIiwiZ2V0U2NlbmVOYW1lQnlJRCIsIklEIiwic2NlbmVEaWN0IiwiZ2V0U2NlbmVJREJ5TmFtZSIsImdhbWVOYW1lIiwia2V5IiwiZW50ZXJOZXh0U2NlbmUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImNjIiwiZGlyZWN0b3IiLCJnZXRTY2VuZSIsIm5hbWUiLCJnZXRJdGVtIiwiUExBWkEiLCJuZXh0U2NlbmVOYW1lIiwicHVibGljUHJlbG9hZCIsInBhbmVsIiwicHJlbG9hZFBsYXphU3RhdGUiLCJwbGF6YVByZWxvYWQiLCJ1c2VyIiwiY3VyQ29udGludWUiLCJjaGFuZ2VSb2xsTm90aWNlU3RhdGUiLCJzaG93TG9hZGluZyIsIm5vdGljZSIsImV4aXRQbGF6YSIsImVtaXR0ZXIiLCJlbWl0IiwiTUVTU0FHRSIsIlVJIiwiSElERV9DTEVBTlVQIiwicHJlbG9hZHBsYXphUHVibGljTW9kZSIsInRoZW4iLCJzd2l0Y2hTY2VuZSIsInByZWxvYWRQdWJsaWNNb2RlIiwic3dpdGNoR2FtZSIsImdhbWVJRCIsInJvb20iLCJyZXFNeVJvb21TdGF0ZSIsImN1c3RvbUxvYWRTY2VuZSIsInNjZW5lTmFtZSIsIm9uUHJvZ3Jlc3MiLCJvbkNvbXBsZXRlIiwiaW5mbyIsIl9nZXRTY2VuZVV1aWQiLCJzZWxmIiwibG9hZGVyIiwibG9hZCIsInV1aWQiLCJ0eXBlIiwiY29tcGxldGVkQ291bnQiLCJ0b3RhbENvdW50IiwiaXRlbSIsImVycm9yIiwiYXNzZXQiLCJlcnJvcklEIiwibWVzc2FnZSIsIlBMQVpBX0xPQURJTkciLCJ1cGRhdGVfbGlzdCIsInN5cyIsImlzTmF0aXZlIiwiaXNJb3MiLCJnYW1lIiwic2V0RnJhbWVSYXRlIiwiY29uc29sZSIsImxvZyIsImxvYWRTY2VuZSIsInJlcU15SW5mbyIsIlJlcVJlZERvdCIsImF1ZGlvIiwiaW5pdFBsYXphQW9kaW8iLCJzeXN0ZW1jbGFzcyIsImlwaG9uZXgiLCJnYXJiYWdlQ29sbGVjdCIsImNoZWNrUm9vbUVudGVyIiwiUk9PTV9FTlRFUl9TSE9XIiwiUk9PTV9FTlRFUl9ISURFIiwiQ0hBTkdFX1NDRU5FX0NPTVBMRSIsIm9uQ2hhbmdlU2NlbmUiLCJnZXRVcFNjZW5lIiwicGFyc2VJbnQiLCJnZXRTY2VuZU5hbWUiLCJnZXROb3dTY2VuZSIsImVudGVyTm93U2NlbmUiLCJzZXRUaW1lb3V0IiwiU0NFTkUiLCJnYW1lTmFtZUxpc3QiLCJPYmplY3QiLCJ2YWx1ZXMiLCJub2RlRW50cnkiLCJnZXRDaGlsZEJ5TmFtZSIsImFjdGl2ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7OztBQUdBLElBQUlBLEtBQUssR0FBRyxTQUFSQSxLQUFRLEdBQVk7QUFDcEIsT0FBS0MsT0FBTCxHQUFlLEVBQWY7QUFDQSxPQUFLQyxRQUFMLEdBQWdCLEVBQWhCO0FBQ0EsT0FBS0MsYUFBTDtBQUNILENBSkQ7QUFBQSxJQUtJQyxLQUFLLEdBQUdKLEtBQUssQ0FBQ0ssU0FMbEI7QUFBQSxJQU1JQyxVQUFVLEdBQUcsSUFOakI7O0FBUUFGLEtBQUssQ0FBQ0QsYUFBTixHQUFzQixZQUFZLENBQ2pDLENBREQ7O0FBRUFDLEtBQUssQ0FBQ0csZUFBTixHQUF3QixZQUFZLENBQ25DLENBREQ7O0FBRUFILEtBQUssQ0FBQ0ksZUFBTixHQUF3QixVQUFVQyxHQUFWLEVBQWU7QUFDbkNDLEVBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxDQUFlQyxPQUFmLENBQXVCRixN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TUFBUCxDQUFjLEtBQUt2RixTQUFuQixDQUFuQjs7QUFDQSxtQ0FBcUJxRixZQUFyQixtQ0FBbUM7QUFBOUIsUUFBSW5GLFFBQVEsb0JBQVo7QUFDRCxRQUFJc0YsU0FBUyxHQUFHaEYsRUFBRSxDQUFDQyxRQUFILENBQVlDLFFBQVosR0FBdUIrRSxjQUF2QixXQUF5Q3ZGLFFBQXpDLFdBQWhCO0FBQ0EsUUFBSXNGLFNBQVMsSUFBSUEsU0FBUyxDQUFDRSxNQUEzQixFQUFtQyxPQUFPLElBQVA7QUFDdEM7O0FBQ0QsU0FBTyxLQUFQO0FBQ0gsQ0FQRDs7QUFTQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFlBQVk7QUFDekIsTUFBSSxDQUFDeEcsVUFBTCxFQUFpQjtBQUNiQSxJQUFBQSxVQUFVLEdBQUcsSUFBSU4sS0FBSixFQUFiO0FBQ0g7O0FBQ0QsU0FBT00sVUFBUDtBQUNILENBTEQiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiDlnLrmma/nrqHnkIblmahcclxuICovXHJcbmxldCBTY2VuZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMudXBTY2VuZSA9IFwiXCI7XHJcbiAgICB0aGlzLm5vd1NjZW5lID0gXCJcIjtcclxuICAgIHRoaXMucmVnaXN0ZXJFdmVudCgpO1xyXG59LFxyXG4gICAgc2NlbmUgPSBTY2VuZS5wcm90b3R5cGUsXHJcbiAgICBnX2luc3RhbmNlID0gbnVsbDtcclxuXHJcbnNjZW5lLnJlZ2lzdGVyRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbn07XHJcbnNjZW5lLnVuUmVnaXN0ZXJFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxufTtcclxuc2NlbmUuc2V0TmV4dFNjZW5lVGFnID0gZnVuY3Rpb24gKHRhZykge1xyXG4gICAgZ2xHYW1lLnN0b3JhZ2Uuc2V0SXRlbShnbEdhbWUuc2NlbmV0YWcuTkVYVFNDRU5FVEFHLCB7IG5leHRTY2VuZVRhZzogdGFnIH0pO1xyXG59O1xyXG5zY2VuZS5nZXRTY2VuZU5hbWVCeUlEID0gZnVuY3Rpb24gKElEKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zY2VuZURpY3RbSURdO1xyXG59O1xyXG5zY2VuZS5nZXRTY2VuZUlEQnlOYW1lID0gZnVuY3Rpb24gKGdhbWVOYW1lKSB7XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLnNjZW5lRGljdCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNjZW5lRGljdFtrZXldID09IGdhbWVOYW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBrZXk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn07XHJcbi8qKlxyXG4gKiDliIfmjaLliLDkuIvkuIDkuKrlnLrmma9cclxuICovXHJcbnNjZW5lLmVudGVyTmV4dFNjZW5lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICB0aGlzLnVwU2NlbmUgPSBjYy5kaXJlY3Rvci5nZXRTY2VuZSgpLm5hbWU7XHJcbiAgICAgICAgbGV0IG5leHRTY2VuZVRhZyA9IGdsR2FtZS5zdG9yYWdlLmdldEl0ZW0oZ2xHYW1lLnNjZW5ldGFnLk5FWFRTQ0VORVRBRykgfHwgZ2xHYW1lLnNjZW5ldGFnLlBMQVpBLFxyXG4gICAgICAgICAgICBuZXh0U2NlbmVOYW1lID0gdGhpcy5ub3dTY2VuZSA9IGdsR2FtZS5zY2VuZS5nZXRTY2VuZU5hbWVCeUlEKG5leHRTY2VuZVRhZy5uZXh0U2NlbmVUYWcpLFxyXG4gICAgICAgICAgICBwdWJsaWNQcmVsb2FkID0gKChuZXh0U2NlbmVOYW1lICE9PSBcInBsYXphXCIgJiYgbmV4dFNjZW5lTmFtZSAhPT0gXCJsb2dpblwiICYmICFnbEdhbWUucGFuZWwucHJlbG9hZFBsYXphU3RhdGUoKSkpLFxyXG4gICAgICAgICAgICBwbGF6YVByZWxvYWQgPSAobmV4dFNjZW5lTmFtZSA9PT0gXCJwbGF6YVwiICYmICFnbEdhbWUucGFuZWwucHJlbG9hZFBsYXphU3RhdGUoKSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnVwU2NlbmUgIT0gXCJcIiAmJiB0aGlzLnVwU2NlbmUgIT0gXCJsb2dpblwiICYmIG5leHRTY2VuZU5hbWUgPT0gXCJwbGF6YVwiKSBnbEdhbWUudXNlci5jdXJDb250aW51ZSA9IFtdO1xyXG5cclxuICAgICAgICBpZiAobmV4dFNjZW5lTmFtZSA9PT0gXCJwbGF6YVwiKSBnbEdhbWUucGFuZWwuY2hhbmdlUm9sbE5vdGljZVN0YXRlKGZhbHNlKTtcclxuXHJcbiAgICAgICAgaWYgKG5leHRTY2VuZU5hbWUgIT09IFwicGxhemFcIiAmJiAodGhpcy51cFNjZW5lID09IFwicGxhemFcIiB8fCB0aGlzLnVwU2NlbmUgPT0gXCJsb2dpblwiKS8qfHwgcGxhemFQcmVsb2FkKi8pXHJcbiAgICAgICAgICAgIGdsR2FtZS5wYW5lbC5zaG93TG9hZGluZygpXHJcblxyXG4gICAgICAgIGlmIChuZXh0U2NlbmVOYW1lICE9PSBcInBsYXphXCIgJiYgbmV4dFNjZW5lTmFtZSAhPT0gXCJsb2dpblwiICYmIHRoaXMudXBTY2VuZSA9PT0gXCJwbGF6YVwiKSBnbEdhbWUubm90aWNlLmV4aXRQbGF6YSgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy51cFNjZW5lID09IFwibG9naW5cIiAmJiBuZXh0U2NlbmVOYW1lID09IFwicGxhemFcIikgZ2xHYW1lLmVtaXR0ZXIuZW1pdChNRVNTQUdFLlVJLkhJREVfQ0xFQU5VUCk7XHJcblxyXG4gICAgICAgIGlmIChwbGF6YVByZWxvYWQpIHtcclxuICAgICAgICAgICAgLy/pooTliqDovb3lpKfljoXotYTmupBcclxuICAgICAgICAgICAgZ2xHYW1lLnBhbmVsLnByZWxvYWRwbGF6YVB1YmxpY01vZGUoKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3dpdGNoU2NlbmUocmVzb2x2ZSwgbmV4dFNjZW5lTmFtZSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBlbHNlIGlmIChwdWJsaWNQcmVsb2FkKSB7XHJcbiAgICAgICAgICAgIGdsR2FtZS5wYW5lbC5wcmVsb2FkUHVibGljTW9kZSgpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zd2l0Y2hTY2VuZShyZXNvbHZlLCBuZXh0U2NlbmVOYW1lKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnN3aXRjaFNjZW5lKHJlc29sdmUsIG5leHRTY2VuZU5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn07XHJcblxyXG5cclxuLyoqXHJcbiAqIOWIh+aNoua4uOaIj1xyXG4gKiBAcGFyYW0gZ2FtZUlEXHJcbiAqL1xyXG5zY2VuZS5zd2l0Y2hHYW1lID0gZnVuY3Rpb24gKGdhbWVJRCkge1xyXG4gICAgZ2xHYW1lLnJvb20ucmVxTXlSb29tU3RhdGUoKTtcclxufTtcclxuXHJcbnNjZW5lLmN1c3RvbUxvYWRTY2VuZSA9IGZ1bmN0aW9uKHNjZW5lTmFtZSwgb25Qcm9ncmVzcywgb25Db21wbGV0ZSkge1xyXG4gICAgdmFyIGluZm8gPSBjYy5kaXJlY3Rvci5fZ2V0U2NlbmVVdWlkKHNjZW5lTmFtZSk7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBpZiAoaW5mbykge1xyXG4gICAgICAgIGNjLmxvYWRlci5sb2FkKHsgdXVpZDogaW5mby51dWlkLCB0eXBlOiAndXVpZCcgfSwgZnVuY3Rpb24oY29tcGxldGVkQ291bnQsIHRvdGFsQ291bnQsIGl0ZW0pe1xyXG4gICAgICAgICAgICBvblByb2dyZXNzKGNvbXBsZXRlZENvdW50LCB0b3RhbENvdW50LCBpdGVtKVxyXG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yLCBhc3NldCl7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY2MuZXJyb3JJRCgxMjEwLCB0aGlzLnNjZW5lTmFtZSwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRlKGVycm9yLCBhc3NldCk7XHJcbuOAgOOAgOOAgOOAgOOAgOOAgOOAgH1cclxuICAgICAgICAgfSlcclxuICAgICB9XHJcbn1cclxuXHJcblxyXG5zY2VuZS5zd2l0Y2hTY2VuZSA9IGZ1bmN0aW9uIChyZXNvbHZlLCBuZXh0U2NlbmVOYW1lKSB7XHJcbiAgICAvL+WPquWcqOa4uOaIj+WGheaYvuekumRlYnVnXHJcbiAgICB0aGlzLmN1c3RvbUxvYWRTY2VuZShuZXh0U2NlbmVOYW1lLChjb21wbGV0ZWRDb3VudCwgdG90YWxDb3VudCwgaXRlbSk9PiB7XHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIuZW1pdChNRVNTQUdFLlVJLlBMQVpBX0xPQURJTkcsIHsgY29tcGxldGVkQ291bnQsIHRvdGFsQ291bnQgfSk7XHJcbiAgICB9LFxyXG4gICAgICgpID0+IHtcclxuICAgICAgICBpZiAoXCJwbGF6YVwiICE9PSBuZXh0U2NlbmVOYW1lKSB7XHJcbiAgICAgICAgICAgIGdsR2FtZS51cGRhdGVfbGlzdCA9IFtdO1xyXG4gICAgICAgICAgICBpZiAoY2Muc3lzLmlzTmF0aXZlICYmIGlzSW9zKSBjYy5nYW1lLnNldEZyYW1lUmF0ZSgzMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGNjLnN5cy5pc05hdGl2ZSAmJiBpc0lvcykgY2MuZ2FtZS5zZXRGcmFtZVJhdGUoMzApO1xyXG4gICAgICAgICAgICBlbHNlIGlmIChjYy5zeXMuaXNOYXRpdmUpIGNjLmdhbWUuc2V0RnJhbWVSYXRlKDMwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJsb2FkU2NlbmVcIiwgbmV4dFNjZW5lTmFtZSk7XHJcbiAgICAgICAgY2MuZGlyZWN0b3IubG9hZFNjZW5lKG5leHRTY2VuZU5hbWUsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudXBTY2VuZSAhPSBcImxvZ2luXCIgJiYgdGhpcy51cFNjZW5lICE9IFwicGxhemFcIiAmJiBuZXh0U2NlbmVOYW1lID09IFwicGxhemFcIikge1xyXG4gICAgICAgICAgICAgICAgZ2xHYW1lLnVzZXIucmVxTXlJbmZvKCk7XHJcbiAgICAgICAgICAgICAgICBnbEdhbWUudXNlci5SZXFSZWREb3QoKTtcclxuICAgICAgICAgICAgICAgIGdsR2FtZS5hdWRpby5pbml0UGxhemFBb2RpbygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGdsR2FtZS5zeXN0ZW1jbGFzcy5pcGhvbmV4KCk7XHJcbiAgICAgICAgICAgIGNjLnN5cy5nYXJiYWdlQ29sbGVjdCgpO1xyXG4gICAgICAgICAgICBpZiAobmV4dFNjZW5lTmFtZSA9PSBcInBsYXphXCIgJiYgdGhpcy51cFNjZW5lICE9IFwibG9naW5cIiAmJiAhdGhpcy5jaGVja1Jvb21FbnRlcigpKSBnbEdhbWUuZW1pdHRlci5lbWl0KE1FU1NBR0UuVUkuUk9PTV9FTlRFUl9TSE9XKTtcclxuICAgICAgICAgICAgZWxzZSBpZiAobmV4dFNjZW5lTmFtZSAhPSBcInBsYXphXCIgJiYgbmV4dFNjZW5lTmFtZSAhPSBcImxvZ2luXCIpIGdsR2FtZS5lbWl0dGVyLmVtaXQoTUVTU0FHRS5VSS5ST09NX0VOVEVSX0hJREUpO1xyXG4gICAgICAgICAgICByZXNvbHZlKClcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJsb2FkU2NlbmUgd2luXCIsIG5leHRTY2VuZU5hbWUpO1xyXG4gICAgICAgICAgICBnbEdhbWUuZW1pdHRlci5lbWl0KE1FU1NBR0UuVUkuQ0hBTkdFX1NDRU5FX0NPTVBMRSwgbmV4dFNjZW5lTmFtZSk7XHJcbiAgICAgICAgICAgIGdsR2FtZS5hdWRpby5vbkNoYW5nZVNjZW5lKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuc2NlbmUuZ2V0VXBTY2VuZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGZvciAobGV0IGtleSBpbiB0aGlzLnNjZW5lRGljdCkge1xyXG4gICAgICAgIGlmICh0aGlzLnVwU2NlbmUgPT0gdGhpcy5zY2VuZURpY3Rba2V5XSkgcmV0dXJuIHBhcnNlSW50KGtleSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gMDtcclxufVxyXG5cclxuc2NlbmUuZ2V0U2NlbmVOYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHRoaXMubm93U2NlbmU7XHJcbn1cclxuXHJcbnNjZW5lLmdldE5vd1NjZW5lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgZm9yIChsZXQga2V5IGluIHRoaXMuc2NlbmVEaWN0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMubm93U2NlbmUgPT0gdGhpcy5zY2VuZURpY3Rba2V5XSkgcmV0dXJuIHBhcnNlSW50KGtleSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gMDtcclxufVxyXG5cclxuLyoqXHJcbiAqIOmHjeaWsOWKoOi9veWcuuaZr1xyXG4gKi9cclxuc2NlbmUuZW50ZXJOb3dTY2VuZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGNjLmRpcmVjdG9yLmxvYWRTY2VuZShjYy5kaXJlY3Rvci5nZXRTY2VuZSgpLm5hbWUsICgpID0+IHsgfSwgKCkgPT4ge1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBnbEdhbWUuc3lzdGVtY2xhc3MuaXBob25leCgpO1xyXG4gICAgICAgIH0sIDEwMDApXHJcbiAgICAgICAgZ2xHYW1lLmVtaXR0ZXIuZW1pdChNRVNTQUdFLlVJLlNDRU5FKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIOagoemqjOaYr+WQpuacieaIv+mXtOWFpeWPo+eVjOmdou+8jOS4lOWkhOS6juW8gOWQr+eKtuaAgVxyXG4gKi9cclxuc2NlbmUuY2hlY2tSb29tRW50ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBsZXQgZ2FtZU5hbWVMaXN0ID0gT2JqZWN0LnZhbHVlcyh0aGlzLnNjZW5lRGljdCk7XHJcbiAgICBmb3IgKGxldCBnYW1lTmFtZSBvZiBnYW1lTmFtZUxpc3QpIHtcclxuICAgICAgICBsZXQgbm9kZUVudHJ5ID0gY2MuZGlyZWN0b3IuZ2V0U2NlbmUoKS5nZXRDaGlsZEJ5TmFtZShgJHtnYW1lTmFtZX1lbnRyeWApXHJcbiAgICAgICAgaWYgKG5vZGVFbnRyeSAmJiBub2RlRW50cnkuYWN0aXZlKSByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoIWdfaW5zdGFuY2UpIHtcclxuICAgICAgICBnX2luc3RhbmNlID0gbmV3IFNjZW5lKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZ19pbnN0YW5jZTtcclxufTtcclxuIl19