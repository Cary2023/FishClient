
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/frames/base/audio.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '32941fOd4VGPKLT8Cz7EzZA', 'audio');
// frames/base/audio.js

"use strict";

var Audio = function Audio() {
  this.resetData();
},
    audio = Audio.prototype,
    g_instance = null;

audio.lastAudioSceneName = null;
/**
 * 初始化音量参数
 */

audio.resetData = function () {
  this.BGMSE = glGame.storage.getItem("BGMSE") || {
    BGMVolume: 1,
    BGMPlayState: true,
    SoundEffectVolume: 1,
    SoundEffectPlayState: true
  };
  this.curBGM = null;
  this.curSoundEffect = null;
  this.curLoopSE = null; //默认本地音效

  this.musicList = ["Hoaprox", "Axero-Trip", "Friendships"];
};
/**
 * 播放背景音乐
 * @param {cc.AudioClip} audio
 */


audio.playBGM = function (audio) {
  this.curBGMPath = audio;
  if (!this.BGMSE["BGMPlayState"]) return;
  if (this.curBGM || this.curBGM === 0) this.stopCurBGM();
  this.curBGM = cc.audioEngine.play(this.curBGMPath, true, this.BGMSE["BGMVolume"]);
};
/**
 * 播放背景音乐
 */


audio.playPathBGM = function () {
  var _this = this;

  var data = glGame.storage.getItem("bgName") || {
    audio: this.musicList[0]
  };

  if (data.netMusic) {
    glGame.audioloader.loadAudio(data.audio).then(function (audio) {
      _this.curBGMPath = audio;
      if (!_this.BGMSE["BGMPlayState"]) return;
      if (_this.curBGM || _this.curBGM === 0) _this.stopCurBGM();
      _this.curBGM = cc.audioEngine.play(_this.curBGMPath, true, _this.BGMSE["BGMVolume"]);
    });
  } else {
    glGame.fileutil.readAudio("audio/bg/".concat(data.audio)).then(function (audio) {
      _this.curBGMPath = audio;
      if (!_this.BGMSE["BGMPlayState"]) return;
      if (_this.curBGM || _this.curBGM === 0) _this.stopCurBGM();
      _this.curBGM = cc.audioEngine.play(_this.curBGMPath, true, _this.BGMSE["BGMVolume"]);
    });
  }
};
/**
 * 停止当前播放的背景音乐
 */


audio.stopCurBGM = function () {
  if (this.curBGM || this.curBGM === 0) cc.audioEngine.stop(this.curBGM);else cc.audioEngine.stopAll();
  this.curBGM = null;
}; //继续播放所有音效


audio.continueAllMusic = function () {
  this.playBGM(this.curBGMPath);
}; //停止所有音效


audio.pauseAllMusic = function () {
  cc.audioEngine.stopAll();
};
/**
 * 设置背景音乐关闭
 */


audio.closeBGM = function () {
  this.BGMSE["BGMPlayState"] = false;
  this.stopCurBGM();
  this.saveVolume();
};
/**
 * 设置背景音乐播放开启
 */


audio.openBGM = function () {
  this.BGMSE["BGMPlayState"] = true;
  this.playBGM(this.curBGMPath);
  this.saveVolume();
};
/**
 * 获取背景音乐
 */


audio.getBGM = function () {
  return this.curBGM;
};
/**
 * 获取背景音乐音量
 */


audio.getBGMVolume = function () {
  return this.BGMSE["BGMVolume"];
};
/**
 * 设置背景音量
 * @param volume
 */


audio.setBGMVolume = function (volume) {
  this.BGMSE["BGMVolume"] = volume;
  cc.audioEngine.setVolume(this.curBGM, this.BGMSE["BGMVolume"]);
};
/**
 * 通过路径播放音效
 */


audio.playSoundEffectByPath = function (path) {
  if (!this.BGMSE["SoundEffectPlayState"]) return;
  if (!path) return console.error("audio.playSoundEffectByPath 参数 path 不能为空...");
  this.playSoundEffect("res/raw-assets/".concat(path, ".mp3"));
};
/**
 * 通过路径播放音效(预加载)
 * @param name 名字。路径和格式函数拼接
 */


audio.playLoadSoundEffectByPath = function (name) {
  var bool = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  if (!this.BGMSE["SoundEffectPlayState"]) return;
  if (!name) return console.error("audio.playLoadSoundEffectByPath 参数 name 不能为空...");
  if (bool) this.closeCurEffect();
  var SoundEffectVolume = this.BGMSE["SoundEffectVolume"];
  cc.loader.load(cc.url.raw("resources/audio/public/".concat(name, ".mp3")), function (err, clip) {
    this.curSoundEffect = cc.audioEngine.play(clip, false, SoundEffectVolume);
    if (bool) this.soundEffect = this.curSoundEffect;
  });
};
/**
 * 播放音效
 * @param {cc.AudioClip} audio
 * @param bool 是否是特长音效，特长音效需要考虑秒关界面的情况，需要把音效停止
 */


audio.playSoundEffect = function (audio) {
  var bool = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var volume = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : -1;
  if (!this.BGMSE["SoundEffectPlayState"]) return;
  if (bool) this.closeCurEffect();

  if (volume != -1) {
    this.curSoundEffect = cc.audioEngine.play(audio, false, this.BGMSE["SoundEffectVolume"], volume);
    cc.audioEngine.setVolume(this.curSoundEffect, volume);
  } else {
    this.curSoundEffect = cc.audioEngine.play(audio, false, this.BGMSE["SoundEffectVolume"]);
  }

  if (bool) this.soundEffect = this.curSoundEffect;
};
/**
 * 循环播放音效
 */


audio.playSoundEffectLoop = function (audio) {
  var volume = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -1;
  if (!this.BGMSE["SoundEffectPlayState"]) return;
  this.stopLoopSE();

  if (volume != -1) {
    this.curLoopSE = cc.audioEngine.play(audio, true, this.BGMSE["SoundEffectVolume"], volume);
  } else {
    this.curLoopSE = cc.audioEngine.play(audio, true, this.BGMSE["SoundEffectVolume"]);
  }
};
/**
 * 关闭音效
 * this.soundEffect 特长音效的ID
 */


audio.closeCurEffect = function () {
  if (!this.BGMSE["SoundEffectPlayState"]) return;

  if (this.soundEffect != null) {
    cc.audioEngine.stopEffect(this.soundEffect);
    this.soundEffect = null;
  }
};
/**
 * 设置音效大小
 * @param volume
 */


audio.setSoundEffectVolume = function (volume) {
  this.BGMSE["SoundEffectVolume"] = volume;
  cc.audioEngine.setVolume(this.curSoundEffect, this.BGMSE["SoundEffectVolume"]);
  cc.audioEngine.setVolume(this.curLoopSE, this.BGMSE["SoundEffectVolume"]);
};
/**
 * 设置音效播放开启
 */


audio.openSE = function () {
  this.BGMSE["SoundEffectPlayState"] = true;
  this.saveVolume();
};
/**
 * 设置音效播放关闭
 */


audio.closeSE = function () {
  this.BGMSE["SoundEffectPlayState"] = false;
  this.stopLoopSE();
  this.saveVolume();
};

audio.stopLoopSE = function () {
  if (this.curLoopSE !== null) cc.audioEngine.stop(this.curLoopSE);
  this.curLoopSE = null;
};
/**
 * 停止所有声音
 */


audio.stopAllMusic = function () {
  cc.audioEngine.stopAll();
  this.curBGM = null;
  this.curSoundEffect = null;
  this.curLoopSE = null;
};
/**
 * 检查预制名是否符合房间选场名称
 * @param {string} nodeName 需要坚持的预支名称 
 */


audio.checkEnterName = function (nodeName) {
  if (typeof nodeName != "string") return false;

  for (var key in glGame.scene.entryGame) {
    var panelName = "".concat(glGame.scene.entryGame[key], "entry");
    if (nodeName === panelName) return true;
  }

  return false;
};
/**
 * 初始化主要场景
 */


audio.initPlazaAodio = function () {
  var isHavaEntery = false;
  var scene = cc.director.getScene();

  for (var i = 0; i < scene.childrenCount; i++) {
    var str = scene.children[i] ? scene.children[i].name.indexOf("entry") : -1;

    if (str != -1 && this.checkEnterName(scene.children[i].name)) {
      isHavaEntery = true;
      var script = scene.children[i].getComponent(scene.children[i].name); //播放选场音乐

      if (script.BGM) glGame.audio.playBGM(script.BGM);
      break;
    }
  }

  if (!isHavaEntery) {
    //glGame.audio.playBGM(this.BGM);
    if (scene && scene.name == "plaza") {
      if (glGame.audio) glGame.audio.playPathBGM();
    }
  }

  glGame.audio.lastAudioSceneName = null;
};
/**
 * 回到主要场景
 * @param {string} name 需要坚持的预支名称 
 */


audio.goBackPlazaAudio = function (name) {
  var scene = cc.director.getScene(); //回到大厅 继续播 原来的背景音乐

  if (scene && scene.name === "plaza" && this.checkEnterName(name)) glGame.audio.playPathBGM();
  glGame.audio.lastAudioSceneName = null;
};
/**
 * 改变场景
 */


audio.onChangeScene = function () {
  var scene = cc.director.getScene();
  var isHave = false;

  for (var i = 0; i < scene.childrenCount; i++) {
    for (var key in glGame.scene.entryGame) {
      if (glGame.scene.entryGame[key] == scene.children[i].name) {
        isHave = true;
        break;
      }
    }

    if (isHave) {
      var script = scene.children[i].getComponent(scene.children[i].name) ? scene.children[i].getComponent(scene.children[i].name) : scene.children[i].getComponent(scene.children[i].name + "Scene");
      script = script ? script : scene.children[i].getComponent(scene.children[i].name + "scene");

      if (glGame.audio.lastAudioSceneName) {
        if (glGame.audio.lastAudioSceneName == scene.children[i].name) {
          return;
        }
      }

      glGame.audio.lastAudioSceneName = scene.children[i].name; //播放选场音乐

      if (script.BGM) {
        glGame.audio.playBGM(script.BGM);
      }

      break;
    }
  }
};
/**
 * 写入缓存
 */


audio.saveVolume = function () {
  glGame.storage.setItem("BGMSE", this.BGMSE);
};

audio.get = function (key) {
  return this[key];
};

module.exports = function () {
  if (!g_instance) {
    g_instance = new Audio();
  }

  return g_instance;
};

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWVzXFxiYXNlXFxhdWRpby5qcyJdLCJuYW1lcyI6WyJBdWRpbyIsInJlc2V0RGF0YSIsImF1ZGlvIiwicHJvdG90eXBlIiwiZ19pbnN0YW5jZSIsImxhc3RBdWRpb1NjZW5lTmFtZSIsIkJHTVNFIiwiZ2xHYW1lIiwic3RvcmFnZSIsImdldEl0ZW0iLCJCR01Wb2x1bWUiLCJCR01QbGF5U3RhdGUiLCJTb3VuZEVmZmVjdFZvbHVtZSIsIlNvdW5kRWZmZWN0UGxheVN0YXRlIiwiY3VyQkdNIiwiY3VyU291bmRFZmZlY3QiLCJjdXJMb29wU0UiLCJtdXNpY0xpc3QiLCJwbGF5QkdNIiwiY3VyQkdNUGF0aCIsInN0b3BDdXJCR00iLCJjYyIsImF1ZGlvRW5naW5lIiwicGxheSIsInBsYXlQYXRoQkdNIiwiZGF0YSIsIm5ldE11c2ljIiwiYXVkaW9sb2FkZXIiLCJsb2FkQXVkaW8iLCJ0aGVuIiwiZmlsZXV0aWwiLCJyZWFkQXVkaW8iLCJzdG9wIiwic3RvcEFsbCIsImNvbnRpbnVlQWxsTXVzaWMiLCJwYXVzZUFsbE11c2ljIiwiY2xvc2VCR00iLCJzYXZlVm9sdW1lIiwib3BlbkJHTSIsImdldEJHTSIsImdldEJHTVZvbHVtZSIsInNldEJHTVZvbHVtZSIsInZvbHVtZSIsInNldFZvbHVtZSIsInBsYXlTb3VuZEVmZmVjdEJ5UGF0aCIsInBhdGgiLCJjb25zb2xlIiwiZXJyb3IiLCJwbGF5U291bmRFZmZlY3QiLCJwbGF5TG9hZFNvdW5kRWZmZWN0QnlQYXRoIiwibmFtZSIsImJvb2wiLCJjbG9zZUN1ckVmZmVjdCIsImxvYWRlciIsImxvYWQiLCJ1cmwiLCJyYXciLCJlcnIiLCJjbGlwIiwic291bmRFZmZlY3QiLCJwbGF5U291bmRFZmZlY3RMb29wIiwic3RvcExvb3BTRSIsInN0b3BFZmZlY3QiLCJzZXRTb3VuZEVmZmVjdFZvbHVtZSIsIm9wZW5TRSIsImNsb3NlU0UiLCJzdG9wQWxsTXVzaWMiLCJjaGVja0VudGVyTmFtZSIsIm5vZGVOYW1lIiwia2V5Iiwic2NlbmUiLCJlbnRyeUdhbWUiLCJwYW5lbE5hbWUiLCJpbml0UGxhemFBb2RpbyIsImlzSGF2YUVudGVyeSIsImRpcmVjdG9yIiwiZ2V0U2NlbmUiLCJpIiwiY2hpbGRyZW5Db3VudCIsInN0ciIsImNoaWxkcmVuIiwiaW5kZXhPZiIsInNjcmlwdCIsImdldENvbXBvbmVudCIsIkJHTSIsImdvQmFja1BsYXphQXVkaW8iLCJvbkNoYW5nZVNjZW5lIiwiaXNIYXZlIiwic2V0SXRlbSIsImdldCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFDSUEsS0FBSyxHQUFHLFNBQVJBLEtBQVEsR0FBWTtBQUNoQixPQUFLQyxTQUFMO0FBQ0gsQ0FITDtBQUFBLElBSUlDLEtBQUssR0FBR0YsS0FBSyxDQUFDRyxTQUpsQjtBQUFBLElBS0lDLFVBQVUsR0FBRyxJQUxqQjs7QUFPQUYsS0FBSyxDQUFDRyxrQkFBTixHQUEyQixJQUEzQjtBQUVBOzs7O0FBR0FILEtBQUssQ0FBQ0QsU0FBTixHQUFrQixZQUFZO0FBQzFCLE9BQUtLLEtBQUwsR0FBYUMsTUFBTSxDQUFDQyxPQUFQLENBQWVDLE9BQWYsQ0FBdUIsT0FBdkIsS0FBbUM7QUFBRUMsSUFBQUEsU0FBUyxFQUFFLENBQWI7QUFBZ0JDLElBQUFBLFlBQVksRUFBRSxJQUE5QjtBQUFvQ0MsSUFBQUEsaUJBQWlCLEVBQUUsQ0FBdkQ7QUFBMERDLElBQUFBLG9CQUFvQixFQUFFO0FBQWhGLEdBQWhEO0FBQ0EsT0FBS0MsTUFBTCxHQUFjLElBQWQ7QUFDQSxPQUFLQyxjQUFMLEdBQXNCLElBQXRCO0FBQ0EsT0FBS0MsU0FBTCxHQUFpQixJQUFqQixDQUowQixDQUsxQjs7QUFDQSxPQUFLQyxTQUFMLEdBQWlCLENBQUMsU0FBRCxFQUFZLFlBQVosRUFBMEIsYUFBMUIsQ0FBakI7QUFDSCxDQVBEO0FBUUE7Ozs7OztBQUlBZixLQUFLLENBQUNnQixPQUFOLEdBQWdCLFVBQVVoQixLQUFW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VSxRQUFOLENBQWVILENBQWYsRUFBa0IzQixJQUF6RCxFQUErRDtBQUMzRDtBQUNIO0FBQ0o7O0FBQ0QzQyxNQUFBQSxNQUFNLENBQUNMLEtBQVAsQ0FBYUcsa0JBQWIsR0FBa0NpRSxLQUFLLENBQUNVLFFBQU4sQ0FBZUgsQ0FBZixFQUFrQjNCLElBQXBELENBUlEsQ0FTUjs7QUFDQSxVQUFJZ0MsTUFBTSxDQUFDRSxHQUFYLEVBQWdCO0FBQ1o3RSxRQUFBQSxNQUFNLENBQUNMLEtBQVAsQ0FBYWdCLE9BQWIsQ0FBcUJnRSxNQUFNLENBQUNFLEdBQTVCO0FBQ0g7O0FBQ0Q7QUFDSDtBQUNKO0FBQ0osQ0ExQkQ7QUE0QkE7Ozs7O0FBR0FsRixLQUFLLENBQUNtQyxVQUFOLEdBQW1CLFlBQVk7QUFDM0I5QixFQUFBQSxNQUFNLENBQUNDLE9BQVAsQ0FBZWdGLE9BQWYsQ0FBdUIsT0FBdkIsRUFBZ0MsS0FBS2xGLEtBQXJDO0FBQ0gsQ0FGRDs7QUFHQUosS0FBSyxDQUFDdUYsR0FBTixHQUFZLFVBQVVwQixHQUFWLEVBQWU7QUFDdkIsU0FBTyxLQUFLQSxHQUFMLENBQVA7QUFDSCxDQUZEOztBQUdBcUIsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFlBQVk7QUFDekIsTUFBSSxDQUFDdkYsVUFBTCxFQUFpQjtBQUNiQSxJQUFBQSxVQUFVLEdBQUcsSUFBSUosS0FBSixFQUFiO0FBQ0g7O0FBQ0QsU0FBT0ksVUFBUDtBQUNILENBTEQiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImxldFxyXG4gICAgQXVkaW8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5yZXNldERhdGEoKTtcclxuICAgIH0sXHJcbiAgICBhdWRpbyA9IEF1ZGlvLnByb3RvdHlwZSxcclxuICAgIGdfaW5zdGFuY2UgPSBudWxsO1xyXG5cclxuYXVkaW8ubGFzdEF1ZGlvU2NlbmVOYW1lID0gbnVsbDtcclxuXHJcbi8qKlxyXG4gKiDliJ3lp4vljJbpn7Pph4/lj4LmlbBcclxuICovXHJcbmF1ZGlvLnJlc2V0RGF0YSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuQkdNU0UgPSBnbEdhbWUuc3RvcmFnZS5nZXRJdGVtKFwiQkdNU0VcIikgfHwgeyBCR01Wb2x1bWU6IDEsIEJHTVBsYXlTdGF0ZTogdHJ1ZSwgU291bmRFZmZlY3RWb2x1bWU6IDEsIFNvdW5kRWZmZWN0UGxheVN0YXRlOiB0cnVlIH07XHJcbiAgICB0aGlzLmN1ckJHTSA9IG51bGw7XHJcbiAgICB0aGlzLmN1clNvdW5kRWZmZWN0ID0gbnVsbDtcclxuICAgIHRoaXMuY3VyTG9vcFNFID0gbnVsbDtcclxuICAgIC8v6buY6K6k5pys5Zyw6Z+z5pWIXHJcbiAgICB0aGlzLm11c2ljTGlzdCA9IFtcIkhvYXByb3hcIiwgXCJBeGVyby1UcmlwXCIsIFwiRnJpZW5kc2hpcHNcIl07XHJcbn07XHJcbi8qKlxyXG4gKiDmkq3mlL7og4zmma/pn7PkuZBcclxuICogQHBhcmFtIHtjYy5BdWRpb0NsaXB9IGF1ZGlvXHJcbiAqL1xyXG5hdWRpby5wbGF5QkdNID0gZnVuY3Rpb24gKGF1ZGlvKSB7XHJcbiAgICB0aGlzLmN1ckJHTVBhdGggPSBhdWRpbztcclxuICAgIGlmICghdGhpcy5CR01TRVtcIkJHTVBsYXlTdGF0ZVwiXSkgcmV0dXJuO1xyXG4gICAgaWYgKHRoaXMuY3VyQkdNIHx8IHRoaXMuY3VyQkdNID09PSAwKSB0aGlzLnN0b3BDdXJCR00oKTtcclxuICAgIHRoaXMuY3VyQkdNID0gY2MuYXVkaW9FbmdpbmUucGxheSh0aGlzLmN1ckJHTVBhdGgsIHRydWUsIHRoaXMuQkdNU0VbXCJCR01Wb2x1bWVcIl0pO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIOaSreaUvuiDjOaZr+mfs+S5kFxyXG4gKi9cclxuYXVkaW8ucGxheVBhdGhCR00gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBsZXQgZGF0YSA9IGdsR2FtZS5zdG9yYWdlLmdldEl0ZW0oXCJiZ05hbWVcIikgfHwgeyBhdWRpbzogdGhpcy5tdXNpY0xpc3RbMF0gfTtcclxuXHJcbiAgICBpZihkYXRhLm5ldE11c2ljKSB7XHJcbiAgICAgICAgZ2xHYW1lLmF1ZGlvbG9hZGVyLmxvYWRBdWRpbyhkYXRhLmF1ZGlvKS50aGVuKChhdWRpbyk9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VyQkdNUGF0aCA9IGF1ZGlvO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuQkdNU0VbXCJCR01QbGF5U3RhdGVcIl0pIHJldHVybjtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY3VyQkdNIHx8IHRoaXMuY3VyQkdNID09PSAwKSB0aGlzLnN0b3BDdXJCR00oKTtcclxuICAgICAgICAgICAgdGhpcy5jdXJCR00gPSBjYy5hdWRpb0VuZ2luZS5wbGF5KHRoaXMuY3VyQkdNUGF0aCwgdHJ1ZSwgdGhpcy5CR01TRVtcIkJHTVZvbHVtZVwiXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGdsR2FtZS5maWxldXRpbC5yZWFkQXVkaW8oYGF1ZGlvL2JnLyR7ZGF0YS5hdWRpb31gKS50aGVuKGF1ZGlvID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jdXJCR01QYXRoID0gYXVkaW87XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5CR01TRVtcIkJHTVBsYXlTdGF0ZVwiXSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJCR00gfHwgdGhpcy5jdXJCR00gPT09IDApIHRoaXMuc3RvcEN1ckJHTSgpO1xyXG4gICAgICAgICAgICB0aGlzLmN1ckJHTSA9IGNjLmF1ZGlvRW5naW5lLnBsYXkodGhpcy5jdXJCR01QYXRoLCB0cnVlLCB0aGlzLkJHTVNFW1wiQkdNVm9sdW1lXCJdKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiDlgZzmraLlvZPliY3mkq3mlL7nmoTog4zmma/pn7PkuZBcclxuICovXHJcbmF1ZGlvLnN0b3BDdXJCR00gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAodGhpcy5jdXJCR00gfHwgdGhpcy5jdXJCR00gPT09IDApIGNjLmF1ZGlvRW5naW5lLnN0b3AodGhpcy5jdXJCR00pO1xyXG4gICAgZWxzZSBjYy5hdWRpb0VuZ2luZS5zdG9wQWxsKCk7XHJcbiAgICB0aGlzLmN1ckJHTSA9IG51bGw7XHJcbn07XHJcblxyXG4vL+e7p+e7reaSreaUvuaJgOaciemfs+aViFxyXG5hdWRpby5jb250aW51ZUFsbE11c2ljID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5wbGF5QkdNKHRoaXMuY3VyQkdNUGF0aCk7XHJcbn07XHJcbi8v5YGc5q2i5omA5pyJ6Z+z5pWIXHJcbmF1ZGlvLnBhdXNlQWxsTXVzaWMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBjYy5hdWRpb0VuZ2luZS5zdG9wQWxsKCk7XHJcbn07XHJcblxyXG4vKipcclxuICog6K6+572u6IOM5pmv6Z+z5LmQ5YWz6ZetXHJcbiAqL1xyXG5hdWRpby5jbG9zZUJHTSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuQkdNU0VbXCJCR01QbGF5U3RhdGVcIl0gPSBmYWxzZTtcclxuICAgIHRoaXMuc3RvcEN1ckJHTSgpO1xyXG4gICAgdGhpcy5zYXZlVm9sdW1lKCk7XHJcbn07XHJcbi8qKlxyXG4gKiDorr7nva7og4zmma/pn7PkuZDmkq3mlL7lvIDlkK9cclxuICovXHJcbmF1ZGlvLm9wZW5CR00gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLkJHTVNFW1wiQkdNUGxheVN0YXRlXCJdID0gdHJ1ZTtcclxuICAgIHRoaXMucGxheUJHTSh0aGlzLmN1ckJHTVBhdGgpO1xyXG4gICAgdGhpcy5zYXZlVm9sdW1lKCk7XHJcbn07XHJcblxyXG4vKipcclxuICog6I635Y+W6IOM5pmv6Z+z5LmQXHJcbiAqL1xyXG5hdWRpby5nZXRCR00gPSBmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuIHRoaXMuY3VyQkdNO1xyXG59XHJcbi8qKlxyXG4gKiDojrflj5bog4zmma/pn7PkuZDpn7Pph49cclxuICovXHJcbmF1ZGlvLmdldEJHTVZvbHVtZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4gdGhpcy5CR01TRVtcIkJHTVZvbHVtZVwiXTtcclxufVxyXG4vKipcclxuICog6K6+572u6IOM5pmv6Z+z6YePXHJcbiAqIEBwYXJhbSB2b2x1bWVcclxuICovXHJcbmF1ZGlvLnNldEJHTVZvbHVtZSA9IGZ1bmN0aW9uICh2b2x1bWUpIHtcclxuICAgIHRoaXMuQkdNU0VbXCJCR01Wb2x1bWVcIl0gPSB2b2x1bWU7XHJcbiAgICBjYy5hdWRpb0VuZ2luZS5zZXRWb2x1bWUodGhpcy5jdXJCR00sIHRoaXMuQkdNU0VbXCJCR01Wb2x1bWVcIl0pO1xyXG59O1xyXG4vKipcclxuICog6YCa6L+H6Lev5b6E5pKt5pS+6Z+z5pWIXHJcbiAqL1xyXG5hdWRpby5wbGF5U291bmRFZmZlY3RCeVBhdGggPSBmdW5jdGlvbiAocGF0aCkge1xyXG4gICAgaWYgKCF0aGlzLkJHTVNFW1wiU291bmRFZmZlY3RQbGF5U3RhdGVcIl0pIHJldHVybjtcclxuICAgIGlmICghcGF0aCkgcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJhdWRpby5wbGF5U291bmRFZmZlY3RCeVBhdGgg5Y+C5pWwIHBhdGgg5LiN6IO95Li656m6Li4uXCIpO1xyXG4gICAgdGhpcy5wbGF5U291bmRFZmZlY3QoYHJlcy9yYXctYXNzZXRzLyR7cGF0aH0ubXAzYCk7XHJcbn07XHJcblxyXG4vKipcclxuICog6YCa6L+H6Lev5b6E5pKt5pS+6Z+z5pWIKOmihOWKoOi9vSlcclxuICogQHBhcmFtIG5hbWUg5ZCN5a2X44CC6Lev5b6E5ZKM5qC85byP5Ye95pWw5ou85o6lXHJcbiAqL1xyXG5hdWRpby5wbGF5TG9hZFNvdW5kRWZmZWN0QnlQYXRoID0gZnVuY3Rpb24gKG5hbWUsIGJvb2wgPSBmYWxzZSkge1xyXG4gICAgaWYgKCF0aGlzLkJHTVNFW1wiU291bmRFZmZlY3RQbGF5U3RhdGVcIl0pIHJldHVybjtcclxuICAgIGlmICghbmFtZSkgcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJhdWRpby5wbGF5TG9hZFNvdW5kRWZmZWN0QnlQYXRoIOWPguaVsCBuYW1lIOS4jeiDveS4uuepui4uLlwiKTtcclxuICAgIGlmIChib29sKSB0aGlzLmNsb3NlQ3VyRWZmZWN0KCk7XHJcbiAgICBsZXQgU291bmRFZmZlY3RWb2x1bWUgPSB0aGlzLkJHTVNFW1wiU291bmRFZmZlY3RWb2x1bWVcIl07XHJcbiAgICBjYy5sb2FkZXIubG9hZChjYy51cmwucmF3KGByZXNvdXJjZXMvYXVkaW8vcHVibGljLyR7bmFtZX0ubXAzYCksIGZ1bmN0aW9uIChlcnIsIGNsaXApIHtcclxuICAgICAgICB0aGlzLmN1clNvdW5kRWZmZWN0ID0gY2MuYXVkaW9FbmdpbmUucGxheShjbGlwLCBmYWxzZSwgU291bmRFZmZlY3RWb2x1bWUpO1xyXG4gICAgICAgIGlmIChib29sKSB0aGlzLnNvdW5kRWZmZWN0ID0gdGhpcy5jdXJTb3VuZEVmZmVjdDtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIOaSreaUvumfs+aViFxyXG4gKiBAcGFyYW0ge2NjLkF1ZGlvQ2xpcH0gYXVkaW9cclxuICogQHBhcmFtIGJvb2wg5piv5ZCm5piv54m56ZW/6Z+z5pWI77yM54m56ZW/6Z+z5pWI6ZyA6KaB6ICD6JmR56eS5YWz55WM6Z2i55qE5oOF5Ya177yM6ZyA6KaB5oqK6Z+z5pWI5YGc5q2iXHJcbiAqL1xyXG5hdWRpby5wbGF5U291bmRFZmZlY3QgPSBmdW5jdGlvbiAoYXVkaW8sIGJvb2wgPSBmYWxzZSx2b2x1bWUgPSAtMSkge1xyXG4gICAgaWYgKCF0aGlzLkJHTVNFW1wiU291bmRFZmZlY3RQbGF5U3RhdGVcIl0pIHJldHVybjtcclxuICAgIGlmIChib29sKSB0aGlzLmNsb3NlQ3VyRWZmZWN0KCk7XHJcbiAgICBpZih2b2x1bWUgIT0gLTEpe1xyXG4gICAgICAgIHRoaXMuY3VyU291bmRFZmZlY3QgPSBjYy5hdWRpb0VuZ2luZS5wbGF5KGF1ZGlvLCBmYWxzZSwgdGhpcy5CR01TRVtcIlNvdW5kRWZmZWN0Vm9sdW1lXCJdLHZvbHVtZSk7XHJcbiAgICAgICAgY2MuYXVkaW9FbmdpbmUuc2V0Vm9sdW1lKHRoaXMuY3VyU291bmRFZmZlY3QsIHZvbHVtZSk7XHJcblxyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgdGhpcy5jdXJTb3VuZEVmZmVjdCA9IGNjLmF1ZGlvRW5naW5lLnBsYXkoYXVkaW8sIGZhbHNlLCB0aGlzLkJHTVNFW1wiU291bmRFZmZlY3RWb2x1bWVcIl0pO1xyXG4gICAgfVxyXG4gICAgaWYgKGJvb2wpIHRoaXMuc291bmRFZmZlY3QgPSB0aGlzLmN1clNvdW5kRWZmZWN0O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIOW+queOr+aSreaUvumfs+aViFxyXG4gKi9cclxuYXVkaW8ucGxheVNvdW5kRWZmZWN0TG9vcCA9IGZ1bmN0aW9uIChhdWRpbyx2b2x1bWUgPSAtMSkge1xyXG4gICAgaWYgKCF0aGlzLkJHTVNFW1wiU291bmRFZmZlY3RQbGF5U3RhdGVcIl0pIHJldHVybjtcclxuICAgIHRoaXMuc3RvcExvb3BTRSgpO1xyXG4gICAgaWYodm9sdW1lICE9IC0xKXtcclxuICAgICAgICB0aGlzLmN1ckxvb3BTRSA9IGNjLmF1ZGlvRW5naW5lLnBsYXkoYXVkaW8sIHRydWUsIHRoaXMuQkdNU0VbXCJTb3VuZEVmZmVjdFZvbHVtZVwiXSx2b2x1bWUpO1xyXG4gICAgfWVsc2Uge1xyXG4gICAgICAgIHRoaXMuY3VyTG9vcFNFID0gY2MuYXVkaW9FbmdpbmUucGxheShhdWRpbywgdHJ1ZSwgdGhpcy5CR01TRVtcIlNvdW5kRWZmZWN0Vm9sdW1lXCJdKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICog5YWz6Zet6Z+z5pWIXHJcbiAqIHRoaXMuc291bmRFZmZlY3Qg54m56ZW/6Z+z5pWI55qESURcclxuICovXHJcbmF1ZGlvLmNsb3NlQ3VyRWZmZWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKCF0aGlzLkJHTVNFW1wiU291bmRFZmZlY3RQbGF5U3RhdGVcIl0pIHJldHVybjtcclxuICAgIGlmICh0aGlzLnNvdW5kRWZmZWN0ICE9IG51bGwpIHtcclxuICAgICAgICBjYy5hdWRpb0VuZ2luZS5zdG9wRWZmZWN0KHRoaXMuc291bmRFZmZlY3QpO1xyXG4gICAgICAgIHRoaXMuc291bmRFZmZlY3QgPSBudWxsO1xyXG4gICAgfVxyXG5cclxufVxyXG4vKipcclxuICog6K6+572u6Z+z5pWI5aSn5bCPXHJcbiAqIEBwYXJhbSB2b2x1bWVcclxuICovXHJcbmF1ZGlvLnNldFNvdW5kRWZmZWN0Vm9sdW1lID0gZnVuY3Rpb24gKHZvbHVtZSkge1xyXG4gICAgdGhpcy5CR01TRVtcIlNvdW5kRWZmZWN0Vm9sdW1lXCJdID0gdm9sdW1lO1xyXG4gICAgY2MuYXVkaW9FbmdpbmUuc2V0Vm9sdW1lKHRoaXMuY3VyU291bmRFZmZlY3QsIHRoaXMuQkdNU0VbXCJTb3VuZEVmZmVjdFZvbHVtZVwiXSk7XHJcbiAgICBjYy5hdWRpb0VuZ2luZS5zZXRWb2x1bWUodGhpcy5jdXJMb29wU0UsIHRoaXMuQkdNU0VbXCJTb3VuZEVmZmVjdFZvbHVtZVwiXSk7XHJcbn07XHJcbi8qKlxyXG4gKiDorr7nva7pn7PmlYjmkq3mlL7lvIDlkK9cclxuICovXHJcbmF1ZGlvLm9wZW5TRSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuQkdNU0VbXCJTb3VuZEVmZmVjdFBsYXlTdGF0ZVwiXSA9IHRydWU7XHJcbiAgICB0aGlzLnNhdmVWb2x1bWUoKTtcclxufTtcclxuLyoqXHJcbiAqIOiuvue9rumfs+aViOaSreaUvuWFs+mXrVxyXG4gKi9cclxuYXVkaW8uY2xvc2VTRSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuQkdNU0VbXCJTb3VuZEVmZmVjdFBsYXlTdGF0ZVwiXSA9IGZhbHNlO1xyXG4gICAgdGhpcy5zdG9wTG9vcFNFKCk7XHJcbiAgICB0aGlzLnNhdmVWb2x1bWUoKTtcclxufTtcclxuXHJcbmF1ZGlvLnN0b3BMb29wU0UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAodGhpcy5jdXJMb29wU0UgIT09IG51bGwpIGNjLmF1ZGlvRW5naW5lLnN0b3AodGhpcy5jdXJMb29wU0UpO1xyXG4gICAgdGhpcy5jdXJMb29wU0UgPSBudWxsO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIOWBnOatouaJgOacieWjsOmfs1xyXG4gKi9cclxuYXVkaW8uc3RvcEFsbE11c2ljID0gZnVuY3Rpb24gKCkge1xyXG4gICAgY2MuYXVkaW9FbmdpbmUuc3RvcEFsbCgpO1xyXG4gICAgdGhpcy5jdXJCR00gPSBudWxsO1xyXG4gICAgdGhpcy5jdXJTb3VuZEVmZmVjdCA9IG51bGw7XHJcbiAgICB0aGlzLmN1ckxvb3BTRSA9IG51bGw7XHJcbn07XHJcblxyXG4vKipcclxuICog5qOA5p+l6aKE5Yi25ZCN5piv5ZCm56ym5ZCI5oi/6Ze06YCJ5Zy65ZCN56ewXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBub2RlTmFtZSDpnIDopoHlnZrmjIHnmoTpooTmlK/lkI3np7AgXHJcbiAqL1xyXG5hdWRpby5jaGVja0VudGVyTmFtZSA9IGZ1bmN0aW9uIChub2RlTmFtZSkge1xyXG4gICAgaWYgKHR5cGVvZiBub2RlTmFtZSAhPSBcInN0cmluZ1wiKSByZXR1cm4gZmFsc2U7XHJcbiAgICBmb3IgKGxldCBrZXkgaW4gZ2xHYW1lLnNjZW5lLmVudHJ5R2FtZSkge1xyXG4gICAgICAgIGxldCBwYW5lbE5hbWUgPSBgJHtnbEdhbWUuc2NlbmUuZW50cnlHYW1lW2tleV19ZW50cnlgO1xyXG4gICAgICAgIGlmIChub2RlTmFtZSA9PT0gcGFuZWxOYW1lKSByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOWIneWni+WMluS4u+imgeWcuuaZr1xyXG4gKi9cclxuYXVkaW8uaW5pdFBsYXphQW9kaW8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBsZXQgaXNIYXZhRW50ZXJ5ID0gZmFsc2U7XHJcbiAgICBsZXQgc2NlbmUgPSBjYy5kaXJlY3Rvci5nZXRTY2VuZSgpO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY2VuZS5jaGlsZHJlbkNvdW50OyBpKyspIHtcclxuICAgICAgICBsZXQgc3RyID0gc2NlbmUuY2hpbGRyZW5baV0gPyBzY2VuZS5jaGlsZHJlbltpXS5uYW1lLmluZGV4T2YoXCJlbnRyeVwiKSA6IC0xO1xyXG4gICAgICAgIGlmIChzdHIgIT0gLTEgJiYgdGhpcy5jaGVja0VudGVyTmFtZShzY2VuZS5jaGlsZHJlbltpXS5uYW1lKSkge1xyXG4gICAgICAgICAgICBpc0hhdmFFbnRlcnkgPSB0cnVlO1xyXG4gICAgICAgICAgICBsZXQgc2NyaXB0ID0gc2NlbmUuY2hpbGRyZW5baV0uZ2V0Q29tcG9uZW50KHNjZW5lLmNoaWxkcmVuW2ldLm5hbWUpO1xyXG4gICAgICAgICAgICAvL+aSreaUvumAieWcuumfs+S5kFxyXG4gICAgICAgICAgICBpZiAoc2NyaXB0LkJHTSkgZ2xHYW1lLmF1ZGlvLnBsYXlCR00oc2NyaXB0LkJHTSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghaXNIYXZhRW50ZXJ5KSB7XHJcbiAgICAgICAgLy9nbEdhbWUuYXVkaW8ucGxheUJHTSh0aGlzLkJHTSk7XHJcbiAgICAgICAgaWYgKHNjZW5lICYmIHNjZW5lLm5hbWUgPT0gXCJwbGF6YVwiKSB7XHJcbiAgICAgICAgICAgIGlmIChnbEdhbWUuYXVkaW8pIGdsR2FtZS5hdWRpby5wbGF5UGF0aEJHTSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdsR2FtZS5hdWRpby5sYXN0QXVkaW9TY2VuZU5hbWUgPSBudWxsO1xyXG59O1xyXG4vKipcclxuICog5Zue5Yiw5Li76KaB5Zy65pmvXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIOmcgOimgeWdmuaMgeeahOmihOaUr+WQjeensCBcclxuICovXHJcbmF1ZGlvLmdvQmFja1BsYXphQXVkaW8gPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgbGV0IHNjZW5lID0gY2MuZGlyZWN0b3IuZ2V0U2NlbmUoKTtcclxuICAgIC8v5Zue5Yiw5aSn5Y6FIOe7p+e7reaSrSDljp/mnaXnmoTog4zmma/pn7PkuZBcclxuICAgIGlmIChzY2VuZSAmJiBzY2VuZS5uYW1lID09PSBcInBsYXphXCIgJiYgdGhpcy5jaGVja0VudGVyTmFtZShuYW1lKSkgZ2xHYW1lLmF1ZGlvLnBsYXlQYXRoQkdNKCk7XHJcbiAgICBnbEdhbWUuYXVkaW8ubGFzdEF1ZGlvU2NlbmVOYW1lID0gbnVsbDtcclxufTtcclxuLyoqXHJcbiAqIOaUueWPmOWcuuaZr1xyXG4gKi9cclxuYXVkaW8ub25DaGFuZ2VTY2VuZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGxldCBzY2VuZSA9IGNjLmRpcmVjdG9yLmdldFNjZW5lKCk7XHJcbiAgICBsZXQgaXNIYXZlID0gZmFsc2U7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNjZW5lLmNoaWxkcmVuQ291bnQ7IGkrKykge1xyXG4gICAgICAgIGZvciAobGV0IGtleSBpbiBnbEdhbWUuc2NlbmUuZW50cnlHYW1lKSB7XHJcbiAgICAgICAgICAgIGlmIChnbEdhbWUuc2NlbmUuZW50cnlHYW1lW2tleV0gPT0gc2NlbmUuY2hpbGRyZW5baV0ubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaXNIYXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0hhdmUpIHtcclxuICAgICAgICAgICAgbGV0IHNjcmlwdCA9IHNjZW5lLmNoaWxkcmVuW2ldLmdldENvbXBvbmVudChzY2VuZS5jaGlsZHJlbltpXS5uYW1lKSA/IHNjZW5lLmNoaWxkcmVuW2ldLmdldENvbXBvbmVudChzY2VuZS5jaGlsZHJlbltpXS5uYW1lKSA6IHNjZW5lLmNoaWxkcmVuW2ldLmdldENvbXBvbmVudChzY2VuZS5jaGlsZHJlbltpXS5uYW1lICsgXCJTY2VuZVwiKTtcclxuICAgICAgICAgICAgc2NyaXB0ID0gc2NyaXB0ID8gc2NyaXB0IDogc2NlbmUuY2hpbGRyZW5baV0uZ2V0Q29tcG9uZW50KHNjZW5lLmNoaWxkcmVuW2ldLm5hbWUgKyBcInNjZW5lXCIpO1xyXG4gICAgICAgICAgICBpZiAoZ2xHYW1lLmF1ZGlvLmxhc3RBdWRpb1NjZW5lTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGdsR2FtZS5hdWRpby5sYXN0QXVkaW9TY2VuZU5hbWUgPT0gc2NlbmUuY2hpbGRyZW5baV0ubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBnbEdhbWUuYXVkaW8ubGFzdEF1ZGlvU2NlbmVOYW1lID0gc2NlbmUuY2hpbGRyZW5baV0ubmFtZTtcclxuICAgICAgICAgICAgLy/mkq3mlL7pgInlnLrpn7PkuZBcclxuICAgICAgICAgICAgaWYgKHNjcmlwdC5CR00pIHtcclxuICAgICAgICAgICAgICAgIGdsR2FtZS5hdWRpby5wbGF5QkdNKHNjcmlwdC5CR00pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOWGmeWFpee8k+WtmFxyXG4gKi9cclxuYXVkaW8uc2F2ZVZvbHVtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGdsR2FtZS5zdG9yYWdlLnNldEl0ZW0oXCJCR01TRVwiLCB0aGlzLkJHTVNFKTtcclxufTtcclxuYXVkaW8uZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgcmV0dXJuIHRoaXNba2V5XTtcclxufTtcclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoIWdfaW5zdGFuY2UpIHtcclxuICAgICAgICBnX2luc3RhbmNlID0gbmV3IEF1ZGlvKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZ19pbnN0YW5jZTtcclxufTtcclxuIl19