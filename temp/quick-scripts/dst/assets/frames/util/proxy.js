
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/frames/util/proxy.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0ccb8PRXJBNT6vtPf8zDcR1', 'proxy');
// frames/util/proxy.js

"use strict";

var JSEncrypt = require("jsencrypt");

var Base64 = Base64 || require('base64').Base64;

var Cryptor = require('cryptor');

var ProxyData = function ProxyData() {
  this.init();
},
    proxy = ProxyData.prototype,
    _special = "",
    _img_list = {},
    g_instance = null;

var DELAY_TYPE = {
  DELAY_ON: 0,
  DELAY_OFF: 1,
  DELAY_ERROR: 2
};
var CODE = {
  BEGIN_LINK_ERROR: 0,
  LINK_ERROR: 1,
  DELAY_ERROR: 2
};
var begin_start = {
  1: {
    data: "aHR0cDovLzE5Mi4xNjguMy4xMDE6MTAwMTA="
  }
};
var standby_start = {
  1: {
    data: "aHR0cDovLzE5Mi4xNjguMy4xMDE6MTAwMTA="
  }
};

proxy.init = function () {
  this._http_list = [];
  this._begin = null;
  this._begincount = 0;
  this._begindelay = 3000;
  this._standby = null;
  this._standbycount = 0;
  this._standbydelay = 10000;
  this._event_list = {};
  this._begin_end_for = false;
  this._standby_end_for = false;
  this._end_for = false;
  this._delay = 3000;
  this._linkmax = 5;
  this._delayof = 0;
  this._linkcount = 0;
  var enkey = [];
  enkey.push("LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUlHZU1BMEdDU3FHU0liM0RRRUJBUVVBQTRHTUFEQ0JpQUtCZ0ZXdUFvSUhncXduZks1MUlFamJhMG4wZzV3eApZL04wb3kzSV");
  enkey.push("Qyakp1NWEwcUkwZXlGRmNUME5FV2ViUTR3S0NnS1M1MTNGN3FZM2c0MTdNWGlpaEZnWXZWczQ0CmloZFVieDFPbnZmZWl4UTI1aHJzNDZESG45aUxxWTFxNExhOXh6ZFg4Q1BOR");
  enkey.push("jdLRDF6UVQvZzdVcWd4dVBrZDEKOExmN2MvaWNUQnd2bFdkWkFnTUJBQUU9Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQ==");
  var dekey = [];
  dekey.push("LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlDV3dJQkFBS0JnR0JDYk5YQ0hRL0ZCOG11R0NVMyt4SmhNb3lnTm5DNXBtZFhIdXlhZGx1ZndiYWZ");
  dekey.push("Hd1ZrCjM0dTh0anlod3RYZVFidWZXbTJOTDV1Z3JjeENyWUgwUHNIcjFwTitMUG9yUkFqS01lNys5NlRhblpZOWdmdUsKSTBnNlJtelMzOXB4UHdoSFlBVTJNMy");
  dekey.push("9IUGpON2ZFQUhDMFNFU0d4cEVJcnFyNHdMTVpzTGJoVlpBZ01CQUFFQwpnWUFCRGZrL1JrY25PeE5neEVXRGN0K1BUZjFOeVJ1UGxKa2NITG84QVYwMmw4TjVpc");
  dekey.push("ml6RUczYWpCQzdEVktqCklUSTdLZjNGb1h4YUNpS2RVRVd5WE1pck44ZWtnZUxnUERRN0Jyb3h6M3JTazNOWXhFR0tIS2VnbVAxVjFQL20KM2JwTC8rMjNHUHJI");
  dekey.push("bkpDSEJ2aW9RSlVPQWVXb0F6b2xibGROSFlQN1FLU1IrUUpCQUo1dlI3RjU1eGtXazFVegpvSXNqaFNHeVRKYlJTYzQyK0RsaW1BM25GWVQ4T0JwUFd5YnFHQWJJ");
  dekey.push("WkdFS1RBZ0w5c0ZjL1lyNTEwZy9VeVpiCkZBS21xMXNDUVFDYmlXd09oaHMrT1NTSlBOM21hU1BuVEREVnBTZFRNUWt2K2x0c3BLd1l4V2Y3OXFDS3NnVGQKcGJ0");
  dekey.push("UXdLdUlLSFB0MHpoYmlVWmJsTWlsc2VMTThVUmJBa0VBaUNoV1VyM1N6NHJKUDVYSXlRclRwU3ZZQ2x6Kwpzc3dtOHhvNlZ1aGJaQmhtRnFaUVRkY3NvdGVnL0l5");
  dekey.push("ZTN1TjVRcUFwL1QvTnRmZEYvRmFWa2RtdXRRSkFPaW45CjJzQ1QxNFVQQUxOZVdCZmhjVkd3d1hSdGJGTGVHSzhMR1duTFljZ1F4c3pINUpZRjg4MVNhelJoOFIw");
  dekey.push("UG5WUnIKc3U5Mi9EQjdpRnNwY1hLWUdRSkFZdnd4T3lmSmhjVHRSOVZtQmsrVEJ4MnY1T0NQVmZMZHA3N1NkbWJVN3NpRAovc0ZFb0hJUk1OQkh6MForN0dNckhX");
  dekey.push("UzZlMldKdzVlc2VjSTB2T3g3SGc9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQ==");
  this.encrypt = new JSEncrypt.JSEncrypt();
  this.decrypt = new JSEncrypt.JSEncrypt();
  this.encrypt.setPublicKey(Base64.decode(enkey[0] + enkey[1] + enkey[2]));
  this.decrypt.setPrivateKey(Base64.decode(dekey[0] + dekey[1] + dekey[2] + dekey[3] + dekey[4] + dekey[5] + dekey[6] + dekey[7] + dekey[8] + dekey[9]));
  this.cryptor = null;
};
/**
 * 
 */


proxy.start = function () {
  this._linkcount = 0;
  this._begincount = 0;
  this._standbycount = 0;
  this.getBeginServer();
};

proxy.stop = function () {
  this.clear();
  this.init();
};
/**
 * 获取服务器地址列表
 */


proxy.getBeginServer = function () {
  this._begin = begin_start; //JSON.parse(this.jsdecrypt(begin_start));

  for (var key in this._begin) {
    if (this._begin_end_for) break;
    if (!this._begin[key].data) continue;
    this.ping(Base64.decode(this._begin[key].data)).then(this.pingBegin.bind(this))["catch"](function (data) {
      console.error("Address to repeat:".concat(data));
    });
  }
};
/**
 * 开始链接地址ping测试
 */


proxy.pingBegin = function (data) {
  if (this._begin_end_for) return;

  if (data.times <= this._begindelay) {
    _special = Base64.encode(data.url);
    this._begin_end_for = true;

    if (this.timeout) {
      clearTimeout(this.timeout);
      this.timeout = null;
    }

    this.clearList();
    this._begin = null;
    this.getServer(); //启用备用地址
  } else {
    this.clearList();
    this.getStandbyServer();
  } //else this.emit('failed', CODE.BEGIN_LINK_ERROR);

};
/**
 * 启用备用地址服务器地址列表
 */


proxy.getStandbyServer = function () {
  this._standby = standby_start; //JSON.parse(this.jsdecrypt(begin_start));

  for (var key in this._standby) {
    if (this._standby_end_for) break;
    if (!this._standby[key].data) continue;
    this.ping(Base64.decode(this._standby[key].data)).then(this.pingStandb.bind(this))["catch"](function (data) {
      console.error("Address to repeat:".concat(data));
    });
  }
};
/**
 * 开始链接备用地址ping测试
 */


proxy.pingStandb = function (data) {
  if (this._standby_end_for) return;

  if (data.times <= this._standbydelay) {
    _special = Base64.encode(data.url);
    this._standby_end_for = true;

    if (this.timeout) {
      clearTimeout(this.timeout);
      this.timeout = null;
    }

    for (var key in _img_list) {
      if (!_img_list[key].onload) continue;
      _img_list[key].src = "";
      _img_list[key] = null;
    }

    _img_list = {};
    this._standby = null;
    this.getServer(); //启用备用地址
  } else this.emit('failed', CODE.BEGIN_LINK_ERROR);
};
/**
 * 添加服务列表
 * @param {Object} data
 */


proxy.addHttpList = function (data) {
  if (this._http_list.length) {
    for (var key in this._http_list) {
      if (this._http_list[key] == data) return;
    }
  }

  this._http_list.push(data);
};
/**
 * 返回http列表给与服务端
 */


proxy.getHttpList = function () {
  var http_list = "";
  var https = {};
  https.ids = [];

  for (var i = 0; i < this._http_list.length; i++) {
    var head = this._http_list[i].head; //let cryptor = new Cryptor(this.jsdecrypt(head.key));

    var _cryptor = new Cryptor(String(Cryptor.hash(head.key, 'md5')).slice(0, 6));

    var list = _cryptor.decode(Base64.decode(this._http_list[i].body));

    for (var _key in list) {
      if (!list[_key] || !list[_key].id) continue;
      if (https.ids.includes(list[_key].id)) continue;
      https.ids = https.ids.concat(list[_key].id);
    }
  }

  var key = String(Cryptor.hash("" + parseInt(Math.random() * 100), 'md5')).slice(0, 6); //let enkey = this.jsencrypt(key);

  var enkey = String(Cryptor.hash(key, 'md5')).slice(-6);
  var cryptor = new Cryptor(enkey);
  var path = Base64.encode(cryptor.encode(JSON.stringify(https)));
  http_list = JSON.stringify({
    head: {
      route: "http.reqDomainList",
      key: key
    },
    body: path
  });
  return http_list;
};
/**
 * 获取服务器地址列表
 */


proxy.getServer = function () {
  if (this._linkcount > this._linkmax) {
    this.emit('failed', CODE.LINK_ERROR);
    this.getStandbyServer();
  } else {
    this._linkcount++;
    var xhr = new XMLHttpRequest();
    xhr.open("POST", Base64.decode(_special), true);
    xhr.setRequestHeader("Content-Type", "application/json;charset=utf-8");
    xhr.timeout = 10000;

    xhr.onerror = function (error) {
      ProxyO.getServer();
    };

    xhr.onreadystatechange = function () {
      if (xhr.readyState === 4 && xhr.status >= 200 && xhr.status < 300) {
        var respone = xhr.responseText;
        var resp = JSON.parse(respone);
        var head = resp.head; //表示服务端已无可用高效的链接地址

        if (head.code != 0) {
          ProxyO.emit('failed', CODE.LINK_ERROR);
          return;
        }

        console.log("getServer:", Base64.decode(_special)); //记录所有ping低的网络环境

        ProxyO.addHttpList(resp); //解密ping值

        var cryptor = new Cryptor(String(Cryptor.hash(head.key, 'md5')).slice(0, 6));
        ProxyO.checkServer(cryptor.decode(Base64.decode(resp.body)));
      }
    };

    xhr.send(ProxyO.getHttpList());
  }
};
/**
 * rsa 加密
 * @param {any} data
 */


proxy.jsencrypt = function (data) {
  return this.encrypt.encrypt(data);
};
/**
 * rsa 解密
 * @param {Sting} data
 */


proxy.jsdecrypt = function (data) {
  return this.decrypt.decrypt(data);
}; // /**
//  * ping 函数 
//  * @param {String} ip 
//  * @returns {Promise<any>}
//  */
// proxy.ping = function (domain) {
//     return new Promise((resolve, reject) => {
//         if (_img_list[domain] != null) return reject(domain);
//         _img_list[domain] = new Image();
//         var start = Date.now()
//         _img_list[domain].onload = function () {
//             resolve({ url: domain, times: Date.now() - start });
//         }
//         //TODO IE8无法监听到该消息
//         _img_list[domain].onerror = function (data, event) {
//             resolve({ url: domain, times: Date.now() - start })
//         }
//         console.log("ping:", domain);
//         _img_list[domain].src = /^(http|https)/.test(domain) ? domain : "https://" + domain;
//     })
// }

/**
 * ping 函数 
 * @param {String} ip 
 * @returns {Promise<any>}
 */


proxy.ping = function (domain) {
  return new Promise(function (resolve, reject) {
    if (_img_list[domain] != null) return reject(domain);
    var xhr = new XMLHttpRequest();
    _img_list[domain] = xhr;
    var start = Date.now();
    var url = /^(http|https)/.test(domain) ? domain : "https://" + domain;
    xhr.setRequestHeader("Content-Type", "application/json;charset=utf-8");
    xhr.open("GET", url, true);

    xhr.onreadystatechange = function () {
      if (xhr.readyState == 4 && xhr.status >= 200 && xhr.status < 300) {
        resolve({
          url: domain,
          times: Date.now() - start
        });
      }
    };

    xhr.onerror = function () {
      reject(domain);
    };

    xhr.ontimeout = function () {
      resolve({
        url: domain,
        times: Date.now() - start
      });
    };

    xhr.send();
  });
};
/**
 * 清理已发包的域名
 */


proxy.clearList = function () {
  for (var key in _img_list) {
    if (!_img_list[key].onreadystatechange) continue;
    _img_list[key].onreadystatechange = null;
    _img_list[key].onerror = null;
    _img_list[key].ontimeout = null;
    _img_list[key] = null;
  }

  _img_list = {};
};
/**
 * 链接地址ping通过
 */


proxy.pingSucceed = function (data) {
  if (this._end_for) return;

  if (data.times <= this._delay || this._delayof == DELAY_TYPE.DELAY_OFF) {
    this.emit('succeed', data);
    this._end_for = true;

    if (this.timeout) {
      clearTimeout(this.timeout);
      this.timeout = null;
    }

    this.clearList();
    _special = "";
  }
};
/**
 * 检查服务器的链接时长
 */


proxy.checkServer = function (http_list) {
  var _this = this;

  if (http_list) {
    this.emit('check');
    this._end_for = false;

    for (var key in http_list) {
      if (this._end_for) break;
      if (!http_list[key]) continue;
      this.ping(http_list[key].domain).then(this.pingSucceed.bind(this))["catch"](function (data) {
        console.error("Address to repeat:".concat(data));
      });
    }

    this.timeout = setTimeout(function () {
      if (_this.timeout) {
        clearTimeout(_this.timeout);
        _this.timeout = null;
      }

      _this.clearList(); // TODO 所有链接延迟超过设定标准 重新获取新的链接服务器。


      if (DELAY_TYPE.DELAY_ERROR === _this._delayof) _this.emit('failed', CODE.LINK_ERROR);else _this.getServer();
    }, this._delay);
  }
};
/**
 * 发送消息通知事件
 * @param {String} name
 * @param {Any} data
 */


proxy.emit = function (name, data) {
  var item = this._event_list[name];

  if (this._event_list[name] != null) {
    var args = [].slice.call(arguments, 1);
    item.call.apply(item.obj, args);
  }
};
/**
 * 注册监听
 * @param {String} name
 * @param {func} callfunc
 * @param {Object} self
 */


proxy.on = function (name, callfunc, self) {
  switch (name) {
    case 'begin':
    case 'check':
    case 'succeed':
    case 'failed':
      if (this._event_list[name] == null) this._event_list[name] = {
        call: callfunc,
        obj: self
      };else console.error("event name ".concat(name, " is registered!"));
      break;

    default:
      console.error("event name ".concat(name, " registration failed!"));
  }
};
/**
 * 取消监听
 * @param {String} name
 */


proxy.off = function (name) {
  for (var key in this._event_list) {
    if (key === name) {
      delete this._event_list[key];
      this._event_list = null;
    }
  }
};
/**
 * 关闭所有监听
 */


proxy.clear = function () {
  this._event_list = null;
  this._event_list = {};
};

window.ProxyO = function () {
  if (!g_instance) g_instance = new ProxyData();
  return g_instance;
}();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWVzXFx1dGlsXFxwcm94eS5qcyJdLCJuYW1lcyI6WyJKU0VuY3J5cHQiLCJyZXF1aXJlIiwiQmFzZTY0IiwiQ3J5cHRvciIsIlByb3h5RGF0YSIsImluaXQiLCJwcm94eSIsInByb3RvdHlwZSIsIl9zcGVjaWFsIiwiX2ltZ19saXN0IiwiZ19pbnN0YW5jZSIsIkRFTEFZX1RZUEUiLCJERUxBWV9PTiIsIkRFTEFZX09GRiIsIkRFTEFZX0VSUk9SIiwiQ09ERSIsIkJFR0lOX0xJTktfRVJST1IiLCJMSU5LX0VSUk9SIiwiYmVnaW5fc3RhcnQiLCJkYXRhIiwic3RhbmRieV9zdGFydCIsIl9odHRwX2xpc3QiLCJfYmVnaW4iLCJfYmVnaW5jb3VudCIsIl9iZWdpbmRlbGF5IiwiX3N0YW5kYnkiLCJfc3RhbmRieWNvdW50IiwiX3N0YW5kYnlkZWxheSIsIl9ldmVudF9saXN0IiwiX2JlZ2luX2VuZF9mb3IiLCJfc3RhbmRieV9lbmRfZm9yIiwiX2VuZF9mb3IiLCJfZGVsYXkiLCJfbGlua21heCIsIl9kZWxheW9mIiwiX2xpbmtjb3VudCIsImVua2V5IiwicHVzaCIsImRla2V5IiwiZW5jcnlwdCIsImRlY3J5cHQiLCJzZXRQdWJsaWNLZXkiLCJkZWNvZGUiLCJzZXRQcml2YXRlS2V5IiwiY3J5cHRvciIsInN0YXJ0IiwiZ2V0QmVnaW5TZXJ2ZXIiLCJzdG9wIiwiY2xlYXIiLCJrZXkiLCJwaW5nIiwidGhlbiIsInBpbmdCZWdpbiIsImJpbmQiLCJjb25zb2xlIiwiZXJyb3IiLCJ0aW1lcyIsImVuY29kZSIsInVybCIsInRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJjbGVhckxpc3QiLCJnZXRTZXJ2ZXIiLCJnZXRTdGFuZGJ5U2VydmVyIiwicGluZ1N0YW5kYiIsIm9ubG9hZCIsInNyYyIsImVtaXQiLCJhZGRIdHRwTGlzdCIsImxlbmd0aCIsImdldEh0dHBMaXN0IiwiaHR0cF9saXN0IiwiaHR0cHMiLCJpZHMiLCJpIiwiaGVhZCIsIlN0cmluZyIsImhhc2giLCJzbGljZSIsImxpc3QiLCJib2R5IiwiaWQiLCJpbmNsdWRlcyIsImNvbmNhdCIsInBhcnNlSW50IiwiTWF0aCIsInJhbmRvbSIsInBhdGgiLCJKU09OIiwic3RyaW5naWZ5Iiwicm91dGUiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJzZXRSZXF1ZXN0SGVhZGVyIiwib25lcnJvciIsIlByb3h5TyIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJzdGF0dXMiLCJyZXNwb25lIiwicmVzcG9uc2VUZXh0IiwicmVzcCIsInBhcnNlIiwiY29kZSIsImxvZyIsImNoZWNrU2VydmVyIiwic2VuZCIsImpzZW5jcnlwdCIsImpzZGVjcnlwdCIsImRvbWFpbiIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiRGF0ZSIsIm5vdyIsInRlc3QiLCJvbnRpbWVvdXQiLCJwaW5nU3VjY2VlZCIsInNldFRpbWVvdXQiLCJuYW1lIiwiaXRlbSIsImFyZ3MiLCJjYWxsIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJvYmoiLCJvbiIsImNhbGxmdW5jIiwic2VsZiIsIm9mZiIsIndpbmRvdyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxTQUFTLEdBQUdDLE9BQU8sQ0FBQyxXQUFELENBQXZCOztBQUNBLElBQUlDLE1BQU0sR0FBR0EsTUFBTSxJQUFJRCxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUF6Qzs7QUFDQSxJQUFJQyxPQUFPLEdBQUdGLE9BQU8sQ0FBQyxTQUFELENBQXJCOztBQUVBLElBQUlHLFNBQVMsR0FBRyxTQUFaQSxTQUFZLEdBQVk7QUFDeEIsT0FBS0MsSUFBTDtBQUNILENBRkQ7QUFBQSxJQUdJQyxLQUFLLEdBQUdGLFNBQVMsQ0FBQ0csU0FIdEI7QUFBQSxJQUlJQyxRQUFRLEdBQUcsRUFKZjtBQUFBLElBS0lDLFNBQVMsR0FBRyxFQUxoQjtBQUFBLElBTUlDLFVBQVUsR0FBRyxJQU5qQjs7QUFRQSxJQUFJQyxV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LEVBQWtDO0FBQzlCLFFBQUlxQixHQUFHLEtBQUt1RSxJQUFaLEVBQWtCO0FBQ2QsYUFBTyxLQUFLNUYsV0FBTCxDQUFpQnFCLEdBQWpCLENBQVA7QUFDQSxXQUFLckIsV0FBTCxHQUFtQixJQUFuQjtBQUNIO0FBQ0o7QUFDSixDQVBEO0FBU0E7Ozs7O0FBR0F0QixLQUFLLENBQUMwQyxLQUFOLEdBQWMsWUFBWTtBQUN0QixPQUFLcEIsV0FBTCxHQUFtQixJQUFuQjtBQUNBLE9BQUtBLFdBQUwsR0FBbUIsRUFBbkI7QUFDSCxDQUhEOztBQU9BdUcsTUFBTSxDQUFDbkMsTUFBUCxHQUFnQixZQUFZO0FBQ3hCLE1BQUksQ0FBQ3RGLFVBQUwsRUFBaUJBLFVBQVUsR0FBRyxJQUFJTixTQUFKLEVBQWI7QUFDakIsU0FBT00sVUFBUDtBQUNILENBSGUsRUFBaEIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbInZhciBKU0VuY3J5cHQgPSByZXF1aXJlKFwianNlbmNyeXB0XCIpO1xyXG52YXIgQmFzZTY0ID0gQmFzZTY0IHx8IHJlcXVpcmUoJ2Jhc2U2NCcpLkJhc2U2NDtcclxudmFyIENyeXB0b3IgPSByZXF1aXJlKCdjcnlwdG9yJyk7XHJcblxyXG5sZXQgUHJveHlEYXRhID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5pbml0KCk7XHJcbn0sXHJcbiAgICBwcm94eSA9IFByb3h5RGF0YS5wcm90b3R5cGUsXHJcbiAgICBfc3BlY2lhbCA9IFwiXCIsXHJcbiAgICBfaW1nX2xpc3QgPSB7fSxcclxuICAgIGdfaW5zdGFuY2UgPSBudWxsO1xyXG5cclxubGV0IERFTEFZX1RZUEUgPSB7XHJcbiAgICBERUxBWV9PTjogMCxcclxuICAgIERFTEFZX09GRjogMSxcclxuICAgIERFTEFZX0VSUk9SOiAyLFxyXG59XHJcblxyXG5sZXQgQ09ERSA9IHtcclxuICAgIEJFR0lOX0xJTktfRVJST1I6IDAsXHJcbiAgICBMSU5LX0VSUk9SOiAxLFxyXG4gICAgREVMQVlfRVJST1I6IDIsXHJcbn1cclxuXHJcblxyXG5sZXQgYmVnaW5fc3RhcnQgPSB7XHJcbiAgICAxOiB7IGRhdGE6IFwiYUhSMGNEb3ZMekU1TWk0eE5qZ3VNeTR4TURFNk1UQXdNVEE9XCIgfSxcclxuXHJcbn1cclxuXHJcbmxldCBzdGFuZGJ5X3N0YXJ0ID0ge1xyXG4gICAgMTogeyBkYXRhOiBcImFIUjBjRG92THpFNU1pNHhOamd1TXk0eE1ERTZNVEF3TVRBPVwiIH0sXHJcbn1cclxuXHJcbnByb3h5LmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLl9odHRwX2xpc3QgPSBbXTtcclxuICAgIHRoaXMuX2JlZ2luID0gbnVsbDtcclxuICAgIHRoaXMuX2JlZ2luY291bnQgPSAwO1xyXG4gICAgdGhpcy5fYmVnaW5kZWxheSA9IDMwMDA7XHJcbiAgICB0aGlzLl9zdGFuZGJ5ID0gbnVsbDtcclxuICAgIHRoaXMuX3N0YW5kYnljb3VudCA9IDA7XHJcbiAgICB0aGlzLl9zdGFuZGJ5ZGVsYXkgPSAxMDAwMDtcclxuICAgIHRoaXMuX2V2ZW50X2xpc3QgPSB7fTtcclxuICAgIHRoaXMuX2JlZ2luX2VuZF9mb3IgPSBmYWxzZTtcclxuICAgIHRoaXMuX3N0YW5kYnlfZW5kX2ZvciA9IGZhbHNlO1xyXG4gICAgdGhpcy5fZW5kX2ZvciA9IGZhbHNlO1xyXG4gICAgdGhpcy5fZGVsYXkgPSAzMDAwO1xyXG4gICAgdGhpcy5fbGlua21heCA9IDU7XHJcbiAgICB0aGlzLl9kZWxheW9mID0gMDtcclxuICAgIHRoaXMuX2xpbmtjb3VudCA9IDA7XHJcblxyXG4gICAgbGV0IGVua2V5ID0gW107XHJcbiAgICBlbmtleS5wdXNoKFwiTFMwdExTMUNSVWRKVGlCUVZVSk1TVU1nUzBWWkxTMHRMUzBLVFVsSFpVMUJNRWREVTNGSFUwbGlNMFJSUlVKQlVWVkJRVFJIVFVGRVEwSnBRVXRDWjBaWGRVRnZTVWhuY1hkdVprczFNVWxGYW1KaE1HNHdaelYzZUFwWkwwNHdiM2t6U1ZcIik7XHJcbiAgICBlbmtleS5wdXNoKFwiUXlha3AxTldFd2NVa3daWGxHUm1OVU1FNUZWMlZpVVRSM1MwTm5TMU0xTVROR04zRlpNMmMwTVRkTldHbHBhRVpuV1haV2N6UTBDbWxvWkZWaWVERlBiblptWldsNFVUSTFhSEp6TkRaRVNHNDVhVXh4V1RGeE5FeGhPWGg2WkZnNFExQk9SXCIpO1xyXG4gICAgZW5rZXkucHVzaChcImpkTFJERjZVVlF2WnpkVmNXZDRkVkJyWkRFS09FeG1OMk12YVdOVVFuZDJiRmRrV2tGblRVSkJRVVU5Q2kwdExTMHRSVTVFSUZCVlFreEpReUJMUlZrdExTMHRMUT09XCIpO1xyXG4gICAgbGV0IGRla2V5ID0gW107XHJcbiAgICBkZWtleS5wdXNoKFwiTFMwdExTMUNSVWRKVGlCU1UwRWdVRkpKVmtGVVJTQkxSVmt0TFMwdExRcE5TVWxEVjNkSlFrRkJTMEpuUjBKRFlrNVlRMGhSTDBaQ09HMTFSME5WTXl0NFNtaE5iM2xuVG01RE5YQnRaRmhJZFhsaFpHeDFabmRpWVdaXCIpO1xyXG4gICAgZGVrZXkucHVzaChcIkhkMVpyQ2pNMGRUaDBhbmxvZDNSWVpWRmlkV1pYYlRKT1REVjFaM0pqZUVOeVdVZ3dVSE5JY2pGd1RpdE1VRzl5VWtGcVMwMWxOeXM1TmxSaGJscFpPV2RtZFVzS1NUQm5ObEp0ZWxNek9YQjRVSGRvU0ZsQlZUSk5NeVwiKTtcclxuICAgIGRla2V5LnB1c2goXCI5SVVHcE9OMlpGUVVoRE1GTkZVMGQ0Y0VWSmNuRnlOSGRNVFZwelRHSm9WbHBCWjAxQ1FVRkZRd3BuV1VGQ1JHWnJMMUpyWTI1UGVFNW5lRVZYUkdOMEsxQlVaakZPZVZKMVVHeEthMk5JVEc4NFFWWXdNbXc0VGpWcGNcIik7XHJcbiAgICBkZWtleS5wdXNoKFwibWw2UlVjellXcENRemRFVmt0cUNrbFVTVGRMWmpOR2IxaDRZVU5wUzJSVlJWZDVXRTFwY2s0NFpXdG5aVXhuVUVSUk4wSnliM2g2TTNKVGF6Tk9XWGhGUjB0SVMyVm5iVkF4VmpGUUwyMEtNMkp3VEM4ck1qTkhVSEpJXCIpO1xyXG4gICAgZGVrZXkucHVzaChcImJrcERTRUoyYVc5UlNsVlBRV1ZYYjBGNmIyeGliR1JPU0ZsUU4xRkxVMUlyVVVwQ1FVbzFkbEkzUmpVMWVHdFhhekZWZWdwdlNYTnFhRk5IZVZSS1lsSlRZelF5SzBSc2FXMUJNMjVHV1ZRNFQwSndVRmQ1WW5GSFFXSkpcIik7XHJcbiAgICBkZWtleS5wdXNoKFwiV2tkRlMxUkJaMHc1YzBaakwxbHlOVEV3Wnk5VmVWcGlDa1pCUzIxeE1YTkRVVkZEWW1sWGQwOW9hSE1yVDFOVFNsQk9NMjFoVTFCdVZFUkVWbkJUWkZSTlVXdDJLMngwYzNCTGQxbDRWMlkzT1hGRFMzTm5WR1FLY0dKMFwiKTtcclxuICAgIGRla2V5LnB1c2goXCJVWGRMZFVsTFNGQjBNSHBvWW1sVldtSnNUV2xzYzJWTVRUaFZVbUpCYTBWQmFVTm9WMVZ5TTFONk5ISktVRFZZU1hsUmNsUndVM1paUTJ4Nkt3cHpjM2R0T0hodk5sWjFhR0phUW1odFJuRmFVVlJrWTNOdmRHVm5MMGw1XCIpO1xyXG4gICAgZGVrZXkucHVzaChcIlpUTjFUalZSY1VGd0wxUXZUblJtWkVZdlJtRldhMlJ0ZFhSUlNrRlBhVzQ1Q2pKelExUXhORlZRUVV4T1pWZENabWhqVmtkM2QxaFNkR0pHVEdWSFN6aE1SMWR1VEZsaloxRjRjM3BJTlVwWlJqZzRNVk5oZWxKb09GSXdcIik7XHJcbiAgICBkZWtleS5wdXNoKFwiVUc1V1VuSUtjM1U1TWk5RVFqZHBSbk53WTFoTFdVZFJTa0ZaZG5kNFQzbG1TbWhqVkhSU09WWnRRbXNyVkVKNE1uWTFUME5RVm1aTVpIQTNOMU5rYldKVk4zTnBSQW92YzBaRmIwaEpVazFPUWtoNk1Gb3JOMGROY2toWFwiKTtcclxuICAgIGRla2V5LnB1c2goXCJVelpsTWxkS2R6VmxjMlZqU1RCMlQzZzNTR2M5UFFvdExTMHRMVVZPUkNCU1UwRWdVRkpKVmtGVVJTQkxSVmt0TFMwdExRPT1cIik7XHJcbiAgICB0aGlzLmVuY3J5cHQgPSBuZXcgSlNFbmNyeXB0LkpTRW5jcnlwdCgpO1xyXG4gICAgdGhpcy5kZWNyeXB0ID0gbmV3IEpTRW5jcnlwdC5KU0VuY3J5cHQoKTtcclxuICAgIHRoaXMuZW5jcnlwdC5zZXRQdWJsaWNLZXkoQmFzZTY0LmRlY29kZShlbmtleVswXSArIGVua2V5WzFdICsgZW5rZXlbMl0pKTtcclxuICAgIHRoaXMuZGVjcnlwdC5zZXRQcml2YXRlS2V5KEJhc2U2NC5kZWNvZGUoZGVrZXlbMF0gKyBkZWtleVsxXSArIGRla2V5WzJdICsgZGVrZXlbM10gKyBkZWtleVs0XSArIGRla2V5WzVdICsgZGVrZXlbNl0gKyBkZWtleVs3XSArIGRla2V5WzhdICsgZGVrZXlbOV0pKTtcclxuICAgIHRoaXMuY3J5cHRvciA9IG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBcclxuICovXHJcbnByb3h5LnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5fbGlua2NvdW50ID0gMDtcclxuICAgIHRoaXMuX2JlZ2luY291bnQgPSAwO1xyXG4gICAgdGhpcy5fc3RhbmRieWNvdW50ID0gMDtcclxuICAgIHRoaXMuZ2V0QmVnaW5TZXJ2ZXIoKTtcclxufVxyXG5cclxucHJveHkuc3RvcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuY2xlYXIoKTtcclxuICAgIHRoaXMuaW5pdCgpO1xyXG59XHJcblxyXG4vKipcclxuICog6I635Y+W5pyN5Yqh5Zmo5Zyw5Z2A5YiX6KGoXHJcbiAqL1xyXG5wcm94eS5nZXRCZWdpblNlcnZlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuX2JlZ2luID0gYmVnaW5fc3RhcnQ7Ly9KU09OLnBhcnNlKHRoaXMuanNkZWNyeXB0KGJlZ2luX3N0YXJ0KSk7XHJcbiAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5fYmVnaW4pIHtcclxuICAgICAgICBpZiAodGhpcy5fYmVnaW5fZW5kX2ZvcikgYnJlYWs7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9iZWdpbltrZXldLmRhdGEpIGNvbnRpbnVlO1xyXG4gICAgICAgIHRoaXMucGluZyhCYXNlNjQuZGVjb2RlKHRoaXMuX2JlZ2luW2tleV0uZGF0YSkpLnRoZW4odGhpcy5waW5nQmVnaW4uYmluZCh0aGlzKSkuY2F0Y2goZGF0YSA9PiB7IGNvbnNvbGUuZXJyb3IoYEFkZHJlc3MgdG8gcmVwZWF0OiR7ZGF0YX1gKTsgfSlcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOW8gOWni+mTvuaOpeWcsOWdgHBpbmfmtYvor5VcclxuICovXHJcbnByb3h5LnBpbmdCZWdpbiA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICBpZiAodGhpcy5fYmVnaW5fZW5kX2ZvcikgcmV0dXJuO1xyXG4gICAgaWYgKGRhdGEudGltZXMgPD0gdGhpcy5fYmVnaW5kZWxheSkge1xyXG4gICAgICAgIF9zcGVjaWFsID0gQmFzZTY0LmVuY29kZShkYXRhLnVybCk7XHJcbiAgICAgICAgdGhpcy5fYmVnaW5fZW5kX2ZvciA9IHRydWU7XHJcbiAgICAgICAgaWYgKHRoaXMudGltZW91dCkge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcclxuICAgICAgICAgICAgdGhpcy50aW1lb3V0ID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY2xlYXJMaXN0KCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2JlZ2luID0gbnVsbDtcclxuICAgICAgICB0aGlzLmdldFNlcnZlcigpO1xyXG5cclxuICAgICAgICAvL+WQr+eUqOWkh+eUqOWcsOWdgFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmNsZWFyTGlzdCgpO1xyXG5cclxuICAgICAgICB0aGlzLmdldFN0YW5kYnlTZXJ2ZXIoKTtcclxuICAgIH1cclxuICAgIC8vZWxzZSB0aGlzLmVtaXQoJ2ZhaWxlZCcsIENPREUuQkVHSU5fTElOS19FUlJPUik7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5ZCv55So5aSH55So5Zyw5Z2A5pyN5Yqh5Zmo5Zyw5Z2A5YiX6KGoXHJcbiAqL1xyXG5wcm94eS5nZXRTdGFuZGJ5U2VydmVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5fc3RhbmRieSA9IHN0YW5kYnlfc3RhcnQ7Ly9KU09OLnBhcnNlKHRoaXMuanNkZWNyeXB0KGJlZ2luX3N0YXJ0KSk7XHJcbiAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5fc3RhbmRieSkge1xyXG4gICAgICAgIGlmICh0aGlzLl9zdGFuZGJ5X2VuZF9mb3IpIGJyZWFrO1xyXG4gICAgICAgIGlmICghdGhpcy5fc3RhbmRieVtrZXldLmRhdGEpIGNvbnRpbnVlO1xyXG4gICAgICAgIHRoaXMucGluZyhCYXNlNjQuZGVjb2RlKHRoaXMuX3N0YW5kYnlba2V5XS5kYXRhKSkudGhlbih0aGlzLnBpbmdTdGFuZGIuYmluZCh0aGlzKSkuY2F0Y2goZGF0YSA9PiB7IGNvbnNvbGUuZXJyb3IoYEFkZHJlc3MgdG8gcmVwZWF0OiR7ZGF0YX1gKTsgfSlcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOW8gOWni+mTvuaOpeWkh+eUqOWcsOWdgHBpbmfmtYvor5VcclxuICovXHJcbnByb3h5LnBpbmdTdGFuZGIgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgaWYgKHRoaXMuX3N0YW5kYnlfZW5kX2ZvcikgcmV0dXJuO1xyXG4gICAgaWYgKGRhdGEudGltZXMgPD0gdGhpcy5fc3RhbmRieWRlbGF5KSB7XHJcbiAgICAgICAgX3NwZWNpYWwgPSBCYXNlNjQuZW5jb2RlKGRhdGEudXJsKTtcclxuICAgICAgICB0aGlzLl9zdGFuZGJ5X2VuZF9mb3IgPSB0cnVlO1xyXG4gICAgICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XHJcbiAgICAgICAgICAgIHRoaXMudGltZW91dCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgZm9yIChsZXQga2V5IGluIF9pbWdfbGlzdCkge1xyXG4gICAgICAgICAgICBpZiAoIV9pbWdfbGlzdFtrZXldLm9ubG9hZCkgY29udGludWU7XHJcbiAgICAgICAgICAgIF9pbWdfbGlzdFtrZXldLnNyYyA9IFwiXCI7XHJcbiAgICAgICAgICAgIF9pbWdfbGlzdFtrZXldID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgX2ltZ19saXN0ID0ge307XHJcbiAgICAgICAgdGhpcy5fc3RhbmRieSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5nZXRTZXJ2ZXIoKTtcclxuICAgICAgICAvL+WQr+eUqOWkh+eUqOWcsOWdgFxyXG4gICAgfSBlbHNlIHRoaXMuZW1pdCgnZmFpbGVkJywgQ09ERS5CRUdJTl9MSU5LX0VSUk9SKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOa3u+WKoOacjeWKoeWIl+ihqFxyXG4gKiBAcGFyYW0ge09iamVjdH0gZGF0YVxyXG4gKi9cclxucHJveHkuYWRkSHR0cExpc3QgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgaWYgKHRoaXMuX2h0dHBfbGlzdC5sZW5ndGgpIHtcclxuICAgICAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5faHR0cF9saXN0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9odHRwX2xpc3Rba2V5XSA9PSBkYXRhKSByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5faHR0cF9saXN0LnB1c2goZGF0YSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDov5Tlm55odHRw5YiX6KGo57uZ5LiO5pyN5Yqh56uvXHJcbiAqL1xyXG5wcm94eS5nZXRIdHRwTGlzdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGxldCBodHRwX2xpc3QgPSBcIlwiO1xyXG4gICAgbGV0IGh0dHBzID0ge307XHJcbiAgICBodHRwcy5pZHMgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5faHR0cF9saXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbGV0IGhlYWQgPSB0aGlzLl9odHRwX2xpc3RbaV0uaGVhZDtcclxuICAgICAgICAvL2xldCBjcnlwdG9yID0gbmV3IENyeXB0b3IodGhpcy5qc2RlY3J5cHQoaGVhZC5rZXkpKTtcclxuICAgICAgICBsZXQgY3J5cHRvciA9IG5ldyBDcnlwdG9yKFN0cmluZyhDcnlwdG9yLmhhc2goaGVhZC5rZXksICdtZDUnKSkuc2xpY2UoMCwgNikpO1xyXG4gICAgICAgIGxldCBsaXN0ID0gY3J5cHRvci5kZWNvZGUoQmFzZTY0LmRlY29kZSh0aGlzLl9odHRwX2xpc3RbaV0uYm9keSkpXHJcbiAgICAgICAgZm9yIChsZXQga2V5IGluIGxpc3QpIHtcclxuICAgICAgICAgICAgaWYgKCFsaXN0W2tleV0gfHwgIWxpc3Rba2V5XS5pZCkgY29udGludWU7XHJcbiAgICAgICAgICAgIGlmIChodHRwcy5pZHMuaW5jbHVkZXMobGlzdFtrZXldLmlkKSkgY29udGludWU7XHJcbiAgICAgICAgICAgIGh0dHBzLmlkcyA9IGh0dHBzLmlkcy5jb25jYXQobGlzdFtrZXldLmlkKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBsZXQga2V5ID0gU3RyaW5nKENyeXB0b3IuaGFzaChcIlwiICsgcGFyc2VJbnQoTWF0aC5yYW5kb20oKSAqIDEwMCksICdtZDUnKSkuc2xpY2UoMCwgNilcclxuICAgIC8vbGV0IGVua2V5ID0gdGhpcy5qc2VuY3J5cHQoa2V5KTtcclxuICAgIGxldCBlbmtleSA9IFN0cmluZyhDcnlwdG9yLmhhc2goa2V5LCAnbWQ1JykpLnNsaWNlKC02KTtcclxuICAgIGxldCBjcnlwdG9yID0gbmV3IENyeXB0b3IoZW5rZXkpXHJcbiAgICBsZXQgcGF0aCA9IEJhc2U2NC5lbmNvZGUoY3J5cHRvci5lbmNvZGUoSlNPTi5zdHJpbmdpZnkoaHR0cHMpKSlcclxuICAgIGh0dHBfbGlzdCA9IEpTT04uc3RyaW5naWZ5KHsgaGVhZDogeyByb3V0ZTogXCJodHRwLnJlcURvbWFpbkxpc3RcIiwga2V5OiBrZXkgfSwgYm9keTogcGF0aCB9KTtcclxuICAgIHJldHVybiBodHRwX2xpc3Q7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDojrflj5bmnI3liqHlmajlnLDlnYDliJfooahcclxuICovXHJcbnByb3h5LmdldFNlcnZlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICh0aGlzLl9saW5rY291bnQgPiB0aGlzLl9saW5rbWF4KSB7XHJcbiAgICAgICAgdGhpcy5lbWl0KCdmYWlsZWQnLCBDT0RFLkxJTktfRVJST1IpO1xyXG4gICAgICAgIHRoaXMuZ2V0U3RhbmRieVNlcnZlcigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLl9saW5rY291bnQrKztcclxuICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgeGhyLm9wZW4oXCJQT1NUXCIsIEJhc2U2NC5kZWNvZGUoX3NwZWNpYWwpLCB0cnVlKTtcclxuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOFwiKTtcclxuICAgICAgICB4aHIudGltZW91dCA9IDEwMDAwO1xyXG4gICAgICAgIHhoci5vbmVycm9yID0gKGVycm9yKSA9PiB7IFByb3h5Ty5nZXRTZXJ2ZXIoKSB9O1xyXG5cclxuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQgJiYgKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDApKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uZSA9IHhoci5yZXNwb25zZVRleHQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzcCA9IEpTT04ucGFyc2UocmVzcG9uZSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgaGVhZCA9IHJlc3AuaGVhZDtcclxuICAgICAgICAgICAgICAgIC8v6KGo56S65pyN5Yqh56uv5bey5peg5Y+v55So6auY5pWI55qE6ZO+5o6l5Zyw5Z2AXHJcbiAgICAgICAgICAgICAgICBpZiAoaGVhZC5jb2RlICE9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBQcm94eU8uZW1pdCgnZmFpbGVkJywgQ09ERS5MSU5LX0VSUk9SKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImdldFNlcnZlcjpcIiwgQmFzZTY0LmRlY29kZShfc3BlY2lhbCkpO1xyXG4gICAgICAgICAgICAgICAgLy/orrDlvZXmiYDmnIlwaW5n5L2O55qE572R57uc546v5aKDXHJcbiAgICAgICAgICAgICAgICBQcm94eU8uYWRkSHR0cExpc3QocmVzcCk7XHJcbiAgICAgICAgICAgICAgICAvL+ino+WvhnBpbmflgLxcclxuICAgICAgICAgICAgICAgIGxldCBjcnlwdG9yID0gbmV3IENyeXB0b3IoU3RyaW5nKENyeXB0b3IuaGFzaChoZWFkLmtleSwgJ21kNScpKS5zbGljZSgwLCA2KSk7XHJcbiAgICAgICAgICAgICAgICBQcm94eU8uY2hlY2tTZXJ2ZXIoY3J5cHRvci5kZWNvZGUoQmFzZTY0LmRlY29kZShyZXNwLmJvZHkpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHhoci5zZW5kKFByb3h5Ty5nZXRIdHRwTGlzdCgpKTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIHJzYSDliqDlr4ZcclxuICogQHBhcmFtIHthbnl9IGRhdGFcclxuICovXHJcbnByb3h5LmpzZW5jcnlwdCA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICByZXR1cm4gdGhpcy5lbmNyeXB0LmVuY3J5cHQoZGF0YSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiByc2Eg6Kej5a+GXHJcbiAqIEBwYXJhbSB7U3Rpbmd9IGRhdGFcclxuICovXHJcbnByb3h5LmpzZGVjcnlwdCA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICByZXR1cm4gdGhpcy5kZWNyeXB0LmRlY3J5cHQoZGF0YSk7XHJcbn1cclxuXHJcbi8vIC8qKlxyXG4vLyAgKiBwaW5nIOWHveaVsCBcclxuLy8gICogQHBhcmFtIHtTdHJpbmd9IGlwIFxyXG4vLyAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxyXG4vLyAgKi9cclxuLy8gcHJveHkucGluZyA9IGZ1bmN0aW9uIChkb21haW4pIHtcclxuLy8gICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbi8vICAgICAgICAgaWYgKF9pbWdfbGlzdFtkb21haW5dICE9IG51bGwpIHJldHVybiByZWplY3QoZG9tYWluKTtcclxuLy8gICAgICAgICBfaW1nX2xpc3RbZG9tYWluXSA9IG5ldyBJbWFnZSgpO1xyXG4vLyAgICAgICAgIHZhciBzdGFydCA9IERhdGUubm93KClcclxuLy8gICAgICAgICBfaW1nX2xpc3RbZG9tYWluXS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbi8vICAgICAgICAgICAgIHJlc29sdmUoeyB1cmw6IGRvbWFpbiwgdGltZXM6IERhdGUubm93KCkgLSBzdGFydCB9KTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgLy9UT0RPIElFOOaXoOazleebkeWQrOWIsOivpea2iOaBr1xyXG4vLyAgICAgICAgIF9pbWdfbGlzdFtkb21haW5dLm9uZXJyb3IgPSBmdW5jdGlvbiAoZGF0YSwgZXZlbnQpIHtcclxuLy8gICAgICAgICAgICAgcmVzb2x2ZSh7IHVybDogZG9tYWluLCB0aW1lczogRGF0ZS5ub3coKSAtIHN0YXJ0IH0pXHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGNvbnNvbGUubG9nKFwicGluZzpcIiwgZG9tYWluKTtcclxuLy8gICAgICAgICBfaW1nX2xpc3RbZG9tYWluXS5zcmMgPSAvXihodHRwfGh0dHBzKS8udGVzdChkb21haW4pID8gZG9tYWluIDogXCJodHRwczovL1wiICsgZG9tYWluO1xyXG4vLyAgICAgfSlcclxuLy8gfVxyXG5cclxuLyoqXHJcbiAqIHBpbmcg5Ye95pWwIFxyXG4gKiBAcGFyYW0ge1N0cmluZ30gaXAgXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XHJcbiAqL1xyXG5wcm94eS5waW5nID0gZnVuY3Rpb24gKGRvbWFpbikge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICBpZiAoX2ltZ19saXN0W2RvbWFpbl0gIT0gbnVsbCkgcmV0dXJuIHJlamVjdChkb21haW4pO1xyXG5cclxuICAgICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgX2ltZ19saXN0W2RvbWFpbl0gPSB4aHI7XHJcbiAgICAgICAgbGV0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICBsZXQgdXJsID0gL14oaHR0cHxodHRwcykvLnRlc3QoZG9tYWluKSA/IGRvbWFpbiA6IFwiaHR0cHM6Ly9cIiArIGRvbWFpbjtcclxuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOFwiKTtcclxuICAgICAgICB4aHIub3BlbihcIkdFVFwiLCB1cmwsIHRydWUpO1xyXG5cclxuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gKCk9PiB7XHJcbiAgICAgICAgICAgIGlmKHhoci5yZWFkeVN0YXRlID09IDQgJiYgKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDApKSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHsgdXJsOiBkb21haW4sIHRpbWVzOiBEYXRlLm5vdygpIC0gc3RhcnR9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHhoci5vbmVycm9yID0gKCkgPT4geyBcclxuICAgICAgICAgICAgcmVqZWN0KGRvbWFpbik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB4aHIub250aW1lb3V0ID0gKCk9PiB7XHJcbiAgICAgICAgICAgIHJlc29sdmUoeyB1cmw6ZG9tYWluLCB0aW1lczogRGF0ZS5ub3coKSAtIHN0YXJ0IH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHhoci5zZW5kKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOa4heeQhuW3suWPkeWMheeahOWfn+WQjVxyXG4gKi9cclxucHJveHkuY2xlYXJMaXN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgZm9yIChsZXQga2V5IGluIF9pbWdfbGlzdCkge1xyXG4gICAgICAgIGlmICghX2ltZ19saXN0W2tleV0ub25yZWFkeXN0YXRlY2hhbmdlKSBjb250aW51ZTtcclxuICAgICAgICBfaW1nX2xpc3Rba2V5XS5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xyXG4gICAgICAgIF9pbWdfbGlzdFtrZXldLm9uZXJyb3IgPSBudWxsO1xyXG4gICAgICAgIF9pbWdfbGlzdFtrZXldLm9udGltZW91dCA9IG51bGw7XHJcbiAgICAgICAgX2ltZ19saXN0W2tleV0gPSBudWxsO1xyXG4gICAgfVxyXG4gICAgX2ltZ19saXN0ID0ge307XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog6ZO+5o6l5Zyw5Z2AcGluZ+mAmui/h1xyXG4gKi9cclxucHJveHkucGluZ1N1Y2NlZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgaWYgKHRoaXMuX2VuZF9mb3IpIHJldHVybjtcclxuICAgIGlmIChkYXRhLnRpbWVzIDw9IHRoaXMuX2RlbGF5IHx8IHRoaXMuX2RlbGF5b2YgPT0gREVMQVlfVFlQRS5ERUxBWV9PRkYpIHtcclxuICAgICAgICB0aGlzLmVtaXQoJ3N1Y2NlZWQnLCBkYXRhKTtcclxuICAgICAgICB0aGlzLl9lbmRfZm9yID0gdHJ1ZTtcclxuICAgICAgICBpZiAodGhpcy50aW1lb3V0KSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVvdXQgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNsZWFyTGlzdCgpO1xyXG4gICAgICAgIF9zcGVjaWFsID0gXCJcIjtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOajgOafpeacjeWKoeWZqOeahOmTvuaOpeaXtumVv1xyXG4gKi9cclxucHJveHkuY2hlY2tTZXJ2ZXIgPSBmdW5jdGlvbiAoaHR0cF9saXN0KSB7XHJcbiAgICBpZiAoaHR0cF9saXN0KSB7XHJcbiAgICAgICAgdGhpcy5lbWl0KCdjaGVjaycpO1xyXG4gICAgICAgIHRoaXMuX2VuZF9mb3IgPSBmYWxzZTtcclxuICAgICAgICBmb3IgKGxldCBrZXkgaW4gaHR0cF9saXN0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9lbmRfZm9yKSBicmVhaztcclxuICAgICAgICAgICAgaWYgKCFodHRwX2xpc3Rba2V5XSkgY29udGludWU7XHJcbiAgICAgICAgICAgIHRoaXMucGluZyhodHRwX2xpc3Rba2V5XS5kb21haW4pLnRoZW4odGhpcy5waW5nU3VjY2VlZC5iaW5kKHRoaXMpKS5jYXRjaChkYXRhID0+IHsgY29uc29sZS5lcnJvcihgQWRkcmVzcyB0byByZXBlYXQ6JHtkYXRhfWApOyB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudGltZW91dCkge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVvdXQgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXJMaXN0KCk7XHJcbiAgICAgICAgICAgIC8vIFRPRE8g5omA5pyJ6ZO+5o6l5bu26L+f6LaF6L+H6K6+5a6a5qCH5YeGIOmHjeaWsOiOt+WPluaWsOeahOmTvuaOpeacjeWKoeWZqOOAglxyXG4gICAgICAgICAgICBpZiAoREVMQVlfVFlQRS5ERUxBWV9FUlJPUiA9PT0gdGhpcy5fZGVsYXlvZikgdGhpcy5lbWl0KCdmYWlsZWQnLCBDT0RFLkxJTktfRVJST1IpO1xyXG4gICAgICAgICAgICBlbHNlIHRoaXMuZ2V0U2VydmVyKCk7XHJcbiAgICAgICAgfSwgdGhpcy5fZGVsYXkpXHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDlj5HpgIHmtojmga/pgJrnn6Xkuovku7ZcclxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcclxuICogQHBhcmFtIHtBbnl9IGRhdGFcclxuICovXHJcbnByb3h5LmVtaXQgPSBmdW5jdGlvbiAobmFtZSwgZGF0YSkge1xyXG4gICAgbGV0IGl0ZW0gPSB0aGlzLl9ldmVudF9saXN0W25hbWVdO1xyXG4gICAgaWYgKHRoaXMuX2V2ZW50X2xpc3RbbmFtZV0gIT0gbnVsbCkge1xyXG4gICAgICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xyXG4gICAgICAgIGl0ZW0uY2FsbC5hcHBseShpdGVtLm9iaiwgYXJncyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDms6jlhoznm5HlkKxcclxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcclxuICogQHBhcmFtIHtmdW5jfSBjYWxsZnVuY1xyXG4gKiBAcGFyYW0ge09iamVjdH0gc2VsZlxyXG4gKi9cclxucHJveHkub24gPSBmdW5jdGlvbiAobmFtZSwgY2FsbGZ1bmMsIHNlbGYpIHtcclxuICAgIHN3aXRjaCAobmFtZSkge1xyXG4gICAgICAgIGNhc2UgJ2JlZ2luJzpcclxuICAgICAgICBjYXNlICdjaGVjayc6XHJcbiAgICAgICAgY2FzZSAnc3VjY2VlZCc6XHJcbiAgICAgICAgY2FzZSAnZmFpbGVkJzpcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2V2ZW50X2xpc3RbbmFtZV0gPT0gbnVsbCkgdGhpcy5fZXZlbnRfbGlzdFtuYW1lXSA9IHsgY2FsbDogY2FsbGZ1bmMsIG9iajogc2VsZiB9O1xyXG4gICAgICAgICAgICBlbHNlIGNvbnNvbGUuZXJyb3IoYGV2ZW50IG5hbWUgJHtuYW1lfSBpcyByZWdpc3RlcmVkIWApO1xyXG4gICAgICAgICAgICBicmVha1xyXG4gICAgICAgIGRlZmF1bHQ6IGNvbnNvbGUuZXJyb3IoYGV2ZW50IG5hbWUgJHtuYW1lfSByZWdpc3RyYXRpb24gZmFpbGVkIWApO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog5Y+W5raI55uR5ZCsXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXHJcbiAqL1xyXG5wcm94eS5vZmYgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgZm9yIChsZXQga2V5IGluIHRoaXMuX2V2ZW50X2xpc3QpIHtcclxuICAgICAgICBpZiAoa2V5ID09PSBuYW1lKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudF9saXN0W2tleV07XHJcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50X2xpc3QgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOWFs+mXreaJgOacieebkeWQrFxyXG4gKi9cclxucHJveHkuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLl9ldmVudF9saXN0ID0gbnVsbDtcclxuICAgIHRoaXMuX2V2ZW50X2xpc3QgPSB7fTtcclxufVxyXG5cclxuXHJcblxyXG53aW5kb3cuUHJveHlPID0gZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKCFnX2luc3RhbmNlKSBnX2luc3RhbmNlID0gbmV3IFByb3h5RGF0YSgpO1xyXG4gICAgcmV0dXJuIGdfaW5zdGFuY2U7XHJcbn0oKTsiXX0=